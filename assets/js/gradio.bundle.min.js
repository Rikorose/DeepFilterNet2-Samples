!function(e){function t(t){for(var n,r,o=t[0],a=t[1],s=0,c=[];s<o.length;s++)r=o[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);c.length;)c.shift()()}var n={},i={0:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(){return Promise.resolve()},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=a;r(r.s=46)}([function(e,t,n){"use strict";e.exports=n(20)},function(e,t,n){"use strict";e.exports=n(16)},function(e,t,n){e.exports=n(14)},function(e,t,n){var i;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var a=r.apply(null,i);a&&e.push(a)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var s in i)n.call(i,s)&&i[s]&&e.push(s);else e.push(i.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){(function(e){
/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */
var i,r,o,a,s,l,c,u,d,h,p,f,A,m,g,v,b,y,x,w,_,j,C=C||{version:"4.5.0"};if(t.fabric=C,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?C.document=document:C.document=document.implementation.createHTMLDocument(""),C.window=window;else{var E=new(n(38).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;C.document=E.document,C.jsdomImplForWrapper=n(39).implForWrapper,C.nodeCanvas=n(40).Canvas,C.window=E,DOMParser=C.window.DOMParser}function B(e,t){var n=e.canvas,i=t.targetCanvas,r=i.getContext("2d");r.translate(0,i.height),r.scale(1,-1);var o=n.height-i.height;r.drawImage(n,0,o,i.width,i.height,0,0,i.width,i.height)}function k(e,t){var n=t.targetCanvas.getContext("2d"),i=t.destinationWidth,r=t.destinationHeight,o=i*r*4,a=new Uint8Array(this.imageBuffer,0,o),s=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,r,e.RGBA,e.UNSIGNED_BYTE,a);var l=new ImageData(s,i,r);n.putImageData(l,0,0)}C.isTouchSupported="ontouchstart"in C.window||"ontouchstart"in C.document||C.window&&C.window.navigator&&C.window.navigator.maxTouchPoints>0,C.isLikelyNode=void 0!==e&&"undefined"==typeof window,C.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],C.DPI=96,C.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",C.commaWsp="(?:\\s+,?\\s*|,\\s*)",C.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,C.reNonWord=/[ \n\.,;!\?\-]/,C.fontPaths={},C.iMatrix=[1,0,0,1,0,0],C.svgNS="http://www.w3.org/2000/svg",C.perfLimitSizeTotal=2097152,C.maxCacheSideLimit=4096,C.minCacheSideLimit=256,C.charWidthsCache={},C.textureSize=2048,C.disableStyleCopyPaste=!1,C.enableGLFiltering=!0,C.devicePixelRatio=C.window.devicePixelRatio||C.window.webkitDevicePixelRatio||C.window.mozDevicePixelRatio||1,C.browserShadowBlurConstant=1,C.arcToSegmentsCache={},C.boundsOfCurveCache={},C.cachesBoundsOfCurve=!0,C.forceGLPutImageData=!1,C.initFilterBackend=function(){return C.enableGLFiltering&&C.isWebglSupported&&C.isWebglSupported(C.textureSize)?(console.log("max texture size: "+C.maxTextureSize),new C.WebglFilterBackend({tileSize:C.textureSize})):C.Canvas2dFilterBackend?new C.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=C),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:C.util.array.fill(n,!1)}}C.Observable={fire:function(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var i=0,r=n.length;i<r;i++)n[i]&&n[i].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this},on:function(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this},off:function(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"==typeof arguments[0])for(var i in t)e.call(this,i,t[i]);else e.call(this,t,n);return this}}}(),C.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var i=this._objects;return n?i[t]=e:i.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,i=0,r=arguments.length;i<r;i++)-1!==(e=t.indexOf(arguments[i]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);return this},getObjects:function(e){return void 0===e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e){return this._objects.indexOf(e)>-1},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},C.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof C.Gradient||this.set(t,new C.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof C.Pattern?n&&n():this.set(t,new C.Pattern(e,n))},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},i=t,r=Math.sqrt,o=Math.atan2,a=Math.pow,s=Math.PI/180,l=Math.PI/2,C.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/l){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/l){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*s},radiansToDegrees:function(e){return e/s},rotatePoint:function(e,t,n){e.subtractEquals(t);var i=C.util.rotateVector(e,n);return new C.Point(i.x,i.y).addEquals(t)},rotateVector:function(e,t){var n=C.util.sin(t),i=C.util.cos(t);return{x:e.x*i-e.y*n,y:e.x*n+e.y*i}},transformPoint:function(e,t,n){return n?new C.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new C.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=C.util.transformPoint(e[n],t);var i=[e[0].x,e[1].x,e[2].x,e[3].x],r=C.util.array.min(i),o=C.util.array.max(i)-r,a=[e[0].y,e[1].y,e[2].y,e[3].y],s=C.util.array.min(a);return{left:r,top:s,width:o,height:C.util.array.max(a)-s}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],i=C.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-i.x,n[5]=-i.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),i=parseFloat(e);switch(t||(t=C.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return i*C.DPI/25.4;case"cm":return i*C.DPI/2.54;case"in":return i*C.DPI;case"pt":return i*C.DPI/72;case"pc":return i*C.DPI/72*12;case"em":return i*t;default:return i}},falseFunction:function(){return!1},getKlass:function(e,t){return e=C.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),C.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(e){if(!e)return C;var t,n=e.split("."),r=n.length,o=i||C.window;for(t=0;t<r;++t)o=o[n[t]];return o},loadImage:function(e,t,n,i){if(e){var r=C.util.createImage(),o=function(){t&&t.call(n,r,!1),r=r.onload=r.onerror=null};r.onload=o,r.onerror=function(){C.log("Error loading "+r.src),t&&t.call(n,null,!0),r=r.onload=r.onerror=null},0!==e.indexOf("data")&&null!=i&&(r.crossOrigin=i),"data:image/svg"===e.substring(0,14)&&(r.onload=null,C.util.loadImageInDom(r,o)),r.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=C.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),C.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,i){var r=[],o=0,a=(e=e||[]).length;function s(){++o===a&&t&&t(r.filter((function(e){return e})))}a?e.forEach((function(e,t){e&&e.type?C.util.getKlass(e.type,n).fromObject(e,(function(n,o){o||(r[t]=n),i&&i(e,n,o),s()})):s()})):t&&t(r)},enlivenPatterns:function(e,t){function n(){++r===o&&t&&t(i)}var i=[],r=0,o=(e=e||[]).length;o?e.forEach((function(e,t){e&&e.source?new C.Pattern(e,(function(e){i[t]=e,n()})):(i[t]=e,n())})):t&&t(i)},groupSVGElements:function(e,t,n){var i;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),i=new C.Group(e,t),void 0!==n&&(i.sourcePath=n),i)},populateWithProperties:function(e,t,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var i=0,r=n.length;i<r;i++)n[i]in e&&(t[n[i]]=e[n[i]])},drawDashedLine:function(e,t,n,i,a,s){var l=i-t,c=a-n,u=r(l*l+c*c),d=o(c,l),h=s.length,p=0,f=!0;for(e.save(),e.translate(t,n),e.moveTo(0,0),e.rotate(d),t=0;u>t;)(t+=s[p++%h])>u&&(t=u),e[f?"lineTo":"moveTo"](t,0),f=!f;e.restore()},createCanvasElement:function(){return C.document.createElement("canvas")},copyCanvasElement:function(e){var t=C.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return C.document.createElement("img")},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var t=o(e[1],e[0]),n=a(e[0],2)+a(e[1],2),i=r(n),l=(e[0]*e[3]-e[2]*e[1])/i,c=o(e[0]*e[2]+e[1]*e[3],n);return{angle:t/s,scaleX:i,scaleY:l,skewX:c/s,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return C.iMatrix.concat();var t=C.util.degreesToRadians(e.angle),n=C.util.cos(t),i=C.util.sin(t);return[n,i,-i,n,0,0]},calcDimensionsMatrix:function(e){var t=void 0===e.scaleX?1:e.scaleX,n=void 0===e.scaleY?1:e.scaleY,i=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],r=C.util.multiplyTransformMatrices,o=C.util.degreesToRadians;return e.skewX&&(i=r(i,[1,0,Math.tan(o(e.skewX)),1],!0)),e.skewY&&(i=r(i,[1,Math.tan(o(e.skewY)),0,1],!0)),i},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=C.util.multiplyTransformMatrices;return e.angle&&(t=n(t,C.util.calcRotateMatrix(e))),(1!==e.scaleX||1!==e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,C.util.calcDimensionsMatrix(e))),t},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},isTransparent:function(e,t,n,i){i>0&&(t>i?t-=i:t=0,n>i?n-=i:n=0);var r,o=!0,a=e.getImageData(t,n,2*i||1,2*i||1),s=a.data.length;for(r=3;r<s&&!1!=(o=a.data[r]<=0);r+=4);return a=null,o},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",i=e.split(" ");return i&&i.length&&("meet"!==(n=i.pop())&&"slice"!==n?(t=n,n="meet"):i.length&&(t=i.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?C.charWidthsCache[e]&&delete C.charWidthsCache[e]:C.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),i=Math.floor(t/n);return{x:Math.floor(n),y:i}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return C.util.toFixed(e,C.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(e,t){var n=C.util.invertTransform(t),i=C.util.multiplyTransformMatrices(n,e.calcOwnMatrix());C.util.applyTransformToObject(e,i)},addTransformToObject:function(e,t){C.util.applyTransformToObject(e,C.util.multiplyTransformMatrices(t,e.calcOwnMatrix()))},applyTransformToObject:function(e,t){var n=C.util.qrDecompose(t),i=new C.Point(n.translateX,n.translateY);e.flipX=!1,e.flipY=!1,e.set("scaleX",n.scaleX),e.set("scaleY",n.scaleY),e.skewX=n.skewX,e.skewY=n.skewY,e.angle=n.angle,e.setPositionByOrigin(i,"center","center")},sizeAfterTransform:function(e,t,n){var i=e/2,r=t/2,o=[{x:-i,y:-r},{x:i,y:-r},{x:-i,y:r},{x:i,y:r}],a=C.util.calcDimensionsMatrix(n),s=C.util.makeBoundingBoxFromPoints(o,a);return{x:s.width,y:s.height}}},function(){var e=Array.prototype.join,t={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function i(e,t,n,i,r,o,a,s,l,c,u){var d=C.util.cos(e),h=C.util.sin(e),p=C.util.cos(t),f=C.util.sin(t),A=n*r*p-i*o*f+a,m=i*r*p+n*o*f+s;return["C",c+l*(-n*r*h-i*o*d),u+l*(-i*r*h+n*o*d),A+l*(n*r*f+i*o*p),m+l*(i*r*f-n*o*p),A,m]}function r(e,t,n,r,a,s,l){var c=Math.PI,u=l*c/180,d=C.util.sin(u),h=C.util.cos(u),p=0,f=0,A=-h*e*.5-d*t*.5,m=-h*t*.5+d*e*.5,g=(n=Math.abs(n))*n,v=(r=Math.abs(r))*r,b=m*m,y=A*A,x=g*v-g*b-v*y,w=0;if(x<0){var _=Math.sqrt(1-x/(g*v));n*=_,r*=_}else w=(a===s?-1:1)*Math.sqrt(x/(g*b+v*y));var j=w*n*m/r,E=-w*r*A/n,B=h*j-d*E+.5*e,k=d*j+h*E+.5*t,S=o(1,0,(A-j)/n,(m-E)/r),O=o((A-j)/n,(m-E)/r,(-A-j)/n,(-m-E)/r);0===s&&O>0?O-=2*c:1===s&&O<0&&(O+=2*c);for(var M=Math.ceil(Math.abs(O/c*2)),T=[],F=O/M,N=8/3*Math.sin(F/4)*Math.sin(F/4)/Math.sin(F/2),I=S+F,L=0;L<M;L++)T[L]=i(S,I,h,d,n,r,B,k,N,p,f),p=T[L][5],f=T[L][6],S=I,I+=F;return T}function o(e,t,n,i){var r=Math.atan2(t,e),o=Math.atan2(i,n);return o>=r?o-r:2*Math.PI-(r-o)}function a(t,n,i,r,o,a,s,l){var c;if(C.cachesBoundsOfCurve&&(c=e.call(arguments),C.boundsOfCurveCache[c]))return C.boundsOfCurveCache[c];var u,d,h,p,f,A,m,g,v=Math.sqrt,b=Math.min,y=Math.max,x=Math.abs,w=[],_=[[],[]];d=6*t-12*i+6*o,u=-3*t+9*i-9*o+3*s,h=3*i-3*t;for(var j=0;j<2;++j)if(j>0&&(d=6*n-12*r+6*a,u=-3*n+9*r-9*a+3*l,h=3*r-3*n),x(u)<1e-12){if(x(d)<1e-12)continue;0<(p=-h/d)&&p<1&&w.push(p)}else(m=d*d-4*h*u)<0||(0<(f=(-d+(g=v(m)))/(2*u))&&f<1&&w.push(f),0<(A=(-d-g)/(2*u))&&A<1&&w.push(A));for(var E,B,k,S=w.length,O=S;S--;)E=(k=1-(p=w[S]))*k*k*t+3*k*k*p*i+3*k*p*p*o+p*p*p*s,_[0][S]=E,B=k*k*k*n+3*k*k*p*r+3*k*p*p*a+p*p*p*l,_[1][S]=B;_[0][O]=t,_[1][O]=n,_[0][O+1]=s,_[1][O+1]=l;var M=[{x:b.apply(null,_[0]),y:b.apply(null,_[1])},{x:y.apply(null,_[0]),y:y.apply(null,_[1])}];return C.cachesBoundsOfCurve&&(C.boundsOfCurveCache[c]=M),M}function s(e,t,n){for(var i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=r(n[6]-e,n[7]-t,i,o,s,l,a),u=0,d=c.length;u<d;u++)c[u][1]+=e,c[u][2]+=t,c[u][3]+=e,c[u][4]+=t,c[u][5]+=e,c[u][6]+=t;return c}function l(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}function c(e,t,n,i,r,o,a,s){return function(l){var c,u=(c=l)*c*c,d=function(e){return 3*e*e*(1-e)}(l),h=function(e){return 3*e*(1-e)*(1-e)}(l),p=function(e){return(1-e)*(1-e)*(1-e)}(l);return{x:a*u+r*d+n*h+e*p,y:s*u+o*d+i*h+t*p}}}function u(e,t,n,i,r,o,a,s){return function(l){var c=1-l,u=3*c*c*(n-e)+6*c*l*(r-n)+3*l*l*(a-r),d=3*c*c*(i-t)+6*c*l*(o-i)+3*l*l*(s-o);return Math.atan2(d,u)}}function d(e,t,n,i,r,o){return function(a){var s,l=(s=a)*s,c=function(e){return 2*e*(1-e)}(a),u=function(e){return(1-e)*(1-e)}(a);return{x:r*l+n*c+e*u,y:o*l+i*c+t*u}}}function h(e,t,n,i,r,o){return function(a){var s=1-a,l=2*s*(n-e)+2*a*(r-n),c=2*s*(i-t)+2*a*(o-i);return Math.atan2(c,l)}}function p(e,t,n){var i,r,o={x:t,y:n},a=0;for(r=.01;r<=1;r+=.01)i=e(r),a+=l(o.x,o.y,i.x,i.y),o=i;return a}function f(e,t){for(var n,i,r,o=0,a=0,s=e.iterator,c={x:e.x,y:e.y},u=.01,d=e.angleFinder;a<t&&o<=1&&u>1e-4;)n=s(o),r=o,(i=l(c.x,c.y,n.x,n.y))+a>t?o-=u/=2:(c=n,o+=u,a+=i);return n.angle=d(r),n}function A(e){for(var t,n,i,r,o=0,a=e.length,s=0,f=0,A=0,m=0,g=[],v=0;v<a;v++){switch(i={x:s,y:f,command:(t=e[v])[0]},t[0]){case"M":i.length=0,A=s=t[1],m=f=t[2];break;case"L":i.length=l(s,f,t[1],t[2]),s=t[1],f=t[2];break;case"C":n=c(s,f,t[1],t[2],t[3],t[4],t[5],t[6]),r=u(s,f,t[1],t[2],t[3],t[4],t[5],t[6]),i.iterator=n,i.angleFinder=r,i.length=p(n,s,f),s=t[5],f=t[6];break;case"Q":n=d(s,f,t[1],t[2],t[3],t[4]),r=h(s,f,t[1],t[2],t[3],t[4]),i.iterator=n,i.angleFinder=r,i.length=p(n,s,f),s=t[3],f=t[4];break;case"Z":case"z":i.destX=A,i.destY=m,i.length=l(s,f,A,m),s=A,f=m}o+=i.length,g.push(i)}return g.push({length:o,x:s,y:f}),g}C.util.parsePath=function(e){var i,r,o,a,s,l=[],c=[],u=C.rePathCommand,d="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",h="("+d+")"+C.commaWsp,p="([01])"+C.commaWsp+"?",f=new RegExp(h+"?"+h+"?"+h+p+p+h+"?("+d+")","g");if(!e||!e.match)return l;for(var A,m=0,g=(s=e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;m<g;m++){a=(i=s[m]).slice(1).trim(),c.length=0;var v=i.charAt(0);if(A=[v],"a"===v.toLowerCase())for(var b;b=f.exec(a);)for(var y=1;y<b.length;y++)c.push(b[y]);else for(;o=u.exec(a);)c.push(o[0]);y=0;for(var x=c.length;y<x;y++)r=parseFloat(c[y]),isNaN(r)||A.push(r);var w=t[v.toLowerCase()],_=n[v]||v;if(A.length-1>w)for(var j=1,E=A.length;j<E;j+=w)l.push([v].concat(A.slice(j,j+w))),v=_;else l.push(A)}return l},C.util.makePathSimpler=function(e){var t,n,i,r,o,a,l=0,c=0,u=e.length,d=0,h=0,p=[];for(n=0;n<u;++n){switch(i=!1,(t=e[n].slice(0))[0]){case"l":t[0]="L",t[1]+=l,t[2]+=c;case"L":l=t[1],c=t[2];break;case"h":t[1]+=l;case"H":t[0]="L",t[2]=c,l=t[1];break;case"v":t[1]+=c;case"V":t[0]="L",c=t[1],t[1]=l,t[2]=c;break;case"m":t[0]="M",t[1]+=l,t[2]+=c;case"M":l=t[1],c=t[2],d=t[1],h=t[2];break;case"c":t[0]="C",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c,t[5]+=l,t[6]+=c;case"C":o=t[3],a=t[4],l=t[5],c=t[6];break;case"s":t[0]="S",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"S":"C"===r?(o=2*l-o,a=2*c-a):(o=l,a=c),l=t[3],c=t[4],t[0]="C",t[5]=t[3],t[6]=t[4],t[3]=t[1],t[4]=t[2],t[1]=o,t[2]=a,o=t[3],a=t[4];break;case"q":t[0]="Q",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"Q":o=t[1],a=t[2],l=t[3],c=t[4];break;case"t":t[0]="T",t[1]+=l,t[2]+=c;case"T":"Q"===r?(o=2*l-o,a=2*c-a):(o=l,a=c),t[0]="Q",l=t[1],c=t[2],t[1]=o,t[2]=a,t[3]=l,t[4]=c;break;case"a":t[0]="A",t[6]+=l,t[7]+=c;case"A":i=!0,p=p.concat(s(l,c,t)),l=t[6],c=t[7];break;case"z":case"Z":l=d,c=h}i||p.push(t),r=t[0]}return p},C.util.getPathSegmentsInfo=A,C.util.fromArcToBeziers=s,C.util.fromArcToBeizers=s,C.util.getBoundsOfCurve=a,C.util.getPointOnPath=function(e,t,n){n||(n=A(e));for(var i=0;t-n[i].length>0&&i<n.length-2;)t-=n[i].length,i++;var r,o=n[i],a=t/o.length,s=o.command,l=e[i];switch(s){case"M":return{x:o.x,y:o.y,angle:0};case"Z":case"z":return(r=new C.Point(o.x,o.y).lerp(new C.Point(o.destX,o.destY),a)).angle=Math.atan2(o.destY-o.y,o.destX-o.x),r;case"L":return(r=new C.Point(o.x,o.y).lerp(new C.Point(l[1],l[2]),a)).angle=Math.atan2(l[2]-o.y,l[1]-o.x),r;case"C":case"Q":return f(o,t)}},C.util.getBoundsOfArc=function(e,t,n,i,o,s,l,c,u){for(var d,h=0,p=0,f=[],A=r(c-e,u-t,n,i,s,l,o),m=0,g=A.length;m<g;m++)d=a(h,p,A[m][1],A[m][2],A[m][3],A[m][4],A[m][5],A[m][6]),f.push({x:d[0].x+e,y:d[0].y+t}),f.push({x:d[1].x+e,y:d[1].y+t}),h=A[m][5],p=A[m][6];return f},C.util.drawArc=function(e,t,n,i){s(t,n,i=i.slice(0).unshift("X")).forEach((function(t){e.bezierCurveTo.apply(e,t.slice(1))}))}}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var i=e.length-1,r=t?e[i][t]:e[i];if(t)for(;i--;)n(e[i][t],r)&&(r=e[i][t]);else for(;i--;)n(e[i],r)&&(r=e[i]);return r}}C.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var i=e.call(arguments,2),r=[],o=0,a=t.length;o<a;o++)r[o]=i.length?t[o][n].apply(t[o],i):t[o][n].call(t[o]);return r},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,i){if(i)if(!C.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var r=0,o=n.length;r<o;r++)t[r]=e({},n[r],i)}else if(n&&"object"==typeof n)for(var a in n)"canvas"===a||"group"===a?t[a]=null:n.hasOwnProperty(a)&&(t[a]=e({},n[a],i));else t=n;else for(var a in n)t[a]=n[a];return t}C.util.object={extend:e,clone:function(t,n){return e({},t,n)}},C.util.object.extend(C.util,C.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var i=e.charCodeAt(t+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var r=e.charCodeAt(t-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}C.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,i=0,r=[];for(i=0;i<t.length;i++)!1!==(n=e(t,i))&&r.push(n);return r}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),i=function(e,t,i){for(var r in t)r in e.prototype&&"function"==typeof e.prototype[r]&&(t[r]+"").indexOf("callSuper")>-1?e.prototype[r]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var r=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return r}}(r):e.prototype[r]=t[r],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function r(){}function o(t){for(var n=null,i=this;i.constructor.superclass;){var r=i.constructor.superclass.prototype[t];if(i[t]!==r){n=r;break}i=i.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}C.util.createClass=function(){var n=null,a=e.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"==typeof a[0]&&(n=a.shift()),s.superclass=n,s.subclasses=[],n&&(r.prototype=n.prototype,s.prototype=new r,n.subclasses.push(s));for(var l=0,c=a.length;l<c;l++)i(s,a[l],n);return s.prototype.initialize||(s.prototype.initialize=t),s.prototype.constructor=s,s.prototype.callSuper=o,s}}(),c=!!C.document.createElement("div").attachEvent,u=["touchstart","touchmove","touchend"],C.util.addListener=function(e,t,n,i){e&&e.addEventListener(t,n,!c&&i)},C.util.removeListener=function(e,t,n,i){e&&e.removeEventListener(t,n,!c&&i)},C.util.getPointer=function(e){var t=e.target,n=C.util.getScrollLeftTop(t),i=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:i.clientX+n.left,y:i.clientY+n.top}},C.util.isTouchEvent=function(e){return u.indexOf(e.type)>-1||"touch"===e.pointerType},d=C.document.createElement("div"),h="string"==typeof d.style.opacity,p="string"==typeof d.style.filter,f=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,A=function(e){return e},h?A=function(e,t){return e.style.opacity=t,e}:p&&(A=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),f.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(f,t)):n.filter+=" alpha(opacity="+100*t+")",e}),C.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"==typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?A(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var i in t)"opacity"===i?A(e,t[i]):n["float"===i||"cssFloat"===i?void 0===n.styleFloat?"cssFloat":"styleFloat":i]=t[i];return e},function(){var e=Array.prototype.slice;var t,n,i,r,o=function(t){return e.call(t,0)};try{t=o(C.document.childNodes)instanceof Array}catch(e){}function a(e,t){var n=C.document.createElement(e);for(var i in t)"class"===i?n.className=t[i]:"for"===i?n.htmlFor=t[i]:n.setAttribute(i,t[i]);return n}function s(e){for(var t=0,n=0,i=C.document.documentElement,r=C.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===C.document?(t=r.scrollLeft||i.scrollLeft||0,n=r.scrollTop||i.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}t||(o=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),n=C.document.defaultView&&C.document.defaultView.getComputedStyle?function(e,t){var n=C.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},i=C.document.documentElement.style,r="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"",C.util.makeElementUnselectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=C.util.falseFunction),r?e.style[r]="none":"string"==typeof e.unselectable&&(e.unselectable="on"),e},C.util.makeElementSelectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=null),r?e.style[r]="":"string"==typeof e.unselectable&&(e.unselectable=""),e},C.util.setImageSmoothing=function(e,t){e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=t},C.util.getById=function(e){return"string"==typeof e?C.document.getElementById(e):e},C.util.toArray=o,C.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},C.util.makeElement=a,C.util.wrapElement=function(e,t,n){return"string"==typeof t&&(t=a(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},C.util.getScrollLeftTop=s,C.util.getElementOffset=function(e){var t,i,r=e&&e.ownerDocument,o={left:0,top:0},a={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return a;for(var c in l)a[l[c]]+=parseInt(n(e,c),10)||0;return t=r.documentElement,void 0!==e.getBoundingClientRect&&(o=e.getBoundingClientRect()),i=s(e),{left:o.left+i.left-(t.clientLeft||0)+a.left,top:o.top+i.top-(t.clientTop||0)+a.top}},C.util.getNodeCanvas=function(e){var t=C.jsdomImplForWrapper(e);return t._canvas||t._image},C.util.cleanUpJsdomNode=function(e){if(C.isLikelyNode){var t=C.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}C.util.request=function(t,n){n||(n={});var i=n.method?n.method.toUpperCase():"GET",r=n.onComplete||function(){},o=new C.window.XMLHttpRequest,a=n.body||n.parameters;return o.onreadystatechange=function(){4===o.readyState&&(r(o),o.onreadystatechange=e)},"GET"===i&&(a=null,"string"==typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),o.open(i,t,!0),"POST"!==i&&"PUT"!==i||o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(a),o}}(),C.log=console.log,C.warn=console.warn,function(){function e(){return!1}function t(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t}var n=C.window.requestAnimationFrame||C.window.webkitRequestAnimationFrame||C.window.mozRequestAnimationFrame||C.window.oRequestAnimationFrame||C.window.msRequestAnimationFrame||function(e){return C.window.setTimeout(e,1e3/60)},i=C.window.cancelAnimationFrame||C.window.clearTimeout;function r(){return n.apply(C.window,arguments)}C.util.animate=function(n){r((function(i){n||(n={});var o,a=i||+new Date,s=n.duration||500,l=a+s,c=n.onChange||e,u=n.abort||e,d=n.onComplete||e,h=n.easing||t,p="startValue"in n?n.startValue:0,f="endValue"in n?n.endValue:100,A=n.byValue||f-p;n.onStart&&n.onStart(),function e(t){var n=(o=t||+new Date)>l?s:o-a,i=n/s,m=h(n,p,A,s),g=Math.abs((m-p)/A);if(!u())return o>l?(c(f,1,1),void d(f,1,1)):(c(m,g,i),void r(e));d(f,1,1)}(a)}))},C.util.requestAnimFrame=r,C.util.cancelAnimFrame=function(){return i.apply(C.window,arguments)}}(),function(){function e(e,t,n){var i="rgba("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return i+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1),i+=")"}C.util.animateColor=function(t,n,i,r){var o=new C.Color(t).getSource(),a=new C.Color(n).getSource(),s=r.onComplete,l=r.onChange;r=r||{},C.util.animate(C.util.object.extend(r,{duration:i||500,startValue:o,endValue:a,byValue:a,easing:function(t,n,i,o){return e(n,i,r.colorEasing?r.colorEasing(t,o):1-Math.cos(t/o*(Math.PI/2)))},onComplete:function(t,n,i){if(s)return s(e(a,a,0),n,i)},onChange:function(t,n,i){if(l){if(Array.isArray(t))return l(e(t,t,0),n,i);l(t,n,i)}}}))}}(),function(){function e(e,t,n,i){return e<Math.abs(t)?(e=t,i=n/4):i=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:i}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,r){return n-i(r-e,0,n,r)+t}function i(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}C.util.ease={easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,i){return n*(e/=i)*e*e+t},easeOutCubic:function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,i){return n*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return 0===e?t:n*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){return e===i?t+n:n*(1-Math.pow(2,-10*e/i))+t},easeInOutExpo:function(e,t,n,i){return 0===e?t:e===i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},easeOutCirc:function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,i,r,o){var a=0;return 0===n?i:1===(n/=o)?i+r:(a||(a=.3*o),-t(e(r,r,a,1.70158),n,o)+i)},easeOutElastic:function(t,n,i,r){var o=0;if(0===t)return n;if(1===(t/=r))return n+i;o||(o=.3*r);var a=e(i,i,o,1.70158);return a.a*Math.pow(2,-10*t)*Math.sin((t*r-a.s)*(2*Math.PI)/a.p)+a.c+n},easeInOutElastic:function(n,i,r,o){var a=0;if(0===n)return i;if(2===(n/=o/2))return i+r;a||(a=o*(.3*1.5));var s=e(r,r,a,1.70158);return n<1?-.5*t(s,n,o)+i:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-s.s)*(2*Math.PI)/s.p)*.5+s.c+i},easeInBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:n,easeOutBounce:i,easeInOutBounce:function(e,t,r,o){return e<o/2?.5*n(2*e,0,r,o)+t:.5*i(2*e-o,0,r,o)+.5*r+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r=t.util.toFixed,o=t.util.parseUnit,a=t.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},l={stroke:"strokeOpacity",fill:"fillOpacity"};function c(e){return e in s?s[e]:e}function u(e,n,i,r){var s,l="[object Array]"===Object.prototype.toString.call(n);if("fill"!==e&&"stroke"!==e||"none"!==n){if("strokeUniform"===e)return"non-scaling-stroke"===n;if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=i&&i.transformMatrix?a(i.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,i&&!1===i.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),i&&void 0!==i.opacity&&(n*=i.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)s=o(n,r)/r*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill";(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e||"font"===e)return n;if("imageSmoothing"===e)return"optimizeQuality"===n;s=l?n.map(o):o(n,r)}}else n="";return!l&&isNaN(s)?n:s}function d(e){return new RegExp("^("+e.join("|")+")\\b","i")}function h(e,t){var n,i,r,o,a=[];for(r=0,o=t.length;r<o;r++)n=t[r],i=e.getElementsByTagName(n),a=a.concat(Array.prototype.slice.call(i));return a}function p(e,t){var n,i=!0;return(n=f(e,t.pop()))&&t.length&&(i=function(e,t){var n,i=!0;for(;e.parentNode&&1===e.parentNode.nodeType&&t.length;)i&&(n=t.pop()),e=e.parentNode,i=f(e,n);return 0===t.length}(e,t)),n&&i&&0===t.length}function f(e,t){var n,i,r=e.nodeName,o=e.getAttribute("class"),a=e.getAttribute("id");if(n=new RegExp("^"+r,"i"),t=t.replace(n,""),a&&t.length&&(n=new RegExp("#"+a+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),o&&t.length)for(i=(o=o.split(" ")).length;i--;)n=new RegExp("\\."+o[i]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function A(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var i,r,o,a=e.getElementsByTagName("*");for(r=0,o=a.length;r<o;r++)if(t===(i=a[r]).getAttribute("id"))return i}t.svgValidTagNamesRegEx=d(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=d(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=d(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=d(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,i){e[i]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,i=t.reNum,r=t.commaWsp,o="(?:"+("(?:(matrix)\\s*\\(\\s*("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+")"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+i+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+i+")\\s*\\))")+")",a=new RegExp("^\\s*(?:"+("(?:"+o+"(?:"+r+"*"+o+")*)")+"?)\\s*$"),s=new RegExp(o,"g");return function(i){var r=n.concat(),l=[];if(!i||i&&!a.test(i))return r;i.replace(s,(function(i){var a=new RegExp(o).exec(i).filter((function(e){return!!e})),s=a[1],c=a.slice(2).map(parseFloat);switch(s){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(r,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var i=t.util.cos(n[0]),r=t.util.sin(n[0]),o=0,a=0;3===n.length&&(o=n[1],a=n[2]),e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=o-(i*o-r*a),e[5]=a-(r*o+i*a)}(r,c);break;case"scale":!function(e,t){var n=t[0],i=2===t.length?t[1]:t[0];e[0]=n,e[3]=i}(r,c);break;case"skewX":e(r,c,2);break;case"skewY":e(r,c,1);break;case"matrix":r=c}l.push(r.concat()),r=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var m=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function g(e){if(t.svgViewBoxElementsRegEx.test(e.nodeName)){var n,i,r,a,s,l,c=e.getAttribute("viewBox"),u=1,d=1,h=e.getAttribute("width"),p=e.getAttribute("height"),f=e.getAttribute("x")||0,A=e.getAttribute("y")||0,g=e.getAttribute("preserveAspectRatio")||"",v=!c||!(c=c.match(m)),b=!h||!p||"100%"===h||"100%"===p,y=v&&b,x={},w="",_=0,j=0;if(x.width=0,x.height=0,x.toBeParsed=y,v&&(f||A)&&e.parentNode&&"#document"!==e.parentNode.nodeName&&(w=" translate("+o(f)+" "+o(A)+") ",s=(e.getAttribute("transform")||"")+w,e.setAttribute("transform",s),e.removeAttribute("x"),e.removeAttribute("y")),y)return x;if(v)return x.width=o(h),x.height=o(p),x;if(n=-parseFloat(c[1]),i=-parseFloat(c[2]),r=parseFloat(c[3]),a=parseFloat(c[4]),x.minX=n,x.minY=i,x.viewBoxWidth=r,x.viewBoxHeight=a,b?(x.width=r,x.height=a):(x.width=o(h),x.height=o(p),u=x.width/r,d=x.height/a),"none"!==(g=t.util.parsePreserveAspectRatioAttribute(g)).alignX&&("meet"===g.meetOrSlice&&(d=u=u>d?d:u),"slice"===g.meetOrSlice&&(d=u=u>d?u:d),_=x.width-r*u,j=x.height-a*u,"Mid"===g.alignX&&(_/=2),"Mid"===g.alignY&&(j/=2),"Min"===g.alignX&&(_=0),"Min"===g.alignY&&(j=0)),1===u&&1===d&&0===n&&0===i&&0===f&&0===A)return x;if((f||A)&&"#document"!==e.parentNode.nodeName&&(w=" translate("+o(f)+" "+o(A)+") "),s=w+" matrix("+u+" 0 0 "+d+" "+(n*u+_)+" "+(i*d+j)+") ","svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else(l=e).removeAttribute("x"),l.removeAttribute("y"),s=l.getAttribute("transform")+s;return l.setAttribute("transform",s),x}}function v(e,t){var n=A(e,t.getAttribute("xlink:href").substr(1));if(n&&n.getAttribute("xlink:href")&&v(e,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){n&&!t.hasAttribute(e)&&n.hasAttribute(e)&&t.setAttribute(e,n.getAttribute(e))})),!t.children.length)for(var i=n.cloneNode(!0);i.firstChild;)t.appendChild(i.firstChild);t.removeAttribute("xlink:href")}t.parseSVGDocument=function(e,n,r,o){if(e){!function(e){for(var n=h(e,["use","svg:use"]),i=0;n.length&&i<n.length;){var r=n[i],o=r.getAttribute("xlink:href")||r.getAttribute("href");if(null===o)return;var a,s,l,c,u=o.substr(1),d=r.getAttribute("x")||0,p=r.getAttribute("y")||0,f=A(e,u).cloneNode(!0),m=(f.getAttribute("transform")||"")+" translate("+d+", "+p+")",v=n.length,b=t.svgNS;if(g(f),/^svg$/i.test(f.nodeName)){var y=f.ownerDocument.createElementNS(b,"g");for(s=0,c=(l=f.attributes).length;s<c;s++)a=l.item(s),y.setAttributeNS(b,a.nodeName,a.nodeValue);for(;f.firstChild;)y.appendChild(f.firstChild);f=y}for(s=0,c=(l=r.attributes).length;s<c;s++)"x"!==(a=l.item(s)).nodeName&&"y"!==a.nodeName&&"xlink:href"!==a.nodeName&&"href"!==a.nodeName&&("transform"===a.nodeName?m=a.nodeValue+" "+m:f.setAttribute(a.nodeName,a.nodeValue));f.setAttribute("transform",m),f.setAttribute("instantiated_by_use","1"),f.removeAttribute("id"),r.parentNode.replaceChild(f,r),n.length===v&&i++}}(e);var a,s,l=t.Object.__uid++,c=g(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=o&&o.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var d=[];for(a=0,s=(u=e.selectNodes('//*[name(.)!="svg"]')).length;a<s;a++)d[a]=u[a];u=d}var p=u.filter((function(e){return g(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!p||p&&!p.length)n&&n([],{});else{var f={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");f[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=f,t.parseElements(p,(function(e,i){n&&(n(e,c,i,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),i(c),r,o)}}};var b=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(b);if(n){var i=n[1],r=n[3],a=n[4],s=n[5],l=n[6];i&&(t.fontStyle=i),r&&(t.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),a&&(t.fontSize=o(a)),l&&(t.fontFamily=l),s&&(t.lineHeight="normal"===s?1:s)}},getGradientDefs:function(e){var t,n=h(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),i=0,r={};for(i=n.length;i--;)(t=n[i]).getAttribute("xlink:href")&&v(e,t),r[t.getAttribute("id")]=t;return r},parseAttributes:function(e,i,a){if(e){var s,d,h,f={};void 0===a&&(a=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(f=t.parseAttributes(e.parentNode,i,a));var A=i.reduce((function(t,n){return(s=e.getAttribute(n))&&(t[n]=s),t}),{}),m=n(function(e,n){var i={};for(var r in t.cssRules[n])if(p(e,r.split(" ")))for(var o in t.cssRules[n][r])i[o]=t.cssRules[n][r][o];return i}(e,a),t.parseStyleAttribute(e));A=n(A,m),m["clip-path"]&&e.setAttribute("clip-path",m["clip-path"]),d=h=f.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,A["font-size"]&&(A["font-size"]=d=o(A["font-size"],h));var g,v,b={};for(var y in A)v=u(g=c(y),A[y],f,d),b[g]=v;b&&b.font&&t.parseFontDeclaration(b.font,b);var x=n(f,b);return t.svgValidParentsRegEx.test(e.nodeName)?x:function(e){for(var n in l)if(void 0!==e[l[n]]&&""!==e[n]){if(void 0===e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var i=new t.Color(e[n]);e[n]=i.setAlpha(r(i.getAlpha()*e[l[n]],2)).toRgba()}}return e}(x)}},parseElements:function(e,n,i,r,o){new t.ElementsParser(e,n,i,r,o).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"==typeof n?function(e,t){var n,i;e.replace(/;\s*$/,"").split(";").forEach((function(e){var r=e.split(":");n=r[0].trim().toLowerCase(),i=r[1].trim(),t[n]=i}))}(n,t):function(e,t){var n,i;for(var r in e)void 0!==e[r]&&(n=r.toLowerCase(),i=e[r],t[n]=i)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,i=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)i.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return i},getCSSRules:function(e){var n,i,r=e.getElementsByTagName("style"),o={};for(n=0,i=r.length;n<i;n++){var a=r[n].textContent;""!==(a=a.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&a.match(/[^{]*\{[\s\S]*?\}/g).map((function(e){return e.trim()})).forEach((function(e){var r=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),a={},s=r[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,i=s.length;n<i;n++){var l=s[n].split(/\s*:\s*/),c=l[0],u=l[1];a[c]=u}(e=r[1]).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(o[e]?t.util.object.extend(o[e],a):o[e]=t.util.object.clone(a))}))}))}return o},loadSVGFromURL:function(e,n,i,r){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var o=e.responseXML;if(!o||!o.documentElement)return n&&n(null),!1;t.parseSVGDocument(o.documentElement,(function(e,t,i,r){n&&n(e,t,i,r)}),i,r)}})},loadSVGFromString:function(e,n,i,r){var o=(new t.window.DOMParser).parseFromString(e.trim(),"text/xml");t.parseSVGDocument(o.documentElement,(function(e,t,i,r){n(e,t,i,r)}),i,r)}})}(t),C.ElementsParser=function(e,t,n,i,r,o){this.elements=e,this.callback=t,this.options=n,this.reviver=i,this.svgUid=n&&n.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(m=C.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},m.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},m.findTag=function(e){return C[C.util.string.capitalize(e.tagName.replace("svg:",""))]},m.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(e){C.log(e)}else this.checkIfDone()},m.createCallback=function(e,t){var n=this;return function(i){var r;n.resolveGradient(i,t,"fill"),n.resolveGradient(i,t,"stroke"),i instanceof C.Image&&i._originalElement&&(r=i.parsePreserveAspectRatioAttribute(t)),i._removeTransformMatrix(r),n.resolveClipPath(i,t),n.reviver&&n.reviver(t,i),n.instances[e]=i,n.checkIfDone()}},m.extractPropertyDefinition=function(e,t,n){var i=e[t],r=this.regexUrl;if(r.test(i)){r.lastIndex=0;var o=r.exec(i)[1];return r.lastIndex=0,C[n][this.svgUid][o]}},m.resolveGradient=function(e,t,n){var i=this.extractPropertyDefinition(e,n,"gradientDefs");if(i){var r=t.getAttribute(n+"-opacity"),o=C.Gradient.fromElement(i,e,r,this.options);e.set(n,o)}},m.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},m.resolveClipPath=function(e,t){var n,i,r,o,a=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(a){r=[],i=C.util.invertTransform(e.calcTransformMatrix());for(var s=a[0].parentNode,l=t;l.parentNode&&l.getAttribute("clip-path")!==e.clipPath;)l=l.parentNode;l.parentNode.appendChild(s);for(var c=0;c<a.length;c++)n=a[c],this.findTag(n).fromElement(n,this.createClipPathCallback(e,r),this.options);a=1===r.length?r[0]:new C.Group(r),o=C.util.multiplyTransformMatrices(i,a.calcTransformMatrix()),a.clipPath&&this.resolveClipPath(a,l);var u=C.util.qrDecompose(o);a.flipX=!1,a.flipY=!1,a.set("scaleX",u.scaleX),a.set("scaleY",u.scaleY),a.angle=u.angle,a.skewX=u.skewX,a.skewY=0,a.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),e.clipPath=a}else delete e.clipPath},m.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return void 0===t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,i,r,o){var a,s=(o.x-r.x)*(e.y-r.y)-(o.y-r.y)*(e.x-r.x),l=(i.x-e.x)*(e.y-r.y)-(i.y-e.y)*(e.x-r.x),c=(o.y-r.y)*(i.x-e.x)-(o.x-r.x)*(i.y-e.y);if(0!==c){var u=s/c,d=l/c;0<=u&&u<=1&&0<=d&&d<=1?(a=new n("Intersection")).appendPoint(new t.Point(e.x+u*(i.x-e.x),e.y+u*(i.y-e.y))):a=new n}else a=new n(0===s||0===l?"Coincident":"Parallel");return a},t.Intersection.intersectLinePolygon=function(e,t,i){var r,o,a,s,l=new n,c=i.length;for(s=0;s<c;s++)r=i[s],o=i[(s+1)%c],a=n.intersectLineLine(e,t,r,o),l.appendPoints(a.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var i,r=new n,o=e.length;for(i=0;i<o;i++){var a=e[i],s=e[(i+1)%o],l=n.intersectLinePolygon(a,s,t);r.appendPoints(l.points)}return r.points.length>0&&(r.status="Intersection"),r},t.Intersection.intersectPolygonRectangle=function(e,i,r){var o=i.min(r),a=i.max(r),s=new t.Point(a.x,o.y),l=new t.Point(o.x,a.y),c=n.intersectLinePolygon(o,s,e),u=n.intersectLinePolygon(s,a,e),d=n.intersectLinePolygon(a,l,e),h=n.intersectLinePolygon(l,o,e),p=new n;return p.appendPoints(c.points),p.appendPoints(u.points),p.appendPoints(d.points),p.appendPoints(h.points),p.points.length>0&&(p.status="Intersection"),p})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,i){e/=255,n/=255,i/=255;var r,o,a,s=t.util.array.max([e,n,i]),l=t.util.array.min([e,n,i]);if(a=(s+l)/2,s===l)r=o=0;else{var c=s-l;switch(o=a>.5?c/(2-s-l):c/(s+l),s){case e:r=(n-i)/c+(n<i?6:0);break;case n:r=(i-e)/c+2;break;case i:r=(e-n)/c+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,i=this.getSource();return e=1===(e=i[0].toString(16)).length?"0"+e:e,t=1===(t=i[1].toString(16)).length?"0"+t:t,n=1===(n=i[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),i=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,i]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,i=[],r=this.getAlpha(),o=this.getSource(),a=e.getSource();for(t=0;t<3;t++)i.push(Math.round(.5*o[t]+.5*a[t]));return i[3]=r,this.setSource(i),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var i=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),r=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),o=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(i,10),parseInt(r,10),parseInt(o,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var r,o,a,s=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)r=o=a=c;else{var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u;r=i(d,u,s+1/3),o=i(d,u,s),a=i(d,u,s-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*a),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),i=3===t.length||4===t.length,r=8===t.length||4===t.length,o=i?t.charAt(0)+t.charAt(0):t.substring(0,2),a=i?t.charAt(1)+t.charAt(1):t.substring(2,4),s=i?t.charAt(2)+t.charAt(2):t.substring(4,6),l=r?i?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(o,16),parseInt(a,16),parseInt(s,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],i=["ns","nesw","ew","nwse"],r={},o="left",a="top",s={top:"bottom",bottom:a,left:"right",right:o,center:"center"},l=t.util.radiansToDegrees,c=Math.sign||function(e){return(e>0)-(e<0)||+e};function u(e,t){var n=e.angle+l(Math.atan2(t.y,t.x))+360;return Math.round(n%360/45)}function d(e,n){var i=n.transform.target,r=i.canvas,o=t.util.object.clone(n);o.target=i,r&&r.fire("object:"+e,o),i.fire(e,n)}function h(e,t){var n=t.canvas,i=e[n.uniScaleKey];return n.uniformScaling&&!i||!n.uniformScaling&&i}function p(e){return"center"===e.originX&&"center"===e.originY}function f(e,t,n){var i=e.lockScalingX,r=e.lockScalingY;return!(!i||!r)||(!(t||!i&&!r||!n)||(!(!i||"x"!==t)||!(!r||"y"!==t)))}function A(e,t,n,i){return{e:e,transform:t,pointer:{x:n,y:i}}}function m(e){return function(t,n,i,r){var o=n.target,a=o.getCenterPoint(),s=o.translateToOriginPoint(a,n.originX,n.originY),l=e(t,n,i,r);return o.setPositionByOrigin(s,n.originX,n.originY),l}}function g(e,t){return function(n,i,r,o){var a=t(n,i,r,o);return a&&d(e,A(n,i,r,o)),a}}function v(e,n,i,r,o){var a=e.target,s=a.controls[e.corner],l=a.canvas.getZoom(),c=a.padding/l,u=a.toLocalPoint(new t.Point(r,o),n,i);return u.x>=c&&(u.x-=c),u.x<=-c&&(u.x+=c),u.y>=c&&(u.y-=c),u.y<=c&&(u.y+=c),u.x-=s.offsetX,u.y-=s.offsetY,u}function b(e){return e.flipX!==e.flipY}function y(e,t,n,i,r){if(0!==e[t]){var o=r/e._getTransformedDimensions()[i]*e[n];e.set(n,o)}}function x(e,t,n,i){var r,s=t.target,c=s._getTransformedDimensions(0,s.skewY),u=v(t,t.originX,t.originY,n,i),d=Math.abs(2*u.x)-c.x,h=s.skewX;d<2?r=0:(r=l(Math.atan2(d/s.scaleX,c.y/s.scaleY)),t.originX===o&&"bottom"===t.originY&&(r=-r),"right"===t.originX&&t.originY===a&&(r=-r),b(s)&&(r=-r));var p=h!==r;if(p){var f=s._getTransformedDimensions().y;s.set("skewX",r),y(s,"skewY","scaleY","y",f)}return p}function w(e,t,n,i){var r,s=t.target,c=s._getTransformedDimensions(s.skewX,0),u=v(t,t.originX,t.originY,n,i),d=Math.abs(2*u.y)-c.y,h=s.skewY;d<2?r=0:(r=l(Math.atan2(d/s.scaleY,c.x/s.scaleX)),t.originX===o&&"bottom"===t.originY&&(r=-r),"right"===t.originX&&t.originY===a&&(r=-r),b(s)&&(r=-r));var p=h!==r;if(p){var f=s._getTransformedDimensions().x;s.set("skewY",r),y(s,"skewX","scaleX","x",f)}return p}function _(e,t,n,i,r){r=r||{};var o,a,l,u,d,A,m=t.target,g=m.lockScalingX,b=m.lockScalingY,y=r.by,x=h(e,m),w=f(m,y,x),_=t.gestureScale;if(w)return!1;if(_)a=t.scaleX*_,l=t.scaleY*_;else{if(o=v(t,t.originX,t.originY,n,i),d="y"!==y?c(o.x):1,A="x"!==y?c(o.y):1,t.signX||(t.signX=d),t.signY||(t.signY=A),m.lockScalingFlip&&(t.signX!==d||t.signY!==A))return!1;if(u=m._getTransformedDimensions(),x&&!y){var j=Math.abs(o.x)+Math.abs(o.y),C=t.original,E=j/(Math.abs(u.x*C.scaleX/m.scaleX)+Math.abs(u.y*C.scaleY/m.scaleY));a=C.scaleX*E,l=C.scaleY*E}else a=Math.abs(o.x*m.scaleX/u.x),l=Math.abs(o.y*m.scaleY/u.y);p(t)&&(a*=2,l*=2),t.signX!==d&&"y"!==y&&(t.originX=s[t.originX],a*=-1,t.signX=d),t.signY!==A&&"x"!==y&&(t.originY=s[t.originY],l*=-1,t.signY=A)}var B=m.scaleX,k=m.scaleY;return y?("x"===y&&m.set("scaleX",a),"y"===y&&m.set("scaleY",l)):(!g&&m.set("scaleX",a),!b&&m.set("scaleY",l)),B!==m.scaleX||k!==m.scaleY}r.scaleCursorStyleHandler=function(e,t,i){var r=h(e,i),o="";if(0!==t.x&&0===t.y?o="x":0===t.x&&0!==t.y&&(o="y"),f(i,o,r))return"not-allowed";var a=u(i,t);return n[a]+"-resize"},r.skewCursorStyleHandler=function(e,t,n){if(0!==t.x&&n.lockSkewingY)return"not-allowed";if(0!==t.y&&n.lockSkewingX)return"not-allowed";var r=u(n,t)%4;return i[r]+"-resize"},r.scaleSkewCursorStyleHandler=function(e,t,n){return e[n.canvas.altActionKey]?r.skewCursorStyleHandler(e,t,n):r.scaleCursorStyleHandler(e,t,n)},r.rotationWithSnapping=g("rotating",m((function(e,t,n,i){var r=t,o=r.target,a=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY);if(o.lockRotation)return!1;var s,c=Math.atan2(r.ey-a.y,r.ex-a.x),u=Math.atan2(i-a.y,n-a.x),d=l(u-c+r.theta);if(o.snapAngle>0){var h=o.snapAngle,p=o.snapThreshold||h,f=Math.ceil(d/h)*h,A=Math.floor(d/h)*h;Math.abs(d-A)<p?d=A:Math.abs(d-f)<p&&(d=f)}return d<0&&(d=360+d),d%=360,s=o.angle!==d,o.angle=d,s}))),r.scalingEqually=g("scaling",m((function(e,t,n,i){return _(e,t,n,i)}))),r.scalingX=g("scaling",m((function(e,t,n,i){return _(e,t,n,i,{by:"x"})}))),r.scalingY=g("scaling",m((function(e,t,n,i){return _(e,t,n,i,{by:"y"})}))),r.scalingYOrSkewingX=function(e,t,n,i){return e[t.target.canvas.altActionKey]?r.skewHandlerX(e,t,n,i):r.scalingY(e,t,n,i)},r.scalingXOrSkewingY=function(e,t,n,i){return e[t.target.canvas.altActionKey]?r.skewHandlerY(e,t,n,i):r.scalingX(e,t,n,i)},r.changeWidth=g("resizing",m((function(e,t,n,i){var r=t.target,o=v(t,t.originX,t.originY,n,i),a=r.strokeWidth/(r.strokeUniform?r.scaleX:1),s=p(t)?2:1,l=r.width,c=Math.abs(o.x*s/r.scaleX)-a;return r.set("width",Math.max(c,0)),l!==c}))),r.skewHandlerX=function(e,t,n,i){var r,s=t.target,l=s.skewX,c=t.originY;return!s.lockSkewingX&&(0===l?r=v(t,"center","center",n,i).x>0?o:"right":(l>0&&(r=c===a?o:"right"),l<0&&(r=c===a?"right":o),b(s)&&(r=r===o?"right":o)),t.originX=r,g("skewing",m(x))(e,t,n,i))},r.skewHandlerY=function(e,t,n,i){var r,s=t.target,l=s.skewY,c=t.originX;return!s.lockSkewingY&&(0===l?r=v(t,"center","center",n,i).y>0?a:"bottom":(l>0&&(r=c===o?a:"bottom"),l<0&&(r=c===o?"bottom":a),b(s)&&(r=r===a?"bottom":a)),t.originY=r,g("skewing",m(w))(e,t,n,i))},r.dragHandler=function(e,t,n,i){var r=t.target,o=n-t.offsetX,a=i-t.offsetY,s=!r.get("lockMovementX")&&r.left!==o,l=!r.get("lockMovementY")&&r.top!==a;return s&&r.set("left",o),l&&r.set("top",a),(s||l)&&d("moving",A(e,t,n,i)),s||l},r.scaleOrSkewActionName=function(e,t,n){var i=e[n.canvas.altActionKey];return 0===t.x?i?"skewX":"scaleY":0===t.y?i?"skewY":"scaleX":void 0},r.rotationStyleHandler=function(e,t,n){return n.lockRotation?"not-allowed":t.cursorStyle},r.fireEvent=d,r.wrapWithFixedAnchor=m,r.wrapWithFireEvent=g,r.getLocalPoint=v,t.controlsUtils=r}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.degreesToRadians,i=t.controlsUtils;i.renderCircleControl=function(e,t,n,i,r){i=i||{};var o,a=this.sizeX||i.cornerSize||r.cornerSize,s=this.sizeY||i.cornerSize||r.cornerSize,l=void 0!==i.transparentCorners?i.transparentCorners:r.transparentCorners,c=l?"stroke":"fill",u=!l&&(i.cornerStrokeColor||r.cornerStrokeColor),d=t,h=n;e.save(),e.fillStyle=i.cornerColor||r.cornerColor,e.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor,a>s?(o=a,e.scale(1,s/a),h=n*a/s):s>a?(o=s,e.scale(a/s,1),d=t*s/a):o=a,e.lineWidth=1,e.beginPath(),e.arc(d,h,o/2,0,2*Math.PI,!1),e[c](),u&&e.stroke(),e.restore()},i.renderSquareControl=function(e,t,i,r,o){r=r||{};var a=this.sizeX||r.cornerSize||o.cornerSize,s=this.sizeY||r.cornerSize||o.cornerSize,l=void 0!==r.transparentCorners?r.transparentCorners:o.transparentCorners,c=l?"stroke":"fill",u=!l&&(r.cornerStrokeColor||o.cornerStrokeColor),d=a/2,h=s/2;e.save(),e.fillStyle=r.cornerColor||o.cornerColor,e.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor,e.lineWidth=1,e.translate(t,i),e.rotate(n(o.angle)),e[c+"Rect"](-d,-h,a,s),u&&e.strokeRect(-d,-h,a,s),e.restore()}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Control=function(e){for(var t in e)this[t]=e[t]},t.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(e,t){return t.cursorStyle},getActionName:function(e,t){return t.actionName},getVisibility:function(e,t){var n=e._controlsVisibility;return n&&void 0!==n[t]?n[t]:this.visible},setVisibility:function(e){this.visible=e},positionHandler:function(e,n){return t.util.transformPoint({x:this.x*e.x+this.offsetX,y:this.y*e.y+this.offsetY},n)},calcCornerCoords:function(e,n,i,r,o){var a,s,l,c,u=o?this.touchSizeX:this.sizeX,d=o?this.touchSizeY:this.sizeY;if(u&&d&&u!==d){var h=Math.atan2(d,u),p=Math.sqrt(u*u+d*d)/2,f=h-t.util.degreesToRadians(e),A=Math.PI/2-h-t.util.degreesToRadians(e);a=p*t.util.cos(f),s=p*t.util.sin(f),l=p*t.util.cos(A),c=p*t.util.sin(A)}else{p=.7071067812*(u&&d?u:n);f=t.util.degreesToRadians(45-e);a=l=p*t.util.cos(f),s=c=p*t.util.sin(f)}return{tl:{x:i-c,y:r-l},tr:{x:i+a,y:r-s},bl:{x:i-a,y:r+s},br:{x:i+c,y:r+l}}},render:function(e,n,i,r,o){switch((r=r||{}).cornerStyle||o.cornerStyle){case"circle":t.controlsUtils.renderCircleControl.call(this,e,n,i,r,o);break;default:t.controlsUtils.renderSquareControl.call(this,e,n,i,r,o)}}}}(t),function(){function e(e,t){var n,i,r,o,a=e.getAttribute("style"),s=e.getAttribute("offset")||0;if(s=(s=parseFloat(s)/(/%$/.test(s)?100:1))<0?0:s>1?1:s,a){var l=a.split(/\s*;\s*/);for(""===l[l.length-1]&&l.pop(),o=l.length;o--;){var c=l[o].split(/\s*:\s*/),u=c[0].trim(),d=c[1].trim();"stop-color"===u?n=d:"stop-opacity"===u&&(r=d)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=e.getAttribute("stop-opacity")),i=(n=new C.Color(n)).getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=i*t,{offset:s,color:n.toRgb(),opacity:r}}var t=C.util.object.clone;C.Gradient=C.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+C.Object.__uid++:this.id=C.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new C.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return C.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var i,r,o,a,s=t(this.coords,!0),l=(n=n||{},t(this.colorStops,!0)),c=s.r1>s.r2,u=this.gradientTransform?this.gradientTransform.concat():C.iMatrix.concat(),d=-this.offsetX,h=-this.offsetY,p=!!n.additionalTransform,f="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(l.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===f?(d/=e.width,h/=e.height):(d+=e.width/2,h+=e.height/2),"path"===e.type&&"percentage"!==this.gradientUnits&&(d-=e.pathOffset.x,h-=e.pathOffset.y),u[4]-=d,u[5]-=h,a='id="SVGID_'+this.id+'" gradientUnits="'+f+'"',a+=' gradientTransform="'+(p?n.additionalTransform+" ":"")+C.util.matrixToSVG(u)+'" ',"linear"===this.type?o=["<linearGradient ",a,' x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,'">\n']:"radial"===this.type&&(o=["<radialGradient ",a,' cx="',c?s.x1:s.x2,'" cy="',c?s.y1:s.y2,'" r="',c?s.r1:s.r2,'" fx="',c?s.x2:s.x1,'" fy="',c?s.y2:s.y1,'">\n']),"radial"===this.type){if(c)for((l=l.concat()).reverse(),i=0,r=l.length;i<r;i++)l[i].offset=1-l[i].offset;var A=Math.min(s.r1,s.r2);if(A>0){var m=A/Math.max(s.r1,s.r2);for(i=0,r=l.length;i<r;i++)l[i].offset+=m*(1-l[i].offset)}}for(i=0,r=l.length;i<r;i++){var g=l[i];o.push("<stop ",'offset="',100*g.offset+"%",'" style="stop-color:',g.color,void 0!==g.opacity?";stop-opacity: "+g.opacity:";",'"/>\n')}return o.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),o.join("")},toLive:function(e){var t,n,i,r=C.util.object.clone(this.coords);if(this.type){for("linear"===this.type?t=e.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(t=e.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2)),n=0,i=this.colorStops.length;n<i;n++){var o=this.colorStops[n].color,a=this.colorStops[n].opacity,s=this.colorStops[n].offset;void 0!==a&&(o=new C.Color(o).setAlpha(a).toRgba()),t.addColorStop(s,o)}return t}}}),C.util.object.extend(C.Gradient,{fromElement:function(t,n,i,r){var o=parseFloat(i)/(/%$/.test(i)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var a,s,l,c,u=t.getElementsByTagName("stop"),d="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",h=t.getAttribute("gradientTransform")||"",p=[],f=0,A=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(a="linear",s=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(a="radial",s=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),l=u.length;l--;)p.push(e(u[l],o));return c=C.parseTransformAttribute(h),function(e,t,n,i){var r,o;Object.keys(t).forEach((function(e){"Infinity"===(r=t[e])?o=1:"-Infinity"===r?o=0:(o=parseFloat(t[e],10),"string"==typeof r&&/^(\d+\.\d+)%|(\d+)%$/.test(r)&&(o*=.01,"pixels"===i&&("x1"!==e&&"x2"!==e&&"r2"!==e||(o*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(o*=n.viewBoxHeight||n.height)))),t[e]=o}))}(0,s,r,d),"pixels"===d&&(f=-n.left,A=-n.top),new C.Gradient({id:t.getAttribute("id"),type:a,coords:s,colorStops:p,gradientUnits:d,gradientTransform:c,offsetX:f,offsetY:A})}})}(),function(){"use strict";var e=C.util.toFixed;C.Pattern=C.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=C.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!=typeof e.source)t&&t(this);else{var n=this;this.source=C.util.createImage(),C.util.loadImage(e.source,(function(e,i){n.source=e,t&&t(n,i)}),null,this.crossOrigin)}},toObject:function(t){var n,i,r=C.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),i={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,r),offsetY:e(this.offsetY,r),patternTransform:this.patternTransform?this.patternTransform.concat():null},C.util.populateWithProperties(this,i,t),i},toSVG:function(e){var t="function"==typeof this.source?this.source():this.source,n=t.width/e.width,i=t.height/e.height,r=this.offsetX/e.width,o=this.offsetY/e.height,a="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,o&&(i+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,r&&(n+=Math.abs(r))),t.src?a=t.src:t.toDataURL&&(a=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+n+'" height="'+i+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t=this.source;if(!t)return"";if(void 0!==t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"==typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),i=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(i[1],10)||0,offsetY:parseFloat(i[2],10)||0,blur:parseFloat(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var i=40,r=40,o=t.Object.NUM_FRACTION_DIGITS,a=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),s=new t.Color(this.color);return e.width&&e.height&&(i=100*n((Math.abs(a.x)+this.blur)/e.width,o)+20,r=100*n((Math.abs(a.y)+this.blur)/e.height,o)+20),e.flipX&&(a.x*=-1),e.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(a.x,o)+'" dy="'+n(a.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(C.StaticCanvas)C.warn("fabric.StaticCanvas is already defined.");else{var e=C.util.object.extend,t=C.util.getElementOffset,n=C.util.removeFromArray,i=C.util.toFixed,r=C.util.transformPoint,o=C.util.invertTransform,a=C.util.getNodeCanvas,s=C.util.createCanvasElement,l=new Error("Could not initialize `canvas` element");C.StaticCanvas=C.util.createClass(C.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:C.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==C.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?C.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=C.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},__setBgOverlayImage:function(e,t,n,i){return"string"==typeof t?C.util.loadImage(t,(function(t,r){if(t){var o=new C.Image(t,i);this[e]=o,o.canvas=this}n&&n(t,r)}),this,i&&i.crossOrigin):(i&&t.setOptions(i),this[e]=t,t&&(t.canvas=this),n&&n(t,!1)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=s();if(!e)throw l;if(e.style||(e.style={}),void 0===e.getContext)throw l;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=C.util.getById(e)||this._createCanvasElement(),C.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var i in t=t||{},e)n=e[i],t.cssOnly||(this._setBackstoreDimension(i,e[i]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(i,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,i,r=this._activeObject,o=this.backgroundImage,a=this.overlayImage;for(this.viewportTransform=e,n=0,i=this._objects.length;n<i;n++)(t=this._objects[n]).group||t.setCoords(!0);return r&&r.setCoords(),o&&o.setCoords(!0),a&&a.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,i=this.viewportTransform.slice(0);e=r(e,o(this.viewportTransform)),i[0]=t,i[3]=t;var a=r(e,i);return i[4]+=n.x-a.x,i[5]+=n.y-a.y,this.setViewportTransform(i)},setZoom:function(e){return this.zoomToPoint(new C.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new C.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=C.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,i=o(this.viewportTransform);return e.tl=r({x:0,y:0},i),e.br=r({x:t,y:n},i),e.tr=new C.Point(e.br.x,e.tl.y),e.bl=new C.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,i=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),C.util.setImageSmoothing(e,this.imageSmoothingEnabled),this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),i&&(i.canvas=this,i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,i;for(n=0,i=t.length;n<i;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],i=this[t+"Image"],r=this.viewportTransform,o=this[t+"Vpt"];if(n||i){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,o&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var a=n.gradientTransform||n.patternTransform;a&&e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.fill(),e.restore()}i&&(e.save(),o&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),i.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(e){return this._centerObject(e,new C.Point(this.getCenter().left,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new C.Point(e.getCenterPoint().x,this.getCenter().top))},centerObject:function(e){var t=this.getCenter();return this._centerObject(e,new C.Point(t.left,t.top))},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new C.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new C.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenter(),t=o(this.viewportTransform);return r({x:e.left,y:e.top},t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var i=this.clipPath,r={version:C.version,objects:this._toObjects(t,n)};return i&&(r.clipPath=this._toObject(this.clipPath,t,n)),e(r,this.__serializeBgOverlay(t,n)),C.util.populateWithProperties(this,r,n),r},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);var r=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=i),r},__serializeBgOverlay:function(e,t){var n={},i=this.backgroundImage,r=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(t):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(t):this.overlayColor),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,t)),r&&!r.excludeFromExport&&(n.overlayImage=this._toObject(r,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,r=t.width||this.width,o=t.height||this.height,a='viewBox="0 0 '+this.width+" "+this.height+'" ',s=C.Object.NUM_FRACTION_DIGITS;t.viewBox?a='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,a='viewBox="'+i(-n[4]/n[0],s)+" "+i(-n[5]/n[3],s)+" "+i(this.width/n[0],s)+" "+i(this.height/n[3],s)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',o,'" ',a,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",C.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+C.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var i=e[t+"Vpt"],r=e.viewportTransform,o={width:e.width/(i?r[0]:1),height:e.height/(i?r[3]:1)};return n.toSVG(o,{additionalTransform:i?C.util.matrixToSVG(r):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,i,r,o,a,s,l="",c={},u=C.fontPaths,d=[];for(this._objects.forEach((function e(t){d.push(t),t._objects&&t._objects.forEach(e)})),a=0,s=d.length;a<s;a++)if(t=(e=d[a]).fontFamily,-1!==e.type.indexOf("text")&&!c[t]&&u[t]&&(c[t]=!0,e.styles))for(r in n=e.styles)for(o in i=n[r])!c[t=i[o].fontFamily]&&u[t]&&(c[t]=!0);for(var h in c)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",h,"';\n","\t\t\tsrc: url('",u[h],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(e,t){var n,i,r,o=this._objects;for(i=0,r=o.length;i<r;i++)(n=o[i]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],i=this.viewportTransform,r=this.width,o=this.height;if(n)if(n.toLive){var a=n.repeat,s=C.util.invertTransform(i),l=this[t+"Vpt"]?C.util.matrixToSVG(s):"";e.push('<rect transform="'+l+" translate(",r/2,",",o/2,')"',' x="',n.offsetX-r/2,'" y="',n.offsetY-o/2,'" ','width="',"repeat-y"===a||"no-repeat"===a?n.source.width:r,'" height="',"repeat-x"===a||"no-repeat"===a?n.source.height:o,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,i,r,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(t=(r=o._objects).length;t--;)i=r[t],n(this._objects,i),this._objects.unshift(i);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,i,r,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(r=o._objects,t=0;t<r.length;t++)i=r[t],n(this._objects,i),this._objects.push(i);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var i,r,o,a,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(s=l._objects,i=0;i<s.length;i++)r=s[i],(o=this._objects.indexOf(r))>0+c&&(a=o-1,n(this._objects,r),this._objects.splice(a,0,r)),c++;else 0!==(o=this._objects.indexOf(e))&&(a=this._findNewLowerIndex(e,o,t),n(this._objects,e),this._objects.splice(a,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var i,r;if(n)for(i=t,r=t-1;r>=0;--r){if(e.intersectsWithObject(this._objects[r])||e.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(e)){i=r;break}}else i=t-1;return i},bringForward:function(e,t){if(!e)return this;var i,r,o,a,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(i=(s=l._objects).length;i--;)r=s[i],(o=this._objects.indexOf(r))<this._objects.length-1-c&&(a=o+1,n(this._objects,r),this._objects.splice(a,0,r)),c++;else(o=this._objects.indexOf(e))!==this._objects.length-1&&(a=this._findNewUpperIndex(e,o,t),n(this._objects,e),this._objects.splice(a,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var i,r,o;if(n)for(i=t,r=t+1,o=this._objects.length;r<o;++r){if(e.intersectsWithObject(this._objects[r])||e.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(e)){i=r;break}}else i=t+1;return i},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,C.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(C.StaticCanvas.prototype,C.Observable),e(C.StaticCanvas.prototype,C.Collection),e(C.StaticCanvas.prototype,C.DataURLExporter),e(C.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=s();if(!t||!t.getContext)return null;var n=t.getContext("2d");if(!n)return null;switch(e){case"setLineDash":return void 0!==n.setLineDash;default:return null}}}),C.StaticCanvas.prototype.toJSON=C.StaticCanvas.prototype.toObject,C.isLikelyNode&&(C.StaticCanvas.prototype.createPNGStream=function(){var e=a(this.lowerCanvasEl);return e&&e.createPNGStream()},C.StaticCanvas.prototype.createJPEGStream=function(e){var t=a(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),C.BaseBrush=C.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,C.StaticCanvas.supports("setLineDash")&&e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,i=e.getZoom();e&&e._isRetinaScaling()&&(i*=C.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*i,n.shadowOffsetX=t.offsetX*i,n.shadowOffsetY=t.offsetY*i}},needsFullRender:function(){return new C.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0},_isOutSideCanvas:function(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}),C.PencilBrush=C.util.createClass(C.BaseBrush,{decimate:.4,initialize:function(e){this.canvas=e,this._points=[]},_drawSegment:function(e,t,n){var i=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,i.x,i.y),i},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(e))&&this._captureDrawingPath(e)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,i=n.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,n[i-2],n[i-1],!0),r.stroke(),r.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new C.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1])||(this._points.push(e),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var t=new C.Point(e.x,e.y);return this._addPoint(t)},_render:function(){var e,t,n=this.canvas.contextTop,i=this._points[0],r=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&i.x===r.x&&i.y===r.y){var o=this.width/1e3;i=new C.Point(i.x,i.y),r=new C.Point(r.x,r.y),i.x-=o,r.x+=o}for(n.moveTo(i.x,i.y),e=1,t=this._points.length;e<t;e++)this._drawSegment(n,i,r),i=this._points[e],r=this._points[e+1];n.lineTo(i.x,i.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(e){var t,n=[],i=this.width/1e3,r=new C.Point(e[0].x,e[0].y),o=new C.Point(e[1].x,e[1].y),a=e.length,s=1,l=0,c=a>2;for(c&&(s=e[2].x<o.x?-1:e[2].x===o.x?0:1,l=e[2].y<o.y?-1:e[2].y===o.y?0:1),n.push("M ",r.x-s*i," ",r.y-l*i," "),t=1;t<a;t++){if(!r.eq(o)){var u=r.midPointFrom(o);n.push("Q ",r.x," ",r.y," ",u.x," ",u.y," ")}r=e[t],t+1<e.length&&(o=e[t+1])}return c&&(s=r.x>e[t-2].x?1:r.x===e[t-2].x?0:-1,l=r.y>e[t-2].y?1:r.y===e[t-2].y?0:-1),n.push("L ",r.x+s*i," ",r.y+l*i),n},createPath:function(e){var t=new C.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new C.Shadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,i=this.canvas.getZoom(),r=Math.pow(t/i,2),o=e.length-1,a=e[0],s=[a];for(n=1;n<o-1;n++)Math.pow(a.x-e[n].x,2)+Math.pow(a.y-e[n].y,2)>=r&&(a=e[n],s.push(a));return s.push(e[o]),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==e){var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}else this.canvas.requestRenderAll()}}),C.CircleBrush=C.util.createClass(C.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,i=this.points;for(this._saveAndTransform(n),e=0,t=i.length;e<t;e++)this.dot(n,i[e]);n.restore()},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var i=[];for(e=0,t=this.points.length;e<t;e++){var r=this.points[e],o=new C.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(o.shadow=new C.Shadow(this.shadow)),i.push(o)}var a=new C.Group(i);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new C.Point(e.x,e.y),n=C.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new C.Color(this.color).setAlpha(C.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=i,this.points.push(t),t}}),C.SprayBrush=C.util.createClass(C.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.render(this.sprayChunkPoints))},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,i=this.sprayChunks.length;n<i;n++)for(var r=this.sprayChunks[n],o=0,a=r.length;o<a;o++){var s=new C.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});t.push(s)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var l=new C.Group(t);this.shadow&&l.set("shadow",new C.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,i,r={};for(n=0,i=e.length;n<i;n++)r[t=e[n].left+""+e[n].top]||(r[t]=e[n]);var o=[];for(t in r)o.push(r[t]);return o},render:function(e){var t,n,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,n=e.length;t<n;t++){var r=e[t];void 0!==r.opacity&&(i.globalAlpha=r.opacity),i.fillRect(r.x,r.y,r.width,r.width)}i.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,i,r,o=this.width/2;for(r=0;r<this.density;r++){t=C.util.getRandomInt(e.x-o,e.x+o),n=C.util.getRandomInt(e.y-o,e.y+o),i=this.dotWidthVariance?C.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new C.Point(t,n);a.width=i,this.randomOpacity&&(a.opacity=C.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),C.PatternBrush=C.util.createClass(C.PencilBrush,{getPatternSrc:function(){var e=C.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new C.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=C.util.getPointer,t=C.util.degreesToRadians,n=Math.abs,i=C.StaticCanvas.supports("setLineDash"),r=C.util.isTouchEvent;for(var o in C.Canvas=C.util.createClass(C.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=C.PencilBrush&&new C.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,i=this.getActiveObjects();if(i.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var r=0,o=this._objects.length;r<o;r++)e=this._objects[r],-1===i.indexOf(e)?t.push(e):n.push(e);i.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),i=C.util.invertTransform(n),r=this.restorePointerVpt(t);return C.util.transformPoint(r,i)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var i=this._normalizePointer(e,{x:t,y:n}),r=Math.max(e.cacheTranslationX+i.x*e.zoomX,0),o=Math.max(e.cacheTranslationY+i.y*e.zoomY,0);return C.util.isTransparent(e._cacheContext,Math.round(r),Math.round(o),this.targetFindTolerance)}var a=this.contextCache,s=e.selectionBackgroundColor,l=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(a),a.save(),a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),e.render(a),a.restore(),e.selectionBackgroundColor=s,C.util.isTransparent(a,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),i=this._activeObject;return!t||t&&i&&n.length>1&&-1===n.indexOf(t)&&i!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&i&&i!==t},_shouldCenterTransform:function(e,t,n){var i;if(e)return"scale"===t||"scaleX"===t||"scaleY"===t||"resizing"===t?i=this.centeredScaling||e.centeredScaling:"rotate"===t&&(i=this.centeredRotation||e.centeredRotation),i?!n:n},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n,i){if(!t||!e)return"drag";var r=i.controls[t];return r.getActionName(n,r,i)},_setupCurrentTransform:function(e,n,i){if(n){var r=this.getPointer(e),o=n.__corner,a=n.controls[o],s=i&&o?a.getActionHandler(e,n,a):C.controlsUtils.dragHandler,l=this._getActionFromCorner(i,o,e,n),c=this._getOriginFromCorner(n,o),u=e[this.centeredKey],d={target:n,action:l,actionHandler:s,corner:o,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:r.x-n.left,offsetY:r.y-n.top,originX:c.x,originY:c.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:t(n.angle),width:n.width*n.scaleX,shiftKey:e.shiftKey,altKey:u,original:C.util.saveObjectTransform(n)};this._shouldCenterTransform(n,l,u)&&(d.originX="center",d.originY="center"),d.original.originX=c.x,d.original.originY=c.y,this._currentTransform=d,this._beforeTransform(e)}},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,r=t.left,o=t.top,a=n(r),s=n(o);if(this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(t.ex-(r>0?0:-r),t.ey-(o>0?0:-o),a,s)),this.selectionLineWidth&&this.selectionBorderColor)if(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!i){var l=t.ex+.5-(r>0?0:a),c=t.ey+.5-(o>0?0:s);e.beginPath(),C.util.drawDashedLine(e,l,c,l+a,c,this.selectionDashArray),C.util.drawDashedLine(e,l,c+s-1,l+a,c+s-1,this.selectionDashArray),C.util.drawDashedLine(e,l,c,l,c+s,this.selectionDashArray),C.util.drawDashedLine(e,l+a-1,c,l+a-1,c+s,this.selectionDashArray),e.closePath(),e.stroke()}else C.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(t.ex+.5-(r>0?0:a),t.ey+.5-(o>0?0:s),a,s)},findTarget:function(e,t){if(!this.skipTargetFind){var n,i,o=this.getPointer(e,!0),a=this._activeObject,s=this.getActiveObjects(),l=r(e),c=s.length>1&&!t||1===s.length;if(this.targets=[],c&&a._findTargetCorner(o,l))return a;if(s.length>1&&!t&&a===this._searchPossibleTargets([a],o))return a;if(1===s.length&&a===this._searchPossibleTargets([a],o)){if(!this.preserveObjectStacking)return a;n=a,i=this.targets,this.targets=[]}var u=this._searchPossibleTargets(this._objects,o);return e[this.altSelectionKey]&&u&&n&&u!==n&&(u=n,this.targets=i),u}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&t.containsPoint(e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,i,r=e.length;r--;){var o=e[r],a=o.group?this._normalizePointer(o.group,t):t;if(this._checkTarget(a,o,t)){(n=e[r]).subTargetCheck&&n instanceof C.Group&&(i=this._searchPossibleTargets(n._objects,t))&&this.targets.push(i);break}}return n},restorePointerVpt:function(e){return C.util.transformPoint(e,C.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var i,r=e(t),o=this.upperCanvasEl,a=o.getBoundingClientRect(),s=a.width||0,l=a.height||0;s&&l||("top"in a&&"bottom"in a&&(l=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,n||(r=this.restorePointerVpt(r));var c=this.getRetinaScaling();return 1!==c&&(r.x/=c,r.y/=c),i=0===s||0===l?{width:1,height:1}:{width:o.width/s,height:o.height/l},{x:r.x*i.width,y:r.y*i.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),C.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=C.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),C.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),C.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;C.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,C.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,i=this.getActiveObjects(),r=[],o=[];e.forEach((function(e){-1===i.indexOf(e)&&(n=!0,e.fire("deselected",{e:t,target:e}),o.push(e))})),i.forEach((function(i){-1===e.indexOf(i)&&(n=!0,i.fire("selected",{e:t,target:i}),r.push(i))})),e.length>0&&i.length>0?n&&this.fire("selection:updated",{e:t,selected:r,deselected:o,updated:r[0]||o[0],target:this._activeObject}):i.length>0?this.fire("selection:created",{e:t,selected:r,target:this._activeObject}):e.length>0&&this.fire("selection:cleared",{e:t,deselected:o})},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&(!!this._discardActiveObject(t,e)&&(!e.onSelect({e:t})&&(this._activeObject=e,!0)))},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e:e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e:e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){C.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,C.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var i=this._realizeGroupTransformOnObject(e),r=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,i),r},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),C.util.addTransformToObject(e,this._activeObject.calcOwnMatrix()),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var i=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,i)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),C.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),C.StaticCanvas)"prototype"!==o&&(C.Canvas[o]=C.StaticCanvas[o])}(),function(){var e=C.util.addListener,t=C.util.removeListener,n={passive:!1};function i(e,t){return e.button&&e.button===t-1}C.util.object.extend(C.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var i=this.upperCanvasEl,r=this._getEventPrefix();e(C.window,"resize",this._onResize),e(i,r+"down",this._onMouseDown),e(i,r+"move",this._onMouseMove,n),e(i,r+"out",this._onMouseOut),e(i,r+"enter",this._onMouseEnter),e(i,"wheel",this._onMouseWheel),e(i,"contextmenu",this._onContextMenu),e(i,"dblclick",this._onDoubleClick),e(i,"dragover",this._onDragOver),e(i,"dragenter",this._onDragEnter),e(i,"dragleave",this._onDragLeave),e(i,"drop",this._onDrop),this.enablePointerEvents||e(i,"touchstart",this._onTouchStart,n),"undefined"!=typeof eventjs&&t in eventjs&&(eventjs[t](i,"gesture",this._onGesture),eventjs[t](i,"drag",this._onDrag),eventjs[t](i,"orientation",this._onOrientationChange),eventjs[t](i,"shake",this._onShake),eventjs[t](i,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(t,"remove");var e=this._getEventPrefix();t(C.document,e+"up",this._onMouseUp),t(C.document,"touchend",this._onTouchEnd,n),t(C.document,e+"move",this._onMouseMove,n),t(C.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e:e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e:e});var n=this;this._hoveredTargets.forEach((function(i){n.fire("mouse:out",{target:t,e:e}),i&&t.fire("mouseout",{e:e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e:e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||(!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(i){i.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(i)),this.__onMouseDown(i),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();e(C.document,"touchend",this._onTouchEnd,n),e(C.document,"touchmove",this._onMouseMove,n),t(r,o+"down",this._onMouseDown)},_onMouseDown:function(i){this.__onMouseDown(i),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();t(r,o+"move",this._onMouseMove,n),e(C.document,o+"up",this._onMouseUp),e(C.document,o+"move",this._onMouseMove,n)},_onTouchEnd:function(i){if(!(i.touches.length>0)){this.__onMouseUp(i),this._resetTransformEventData(),this.mainTouchId=null;var r=this._getEventPrefix();t(C.document,"touchend",this._onTouchEnd,n),t(C.document,"touchmove",this._onMouseMove,n);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){e(o.upperCanvasEl,r+"down",o._onMouseDown),o._willAddMouseDown=0}),400)}},_onMouseUp:function(i){this.__onMouseUp(i),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(i)&&(t(C.document,o+"up",this._onMouseUp),t(C.document,o+"move",this._onMouseMove,n),e(r,o+"move",this._onMouseMove,n))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!=!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,r=this._groupSelector,o=!1,a=!r||0===r.left&&0===r.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),i(e,3))this.fireRightClick&&this._handleEvent(e,"up",3,a);else{if(i(e,2))return this.fireMiddleClick&&this._handleEvent(e,"up",2,a),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else if(this._isMainEvent(e)){if(n&&(this._finalizeCurrentTransform(e),o=n.actionPerformed),!a){var s=t===this._activeObject;this._maybeGroupObjects(e),o||(o=this._shouldRender(t)||!s&&t===this._activeObject)}if(t){if(t.selectable&&t!==this._activeObject&&"up"===t.activeOn)this.setActiveObject(t,e),o=!0;else{var l=t._findTargetCorner(this.getPointer(e,!0),C.util.isTouchEvent(e)),c=t.controls[l],u=c&&c.getMouseUpHandler(e,t,c);if(u){var d=this.getPointer(e);u(e,n,d.x,d.y)}}t.isMoving=!1}this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,a),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),o?this.requestRenderAll():a||this.renderTop()}}},_simpleEventHandler:function(e,t){var n=this.findTarget(t),i=this.targets,r={e:t,target:n,subTargets:i};if(this.fire(e,r),n&&n.fire(e,r),!i)return n;for(var o=0;o<i.length;o++)i[o].fire(e,r);return n},_handleEvent:function(e,t,n,i){var r=this._target,o=this.targets||[],a={e:e,target:r,subTargets:o,button:n||1,isClick:i||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===t&&(a.currentTarget=this.findTarget(e),a.currentSubTargets=this.targets),this.fire("mouse:"+t,a),r&&r.fire("mouse"+t,a);for(var s=0;s<o.length;s++)o[s].fire("mouse"+t,a)},_finalizeCurrentTransform:function(e){var t,n=this._currentTransform,i=n.target,r={e:e,target:i,transform:n,action:n.action};i._scaling&&(i._scaling=!1),i.setCoords(),(n.actionPerformed||this.stateful&&i.hasStateChanged())&&(n.actionPerformed&&(t=this._addEventOptions(r,n),this._fire(t,r)),this._fire("modified",r))},_addEventOptions:function(e,t){var n,i;switch(t.action){case"scaleX":n="scaled",i="x";break;case"scaleY":n="scaled",i="y";break;case"skewX":n="skewed",i="x";break;case"skewY":n="skewed",i="y";break;case"scale":n="scaled",i="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return e.by=i,n},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll();var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(i(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(i(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var r=this._shouldRender(t),o=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):o&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),t){var a=t===this._activeObject;t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);var s=t._findTargetCorner(this.getPointer(e,!0),C.util.isTouchEvent(e));if(t.__corner=s,t===this._activeObject&&(s||!o)){this._setupCurrentTransform(e,t,a);var l=t.controls[s],c=(n=this.getPointer(e),l&&l.getMouseDownHandler(e,t,l));c&&c(e,this._currentTransform,n.x,n.y)}}this._handleEvent(e,"down"),(r||o)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e:e,transform:t})},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var i=this._groupSelector;i?(n=this._pointer,i.left=n.x-i.ex,i.top=n.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,i=this._hoveredTargets,r=this.targets,o=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(r[a],t,{oldTarget:i[a],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,i=this._hoveredTargets,r=this.targets,o=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(r[a],t,{oldTarget:i[a],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var i,r,o,a=n.oldTarget,s=a!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;s&&(i={e:t,target:e,previousTarget:a},r={e:t,target:a,nextTarget:e}),o=e&&s,a&&s&&(c&&this.fire(c,r),a.fire(n.evtOut,r)),o&&(l&&this.fire(l,i),e.fire(n.evtIn,i))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var i=n.x,r=n.y,o=t.action,a=!1,s=t.actionHandler;s&&(a=s(e,t,i,r)),"drag"===o&&a&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||a},_fire:C.controlsUtils.fireEvent,_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,i=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!i||!i.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));r?this.setCursor(this.getCornerCursor(r,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(e,t,n){var i=t.controls[e];return i.cursorStyleHandler(n,i,t)}})}(),g=Math.min,v=Math.max,C.util.object.extend(C.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e:e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,i=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(i,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),i=this._createGroup(e);this._hoveredTarget=i,this._setActiveObject(i,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new C.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new C.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(e){for(var t,n=[],i=this._groupSelector.ex,r=this._groupSelector.ey,o=i+this._groupSelector.left,a=r+this._groupSelector.top,s=new C.Point(g(i,o),g(r,a)),l=new C.Point(v(i,o),v(r,a)),c=!this.selectionFullyContained,u=i===o&&r===a,d=this._objects.length;d--&&!((t=this._objects[d])&&t.selectable&&t.visible&&(c&&t.intersectsWithRect(s,l)||t.isContainedWithinRect(s,l)||c&&t.containsPoint(s)||c&&t.containsPoint(l))&&(n.push(t),u)););return n.length>1&&(n=n.filter((function(t){return!t.onSelect({e:e})}))),n},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}}),C.util.object.extend(C.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,i=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(i,e);return C.util.toDataURL(r,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,i=(t.height||this.height)*e,r=this.getZoom(),o=this.width,a=this.height,s=r*e,l=this.viewportTransform,c=(l[4]-(t.left||0))*e,u=(l[5]-(t.top||0))*e,d=this.interactive,h=[s,0,0,s,c,u],p=this.enableRetinaScaling,f=C.util.createCanvasElement(),A=this.contextTop;return f.width=n,f.height=i,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=h,this.width=n,this.height=i,this.calcViewportBoundaries(),this.renderCanvas(f.getContext("2d"),this._objects),this.viewportTransform=l,this.width=o,this.height=a,this.calcViewportBoundaries(),this.interactive=d,this.enableRetinaScaling=p,this.contextTop=A,f}}),C.util.object.extend(C.StaticCanvas.prototype,{loadFromJSON:function(e,t,n){if(e){var i="string"==typeof e?JSON.parse(e):C.util.object.clone(e),r=this,o=i.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete i.clipPath,this._enlivenObjects(i.objects,(function(e){r.clear(),r._setBgOverlay(i,(function(){o?r._enlivenObjects([o],(function(n){r.clipPath=n[0],r.__setupCanvas.call(r,i,e,a,t)})):r.__setupCanvas.call(r,i,e,a,t)}))}),n),this}},__setupCanvas:function(e,t,n,i){var r=this;t.forEach((function(e,t){r.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),i&&i()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var i=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,i),this.__setBgOverlay("overlayImage",e.overlayImage,n,i),this.__setBgOverlay("backgroundColor",e.background,n,i),this.__setBgOverlay("overlayColor",e.overlay,n,i)}else t&&t()},__setBgOverlay:function(e,t,n,i){var r=this;if(!t)return n[e]=!0,void(i&&i());"backgroundImage"===e||"overlayImage"===e?C.util.enlivenObjects([t],(function(t){r[e]=t[0],n[e]=!0,i&&i()})):this["set"+C.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,i&&i()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?C.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(i){n(i.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=C.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new C.Canvas(t);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r=t.util.toFixed,o=t.util.string.capitalize,a=t.util.degreesToRadians,s=t.StaticCanvas.supports("setLineDash"),l=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,i=e.width,r=e.height,o=t.maxCacheSideLimit,a=t.minCacheSideLimit;if(i<=o&&r<=o&&i*r<=n)return i<a&&(e.width=a),r<a&&(e.height=a),e;var s=i/r,l=t.util.limitDimsByArea(s,n),c=t.util.capValue,u=c(a,l.x,o),d=c(a,l.y,o);return i>u&&(e.zoomX/=i/u,e.width=u,e.capped=!0),r>d&&(e.zoomY/=r/d,e.height=d,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,i=t.y*e.scaleY/this.scaleY;return{width:n+2,height:i+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:i}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,i=e._currentTransform.action;if(this===n&&i.slice&&"scale"===i.slice(0,5))return!1}var r,o,a=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=s.width,u=s.height,d=s.zoomX,h=s.zoomY,p=c!==this.cacheWidth||u!==this.cacheHeight,f=this.zoomX!==d||this.zoomY!==h,A=p||f,m=0,g=0,v=!1;if(p){var b=this._cacheCanvas.width,y=this._cacheCanvas.height,x=c>b||u>y;v=x||(c<.9*b||u<.9*y)&&b>l&&y>l,x&&!s.capped&&(c>l||u>l)&&(m=.1*c,g=.1*u)}return!!A&&(v?(a.width=Math.ceil(c+m),a.height=Math.ceil(u+g)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,a.width,a.height)),r=s.x/2,o=s.y/2,this.cacheTranslationX=Math.round(a.width/2-r)+r,this.cacheTranslationY=Math.round(a.height/2-o)+o,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(d,h),this.zoomX=d,this.zoomY=h,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,i={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:r(this.left,n),top:r(this.top,n),width:r(this.width,n),height:r(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,n),scaleX:r(this.scaleX,n),scaleY:r(this.scaleY,n),angle:r(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,n),skewY:r(this.skewY,n)};return this.clipPath&&(i.clipPath=this.clipPath.toObject(e),i.clipPath.inverted=this.clipPath.inverted,i.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,i,e),this.includeDefaultValues||(i=this._removeDefaultValues(i)),i},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],"[object Array]"===Object.prototype.toString.call(e[t])&&"[object Array]"===Object.prototype.toString.call(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var e=t.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(e.scaleX),scaleY:Math.abs(e.scaleY)}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var i=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();t*=i*r,n*=i*r}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var i="scaleX"===e||"scaleY"===e,r=this[e]!==n,o=!1;return i&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,r&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e){var n=this.clipPath;if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var i=t.util.invertTransform(this.calcTransformMatrix());e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,i=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e),this.fill=n,this.stroke=i},_drawClipPath:function(e){var t=this.clipPath;t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){var n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTrasnform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)},_setFillStyles:function(e,t){var n=t.fill;n&&(n.toLive?(e.fillStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,t.fill)):e.fillStyle=n)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t,n){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),s?e.setLineDash(t):n&&n(e))},_renderControls:function(e,n){var i,r,o,s=this.getViewportTransform(),l=this.calcTransformMatrix();r=void 0!==(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,o=void 0!==n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(s,l),i=t.util.qrDecompose(l),e.save(),e.translate(i.translateX,i.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),n.forActiveSelection?(e.rotate(a(i.angle)),r&&this.drawBordersInGroup(e,i,n)):(e.rotate(a(this.angle)),r&&this.drawBorders(e,n)),o&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,i=this.shadow,r=this.canvas,o=r&&r.viewportTransform[0]||1,a=r&&r.viewportTransform[3]||1;n=i.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(o*=t.devicePixelRatio,a*=t.devicePixelRatio),e.shadowColor=i.color,e.shadowBlur=i.blur*t.browserShadowBlurConstant*(o+a)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=i.offsetX*o*n.scaleX,e.shadowOffsetY=i.offsetY*a*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,i=-this.width/2+t.offsetX||0,r=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,i,r):e.transform(1,0,0,1,i,r),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:r}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&this.group){var t=this.getObjectScaling();e.scale(1/t.scaleX,1/t.scaleY)}else this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(e,this.strokeDashArray,this._renderDashedStroke),this._setStrokeStyles(e,this),e.stroke(),e.restore()}},_applyPatternForTransformedGradient:function(e,n){var i,r=this._limitCacheSize(this._getCacheCanvasDimensions()),o=t.util.createCanvasElement(),a=this.canvas.getRetinaScaling(),s=r.x/this.scaleX/a,l=r.y/this.scaleY/a;o.width=s,o.height=l,(i=o.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(s,0),i.lineTo(s,l),i.lineTo(0,l),i.closePath(),i.translate(s/2,l/2),i.scale(r.zoomX/this.scaleX/a,r.zoomY/this.scaleY/a),this._applyPatternGradientTransform(i,n),i.fillStyle=n.toLive(e),i.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/r.zoomX,a*this.scaleY/r.zoomY),e.strokeStyle=i.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var i=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(i,e):t.Object._fromObject("Object",i,e)},cloneAsImage:function(e,n){var i=this.toCanvasElement(n);return e&&e(new t.Image(i)),this},toCanvasElement:function(e){e||(e={});var n=t.util,i=n.saveObjectTransform(this),r=this.group,o=this.shadow,a=Math.abs,s=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u,d,h=t.util.createCanvasElement(),p=this.getBoundingRect(!0,!0),f=this.shadow,A={x:0,y:0};f&&(c=f.blur,l=f.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),A.x=2*Math.round(a(f.offsetX)+c)*a(l.scaleX),A.y=2*Math.round(a(f.offsetY)+c)*a(l.scaleY)),u=p.width+A.x,d=p.height+A.y,h.width=Math.ceil(u),h.height=Math.ceil(d);var m=new t.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(m.width/2,m.height/2),"center","center");var g=this.canvas;m.add(this);var v=m.toCanvasElement(s||1,e);return this.shadow=o,this.set("canvas",g),r&&(this.group=r),this.set(i).setCoords(),m._objects=[],m.dispose(),m=null,v},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var i=new t.Point(n.x,n.y),r=this._getLeftTopCoords();return this.angle&&(i=t.util.rotatePoint(i,r,a(-this.angle))),{x:i.x-r.x,y:i.y-r.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object._fromObject=function(e,n,r,o){var a=t[e];n=i(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){void 0!==e[0]&&(n.fill=e[0]),void 0!==e[1]&&(n.stroke=e[1]),t.util.enlivenObjects([n.clipPath],(function(e){n.clipPath=e[0];var t=o?new a(n[o],n):new a(n);r&&r(t)}))}))},t.Object.__uid=0)}(t),b=C.util.degreesToRadians,y={left:-.5,center:0,right:.5},x={top:-.5,center:0,bottom:.5},C.util.object.extend(C.Object.prototype,{translateToGivenOrigin:function(e,t,n,i,r){var o,a,s,l=e.x,c=e.y;return"string"==typeof t?t=y[t]:t-=.5,"string"==typeof i?i=y[i]:i-=.5,"string"==typeof n?n=x[n]:n-=.5,"string"==typeof r?r=x[r]:r-=.5,a=r-n,((o=i-t)||a)&&(s=this._getTransformedDimensions(),l=e.x+o*s.x,c=e.y+a*s.y),new C.Point(l,c)},translateToCenterPoint:function(e,t,n){var i=this.translateToGivenOrigin(e,t,n,"center","center");return this.angle?C.util.rotatePoint(i,e,b(this.angle)):i},translateToOriginPoint:function(e,t,n){var i=this.translateToGivenOrigin(e,"center","center",t,n);return this.angle?C.util.rotatePoint(i,e,b(this.angle)):i},getCenterPoint:function(){var e=new C.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(e,t,n){var i,r,o=this.getCenterPoint();return i=void 0!==t&&void 0!==n?this.translateToGivenOrigin(o,"center","center",t,n):new C.Point(this.left,this.top),r=new C.Point(e.x,e.y),this.angle&&(r=C.util.rotatePoint(r,o,-b(this.angle))),r.subtractEquals(i)},setPositionByOrigin:function(e,t,n){var i=this.translateToCenterPoint(e,t,n),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(e){var t,n,i=b(this.angle),r=this.getScaledWidth(),o=C.util.cos(i)*r,a=C.util.sin(i)*r;t="string"==typeof this.originX?y[this.originX]:this.originX-.5,n="string"==typeof e?y[e]:e-.5,this.left+=o*(n-t),this.top+=a*(n-t),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var e=C.util,t=e.degreesToRadians,n=e.multiplyTransformMatrices,i=e.transformPoint;e.object.extend(C.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,t){return t?e?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,t){return n=this._getCoords(e,t),[new C.Point(n.tl.x,n.tl.y),new C.Point(n.tr.x,n.tr.y),new C.Point(n.br.x,n.br.y),new C.Point(n.bl.x,n.bl.y)];var n},intersectsWithRect:function(e,t,n,i){var r=this.getCoords(n,i);return"Intersection"===C.Intersection.intersectPolygonRectangle(r,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===C.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var i=this.getCoords(t,n),r=t?e.aCoords:e.lineCoords,o=0,a=e._getImageLines(r);o<4;o++)if(!e.containsPoint(i[o],a))return!1;return!0},isContainedWithinRect:function(e,t,n,i){var r=this.getBoundingRect(n,i);return r.left>=e.x&&r.left+r.width<=t.x&&r.top>=e.y&&r.top+r.height<=t.y},containsPoint:function(e,t,n,i){var r=this._getCoords(n,i),o=(t=t||this._getImageLines(r),this._findCrossPoints(e,t));return 0!==o&&o%2==1},isOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.getCoords(!0,e).some((function(e){return e.x<=n.x&&e.x>=t.x&&e.y<=n.y&&e.y>=t.y}))||(!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e))},_containsCenterOfCanvas:function(e,t,n){var i={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(i,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this.getCoords(!0,e).every((function(e){return(e.x>=n.x||e.x<=t.x)&&(e.y>=n.y||e.y<=t.y)}))&&this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,i,r,o=0;for(var a in t)if(!((r=t[a]).o.y<e.y&&r.d.y<e.y||r.o.y>=e.y&&r.d.y>=e.y||(r.o.x===r.d.x&&r.o.x>=e.x?i=r.o.x:(0,n=(r.d.y-r.o.y)/(r.d.x-r.o.x),i=-(e.y-0*e.x-(r.o.y-n*r.o.x))/(0-n)),i>=e.x&&(o+=1),2!==o)))break;return o},getBoundingRect:function(t,n){var i=this.getCoords(t,n);return e.makeBoundingBoxFromPoints(i)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(e){return e?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var n=this.getViewportTransform(),r=this.padding,o=t(this.angle),a=e.cos(o)*r,s=e.sin(o)*r,l=a+s,c=a-s,u=this.calcACoords(),d={tl:i(u.tl,n),tr:i(u.tr,n),bl:i(u.bl,n),br:i(u.br,n)};return r&&(d.tl.x-=c,d.tl.y-=l,d.tr.x+=l,d.tr.y-=c,d.bl.x-=l,d.bl.y+=c,d.br.x+=c,d.br.y+=l),d},calcOCoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),i=this.getViewportTransform(),r=n(i,t),o=n(r,e),a=(o=n(o,[1/i[0],0,0,1/i[3],0,0]),this._calculateCurrentDimensions()),s={};return this.forEachControl((function(e,t,n){s[t]=e.positionHandler(a,o,n)})),s},calcACoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),r=n(t,e),o=this._getTransformedDimensions(),a=o.x/2,s=o.y/2;return{tl:i({x:-a,y:-s},r),tr:i({x:a,y:-s},r),bl:i({x:-a,y:s},r),br:i({x:a,y:s},r)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="";return!e&&this.group&&(t=this.group.transformMatrixKey(e)+"_"),t+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var t=this.calcOwnMatrix();if(e||!this.group)return t;var i=this.transformMatrixKey(e),r=this.matrixCache||(this.matrixCache={});return r.key===i?r.value:(this.group&&(t=n(this.group.calcTransformMatrix(!1),t)),r.key=i,r.value=t,t)},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===t)return n.value;var i=this._calcTranslateMatrix(),r={angle:this.angle,translateX:i[4],translateY:i[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=t,n.value=e.composeMatrix(r),n.value},_calcDimensionsTransformMatrix:function(t,n,i){return e.calcDimensionsMatrix({skewX:t,skewY:n,scaleX:this.scaleX*(i&&this.flipX?-1:1),scaleY:this.scaleY*(i&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(t,n){void 0===t&&(t=this.skewX),void 0===n&&(n=this.skewY);var i,r,o=this._getNonTransformedDimensions(),a=0===t&&0===n;if(this.strokeUniform?(i=this.width,r=this.height):(i=o.x,r=o.y),a)return this._finalizeDimensions(i*this.scaleX,r*this.scaleY);var s=e.sizeAfterTransform(i,r,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:n});return this._finalizeDimensions(s.x,s.y)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return i(t,e,!0).scalarAdd(2*this.padding)}})}(),C.util.object.extend(C.Object.prototype,{sendToBack:function(){return this.group?C.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?C.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?C.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas&&this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?C.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas&&this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?C.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas&&this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new C.Color(t),i=e+": "+n.toRgb()+"; ",r=n.getAlpha();return 1!==r&&(i+=e+"-opacity: "+r.toString()+"; "),i}return e+": none; "}var t=C.util.toFixed;C.util.object.extend(C.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=t?"":this.getSvgFilter(),h=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",n,"; ","opacity: ",c,";",d,u].join("")},getSvgSpanStyles:function(t,n){var i=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+"; ":"",r=t.strokeWidth?"stroke-width: "+t.strokeWidth+"; ":"",o=(i=i,t.fontSize?"font-size: "+t.fontSize+"px; ":""),a=t.fontStyle?"font-style: "+t.fontStyle+"; ":"",s=t.fontWeight?"font-weight: "+t.fontWeight+"; ":"",l=t.fill?e("fill",t.fill):"",c=t.stroke?e("stroke",t.stroke):"",u=this.getSvgTextDecoration(t);return u&&(u="text-decoration: "+u+"; "),[c,r,i,o,a,s,u,l,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+C.util.matrixToSVG(n)+(t||"")+'" '},_setSVGBg:function(e){if(this.backgroundColor){var n=C.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,i=t.additionalTransform||"",r=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=r,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,i,r=(t=t||{}).noStyle,o=t.reviver,a=r?"":'style="'+this.getSvgStyles()+'" ',s=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,h=this.fill,p=this.shadow,f=[],A=e.indexOf("COMMON_PARTS"),m=t.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+C.Object.__uid++,i='<clipPath id="'+l.clipPathId+'" >\n'+l.toClipPathSVG(o)+"</clipPath>\n"),u&&f.push("<g ",s,this.getSvgCommons()," >\n"),f.push("<g ",this.getSvgTransform(!1),u?"":s+this.getSvgCommons()," >\n"),n=[a,c,r?"":this.addPaintOrder()," ",m?'transform="'+m+'" ':""].join(""),e[A]=n,h&&h.toLive&&f.push(h.toSVG(this)),d&&d.toLive&&f.push(d.toSVG(this)),p&&f.push(p.toSVG(this)),l&&f.push(i),f.push(e.join("")),f.push("</g>\n"),u&&f.push("</g>\n"),o?o(f.join("")):f.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=C.util.object.extend;function t(t,n,i){var r={};i.forEach((function(e){r[e]=t[e]})),e(t[n],r,!0)}C.util.object.extend(C.Object.prototype,{hasStateChanged:function(e){var t="_"+(e=e||"stateProperties");return Object.keys(this[t]).length<this[e].length||!function e(t,n,i){if(t===n)return!0;if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0,o=t.length;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}if(t&&"object"==typeof t){var a,s=Object.keys(t);if(!n||"object"!=typeof n||!i&&s.length!==Object.keys(n).length)return!1;for(r=0,o=s.length;r<o;r++)if("canvas"!==(a=s[r])&&"group"!==a&&!e(t[a],n[a]))return!1;return!0}}(this[t],this,!0)},saveState:function(e){var n=e&&e.propertySet||"stateProperties",i="_"+n;return this[i]?(t(this,i,this[n]),e&&e.stateProperties&&t(this,i,e.stateProperties),this):this.setupState(e)},setupState:function(e){var t=(e=e||{}).propertySet||"stateProperties";return e.propertySet=t,this["_"+t]={},this.saveState(e),this}})}(),function(){var e=C.util.degreesToRadians;C.util.object.extend(C.Object.prototype,{_findTargetCorner:function(e,t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,i,r,o=e.x,a=e.y,s=Object.keys(this.oCoords),l=s.length-1;for(this.__corner=0;l>=0;l--)if(r=s[l],this.isControlVisible(r)&&(i=this._getImageLines(t?this.oCoords[r].touchCorner:this.oCoords[r].corner),0!==(n=this._findCrossPoints({x:o,y:a},i))&&n%2==1))return this.__corner=r,r;return!1},forEachControl:function(e){for(var t in this.controls)e(this.controls[t],t,this)},_setCornerCoords:function(){var e=this.oCoords;for(var t in e){var n=this.controls[t];e[t].corner=n.calcCornerCoords(this.angle,this.cornerSize,e[t].x,e[t].y,!1),e[t].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,e[t].x,e[t].y,!0)}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),i=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/r[0],1/r[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),i=this.borderScaleFactor,r=n.x+i,o=n.y+i,a=void 0!==t.hasControls?t.hasControls:this.hasControls,s=!1;return e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray,null),e.strokeRect(-r/2,-o/2,r,o),a&&(e.beginPath(),this.forEachControl((function(t,n,i){t.withConnection&&t.getVisibility(i,n)&&(s=!0,e.moveTo(t.x*r,t.y*o),e.lineTo(t.x*r+t.offsetX,t.y*o+t.offsetY))})),s&&e.stroke()),e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var i=C.util.sizeAfterTransform(this.width,this.height,t),r=this.strokeWidth,o=this.strokeUniform,a=this.borderScaleFactor,s=i.x+r*(o?this.canvas.getZoom():t.scaleX)+a,l=i.y+r*(o?this.canvas.getZoom():t.scaleY)+a;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray,null),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-s/2,-l/2,s,l),e.restore(),this},drawControls:function(e,t){return t=t||{},e.save(),e.setTransform(this.canvas.getRetinaScaling(),0,0,this.canvas.getRetinaScaling(),0,0),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray,null),this.setCoords(),this.forEachControl((function(n,i,r){n.getVisibility(r,i)&&n.render(e,r.oCoords[i].x,r.oCoords[i].y,t,r)})),e.restore(),this},isControlVisible:function(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)},setControlVisible:function(e,t){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},onDeselect:function(){},onSelect:function(){}})}(),C.util.object.extend(C.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,r=t.onChange||n,o=this;return C.util.animate({startValue:e.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),o.requestRenderAll(),r()},onComplete:function(){e.setCoords(),i()}}),this},fxCenterObjectV:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,r=t.onChange||n,o=this;return C.util.animate({startValue:e.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),o.requestRenderAll(),r()},onComplete:function(){e.setCoords(),i()}}),this},fxRemove:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,r=t.onChange||n,o=this;return C.util.animate({startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),o.requestRenderAll(),r()},onComplete:function(){o.remove(e),i()}}),this}}),C.util.object.extend(C.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var e,t,n=[];for(e in arguments[0])n.push(e);for(var i=0,r=n.length;i<r;i++)e=n[i],t=i!==r-1,this._animate(e,arguments[0][e],arguments[1],t)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,n,i){var r,o=this;t=t.toString(),n=n?C.util.object.clone(n):{},~e.indexOf(".")&&(r=e.split("."));var a=o.colorProperties.indexOf(e)>-1||r&&o.colorProperties.indexOf(r[1])>-1,s=r?this.get(r[0])[r[1]]:this.get(e);"from"in n||(n.from=s),a||(t=~t.indexOf("=")?s+parseFloat(t.replace("=","")):parseFloat(t));var l={startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(o)},onChange:function(t,a,s){r?o[r[0]][r[1]]=t:o.set(e,t),i||n.onChange&&n.onChange(t,a,s)},onComplete:function(e,t,r){i||(o.setCoords(),n.onComplete&&n.onComplete(e,t,r))}};a?C.util.animateColor(l.startValue,l.endValue,l.duration,l):C.util.animate(l)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r={x1:1,x2:1,y1:1,y2:1},o=t.StaticCanvas.supports("setLineDash");function a(e,t){var n=e.origin,i=e.axis1,r=e.axis2,o=e.dimension,a=t.nearest,s=t.center,l=t.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(i),this.get(r));case s:return Math.min(this.get(i),this.get(r))+.5*this.get(o);case l:return Math.max(this.get(i),this.get(r))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),void 0!==r[e]&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){if(e.beginPath(),!this.strokeDashArray||this.strokeDashArray&&o){var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2)}e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_renderDashedStroke:function(e){var n=this.calcLinePoints();e.beginPath(),t.util.drawDashedLine(e,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),e.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,i=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:i,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,i,r){r=r||{};var o=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),a=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];i(new t.Line(a,n(o,r)))},t.Line.fromObject=function(e,n){var r=i(e,!0);r.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",r,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.PI;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,i=(this.endAngle-this.startAngle)%(2*n);if(0===i)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var r=t.util.cos(this.startAngle)*this.radius,o=t.util.sin(this.startAngle)*this.radius,a=t.util.cos(this.endAngle)*this.radius,s=t.util.sin(this.endAngle)*this.radius,l=i>n?"1":"0";e=['<path d="M '+r+" "+o," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+a+" "+s,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var i,r=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(i=r)&&i.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,n(new t.Circle(r))},t.Circle.fromObject=function(e,n){return t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=this.width/2,i=this.height/2;e.beginPath(),t.util.drawDashedLine(e,-n,i,0,-i,this.strokeDashArray),t.util.drawDashedLine(e,0,-i,n,i,this.strokeDashArray),t.util.drawDashedLine(e,n,i,-n,i,this.strokeDashArray),e.closePath()},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var i=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,n(new t.Ellipse(i))},t.Ellipse.fromObject=function(e,n){return t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,r=this.height,o=-this.width/2,a=-this.height/2,s=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(o+t,a),e.lineTo(o+i-t,a),s&&e.bezierCurveTo(o+i-l*t,a,o+i,a+l*n,o+i,a+n),e.lineTo(o+i,a+r-n),s&&e.bezierCurveTo(o+i,a+r-l*n,o+i-l*t,a+r,o+i-t,a+r),e.lineTo(o+t,a+r),s&&e.bezierCurveTo(o+l*t,a+r,o,a+r-l*n,o,a+r-n),e.lineTo(o,a+n),s&&e.bezierCurveTo(o,a+l*n,o+l*t,a,o+t,a),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=-this.width/2,i=-this.height/2,r=this.width,o=this.height;e.beginPath(),t.util.drawDashedLine(e,n,i,n+r,i,this.strokeDashArray),t.util.drawDashedLine(e,n+r,i,n+r,i+o,this.strokeDashArray),t.util.drawDashedLine(e,n+r,i+o,n,i+o,this.strokeDashArray),t.util.drawDashedLine(e,n,i+o,n,i,this.strokeDashArray),e.closePath()},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,i,r){if(!e)return i(null);r=r||{};var o=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var a=new t.Rect(n(r?t.util.object.clone(r):{},o));a.visible=a.visible&&a.width>0&&a.height>0,i(a)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.array.min,r=t.util.array.max,o=t.util.toFixed;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e);this.width=n.width,this.height=n.height,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===e.left&&(this.left=e.fromSVG?n.left:t.x),void 0===e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var e=this.points,t=i(e,"x")||0,n=i(e,"y")||0;return{left:t,top:n,width:(r(e,"x")||0)-t,height:(r(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,i=this.pathOffset.y,r=t.Object.NUM_FRACTION_DIGITS,a=0,s=this.points.length;a<s;a++)e.push(o(this.points[a].x-n,r),",",o(this.points[a].y-i,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,i=this.pathOffset.x,r=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-i,this.points[0].y-r);for(var o=0;o<n;o++)t=this.points[o],e.lineTo(t.x-i,t.y-r);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n,i;e.beginPath();for(var r=0,o=this.points.length;r<o;r++)n=this.points[r],i=this.points[r+1]||n,t.util.drawDashedLine(e,n.x,n.y,i.x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(i,r,o){if(!i)return r(null);o||(o={});var a=t.parsePointsAttribute(i.getAttribute("points")),s=t.parseAttributes(i,t[e].ATTRIBUTE_NAMES);s.fromSVG=!0,r(new t[e](a,n(s,o)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))},_renderDashedStroke:function(e){this.callSuper("_renderDashedStroke",e),e.closePath()}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){return t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,i=t.util.array.max,r=t.util.object.extend,o=Object.prototype.toString,a=t.util.toFixed;t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,n){n=n||{},this.callSuper("initialize",n),e||(e=[]);var i="[object Array]"===o.call(e);this.path=i?t.util.makePathSimpler(e):t.util.makePathSimpler(t.util.parsePath(e)),this.path&&t.Polyline.prototype._setPositionDimensions.call(this,n)},_renderPathCommands:function(e){var t,n=0,i=0,r=0,o=0,a=0,s=0,l=-this.pathOffset.x,c=-this.pathOffset.y;e.beginPath();for(var u=0,d=this.path.length;u<d;++u)switch((t=this.path[u])[0]){case"L":r=t[1],o=t[2],e.lineTo(r+l,o+c);break;case"M":n=r=t[1],i=o=t[2],e.moveTo(r+l,o+c);break;case"C":r=t[5],o=t[6],a=t[3],s=t[4],e.bezierCurveTo(t[1]+l,t[2]+c,a+l,s+c,r+l,o+c);break;case"Q":e.quadraticCurveTo(t[1]+l,t[2]+c,t[3]+l,t[4]+c),r=t[3],o=t[4],a=t[1],s=t[2];break;case"z":case"Z":r=n,o=i,e.closePath()}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return r(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(e){return e.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,e)+", "+a(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var e,r,o=[],a=[],s=0,l=0,c=0,u=0,d=0,h=this.path.length;d<h;++d){switch((e=this.path[d])[0]){case"L":c=e[1],u=e[2],r=[];break;case"M":s=c=e[1],l=u=e[2],r=[];break;case"C":r=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[3],e[4],e[5],e[6]),c=e[5],u=e[6];break;case"Q":r=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[1],e[2],e[3],e[4]),c=e[3],u=e[4];break;case"z":case"Z":c=s,u=l}r.forEach((function(e){o.push(e.x),a.push(e.y)})),o.push(c),a.push(u)}var p=n(o)||0,f=n(a)||0;return{left:p,top:f,width:(i(o)||0)-p,height:(i(a)||0)-f}}}),t.Path.fromObject=function(e,n){if("string"==typeof e.sourcePath){var i=e.sourcePath;t.loadSVGFromURL(i,(function(t){var i=t[0];i.setOptions(e),n&&n(i)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,i){var o=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new t.Path(o.d,r(o,i)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,i=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;if(n)this._updateObjectsACoords();else{var r=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(!0)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,i=e.top;e.set({left:n-t.x,top:i-t.y}),e.group=this,e.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){var n=!!this.group;return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(n&&t.util.removeTransformFromObject(e,this.group.calcTransformMatrix()),this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var i=this._objects.length;if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(e,n);if("canvas"===e)for(;i--;)this._objects[i]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,i=this._objects.map((function(t){var i=t.includeDefaultValues;t.includeDefaultValues=n;var r=t.toObject(e);return t.includeDefaultValues=i,r})),r=t.Object.prototype.toObject.call(this,e);return r.objects=i,r},toDatalessObject:function(e){var n,i=this.sourcePath;if(i)n=i;else{var r=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=r;var i=t.toDatalessObject(e);return t.includeDefaultValues=n,i}))}var o=t.Object.prototype.toDatalessObject.call(this,e);return o.objects=n,o},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,i=this._objects.length;n<i;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(t.Object.prototype.willDrawShadow.call(this))return!0;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var i=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-i/2,-r/2,i,r)}return!0}return!1},_restoreObjectsState:function(){var e=this.calcOwnMatrix();return this._objects.forEach((function(n){t.util.addTransformToObject(n,e),delete n.group,n.setCoords()})),this},realizeTransform:function(e,n){return t.util.addTransformToObject(e,n),e},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var r=new t.ActiveSelection([]);return r.set(i),r.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=r,e.dirty=!0,n.add(e)})),r.canvas=n,r._objects=e,n._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(!0)})),this},_calcBounds:function(e){for(var t,n,i,r,o=[],a=[],s=["tr","br","bl","tl"],l=0,c=this._objects.length,u=s.length;l<c;++l){for(i=(t=this._objects[l]).calcACoords(),r=0;r<u;r++)n=s[r],o.push(i[n].x),a.push(i[n].y);t.aCoords=i}this._getBounds(o,a,e)},_getBounds:function(e,r,o){var a=new t.Point(n(e),n(r)),s=new t.Point(i(e),i(r)),l=a.y||0,c=a.x||0,u=s.x-a.x||0,d=s.y-a.y||0;this.width=u,this.height=d,o||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,i=this._objects.length;n<i;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,i=this._objects.length;n<i;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var i=e.objects,r=t.util.object.clone(e,!0);delete r.objects,"string"!=typeof i?t.util.enlivenObjects(i,(function(i){t.util.enlivenObjects([e.clipPath],(function(r){var o=t.util.object.clone(e,!0);o.clipPath=r[0],delete o.objects,n&&n(new t.Group(i,o,!0))}))})):t.loadSVGFromURL(i,(function(o){var a=t.util.groupSVGElements(o,e,i);a.set(r),n&&n(a)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),i=new t.Group([]);if(delete n.type,i.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=i})),i._objects=e,!this.canvas)return i;var r=this.canvas;return r.add(i),r._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),void 0===(n=n||{}).hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var i=0,r=this._objects.length;i<r;i++)this._objects[i]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(i){delete e.objects,n&&n(new t.ActiveSelection(i,e,!0))}))})}(t),function(e){"use strict";var t=C.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?C.warn("fabric.Image is already defined."):(C.Image=C.util.createClass(C.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:C.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:C.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+C.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=C.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){C.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},_renderDashedStroke:function(e){var t=-this.width/2,n=-this.height/2,i=this.width,r=this.height;e.save(),this._setStrokeStyles(e,this),e.beginPath(),C.util.drawDashedLine(e,t,n,t+i,n,this.strokeDashArray),C.util.drawDashedLine(e,t+i,n,t+i,n+r,this.strokeDashArray),C.util.drawDashedLine(e,t+i,n+r,t,n+r,this.strokeDashArray),C.util.drawDashedLine(e,t,n+r,t,n,this.strokeDashArray),e.closePath(),e.restore()},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var i=t(this.callSuper("toObject",["cropX","cropY"].concat(e)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],i=this._element,r=-this.width/2,o=-this.height/2,a="",s="";if(!i)return[];if(this.hasCrop()){var l=C.Object.__uid++;t.push('<clipPath id="imageCrop_'+l+'">\n','\t<rect x="'+r+'" y="'+o+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+l+')" '}if(this.imageSmoothing||(s='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',o-this.cropY,'" width="',i.width||i.naturalWidth,'" height="',i.height||i.height,s,'"',a,"></image>\n"),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,e=["\t<rect ",'x="',r,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=c}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return C.util.loadImage(e,(function(e,i){this.setElement(e,n),this._setWidthHeight(),t&&t(this,i)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.scaleX,r=n.scaleY,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>t&&r>t)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=r);C.filterBackend||(C.filterBackend=C.initFilterBackend());var a=C.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,l=o.width,c=o.height;a.width=l,a.height=c,this._element=a,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=r,C.filterBackend.applyFilters([e],o,l,c,this._element,s),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,i=t.naturalHeight||t.height;if(this._element===this._originalElement){var r=C.util.createCanvasElement();r.width=n,r.height=i,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1;return C.filterBackend||(C.filterBackend=C.initFilterBackend()),C.filterBackend.applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){C.util.setImageSmoothing(e,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},drawCacheOnCanvas:function(e){C.util.setImageSmoothing(e,this.imageSmoothing),C.Object.prototype.drawCacheOnCanvas.call(this,e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element;if(t){var n=this._filterScalingX,i=this._filterScalingY,r=this.width,o=this.height,a=Math.min,s=Math.max,l=s(this.cropX,0),c=s(this.cropY,0),u=t.naturalWidth||t.width,d=t.naturalHeight||t.height,h=l*n,p=c*i,f=a(r*n,u-h),A=a(o*i,d-p),m=-r/2,g=-o/2,v=a(r,u/n-l),b=a(o,d/i-c);t&&e.drawImage(t,h,p,f,A,m,g,v,b)}},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(C.util.getById(e),t),C.util.addClass(this.getElement(),C.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e)},_initFilters:function(e,t){e&&e.length?C.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=C.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,i=this._element.height,r=1,o=1,a=0,s=0,l=0,c=0,u=this.width,d=this.height,h={width:u,height:d};return!t||"none"===t.alignX&&"none"===t.alignY?(r=u/n,o=d/i):("meet"===t.meetOrSlice&&(e=(u-n*(r=o=C.util.findScaleToFit(this._element,h)))/2,"Min"===t.alignX&&(a=-e),"Max"===t.alignX&&(a=e),e=(d-i*o)/2,"Min"===t.alignY&&(s=-e),"Max"===t.alignY&&(s=e)),"slice"===t.meetOrSlice&&(e=n-u/(r=o=C.util.findScaleToCover(this._element,h)),"Mid"===t.alignX&&(l=e/2),"Max"===t.alignX&&(l=e),e=i-d/o,"Mid"===t.alignY&&(c=e/2),"Max"===t.alignY&&(c=e),n=u/r,i=d/o)),{width:n,height:i,scaleX:r,scaleY:o,offsetLeft:a,offsetTop:s,cropX:l,cropY:c}}}),C.Image.CSS_CANVAS="canvas-img",C.Image.prototype.getSvgSrc=C.Image.prototype.getSrc,C.Image.fromObject=function(e,t){var n=C.util.object.clone(e);C.util.loadImage(n.src,(function(e,i){i?t&&t(null,!0):C.Image.prototype._initFilters.call(n,n.filters,(function(i){n.filters=i||[],C.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(i){n.resizeFilter=i[0],C.util.enlivenObjects([n.clipPath],(function(i){n.clipPath=i[0];var r=new C.Image(e,n);t(r,!1)}))}))}))}),null,n.crossOrigin)},C.Image.fromURL=function(e,t,n){C.util.loadImage(e,(function(e,i){t&&t(new C.Image(e,n),i)}),null,n&&n.crossOrigin)},C.Image.ATTRIBUTE_NAMES=C.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),C.Image.fromElement=function(e,n,i){var r=C.parseAttributes(e,C.Image.ATTRIBUTE_NAMES);C.Image.fromURL(r["xlink:href"],n,t(i?C.util.object.clone(i):{},r))})}(t),C.util.object.extend(C.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,i=e.onChange||t,r=this;return C.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){r.rotate(e),i()},onComplete:function(){r.setCoords(),n()}}),this}}),C.util.object.extend(C.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}C.isWebglSupported=function(t){if(C.isLikelyNode)return!1;t=t||C.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),i=n.getContext("webgl")||n.getContext("experimental-webgl"),r=!1;if(i){C.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),r=C.maxTextureSize>=t;for(var o=["highp","mediump","lowp"],a=0;a<3;a++)if(e(i,o[a])){C.webGlPrecision=o[a];break}}return this.isSupported=r,r},C.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,i=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(e){n=!1}var r="undefined"!=typeof ArrayBuffer,o="undefined"!=typeof Uint8ClampedArray;if(i&&n&&r&&o){var a=C.util.createCanvasElement(),s=new ArrayBuffer(e*t*4);if(C.forceGLPutImageData)return this.imageBuffer=s,void(this.copyGLTo2D=k);var l,c,u={imageBuffer:s,destinationWidth:e,destinationHeight:t,targetCanvas:a};a.width=e,a.height=t,l=window.performance.now(),B.call(u,this.gl,u),c=window.performance.now()-l,l=window.performance.now(),k.call(u,this.gl,u),c>window.performance.now()-l?(this.imageBuffer=s,this.copyGLTo2D=k):this.copyGLTo2D=B}},createWebGLCanvas:function(e,t){var n=C.util.createCanvasElement();n.width=e,n.height=t;var i={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=n.getContext("webgl",i);r||(r=n.getContext("experimental-webgl",i)),r&&(r.clearColor(0,0,0,0),this.canvas=n,this.gl=r)},applyFilters:function(e,t,n,i,r,o){var a,s=this.gl;o&&(a=this.getCachedTexture(o,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:s,sourceTexture:this.createTexture(s,n,i,!a&&t),targetTexture:this.createTexture(s,n,i),originalTexture:a||this.createTexture(s,n,i,!a&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,i=t.height,r=e.destinationWidth,o=e.destinationHeight;n===r&&i===o||(t.width=r,t.height=o)}(l),this.copyGLTo2D(s,l),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(l.sourceTexture),s.deleteTexture(l.targetTexture),s.deleteFramebuffer(c),r.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,i){var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),r},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:B,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),r=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(t.renderer=i.toLowerCase()),r&&(t.vendor=r.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}C.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,i,r){var o=r.getContext("2d");o.drawImage(t,0,0,n,i);var a={sourceWidth:n,sourceHeight:i,imageData:o.getImageData(0,0,n,i),originalEl:t,originalImageData:o.getImageData(0,0,n,i),canvasEl:r,ctx:o,filterBackend:this};return e.forEach((function(e){e.applyTo(a)})),a.imageData.width===n&&a.imageData.height===i||(r.width=a.imageData.width,r.height=a.imageData.height),o.putImageData(a.imageData,0,0),a}}}(),C.Image=C.Image||{},C.Image.filters=C.Image.filters||{},C.Image.filters.BaseFilter=C.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==C.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+C.webGlPrecision+" float"));var i=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(i));var r=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(r));var o=e.createProgram();if(e.attachShader(o,i),e.attachShader(o,r),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(o));var a=this.getAttributeLocations(e,o),s=this.getUniformLocations(e,o)||{};return s.uStepW=e.getUniformLocation(o,"uStepW"),s.uStepH=e.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:a,uniformLocations:s}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var i=t.aPosition,r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,i=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(i.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(i,t,n)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=C.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),C.Image.filters.BaseFilter.fromObject=function(e,t){var n=new C.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.ColorMatrix=i(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,i,r,o,a=e.imageData.data,s=a.length,l=this.matrix,c=this.colorsOnly;for(o=0;o<s;o+=4)t=a[o],n=a[o+1],i=a[o+2],c?(a[o]=t*l[0]+n*l[1]+i*l[2]+255*l[4],a[o+1]=t*l[5]+n*l[6]+i*l[7]+255*l[9],a[o+2]=t*l[10]+n*l[11]+i*l[12]+255*l[14]):(r=a[o+3],a[o]=t*l[0]+n*l[1]+i*l[2]+r*l[3]+255*l[4],a[o+1]=t*l[5]+n*l[6]+i*l[7]+r*l[8]+255*l[9],a[o+2]=t*l[10]+n*l[11]+i*l[12]+r*l[13]+255*l[14],a[o+3]=t*l[15]+n*l[16]+i*l[17]+r*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],r=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,i),e.uniform4fv(t.uConstants,r)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Brightness=i(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,i=n.length,r=Math.round(255*this.brightness);for(t=0;t<i;t+=4)n[t]=n[t]+r,n[t+1]=n[t+1]+r,n[t+2]=n[t+2]+r}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.Convolute=r(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),i=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,i)),e.programCache[n]},applyTo2d:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,p,f=e.imageData,A=f.data,m=this.matrix,g=Math.round(Math.sqrt(m.length)),v=Math.floor(g/2),b=f.width,y=f.height,x=e.ctx.createImageData(b,y),w=x.data,_=this.opaque?1:0;for(d=0;d<y;d++)for(u=0;u<b;u++){for(o=4*(d*b+u),t=0,n=0,i=0,r=0,p=0;p<g;p++)for(h=0;h<g;h++)a=u+h-v,(s=d+p-v)<0||s>=y||a<0||a>=b||(l=4*(s*b+a),c=m[p*g+h],t+=A[l]*c,n+=A[l+1]*c,i+=A[l+2]*c,_||(r+=A[l+3]*c));w[o]=t,w[o+1]=n,w[o+2]=i,w[o+3]=_?A[o+3]:r}e.imageData=x},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Grayscale=i(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,i=e.imageData.data,r=i.length,o=this.mode;for(t=0;t<r;t+=4)"average"===o?n=(i[t]+i[t+1]+i[t+2])/3:"lightness"===o?n=(Math.min(i[t],i[t+1],i[t+2])+Math.max(i[t],i[t+1],i[t+2]))/2:"luminosity"===o&&(n=.21*i[t]+.72*i[t+1]+.07*i[t+2]),i[t]=n,i[t+1]=n,i[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Invert=i(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,i=n.length;for(t=0;t<i;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.Noise=r(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,i=e.imageData.data,r=i.length,o=this.noise;for(t=0,r=i.length;t<r;t+=4)n=(.5-Math.random())*o,i[t]+=n,i[t+1]+=n,i[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Pixelate=i(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,i,r,o,a,s,l,c,u,d,h=e.imageData,p=h.data,f=h.height,A=h.width;for(n=0;n<f;n+=this.blocksize)for(i=0;i<A;i+=this.blocksize)for(r=p[t=4*n*A+4*i],o=p[t+1],a=p[t+2],s=p[t+3],u=Math.min(n+this.blocksize,f),d=Math.min(i+this.blocksize,A),l=n;l<u;l++)for(c=i;c<d;c++)p[t=4*l*A+4*c]=r,p[t+1]=o,p[t+2]=a,p[t+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.RemoveColor=r(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,i,r,o,a=e.imageData.data,s=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-s,l[1]-s,l[2]-s],u=[l[0]+s,l[1]+s,l[2]+s];for(n=0;n<a.length;n+=4)i=a[n],r=a[n+1],o=a[n+2],i>c[0]&&r>c[1]&&o>c[2]&&i<u[0]&&r<u[1]&&o<u[2]&&(a[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var i=new t.Color(this.color).getSource(),r=parseFloat(this.distance),o=[0+i[0]/255-r,0+i[1]/255-r,0+i[2]/255-r,1],a=[i[0]/255+r,i[1]/255+r,i[2]/255+r,1];e.uniform4fv(n.uLow,o),e.uniform4fv(n.uHigh,a)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)n[o]=i(n.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),t.Image.filters[o].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,i=t.util.createClass;n.BlendColor=i(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,i,r,o,a,s,l,c=e.imageData.data,u=c.length,d=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,i=l[1]*this.alpha,r=l[2]*this.alpha;for(var h=0;h<u;h+=4)switch(o=c[h],a=c[h+1],s=c[h+2],this.mode){case"multiply":c[h]=o*n/255,c[h+1]=a*i/255,c[h+2]=s*r/255;break;case"screen":c[h]=255-(255-o)*(255-n)/255,c[h+1]=255-(255-a)*(255-i)/255,c[h+2]=255-(255-s)*(255-r)/255;break;case"add":c[h]=o+n,c[h+1]=a+i,c[h+2]=s+r;break;case"diff":case"difference":c[h]=Math.abs(o-n),c[h+1]=Math.abs(a-i),c[h+2]=Math.abs(s-r);break;case"subtract":c[h]=o-n,c[h+1]=a-i,c[h+2]=s-r;break;case"darken":c[h]=Math.min(o,n),c[h+1]=Math.min(a,i),c[h+2]=Math.min(s,r);break;case"lighten":c[h]=Math.max(o,n),c[h+1]=Math.max(a,i),c[h+2]=Math.max(s,r);break;case"overlay":c[h]=n<128?2*o*n/255:255-2*(255-o)*(255-n)/255,c[h+1]=i<128?2*a*i/255:255-2*(255-a)*(255-i)/255,c[h+2]=r<128?2*s*r/255:255-2*(255-s)*(255-r)/255;break;case"exclusion":c[h]=n+o-2*n*o/255,c[h+1]=i+a-2*i*a/255,c[h+2]=r+s-2*r*s/255;break;case"tint":c[h]=n+o*d,c[h+1]=i+a*d,c[h+2]=r+s*d}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var i=new t.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,e.uniform4fv(n.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,i=t.util.createClass;n.BlendImage=i(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,i,r,o,a,s,l,c,u,d,h,p=e.imageData,f=e.filterBackend.resources,A=p.data,m=A.length,g=p.width,v=p.height,b=this.image;f.blendImage||(f.blendImage=t.util.createCanvasElement()),d=(u=f.blendImage).getContext("2d"),u.width!==g||u.height!==v?(u.width=g,u.height=v):d.clearRect(0,0,g,v),d.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),d.drawImage(b._element,0,0,g,v),h=d.getImageData(0,0,g,v).data;for(var y=0;y<m;y+=4)switch(a=A[y],s=A[y+1],l=A[y+2],c=A[y+3],n=h[y],i=h[y+1],r=h[y+2],o=h[y+3],this.mode){case"multiply":A[y]=a*n/255,A[y+1]=s*i/255,A[y+2]=l*r/255,A[y+3]=c*o/255;break;case"mask":A[y+3]=o}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(i){var r=t.util.object.clone(e);r.image=i,n(new t.Image.filters.BlendImage(r))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,i=Math.floor,r=Math.sqrt,o=Math.abs,a=Math.round,s=Math.sin,l=Math.ceil,c=t.Image.filters,u=t.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var i=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,i)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),i=new Array(n),r=1;r<=n;r++)i[r-1]=e(r*t);return i},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,i=1;i<=e;i++)t[i-1]=i+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return s(t)/t*s(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;var r,o=t.width,s=t.height,l=a(o*n),c=a(s*i);"sliceHack"===this.resizeType?r=this.sliceByTwo(e,o,s,l,c):"hermite"===this.resizeType?r=this.hermiteFastResize(e,o,s,l,c):"bilinear"===this.resizeType?r=this.bilinearFiltering(e,o,s,l,c):"lanczos"===this.resizeType&&(r=this.lanczosResize(e,o,s,l,c)),e.imageData=r},sliceByTwo:function(e,n,r,o,a){var s,l,c=e.imageData,u=!1,d=!1,h=.5*n,p=.5*r,f=t.filterBackend.resources,A=0,m=0,g=n,v=0;for(f.sliceByTwo||(f.sliceByTwo=document.createElement("canvas")),((s=f.sliceByTwo).width<1.5*n||s.height<r)&&(s.width=1.5*n,s.height=r),(l=s.getContext("2d")).clearRect(0,0,1.5*n,r),l.putImageData(c,0,0),o=i(o),a=i(a);!u||!d;)n=h,r=p,o<i(.5*h)?h=i(.5*h):(h=o,u=!0),a<i(.5*p)?p=i(.5*p):(p=a,d=!0),l.drawImage(s,A,m,n,r,g,v,h,p),A=g,m=v,v+=p;return l.getImageData(A,m,o,a)},lanczosResize:function(e,t,a,s,c){var u=e.imageData.data,d=e.ctx.createImageData(s,c),h=d.data,p=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,A=this.rcpScaleY,m=2/this.rcpScaleX,g=2/this.rcpScaleY,v=l(f*this.lanczosLobes/2),b=l(A*this.lanczosLobes/2),y={},x={},w={};return function e(l){var _,j,C,E,B,k,S,O,M,T,F;for(x.x=(l+.5)*f,w.x=i(x.x),_=0;_<c;_++){for(x.y=(_+.5)*A,w.y=i(x.y),B=0,k=0,S=0,O=0,M=0,j=w.x-v;j<=w.x+v;j++)if(!(j<0||j>=t)){T=i(1e3*o(j-x.x)),y[T]||(y[T]={});for(var N=w.y-b;N<=w.y+b;N++)N<0||N>=a||(F=i(1e3*o(N-x.y)),y[T][F]||(y[T][F]=p(r(n(T*m,2)+n(F*g,2))/1e3)),(C=y[T][F])>0&&(B+=C,k+=C*u[E=4*(N*t+j)],S+=C*u[E+1],O+=C*u[E+2],M+=C*u[E+3]))}h[E=4*(_*s+l)]=k/B,h[E+1]=S/B,h[E+2]=O/B,h[E+3]=M/B}return++l<s?e(l):d}(0)},bilinearFiltering:function(e,t,n,r,o){var a,s,l,c,u,d,h,p,f,A=0,m=this.rcpScaleX,g=this.rcpScaleY,v=4*(t-1),b=e.imageData.data,y=e.ctx.createImageData(r,o),x=y.data;for(l=0;l<o;l++)for(c=0;c<r;c++)for(u=m*c-(a=i(m*c)),d=g*l-(s=i(g*l)),f=4*(s*t+a),h=0;h<4;h++)p=b[f+h]*(1-u)*(1-d)+b[f+4+h]*u*(1-d)+b[f+v+h]*d*(1-u)+b[f+v+4+h]*u*d,x[A++]=p;return y},hermiteFastResize:function(e,t,n,a,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,d=l(c/2),h=l(u/2),p=e.imageData.data,f=e.ctx.createImageData(a,s),A=f.data,m=0;m<s;m++)for(var g=0;g<a;g++){for(var v=4*(g+m*a),b=0,y=0,x=0,w=0,_=0,j=0,C=0,E=(m+.5)*u,B=i(m*u);B<(m+1)*u;B++)for(var k=o(E-(B+.5))/h,S=(g+.5)*c,O=k*k,M=i(g*c);M<(g+1)*c;M++){var T=o(S-(M+.5))/d,F=r(O+T*T);F>1&&F<-1||(b=2*F*F*F-3*F*F+1)>0&&(C+=b*p[(T=4*(M+B*t))+3],x+=b,p[T+3]<255&&(b=b*p[T+3]/250),w+=b*p[T],_+=b*p[T+1],j+=b*p[T+2],y+=b)}A[v]=w/y,A[v+1]=_/y,A[v+2]=j/y,A[v+3]=C/x}return f},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Contrast=i(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,i=n.length,r=Math.floor(255*this.contrast),o=259*(r+255)/(255*(259-r));for(t=0;t<i;t+=4)n[t]=o*(n[t]-128)+128,n[t+1]=o*(n[t+1]-128)+128,n[t+2]=o*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Saturation=i(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,i=e.imageData.data,r=i.length,o=-this.saturation;for(t=0;t<r;t+=4)n=Math.max(i[t],i[t+1],i[t+2]),i[t]+=n!==i[t]?(n-i[t])*o:0,i[t+1]+=n!==i[t+1]?(n-i[t+1])*o:0,i[t+2]+=n!==i[t+2]?(n-i[t+2])*o:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Blur=i(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,i,r=e.filterBackend.resources,o=e.imageData.width,a=e.imageData.height;r.blurLayer1||(r.blurLayer1=t.util.createCanvasElement(),r.blurLayer2=t.util.createCanvasElement()),n=r.blurLayer1,i=r.blurLayer2,n.width===o&&n.height===a||(i.width=n.width=o,i.height=n.height=a);var s,l,c,u,d=n.getContext("2d"),h=i.getContext("2d"),p=.06*this.blur*.5;for(d.putImageData(e.imageData,0,0),h.clearRect(0,0,o,a),u=-15;u<=15;u++)c=p*(l=u/15)*o+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,c,s),d.drawImage(i,0,0),h.globalAlpha=1,h.clearRect(0,0,i.width,i.height);for(u=-15;u<=15;u++)c=p*(l=u/15)*a+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,s,c),d.drawImage(i,0,0),h.globalAlpha=1,h.clearRect(0,0,i.width,i.height);e.ctx.drawImage(n,0,0);var f=e.ctx.getImageData(0,0,n.width,n.height);return d.globalAlpha=1,d.clearRect(0,0,n.width,n.height),f},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Gamma=i(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,i=this.gamma,r=n.length,o=1/i[0],a=1/i[1],s=1/i[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,r=256;t<r;t++)this.rVals[t]=255*Math.pow(t/255,o),this.gVals[t]=255*Math.pow(t/255,a),this.bVals[t]=255*Math.pow(t/255,s);for(t=0,r=n.length;t<r;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Composed=i(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var i=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),r=new t.Image.filters.Composed({subFilters:i});return n&&n(r),r}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.HueRotation=i(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),i=t.util.sin(e),r=Math.sqrt(1/3)*i,o=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+o/3,this.matrix[1]=1/3*o-r,this.matrix[2]=1/3*o+r,this.matrix[5]=1/3*o+r,this.matrix[6]=n+1/3*o,this.matrix[7]=1/3*o-r,this.matrix[10]=1/3*o-r,this.matrix[11]=1/3*o+r,this.matrix[12]=n+1/3*o},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;if(t.Text)t.warn("fabric.Text is already defined");else{var i="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles path".split(" ");t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat(i),cacheProperties:t.Object.prototype.cacheProperties.concat(i),stroke:null,shadow:null,path:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var e=this.path;e&&(e.segmentsInfo=t.util.getPathSegmentsInfo(e.path))},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,i,r,o,a,s=0,l=this._textLines.length;s<l;s++)if(("justify"===this.textAlign||s!==l-1&&!this.isEndOfWrapping(s))&&(i=0,r=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(a=this.textLines[s].match(this._reSpacesAndTabs)))){n=a.length,e=(this.width-t)/n;for(var c=0,u=r.length;c<=u;c++)o=this.__charBounds[s][c],this._reSpaceAndTab.test(r[c])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){e.textBaseline="alphabetic",e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var i=this.getLineWidth(t);i>e&&(e=i)}return e},_renderTextLine:function(e,t,n,i,r,o){this._renderChars(e,t,n,i,r,o)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,i,r,o,a,s,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),d=0,h=0,p=this.path,f=0,A=this._textLines.length;f<A;f++)if(t=this.getHeightOfLine(f),this.textBackgroundColor||this.styleHas("textBackgroundColor",f)){i=this._textLines[f],n=this._getLineLeftOffset(f),h=0,d=0,r=this.getValueOfPropertyAt(f,0,"textBackgroundColor");for(var m=0,g=i.length;m<g;m++)o=this.__charBounds[f][m],a=this.getValueOfPropertyAt(f,m,"textBackgroundColor"),p?(e.save(),e.translate(o.renderLeft,o.renderTop),e.rotate(o.angle),e.fillStyle=a,a&&e.fillRect(-o.width/2,-t/this.lineHeight*(1-this._fontSizeFraction),o.width,t/this.lineHeight),e.restore()):a!==r?(s=c+n+d,"rtl"===this.direction&&(s=this.width-s-h),e.fillStyle=r,r&&e.fillRect(s,u,h,t/this.lineHeight),d=o.left,h=o.width,r=a):h+=o.kernedWidth;a&&!p&&(s=c+n+d,"rtl"===this.direction&&(s=this.width-s-h),e.fillStyle=a,e.fillRect(s,u,h,t/this.lineHeight)),u+=t}else u+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var i=t.charWidthsCache[n],r=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return i[r]||(i[r]={}),i[r]},_measureChar:function(e,t,n,i){var r,o,a,s,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(i),d=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(a=l[n]),void 0!==l[e]&&(s=r=l[e]),u&&void 0!==l[c]&&(s=(o=l[c])-a),void 0===r||void 0===a||void 0===o){var h=this.getMeasuringContext();this._setTextStyles(h,t,!0)}return void 0===r&&(s=r=h.measureText(e).width,l[e]=r),void 0===a&&u&&n&&(a=h.measureText(n).width,l[n]=a),u&&void 0===o&&(o=h.measureText(c).width,l[c]=o,s=o-a),{width:r*d,kernedWidth:s*d}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var n,i,r,o,a,s,l=0,c=this._textLines[e],u=new Array(c.length),d=0,h=this.path;for(this.__charBounds[e]=u,h&&(a=t.util.getPointOnPath(h.path,0,h.segmentsInfo),s=h.segmentsInfo[h.segmentsInfo.length-1].length,a.x+=h.pathOffset.x,a.y+=h.pathOffset.y),n=0;n<c.length;n++)i=c[n],o=this._getGraphemeBox(i,e,n,r),h&&(d>s&&(d%=s),this._setGraphemeOnPath(d,o,a)),u[n]=o,l+=o.kernedWidth,d+=o.kernedWidth,r=i;return u[n]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:l,numOfSpaces:0}},_setGraphemeOnPath:function(e,n,i){var r=e+n.kernedWidth/2,o=this.path,a=t.util.getPointOnPath(o.path,r,o.segmentsInfo);n.renderLeft=a.x-i.x,n.renderTop=a.y-i.y,n.angle=a.angle},_getGraphemeBox:function(e,t,n,i,r){var o,a=this.getCompleteStyleDeclaration(t,n),s=i?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,a,i,s),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=o=this._getWidthOfCharSpacing(),c+=o);var d={width:u,left:0,height:a.fontSize,kernedWidth:c,deltaY:a.deltaY};if(n>0&&!r){var h=this.__charBounds[t][n-1];d.left=h.left+h.width+l.kernedWidth-l.width}return d},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),i=1,r=t.length;i<r;i++)n=Math.max(this.getHeightOfChar(e,i),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,i=this._textLines.length;n<i;n++)e=this.getHeightOfLine(n),t+=n===i-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,t){e.save();for(var n=0,i=this._getLeftOffset(),r=this._getTopOffset(),o=0,a=this._textLines.length;o<a;o++){var s=this.getHeightOfLine(o),l=s/this.lineHeight,c=this._getLineLeftOffset(o);this._renderTextLine(t,e,this._textLines[o],i+c,r+n+l,o),n+=s}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,i,r,o){var a,s,l,c,u,d=this.getHeightOfLine(o),h=-1!==this.textAlign.indexOf("justify"),p="",f=0,A=this.path,m=!h&&0===this.charSpacing&&this.isEmptyStyles(o)&&!A,g="ltr"===this.direction,v="ltr"===this.direction?1:-1;if(t.save(),r-=d*this._fontSizeFraction/this.lineHeight,m)return t.canvas.setAttribute("dir",g?"ltr":"rtl"),t.direction=g?"ltr":"rtl",this._renderChar(e,t,o,0,n.join(""),i,r,d),void t.restore();for(var b=0,y=n.length-1;b<=y;b++)c=b===y||this.charSpacing||A,p+=n[b],l=this.__charBounds[o][b],0===f?(i+=v*(l.kernedWidth-l.width),f+=l.width):f+=l.kernedWidth,h&&!c&&this._reSpaceAndTab.test(n[b])&&(c=!0),c||(a=a||this.getCompleteStyleDeclaration(o,b),s=this.getCompleteStyleDeclaration(o,b+1),c=this._hasStyleChanged(a,s)),c&&(A?(t.save(),t.translate(l.renderLeft,l.renderTop),t.rotate(l.angle),this._renderChar(e,t,o,b,p,-f/2,0,d),t.restore()):(u=i,t.canvas.setAttribute("dir",g?"ltr":"rtl"),t.direction=g?"ltr":"rtl",this._renderChar(e,t,o,b,p,u,r,d)),p="",a=s,i+=v*f,f=0);t.restore()},_applyPatternGradientTransformText:function(e){var n,i=t.util.createCanvasElement(),r=this.width+this.strokeWidth,o=this.height+this.strokeWidth;return i.width=r,i.height=o,(n=i.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(r,0),n.lineTo(r,o),n.lineTo(0,o),n.closePath(),n.translate(r/2,o/2),n.fillStyle=e.toLive(n),this._applyPatternGradientTransform(n,e),n.fill(),n.createPattern(i,"no-repeat")},handleFiller:function(e,t,n){var i,r;return n.toLive?"percentage"===n.gradientUnits||n.gradientTrasnform||n.patternTransform?(i=-this.width/2,r=-this.height/2,e.translate(i,r),e[t]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:r}):(e[t]=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(e,t){return e.lineWidth=t.strokeWidth,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",t.stroke)},_setFillStyles:function(e,t){return this.handleFiller(e,"fillStyle",t.fill)},_renderChar:function(e,t,n,i,r,o,a){var s,l,c=this._getStyleDeclaration(n,i),u=this.getCompleteStyleDeclaration(n,i),d="fillText"===e&&u.fill,h="strokeText"===e&&u.stroke&&u.strokeWidth;(h||d)&&(t.save(),d&&(s=this._setFillStyles(t,u)),h&&(l=this._setStrokeStyles(t,u)),t.font=this._getFontDeclaration(u),c&&c.textBackgroundColor&&this._removeShadow(t),c&&c.deltaY&&(a+=c.deltaY),d&&t.fillText(r,o-s.offsetX,a-s.offsetY),h&&t.strokeText(r,o-l.offsetX,a-l.offsetY),t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var i=this.get2DCursorLocation(e,!0),r=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),a={fontSize:r*n.size,deltaY:o+r*n.baseline};return this.setSelectionStyles(a,e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e),n=this.width-t,i=this.textAlign,r=this.direction,o=0,a=this.isEndOfWrapping(e);return"justify"===i||"justify-center"===i&&!a||"justify-right"===i&&!a||"justify-left"===i&&!a?0:("center"===i&&(o=n/2),"right"===i&&(o=n),"justify-center"===i&&(o=n/2),"justify-right"===i&&(o=n),"rtl"===r&&(o-=n),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){return this.__lineWidths[e]?this.__lineWidths[e]:(t=""===this._textLines[e]?0:this.measureLine(e).width,this.__lineWidths[e]=t,t);var t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var i=this._getStyleDeclaration(e,t);return i&&void 0!==i[n]?i[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,i,r,o,a,s,l,c,u,d,h,p,f,A,m,g,v=this._getLeftOffset(),b=this._getTopOffset(),y=this.path,x=this._getWidthOfCharSpacing(),w=0,_=this._textLines.length;w<_;w++)if(n=this.getHeightOfLine(w),this[t]||this.styleHas(t,w)){l=this._textLines[w],A=n/this.lineHeight,o=this._getLineLeftOffset(w),d=0,h=0,c=this.getValueOfPropertyAt(w,0,t),g=this.getValueOfPropertyAt(w,0,"fill"),u=b+A*(1-this._fontSizeFraction),i=this.getHeightOfChar(w,0),a=this.getValueOfPropertyAt(w,0,"deltaY");for(var j=0,C=l.length;j<C;j++)if(p=this.__charBounds[w][j],f=this.getValueOfPropertyAt(w,j,t),m=this.getValueOfPropertyAt(w,j,"fill"),r=this.getHeightOfChar(w,j),s=this.getValueOfPropertyAt(w,j,"deltaY"),y&&f&&m)e.save(),e.fillStyle=g,e.translate(p.renderLeft,p.renderTop),e.rotate(p.angle),e.fillRect(-p.kernedWidth/2,this.offsets[t]*r+s,p.kernedWidth,this.fontSize/15),e.restore();else if((f!==c||m!==g||r!==i||s!==a)&&h>0){var E=v+o+d;"rtl"===this.direction&&(E=this.width-E-h),c&&g&&(e.fillStyle=g,e.fillRect(E,u+this.offsets[t]*i+a,h,this.fontSize/15)),d=p.left,h=p.width,c=f,g=m,i=r,a=s}else h+=p.kernedWidth;e.fillStyle=m,f&&m&&e.fillRect(v+o+d,u+this.offsets[t]*i+a,h-x,this.fontSize/15),b+=n}else b+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var i=e||this,r=this.fontFamily,o=t.Text.genericFonts.indexOf(r.toLowerCase())>-1,a=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||o?i.fontFamily:'"'+i.fontFamily+'"';return[t.isLikelyNode?i.fontWeight:i.fontStyle,t.isLikelyNode?i.fontStyle:i.fontWeight,n?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",a].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),i=new Array(n.length),r=["\n"],o=[],a=0;a<n.length;a++)i[a]=t.util.string.graphemeSplit(n[a]),o=o.concat(i[a],r);return o.pop(),{_unwrappedLines:i,lines:n,graphemeText:o,graphemeLines:i}},toObject:function(e){var t=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing","path","direction"].concat(e),i=this.callSuper("toObject",t);return i.styles=n(this.styles,!0),i.path=this.path&&this.path.toObject(),i},set:function(e,t){this.callSuper("set",e,t);var n=!1,i=!1;if("object"==typeof e)for(var r in e)"path"===r&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(r),i=i||"path"===r;else n=-1!==this._dimensionAffectingProps.indexOf(e),i="path"===e;return i&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,i,r){if(!e)return i(null);var o=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),a=o.textAnchor||"left";if((r=t.util.object.extend(r?n(r):{},o)).top=r.top||0,r.left=r.left||0,o.textDecoration){var s=o.textDecoration;-1!==s.indexOf("underline")&&(r.underline=!0),-1!==s.indexOf("overline")&&(r.overline=!0),-1!==s.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in o&&(r.left+=o.dx),"dy"in o&&(r.top+=o.dy),"fontSize"in r||(r.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=r.strokeWidth;r.strokeWidth=0;var u=new t.Text(l,r),d=u.getScaledHeight()/u.height,h=((u.height+u.strokeWidth)*u.lineHeight-u.height)*d,p=u.getScaledHeight()+h,f=0;"center"===a&&(f=u.getScaledWidth()/2),"right"===a&&(f=u.getScaledWidth()),u.set({left:u.left-f,top:u.top-(p-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:void 0!==c?c:1}),i(u)},t.Text.fromObject=function(e,i){var r=n(e),o=e.path;return delete r.path,t.Object._fromObject("Text",r,(function(e){o?t.Object._fromObject("Path",o,(function(t){e.set("path",t),i(e)}),"path"):i(e)}),"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text)}}(t),C.util.object.extend(C.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;var t=void 0===e?this.styles:{line:this.styles[e]};for(var n in t)for(var i in t[n])for(var r in t[n][i])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if(void 0!==t&&!this.styles[t])return!1;var n=void 0===t?this.styles:{0:this.styles[t]};for(var i in n)for(var r in n[i])if(void 0!==n[i][r][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,i=this.styles,r=0,o=!0,a=0;for(var s in i){for(var l in t=0,i[s]){var c;r++,(c=i[s][l]).hasOwnProperty(e)?(n?c[e]!==n&&(o=!1):n=c[e],c[e]===this[e]&&delete c[e]):o=!1,0!==Object.keys(c).length?t++:delete i[s][l]}0===t&&delete i[s]}for(var u=0;u<this._textLines.length;u++)a+=this._textLines[u].length;o&&r===a&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,i,r=this.styles;for(n in r){for(i in t=r[n])delete t[i][e],0===Object.keys(t[i]).length&&delete t[i];0===Object.keys(t).length&&delete r[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),C.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){void 0===e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,i=n.length,r=0;r<i;r++){if(e<=n[r].length)return{lineIndex:r,charIndex:e};e-=n[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:n[r-1].length<e?n[r-1].length:e}},getSelectionStyles:function(e,t,n){void 0===e&&(e=this.selectionStart||0),void 0===t&&(t=this.selectionEnd||e);for(var i=[],r=e;r<t;r++)i.push(this.getStyleAtPosition(r,n));return i},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){void 0===t&&(t=this.selectionStart||0),void 0===n&&(n=this.selectionEnd||t);for(var i=t;i<n;i++)this._extendStyles(i,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,i=this._getStyleDeclaration(e,t)||{},r={},o=0;o<this._styleProperties.length;o++)r[n=this._styleProperties[o]]=void 0===i[n]?this[n]:i[n];return r},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}C.IText=C.util.createClass(C.Text,C.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){void 0===e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,i,r,o=0,a=0,s=this.get2DCursorLocation(e);i=s.charIndex,n=s.lineIndex;for(var l=0;l<n;l++)o+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][i];return c&&(a=c.left),0!==this.charSpacing&&i===this._textLines[n].length&&(a-=this._getWidthOfCharSpacing()),r={top:o,left:t+(a>0?a:0)},"rtl"===this.direction&&(r.left*=-1),this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),i=n.lineIndex,r=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,r,"fontSize"),a=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/a,l=e.topOffset,c=this.getValueOfPropertyAt(i,r,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,r,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-s/2,l+e.top+c,s,o)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),a=this.get2DCursorLocation(i),s=o.lineIndex,l=a.lineIndex,c=o.charIndex<0?0:o.charIndex,u=a.charIndex<0?0:a.charIndex,d=s;d<=l;d++){var h,p=this._getLineLeftOffset(d)||0,f=this.getHeightOfLine(d),A=0,m=0;if(d===s&&(A=this.__charBounds[s][c].left),d>=s&&d<l)m=r&&!this.isEndOfWrapping(d)?this.width:this.getLineWidth(d)||5;else if(d===l)if(0===u)m=this.__charBounds[l][u].left;else{var g=this._getWidthOfCharSpacing();m=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-g}h=f,(this.lineHeight<1||d===l&&this.lineHeight>1)&&(f/=this.lineHeight);var v=e.left+p+A,b=m-A,y=f,x=0;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",y=1,x=f):t.fillStyle=this.selectionColor,"rtl"===this.direction&&(v=this.width-v-b),t.fillRect(v,e.top+e.topOffset+x,b,y),e.topOffset+=h}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),C.IText.fromObject=function(t,n){if(e(t),t.styles)for(var i in t.styles)for(var r in t.styles[i])e(t.styles[i][r]);C.Object._fromObject("IText",t,n,"text")}}(),w=C.util.object.clone,C.util.object.extend(C.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],C.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,i){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){r.isAborted||e[i]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,i=this._reSpace.test(n[e])?e-1:e,r=n[i],o=C.reNonWord;!o.test(r)&&i>0&&i<n.length;)r=n[i+=t];return o.test(r)&&(i+=1===t?0:1),i},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,i=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==i||n!==t&&i!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var i=n.slice(0,e),r=C.util.string.graphemeSplit(i).length;if(e===t)return{selectionStart:r,selectionEnd:r};var o=n.slice(e,t);return{selectionStart:r,selectionEnd:r+C.util.string.graphemeSplit(o).length}},fromGraphemeToStringSelection:function(e,t,n){var i=n.slice(0,e).join("").length;return e===t?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,r=n.charIndex,o=this.getValueOfPropertyAt(i,r,"fontSize")*this.lineHeight,a=t.leftOffset,s=this.calcTransformMatrix(),l={x:t.left+a,y:t.top+t.topOffset+o},c=this.canvas.getRetinaScaling(),u=this.canvas.upperCanvasEl,d=u.width/c,h=u.height/c,p=d-o,f=h-o,A=u.clientWidth/d,m=u.clientHeight/h;return l=C.util.transformPoint(l,s),(l=C.util.transformPoint(l,this.canvas.viewportTransform)).x*=A,l.y*=m,l.x<0&&(l.x=0),l.x>p&&(l.x=p),l.y<0&&(l.y=0),l.y>f&&(l.y=f),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,i,r=this.get2DCursorLocation(e,!0),o=this.get2DCursorLocation(t,!0),a=r.lineIndex,s=r.charIndex,l=o.lineIndex,c=o.charIndex;if(a!==l){if(this.styles[a])for(n=s;n<this._unwrappedTextLines[a].length;n++)delete this.styles[a][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(i=this.styles[l][n])&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+n-c]=i);for(n=a+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,a-l)}else if(this.styles[a]){i=this.styles[a];var u,d,h=c-s;for(n=s;n<c;n++)delete i[n];for(d in this.styles[a])(u=parseInt(d,10))>=c&&(i[u-h]=i[d],delete i[d])}},shiftLineStyles:function(e,t){var n=w(this.styles);for(var i in this.styles){var r=parseInt(i,10);r>e&&(this.styles[r+t]=n[r],n[r-t]||delete this.styles[r])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,t,n,i){var r,o={},a=!1,s=this._unwrappedTextLines[e].length===t;for(var l in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(r=this.styles[e][0===t?t:t-1]),this.styles[e]){var c=parseInt(l,10);c>=t&&(a=!0,o[c-t]=this.styles[e][l],s&&0===t||delete this.styles[e][l])}var u=!1;for(a&&!s&&(this.styles[e+n]=o,u=!0),u&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:w(i[n-1])}:r?this.styles[e+n]={0:w(r)}:delete this.styles[e+n],n--;this._forceClearCache=!0},insertCharStyleObject:function(e,t,n,i){this.styles||(this.styles={});var r=this.styles[e],o=r?w(r):{};for(var a in n||(n=1),o){var s=parseInt(a,10);s>=t&&(r[s+n]=o[s],o[s-n]||delete r[s])}if(this._forceClearCache=!0,i)for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=w(i[n]));else if(r)for(var l=r[t?t-1:1];l&&n--;)this.styles[e][t+n]=w(l)},insertNewStyleBlock:function(e,t,n){for(var i=this.get2DCursorLocation(t,!0),r=[0],o=0,a=0;a<e.length;a++)"\n"===e[a]?r[++o]=0:r[o]++;for(r[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,r[0],n),n=n&&n.slice(r[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+r[0],o),a=1;a<o;a++)r[a]>0?this.insertCharStyleObject(i.lineIndex+a,0,r[a],n):n&&(this.styles[i.lineIndex+a][0]=n[0]),n=n&&n.slice(r[a]+1);r[a]>0&&this.insertCharStyleObject(i.lineIndex+a,0,r[a],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}}),C.util.object.extend(C.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t,n=this.getLocalPointer(e),i=0,r=0,o=0,a=0,s=0,l=0,c=this._textLines.length;l<c&&o<=n.y;l++)o+=this.getHeightOfLine(l)*this.scaleY,s=l,l>0&&(a+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));r=this._getLineLeftOffset(s)*this.scaleX,t=this._textLines[s],"rtl"===this.direction&&(n.x=this.width*this.scaleX-n.x+r);for(var u=0,d=t.length;u<d&&(i=r,(r+=this.__charBounds[s][u].kernedWidth*this.scaleX)<=n.x);u++)a++;return this._getNewSelectionStartFromOffset(n,i,r,a,d)},_getNewSelectionStartFromOffset:function(e,t,n,i,r){var o=e.x-t,a=n-e.x,s=i+(a>o||a<0?0:1);return this.flipX&&(s=r-s),s>this._text.length&&(s=this._text.length),s}}),C.util.object.extend(C.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=C.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+e.fontSize+";",C.document.body.appendChild(this.hiddenTextarea),C.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),C.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),C.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),C.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(C.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing){var t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,i,r,o,a,s=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,c=s.length,u=c-l,d=this.selectionStart,h=this.selectionEnd,p=d!==h;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var f=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),A=d>f.selectionStart;p?(n=this._text.slice(d,h),u+=h-d):c<l&&(n=A?this._text.slice(h+u,h):this._text.slice(d,d-u)),i=s.slice(f.selectionEnd-u,f.selectionEnd),n&&n.length&&(i.length&&(r=this.getSelectionStyles(d,d+1,!1),r=i.map((function(){return r[0]}))),p?(o=d,a=h):A?(o=h-n.length,a=h):(o=h,a=h+n.length),this.removeStyleFromTo(o,a)),i.length&&(t&&i.join("")===C.copiedText&&!C.disableStyleCopyPaste&&(r=C.copiedTextStyle),this.insertNewStyleBlock(i,d,r)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(C.copiedText=this.getSelectedText(),C.disableStyleCopyPaste?C.copiedTextStyle=null:C.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||C.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,i=this._getLineLeftOffset(e);return t>0&&(i+=(n=this.__charBounds[e][t-1]).left+n.width),i},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),i=this.get2DCursorLocation(n),r=i.lineIndex;if(r===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var o=i.charIndex,a=this._getWidthBeforeCursor(r,o),s=this._getIndexOnLine(r+1,a);return this._textLines[r].slice(o).length+s+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),i=this.get2DCursorLocation(n),r=i.lineIndex;if(0===r||e.metaKey||33===e.keyCode)return-n;var o=i.charIndex,a=this._getWidthBeforeCursor(r,o),s=this._getIndexOnLine(r-1,a),l=this._textLines[r].slice(0,o),c=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+s-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,i,r=this._textLines[e],o=this._getLineLeftOffset(e),a=0,s=0,l=r.length;s<l;s++)if((o+=n=this.__charBounds[e][s].width)>t){i=!0;var c=o-n,u=o,d=Math.abs(c-t);a=Math.abs(u-t)<d?s:s-1;break}return i||(a=r.length-1),a},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var i;if(e.altKey)i=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;i=this["findLineBoundary"+n](this[t])}if(void 0!==typeof i&&this[t]!==i)return this[t]=i,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){void 0===t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,i){void 0===i&&(i=n),i>n&&this.removeStyleFromTo(n,i);var r=C.util.string.graphemeSplit(e);this.insertNewStyleBlock(r,n,t),this._text=[].concat(this._text.slice(0,n),r,this._text.slice(i)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),_=C.util.toFixed,j=/  +/g,C.util.object.extend(C.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,i=[],r=[],o=e;this._setSVGBg(r);for(var a=0,s=this._textLines.length;a<s;a++)n=this._getLineLeftOffset(a),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(r,a,t+n,o),this._setSVGTextLineText(i,a,t+n,o),o+=this.getHeightOfLine(a);return{textSpans:i,textBgRects:r}},_createTextCharSpan:function(e,t,n,i){var r=e!==e.trim()||e.match(j),o=this.getSvgSpanStyles(t,r),a=o?'style="'+o+'"':"",s=t.deltaY,l="",c=C.Object.NUM_FRACTION_DIGITS;return s&&(l=' dy="'+_(s,c)+'" '),['<tspan x="',_(n,c),'" y="',_(i,c),'" ',l,a,">",C.util.string.escapeXml(e),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,i){var r,o,a,s,l,c=this.getHeightOfLine(t),u=-1!==this.textAlign.indexOf("justify"),d="",h=0,p=this._textLines[t];i+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var f=0,A=p.length-1;f<=A;f++)l=f===A||this.charSpacing,d+=p[f],a=this.__charBounds[t][f],0===h?(n+=a.kernedWidth-a.width,h+=a.width):h+=a.kernedWidth,u&&!l&&this._reSpaceAndTab.test(p[f])&&(l=!0),l||(r=r||this.getCompleteStyleDeclaration(t,f),o=this.getCompleteStyleDeclaration(t,f+1),l=this._hasStyleChangedForSvg(r,o)),l&&(s=this._getStyleDeclaration(t,f)||{},e.push(this._createTextCharSpan(d,s,n,i)),d="",r=o,n+=h,h=0)},_pushTextBgRect:function(e,t,n,i,r,o){var a=C.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(t),' x="',_(n,a),'" y="',_(i,a),'" width="',_(r,a),'" height="',_(o,a),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,i){for(var r,o,a=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0,h=a.length;d<h;d++)r=this.__charBounds[t][d],(o=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,i,l,s),c=r.left,l=r.width,u=o):l+=r.kernedWidth;o&&this._pushTextBgRect(e,o,n+c,i,l,s)},_getFillAttributes:function(e){var t=e&&"string"==typeof e?new C.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,i=0;i<e;i++)n+=this.getHeightOfLine(i);return t=this.getHeightOfLine(i),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return C.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}}),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,i=0,r={},o=0;o<e.graphemeLines.length;o++)"\n"===e.graphemeText[i]&&o>0?(n=0,i++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(n++,i++),r[o]={line:t,offset:n},i+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return r},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[n];i&&(n=i.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,i=0,r=!1,o=this._styleMap[e],a=this._styleMap[e+1];for(var s in o&&(e=o.line,i=o.offset),a&&(r=a.line===e,t=a.offset),n=void 0===e?this.styles:{line:this.styles[e]})for(var l in n[s])if(l>=i&&(!r||l<t))for(var c in n[s][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var i=this._styleMap[e];e=i.line,t=i.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,i=[];for(this.isWrapping=!0,n=0;n<e.length;n++)i=i.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,i},_measureWord:function(e,t,n){var i,r=0;n=n||0;for(var o=0,a=e.length;o<a;o++){r+=this._getGraphemeBox(e[o],t,o+n,i,!0).kernedWidth,i=e[o]}return r},_wrapLine:function(e,n,i,r){var o=0,a=this.splitByGrapheme,s=[],l=[],c=a?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",d=0,h=a?"":" ",p=0,f=0,A=0,m=!0,g=this._getWidthOfCharSpacing();r=r||0;0===c.length&&c.push([]),i-=r;for(var v=0;v<c.length;v++)u=a?c[v]:t.util.string.graphemeSplit(c[v]),p=this._measureWord(u,n,d),d+=u.length,(o+=f+p-g)>i&&!m?(s.push(l),l=[],o=p,m=!0):o+=g,m||a||l.push(h),l=l.concat(u),f=a?0:this._measureWord([h],n,d),d++,m=!1,p>A&&(A=p);return v&&s.push(l),A+r>this.dynamicMinWidth&&(this.dynamicMinWidth=A-g+r),s},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),i=this._wrapText(n.lines,this.width),r=new Array(i.length),o=0;o<i.length;o++)r[o]=i[o].join("");return n.lines=r,n.graphemeLines=i,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t),function(){var e=C.controlsUtils,t=e.scaleSkewCursorStyleHandler,n=e.scaleCursorStyleHandler,i=e.scalingEqually,r=e.scalingYOrSkewingX,o=e.scalingXOrSkewingY,a=e.scaleOrSkewActionName,s=C.Object.prototype.controls;if(s.ml=new C.Control({x:-.5,y:0,cursorStyleHandler:t,actionHandler:o,getActionName:a}),s.mr=new C.Control({x:.5,y:0,cursorStyleHandler:t,actionHandler:o,getActionName:a}),s.mb=new C.Control({x:0,y:.5,cursorStyleHandler:t,actionHandler:r,getActionName:a}),s.mt=new C.Control({x:0,y:-.5,cursorStyleHandler:t,actionHandler:r,getActionName:a}),s.tl=new C.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:i}),s.tr=new C.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:i}),s.bl=new C.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:i}),s.br=new C.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:i}),s.mtr=new C.Control({x:0,y:-.5,actionHandler:e.rotationWithSnapping,cursorStyleHandler:e.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),C.Textbox){var l=C.Textbox.prototype.controls={};l.mtr=s.mtr,l.tr=s.tr,l.br=s.br,l.tl=s.tl,l.bl=s.bl,l.mt=s.mt,l.mb=s.mb,l.mr=new C.Control({x:.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"}),l.ml=new C.Control({x:-.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"})}}()}).call(this,n(34).Buffer)},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(17)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))r.call(n,u)&&(l[u]=n[u]);if(i){s=i(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){
/*!
 * html2canvas 1.2.0 <https://html2canvas.hertzen.com>
 * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
e.exports=function(){"use strict";
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
    See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};function t(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function r(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}for(var o=function(){function e(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return e.prototype.add=function(t,n,i,r){return new e(this.left+t,this.top+n,this.width+i,this.height+r)},e.fromClientRect=function(t){return new e(t.left,t.top,t.width,t.height)},e}(),a=function(e){return o.fromClientRect(e.getBoundingClientRect())},s=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,o="";++r<n;){var a=e[r];a<=65535?i.push(a):(a-=65536,i.push(55296+(a>>10),a%1024+56320)),(r+1===n||i.length>16384)&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return o},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<c.length;d++)u[c.charCodeAt(d)]=d;var h,p=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},f=function(){function e(e,t,n,i,r,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),A=10,m=13,g=15,v=17,b=18,y=19,x=20,w=21,_=22,j=24,C=25,E=26,B=27,k=28,S=30,O=32,M=33,T=34,F=35,N=37,I=38,L=39,D=40,U=42,P=function(e){var t,n,i,r=function(e){var t,n,i,r,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),d=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=u[e.charCodeAt(t)],i=u[e.charCodeAt(t+1)],r=u[e.charCodeAt(t+2)],o=u[e.charCodeAt(t+3)],d[l++]=n<<2|i>>4,d[l++]=(15&i)<<4|r>>2,d[l++]=(3&r)<<6|63&o;return c}(e),o=Array.isArray(r)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n}(r):new Uint32Array(r),a=Array.isArray(r)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n}(r):new Uint16Array(r),s=p(a,12,o[4]/2),l=2===o[5]?p(a,(24+o[4])/2):(t=o,n=Math.ceil((24+o[4])/4),t.slice?t.slice(n,i):new Uint32Array(Array.prototype.slice.call(t,n,i)));return new f(o[0],o[1],o[2],o[3],s,l)}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),H=[S,36],R=[1,2,3,5],Q=[A,8],z=[B,E],V=R.concat(Q),K=[I,L,D,T,F],W=[g,m],X=function(e,t,n,i){var r=i[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var o=n;o<=i.length;){if((l=i[++o])===t)return!0;if(l!==A)break}if(r===A)for(o=n;o>0;){var a=i[--o];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s=n;s<=i.length;){var l;if((l=i[++s])===t)return!0;if(l!==A)break}if(a!==A)break}return!1},Y=function(e,t){for(var n=e;n>=0;){var i=t[n];if(i!==A)return i;n--}return 0},G=function(e,t,n,i,r){if(0===n[i])return"×";var o=i-1;if(Array.isArray(r)&&!0===r[o])return"×";var a=o-1,s=o+1,l=t[o],c=a>=0?t[a]:0,u=t[s];if(2===l&&3===u)return"×";if(-1!==R.indexOf(l))return"!";if(-1!==R.indexOf(u))return"×";if(-1!==Q.indexOf(u))return"×";if(8===Y(o,t))return"÷";if(11===P.get(e[o])&&(u===N||u===O||u===M))return"×";if(7===l||7===u)return"×";if(9===l)return"×";if(-1===[A,m,g].indexOf(l)&&9===u)return"×";if(-1!==[v,b,y,j,k].indexOf(u))return"×";if(Y(o,t)===_)return"×";if(X(23,_,o,t))return"×";if(X([v,b],w,o,t))return"×";if(X(12,12,o,t))return"×";if(l===A)return"÷";if(23===l||23===u)return"×";if(16===u||16===l)return"÷";if(-1!==[m,g,w].indexOf(u)||14===l)return"×";if(36===c&&-1!==W.indexOf(l))return"×";if(l===k&&36===u)return"×";if(u===x&&-1!==H.concat(x,y,C,N,O,M).indexOf(l))return"×";if(-1!==H.indexOf(u)&&l===C||-1!==H.indexOf(l)&&u===C)return"×";if(l===B&&-1!==[N,O,M].indexOf(u)||-1!==[N,O,M].indexOf(l)&&u===E)return"×";if(-1!==H.indexOf(l)&&-1!==z.indexOf(u)||-1!==z.indexOf(l)&&-1!==H.indexOf(u))return"×";if(-1!==[B,E].indexOf(l)&&(u===C||-1!==[_,g].indexOf(u)&&t[s+1]===C)||-1!==[_,g].indexOf(l)&&u===C||l===C&&-1!==[C,k,j].indexOf(u))return"×";if(-1!==[C,k,j,v,b].indexOf(u))for(var d=o;d>=0;){if((h=t[d])===C)return"×";if(-1===[k,j].indexOf(h))break;d--}if(-1!==[B,E].indexOf(u))for(d=-1!==[v,b].indexOf(l)?a:o;d>=0;){var h;if((h=t[d])===C)return"×";if(-1===[k,j].indexOf(h))break;d--}if(I===l&&-1!==[I,L,T,F].indexOf(u)||-1!==[L,T].indexOf(l)&&-1!==[L,D].indexOf(u)||-1!==[D,F].indexOf(l)&&u===D)return"×";if(-1!==K.indexOf(l)&&-1!==[x,E].indexOf(u)||-1!==K.indexOf(u)&&l===B)return"×";if(-1!==H.indexOf(l)&&-1!==H.indexOf(u))return"×";if(l===j&&-1!==H.indexOf(u))return"×";if(-1!==H.concat(C).indexOf(l)&&u===_||-1!==H.concat(C).indexOf(u)&&l===b)return"×";if(41===l&&41===u){for(var p=n[o],f=1;p>0&&41===t[--p];)f++;if(f%2!=0)return"×"}return l===O&&u===M?"×":"÷"},q=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=function(e,t){void 0===t&&(t="strict");var n=[],i=[],r=[];return e.forEach((function(e,o){var a=P.get(e);if(a>50?(r.push(!0),a-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return i.push(o),n.push(16);if(4===a||11===a){if(0===o)return i.push(o),n.push(S);var s=n[o-1];return-1===V.indexOf(s)?(i.push(i[o-1]),n.push(s)):(i.push(o),n.push(S))}return i.push(o),31===a?n.push("strict"===t?w:N):a===U||29===a?n.push(S):43===a?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(N):n.push(S):void n.push(a)})),[i,n,r]}(e,t.lineBreak),i=n[0],r=n[1],o=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map((function(e){return-1!==[C,S,U].indexOf(e)?N:e}))),[i,r,"keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0]},J=function(){function e(e,t,n,i){this.codePoints=e,this.required="!"===t,this.start=n,this.end=i}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}();!function(e){e[e.STRING_TOKEN=0]="STRING_TOKEN",e[e.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",e[e.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",e[e.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",e[e.COMMA_TOKEN=4]="COMMA_TOKEN",e[e.HASH_TOKEN=5]="HASH_TOKEN",e[e.DELIM_TOKEN=6]="DELIM_TOKEN",e[e.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",e[e.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",e[e.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",e[e.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",e[e.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",e[e.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",e[e.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",e[e.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",e[e.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",e[e.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",e[e.NUMBER_TOKEN=17]="NUMBER_TOKEN",e[e.FUNCTION=18]="FUNCTION",e[e.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",e[e.IDENT_TOKEN=20]="IDENT_TOKEN",e[e.COLUMN_TOKEN=21]="COLUMN_TOKEN",e[e.URL_TOKEN=22]="URL_TOKEN",e[e.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",e[e.CDC_TOKEN=24]="CDC_TOKEN",e[e.CDO_TOKEN=25]="CDO_TOKEN",e[e.COLON_TOKEN=26]="COLON_TOKEN",e[e.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",e[e.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",e[e.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",e[e.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",e[e.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",e[e.EOF_TOKEN=32]="EOF_TOKEN"}(h||(h={}));var Z=function(e){return e>=48&&e<=57},$=function(e){return Z(e)||e>=65&&e<=70||e>=97&&e<=102},ee=function(e){return 10===e||9===e||32===e},te=function(e){return function(e){return function(e){return e>=97&&e<=122}(e)||function(e){return e>=65&&e<=90}(e)}(e)||function(e){return e>=128}(e)||95===e},ne=function(e){return te(e)||Z(e)||45===e},ie=function(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e},re=function(e,t){return 92===e&&10!==t},oe=function(e,t,n){return 45===e?te(t)||re(t,n):!!te(e)||!(92!==e||!re(e,t))},ae=function(e,t,n){return 43===e||45===e?!!Z(t)||46===t&&Z(n):Z(46===e?t:e)},se=function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var i=[];Z(e[t]);)i.push(e[t++]);var r=i.length?parseInt(l.apply(void 0,i),10):0;46===e[t]&&t++;for(var o=[];Z(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(l.apply(void 0,o),10):0;69!==e[t]&&101!==e[t]||t++;var c=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(c=-1),t++);for(var u=[];Z(e[t]);)u.push(e[t++]);var d=u.length?parseInt(l.apply(void 0,u),10):0;return n*(r+s*Math.pow(10,-a))*Math.pow(10,c*d)},le={type:h.LEFT_PARENTHESIS_TOKEN},ce={type:h.RIGHT_PARENTHESIS_TOKEN},ue={type:h.COMMA_TOKEN},de={type:h.SUFFIX_MATCH_TOKEN},he={type:h.PREFIX_MATCH_TOKEN},pe={type:h.COLUMN_TOKEN},fe={type:h.DASH_MATCH_TOKEN},Ae={type:h.INCLUDE_MATCH_TOKEN},me={type:h.LEFT_CURLY_BRACKET_TOKEN},ge={type:h.RIGHT_CURLY_BRACKET_TOKEN},ve={type:h.SUBSTRING_MATCH_TOKEN},be={type:h.BAD_URL_TOKEN},ye={type:h.BAD_STRING_TOKEN},xe={type:h.CDO_TOKEN},we={type:h.CDC_TOKEN},_e={type:h.COLON_TOKEN},je={type:h.SEMICOLON_TOKEN},Ce={type:h.LEFT_SQUARE_BRACKET_TOKEN},Ee={type:h.RIGHT_SQUARE_BRACKET_TOKEN},Be={type:h.WHITESPACE_TOKEN},ke={type:h.EOF_TOKEN},Se=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(s(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==ke;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(ne(t)||re(n,i)){var r=oe(t,n,i)?2:1,o=this.consumeName();return{type:h.HASH_TOKEN,value:o,flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),de;break;case 39:return this.consumeStringToken(39);case 40:return le;case 41:return ce;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ve;break;case 43:if(ae(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return ue;case 45:var a=e,s=this.peekCodePoint(0),c=this.peekCodePoint(1);if(ae(a,s,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(oe(a,s,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===s&&62===c)return this.consumeCodePoint(),this.consumeCodePoint(),we;break;case 46:if(ae(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(42===u&&47===(u=this.consumeCodePoint()))return this.consumeToken();if(-1===u)return this.consumeToken()}break;case 58:return _e;case 59:return je;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),xe;break;case 64:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),f=this.peekCodePoint(2);if(oe(d,p,f))return o=this.consumeName(),{type:h.AT_KEYWORD_TOKEN,value:o};break;case 91:return Ce;case 92:if(re(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Ee;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),he;break;case 123:return me;case 125:return ge;case 117:case 85:var A=this.peekCodePoint(0),m=this.peekCodePoint(1);return 43!==A||!$(m)&&63!==m||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),fe;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),pe;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ae;break;case-1:return ke}return ee(e)?(this.consumeWhiteSpace(),Be):Z(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):te(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:h.DELIM_TOKEN,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();$(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(l.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),r=parseInt(l.apply(void 0,e.map((function(e){return 63===e?70:e}))),16);return{type:h.UNICODE_RANGE_TOKEN,start:i,end:r}}var o=parseInt(l.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&$(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];$(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();return r=parseInt(l.apply(void 0,a),16),{type:h.UNICODE_RANGE_TOKEN,start:o,end:r}}return{type:h.UNICODE_RANGE_TOKEN,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:h.FUNCTION_TOKEN,value:e}):{type:h.IDENT_TOKEN,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:h.URL_TOKEN,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===h.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:h.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),be)}for(;;){var i=this.consumeCodePoint();if(-1===i||41===i)return{type:h.URL_TOKEN,value:l.apply(void 0,e)};if(ee(i))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:h.URL_TOKEN,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),be);if(34===i||39===i||40===i||ie(i))return this.consumeBadUrlRemnants(),be;if(92===i){if(!re(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),be;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;ee(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;re(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(6e4,e);t+=l.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var i=this._value[n];if(-1===i||void 0===i||i===e)return t+=this.consumeStringSlice(n),{type:h.STRING_TOKEN,value:t};if(10===i)return this._value.splice(0,n),ye;if(92===i){var r=this._value[n+1];-1!==r&&void 0!==r&&(10===r?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):re(i,r)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||e.push(this.consumeCodePoint());Z(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(46===n&&Z(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;Z(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===n||101===n)&&((43===i||45===i)&&Z(r)||Z(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;Z(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[se(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(oe(i,r,o)){var a=this.consumeName();return{type:h.DIMENSION_TOKEN,number:t,flags:n,unit:a}}return 37===i?(this.consumeCodePoint(),{type:h.PERCENTAGE_TOKEN,number:t,flags:n}):{type:h.NUMBER_TOKEN,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if($(e)){for(var t=l(e);$(this.peekCodePoint(0))&&t.length<6;)t+=l(this.consumeCodePoint());ee(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||function(e){return e>=55296&&e<=57343}(n)||n>1114111?65533:n}return-1===e?65533:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(ne(t))e+=l(t);else{if(!re(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),Oe=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Se;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===h.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===h.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(e.type===h.WHITESPACE_TOKEN);if(e.type===h.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===h.EOF_TOKEN)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case h.LEFT_CURLY_BRACKET_TOKEN:case h.LEFT_SQUARE_BRACKET_TOKEN:case h.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case h.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===h.EOF_TOKEN||Pe(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:h.FUNCTION};;){var n=this.consumeToken();if(n.type===h.EOF_TOKEN||n.type===h.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?ke:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Me=function(e){return e.type===h.DIMENSION_TOKEN},Te=function(e){return e.type===h.NUMBER_TOKEN},Fe=function(e){return e.type===h.IDENT_TOKEN},Ne=function(e){return e.type===h.STRING_TOKEN},Ie=function(e,t){return Fe(e)&&e.value===t},Le=function(e){return e.type!==h.WHITESPACE_TOKEN},De=function(e){return e.type!==h.WHITESPACE_TOKEN&&e.type!==h.COMMA_TOKEN},Ue=function(e){var t=[],n=[];return e.forEach((function(e){if(e.type===h.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}e.type!==h.WHITESPACE_TOKEN&&n.push(e)})),n.length&&t.push(n),t},Pe=function(e,t){return t===h.LEFT_CURLY_BRACKET_TOKEN&&e.type===h.RIGHT_CURLY_BRACKET_TOKEN||t===h.LEFT_SQUARE_BRACKET_TOKEN&&e.type===h.RIGHT_SQUARE_BRACKET_TOKEN||t===h.LEFT_PARENTHESIS_TOKEN&&e.type===h.RIGHT_PARENTHESIS_TOKEN},He=function(e){return e.type===h.NUMBER_TOKEN||e.type===h.DIMENSION_TOKEN},Re=function(e){return e.type===h.PERCENTAGE_TOKEN||He(e)},Qe=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ze={type:h.NUMBER_TOKEN,number:0,flags:4},Ve={type:h.PERCENTAGE_TOKEN,number:50,flags:4},Ke={type:h.PERCENTAGE_TOKEN,number:100,flags:4},We=function(e,t,n){var i=e[0],r=e[1];return[Xe(i,t),Xe(void 0!==r?r:i,n)]},Xe=function(e,t){if(e.type===h.PERCENTAGE_TOKEN)return e.number/100*t;if(Me(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Ye=function(e){if(e.type===h.DIMENSION_TOKEN)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},Ge=function(e){return e.type===h.DIMENSION_TOKEN&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)},qe=function(e){switch(e.filter(Fe).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ze,ze];case"to top":case"bottom":return Je(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ze,Ke];case"to right":case"left":return Je(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ke,Ke];case"to bottom":case"top":return Je(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ke,ze];case"to left":case"right":return Je(270)}return 0},Je=function(e){return Math.PI*e/180},Ze=function(e){if(e.type===h.FUNCTION){var t=lt[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===h.HASH_TOKEN){if(3===e.value.length){var n=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);return tt(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(4===e.value.length){n=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);var o=e.value.substring(3,4);return tt(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===e.value.length)return n=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),tt(parseInt(n,16),parseInt(i,16),parseInt(r,16),1);if(8===e.value.length)return n=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),o=e.value.substring(6,8),tt(parseInt(n,16),parseInt(i,16),parseInt(r,16),parseInt(o,16)/255)}if(e.type===h.IDENT_TOKEN){var a=ct[e.value.toUpperCase()];if(void 0!==a)return a}return ct.TRANSPARENT},$e=function(e){return 0==(255&e)},et=function(e){var t=255&e,n=255&e>>8,i=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+i+","+n+","+t/255+")":"rgb("+r+","+i+","+n+")"},tt=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(255*i)<<0)>>>0},nt=function(e,t){if(e.type===h.NUMBER_TOKEN)return e.number;if(e.type===h.PERCENTAGE_TOKEN){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},it=function(e){var t=e.filter(De);if(3===t.length){var n=t.map(nt),i=n[0],r=n[1],o=n[2];return tt(i,r,o,1)}if(4===t.length){var a=t.map(nt),s=(i=a[0],r=a[1],o=a[2],a[3]);return tt(i,r,o,s)}return 0};function rt(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var ot,at,st=function(e){var t=e.filter(De),n=t[0],i=t[1],r=t[2],o=t[3],a=(n.type===h.NUMBER_TOKEN?Je(n.number):Ye(n))/(2*Math.PI),s=Re(i)?i.number/100:0,l=Re(r)?r.number/100:0,c=void 0!==o&&Re(o)?Xe(o,1):1;if(0===s)return tt(255*l,255*l,255*l,1);var u=l<=.5?l*(s+1):l+s-l*s,d=2*l-u,p=rt(d,u,a+1/3),f=rt(d,u,a),A=rt(d,u,a-1/3);return tt(255*p,255*f,255*A,c)},lt={hsl:st,hsla:st,rgb:it,rgba:it},ct={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(function(e){e[e.VALUE=0]="VALUE",e[e.LIST=1]="LIST",e[e.IDENT_VALUE=2]="IDENT_VALUE",e[e.TYPE_VALUE=3]="TYPE_VALUE",e[e.TOKEN_VALUE=4]="TOKEN_VALUE"})(ot||(ot={})),function(e){e[e.BORDER_BOX=0]="BORDER_BOX",e[e.PADDING_BOX=1]="PADDING_BOX",e[e.CONTENT_BOX=2]="CONTENT_BOX"}(at||(at={}));var ut,dt,ht,pt={name:"background-clip",initialValue:"border-box",prefix:!1,type:ot.LIST,parse:function(e){return e.map((function(e){if(Fe(e))switch(e.value){case"padding-box":return at.PADDING_BOX;case"content-box":return at.CONTENT_BOX}return at.BORDER_BOX}))}},ft={name:"background-color",initialValue:"transparent",prefix:!1,type:ot.TYPE_VALUE,format:"color"},At=function(e){var t=Ze(e[0]),n=e[1];return n&&Re(n)?{color:t,stop:n}:{color:t,stop:null}},mt=function(e,t){var n=e[0],i=e[e.length-1];null===n.stop&&(n.stop=ze),null===i.stop&&(i.stop=Ke);for(var r=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var l=Xe(s,t);l>o?r.push(l):r.push(o),o=l}else r.push(null)}var c=null;for(a=0;a<r.length;a++){var u=r[a];if(null===u)null===c&&(c=a);else if(null!==c){for(var d=a-c,h=(u-r[c-1])/(d+1),p=1;p<=d;p++)r[c+p-1]=h*p;c=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,r[n]/t),0)}}))},gt=function(e,t,n){var i="number"==typeof e?e:function(e,t,n){var i=t/2,r=n/2,o=Xe(e[0],t)-i,a=r-Xe(e[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)}(e,t,n),r=Math.abs(t*Math.sin(i))+Math.abs(n*Math.cos(i)),o=t/2,a=n/2,s=r/2,l=Math.sin(i-Math.PI/2)*s,c=Math.cos(i-Math.PI/2)*s;return[r,o-c,o+c,a-l,a+l]},vt=function(e,t){return Math.sqrt(e*e+t*t)},bt=function(e,t,n,i,r){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],a=t[1],s=vt(n-o,i-a);return(r?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},yt=function(e){var t=Je(180),n=[];return Ue(e).forEach((function(e,i){if(0===i){var r=e[0];if(r.type===h.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(t=qe(e));if(Ge(r))return void(t=(Ye(r)+Je(270))%Je(360))}var o=At(e);n.push(o)})),{angle:t,stops:n,type:ut.LINEAR_GRADIENT}},xt=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},wt=function(e,t,n,i,r){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(r),a},_t=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},jt={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),r=Math.round(i.height);if(e.body.removeChild(n),123===r)return!0}}return!1}(document);return Object.defineProperty(jt,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(jt,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,r=t.toDataURL();i.src=r;var o=wt(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),_t(o).then((function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=e.createElement("div");return o.style.backgroundImage="url("+r+")",o.style.height="100px",xt(i)?_t(wt(100,100,0,0,o)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),xt(n.getImageData(0,0,100,100).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(jt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(jt,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(jt,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(jt,"SUPPORT_CORS_XHR",{value:e}),e}},Ct=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.create=function(t){e.instances[t.id]=new e(t)},e.destroy=function(t){delete e.instances[t]},e.getInstance=function(t){var n=e.instances[t];if(void 0===n)throw new Error("No logger instance found with id "+t);return n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},e.instances={},e}(),Et=function(){function e(){}return e.create=function(t,n){return e._caches[t]=new Bt(t,n)},e.destroy=function(t){delete e._caches[t]},e.open=function(t){var n=e._caches[t];if(void 0!==n)return n;throw new Error('Cache with key "'+t+'" not found')},e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e.getInstance=function(){var t=e._current;if(null===t)throw new Error("No cache instance attached");return t},e.attachInstance=function(t){e._current=t},e.detachInstance=function(){e._current=null},e._caches={},e._origin="about:blank",e._current=null,e}(),Bt=function(){function e(e,t){this.id=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Nt(e)||Mt(e)?(this._cache[e]=this.loadImage(e),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,a=this;return r(this,(function(r){switch(r.label){case 0:return t=Et.isSameOrigin(e),n=!Tt(e)&&!0===this._options.useCORS&&jt.SUPPORT_CORS_IMAGES&&!t,i=!Tt(e)&&!t&&"string"==typeof this._options.proxy&&jt.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Tt(e)||i||n?(o=e,i?[4,this.proxy(o)]:[3,2]):[2];case 1:o=r.sent(),r.label=2;case 2:return Ct.getInstance(this.id).debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,(Ft(o)||n)&&(i.crossOrigin="anonymous"),i.src=o,!0===i.complete&&setTimeout((function(){return e(i)}),500),a._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise((function(r,o){var a=jt.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status)if("text"===a)r(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(s.response)}else o("Failed to proxy resource "+i+" with status code "+s.status)},s.onerror=o,s.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout){var l=t._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+i)}}s.send()}))},e}(),kt=/^data:image\/svg\+xml/i,St=/^data:image\/.*;base64,/i,Ot=/^data:image\/.*/i,Mt=function(e){return jt.SUPPORT_SVG_DRAWING||!It(e)},Tt=function(e){return Ot.test(e)},Ft=function(e){return St.test(e)},Nt=function(e){return"blob"===e.substr(0,4)},It=function(e){return"svg"===e.substr(-3).toLowerCase()||kt.test(e)},Lt=function(e){var t=dt.CIRCLE,n=ht.FARTHEST_CORNER,i=[],r=[];return Ue(e).forEach((function(e,o){var a=!0;if(0===o?a=e.reduce((function(e,t){if(Fe(t))switch(t.value){case"center":return r.push(Ve),!1;case"top":case"left":return r.push(ze),!1;case"right":case"bottom":return r.push(Ke),!1}else if(Re(t)||He(t))return r.push(t),!1;return e}),a):1===o&&(a=e.reduce((function(e,i){if(Fe(i))switch(i.value){case"circle":return t=dt.CIRCLE,!1;case"ellipse":return t=dt.ELLIPSE,!1;case"contain":case"closest-side":return n=ht.CLOSEST_SIDE,!1;case"farthest-side":return n=ht.FARTHEST_SIDE,!1;case"closest-corner":return n=ht.CLOSEST_CORNER,!1;case"cover":case"farthest-corner":return n=ht.FARTHEST_CORNER,!1}else if(He(i)||Re(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return e}),a)),a){var s=At(e);i.push(s)}})),{size:n,shape:t,stops:i,position:r,type:ut.RADIAL_GRADIENT}};!function(e){e[e.URL=0]="URL",e[e.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",e[e.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(ut||(ut={})),function(e){e[e.CIRCLE=0]="CIRCLE",e[e.ELLIPSE=1]="ELLIPSE"}(dt||(dt={})),function(e){e[e.CLOSEST_SIDE=0]="CLOSEST_SIDE",e[e.FARTHEST_SIDE=1]="FARTHEST_SIDE",e[e.CLOSEST_CORNER=2]="CLOSEST_CORNER",e[e.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(ht||(ht={}));var Dt,Ut=function(e){if(e.type===h.URL_TOKEN){var t={url:e.value,type:ut.URL};return Et.getInstance().addImage(e.value),t}if(e.type===h.FUNCTION){var n=Pt[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(e.values)}throw new Error("Unsupported image type")},Pt={"linear-gradient":function(e){var t=Je(180),n=[];return Ue(e).forEach((function(e,i){if(0===i){var r=e[0];if(r.type===h.IDENT_TOKEN&&"to"===r.value)return void(t=qe(e));if(Ge(r))return void(t=Ye(r))}var o=At(e);n.push(o)})),{angle:t,stops:n,type:ut.LINEAR_GRADIENT}},"-moz-linear-gradient":yt,"-ms-linear-gradient":yt,"-o-linear-gradient":yt,"-webkit-linear-gradient":yt,"radial-gradient":function(e){var t=dt.CIRCLE,n=ht.FARTHEST_CORNER,i=[],r=[];return Ue(e).forEach((function(e,o){var a=!0;if(0===o){var s=!1;a=e.reduce((function(e,i){if(s)if(Fe(i))switch(i.value){case"center":return r.push(Ve),e;case"top":case"left":return r.push(ze),e;case"right":case"bottom":return r.push(Ke),e}else(Re(i)||He(i))&&r.push(i);else if(Fe(i))switch(i.value){case"circle":return t=dt.CIRCLE,!1;case"ellipse":return t=dt.ELLIPSE,!1;case"at":return s=!0,!1;case"closest-side":return n=ht.CLOSEST_SIDE,!1;case"cover":case"farthest-side":return n=ht.FARTHEST_SIDE,!1;case"contain":case"closest-corner":return n=ht.CLOSEST_CORNER,!1;case"farthest-corner":return n=ht.FARTHEST_CORNER,!1}else if(He(i)||Re(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return e}),a)}if(a){var l=At(e);i.push(l)}})),{size:n,shape:t,stops:i,position:r,type:ut.RADIAL_GRADIENT}},"-moz-radial-gradient":Lt,"-ms-radial-gradient":Lt,"-o-radial-gradient":Lt,"-webkit-radial-gradient":Lt,"-webkit-gradient":function(e){var t=Je(180),n=[],i=ut.LINEAR_GRADIENT,r=dt.CIRCLE,o=ht.FARTHEST_CORNER;return Ue(e).forEach((function(e,t){var r=e[0];if(0===t){if(Fe(r)&&"linear"===r.value)return void(i=ut.LINEAR_GRADIENT);if(Fe(r)&&"radial"===r.value)return void(i=ut.RADIAL_GRADIENT)}if(r.type===h.FUNCTION)if("from"===r.name){var o=Ze(r.values[0]);n.push({stop:ze,color:o})}else if("to"===r.name)o=Ze(r.values[0]),n.push({stop:Ke,color:o});else if("color-stop"===r.name){var a=r.values.filter(De);if(2===a.length){o=Ze(a[1]);var s=a[0];Te(s)&&n.push({stop:{type:h.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:o})}}})),i===ut.LINEAR_GRADIENT?{angle:(t+Je(180))%Je(360),stops:n,type:i}:{size:o,shape:r,stops:n,position:[],type:i}}},Ht={name:"background-image",initialValue:"none",type:ot.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===h.IDENT_TOKEN&&"none"===t.value?[]:e.filter((function(e){return De(e)&&function(e){return e.type!==h.FUNCTION||Pt[e.name]}(e)})).map(Ut)}},Rt={name:"background-origin",initialValue:"border-box",prefix:!1,type:ot.LIST,parse:function(e){return e.map((function(e){if(Fe(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Qt={name:"background-position",initialValue:"0% 0%",type:ot.LIST,prefix:!1,parse:function(e){return Ue(e).map((function(e){return e.filter(Re)})).map(Qe)}};!function(e){e[e.REPEAT=0]="REPEAT",e[e.NO_REPEAT=1]="NO_REPEAT",e[e.REPEAT_X=2]="REPEAT_X",e[e.REPEAT_Y=3]="REPEAT_Y"}(Dt||(Dt={}));var zt,Vt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:ot.LIST,parse:function(e){return Ue(e).map((function(e){return e.filter(Fe).map((function(e){return e.value})).join(" ")})).map(Kt)}},Kt=function(e){switch(e){case"no-repeat":return Dt.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Dt.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Dt.REPEAT_Y;case"repeat":default:return Dt.REPEAT}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(zt||(zt={}));var Wt,Xt={name:"background-size",initialValue:"0",prefix:!1,type:ot.LIST,parse:function(e){return Ue(e).map((function(e){return e.filter(Yt)}))}},Yt=function(e){return Fe(e)||Re(e)},Gt=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:ot.TYPE_VALUE,format:"color"}},qt=Gt("top"),Jt=Gt("right"),Zt=Gt("bottom"),$t=Gt("left"),en=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:ot.LIST,parse:function(e){return Qe(e.filter(Re))}}},tn=en("top-left"),nn=en("top-right"),rn=en("bottom-right"),on=en("bottom-left");!function(e){e[e.NONE=0]="NONE",e[e.SOLID=1]="SOLID"}(Wt||(Wt={}));var an,sn=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"none":return Wt.NONE}return Wt.SOLID}}},ln=sn("top"),cn=sn("right"),un=sn("bottom"),dn=sn("left"),hn=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:ot.VALUE,prefix:!1,parse:function(e){return Me(e)?e.number:0}}},pn=hn("top"),fn=hn("right"),An=hn("bottom"),mn=hn("left"),gn={name:"color",initialValue:"transparent",prefix:!1,type:ot.TYPE_VALUE,format:"color"},vn={name:"display",initialValue:"inline-block",prefix:!1,type:ot.LIST,parse:function(e){return e.filter(Fe).reduce((function(e,t){return e|bn(t.value)}),0)}},bn=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.INLINE_START=3]="INLINE_START",e[e.INLINE_END=4]="INLINE_END"}(an||(an={}));var yn,xn={name:"float",initialValue:"none",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"left":return an.LEFT;case"right":return an.RIGHT;case"inline-start":return an.INLINE_START;case"inline-end":return an.INLINE_END}return an.NONE}},wn={name:"letter-spacing",initialValue:"0",prefix:!1,type:ot.VALUE,parse:function(e){return e.type===h.IDENT_TOKEN&&"normal"===e.value?0:e.type===h.NUMBER_TOKEN||e.type===h.DIMENSION_TOKEN?e.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(yn||(yn={}));var _n,jn={name:"line-break",initialValue:"normal",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"strict":return yn.STRICT;case"normal":default:return yn.NORMAL}}},Cn={name:"line-height",initialValue:"normal",prefix:!1,type:ot.TOKEN_VALUE},En={name:"list-style-image",initialValue:"none",type:ot.VALUE,prefix:!1,parse:function(e){return e.type===h.IDENT_TOKEN&&"none"===e.value?null:Ut(e)}};!function(e){e[e.INSIDE=0]="INSIDE",e[e.OUTSIDE=1]="OUTSIDE"}(_n||(_n={}));var Bn,kn={name:"list-style-position",initialValue:"outside",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"inside":return _n.INSIDE;case"outside":default:return _n.OUTSIDE}}};!function(e){e[e.NONE=-1]="NONE",e[e.DISC=0]="DISC",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.DECIMAL=3]="DECIMAL",e[e.CJK_DECIMAL=4]="CJK_DECIMAL",e[e.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",e[e.LOWER_ROMAN=6]="LOWER_ROMAN",e[e.UPPER_ROMAN=7]="UPPER_ROMAN",e[e.LOWER_GREEK=8]="LOWER_GREEK",e[e.LOWER_ALPHA=9]="LOWER_ALPHA",e[e.UPPER_ALPHA=10]="UPPER_ALPHA",e[e.ARABIC_INDIC=11]="ARABIC_INDIC",e[e.ARMENIAN=12]="ARMENIAN",e[e.BENGALI=13]="BENGALI",e[e.CAMBODIAN=14]="CAMBODIAN",e[e.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",e[e.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",e[e.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",e[e.DEVANAGARI=18]="DEVANAGARI",e[e.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",e[e.GEORGIAN=20]="GEORGIAN",e[e.GUJARATI=21]="GUJARATI",e[e.GURMUKHI=22]="GURMUKHI",e[e.HEBREW=22]="HEBREW",e[e.HIRAGANA=23]="HIRAGANA",e[e.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",e[e.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",e[e.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",e[e.KANNADA=27]="KANNADA",e[e.KATAKANA=28]="KATAKANA",e[e.KATAKANA_IROHA=29]="KATAKANA_IROHA",e[e.KHMER=30]="KHMER",e[e.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",e[e.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",e[e.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",e[e.LAO=34]="LAO",e[e.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",e[e.MALAYALAM=36]="MALAYALAM",e[e.MONGOLIAN=37]="MONGOLIAN",e[e.MYANMAR=38]="MYANMAR",e[e.ORIYA=39]="ORIYA",e[e.PERSIAN=40]="PERSIAN",e[e.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",e[e.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",e[e.TAMIL=43]="TAMIL",e[e.TELUGU=44]="TELUGU",e[e.THAI=45]="THAI",e[e.TIBETAN=46]="TIBETAN",e[e.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",e[e.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",e[e.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",e[e.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",e[e.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Bn||(Bn={}));var Sn,On={name:"list-style-type",initialValue:"none",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"disc":return Bn.DISC;case"circle":return Bn.CIRCLE;case"square":return Bn.SQUARE;case"decimal":return Bn.DECIMAL;case"cjk-decimal":return Bn.CJK_DECIMAL;case"decimal-leading-zero":return Bn.DECIMAL_LEADING_ZERO;case"lower-roman":return Bn.LOWER_ROMAN;case"upper-roman":return Bn.UPPER_ROMAN;case"lower-greek":return Bn.LOWER_GREEK;case"lower-alpha":return Bn.LOWER_ALPHA;case"upper-alpha":return Bn.UPPER_ALPHA;case"arabic-indic":return Bn.ARABIC_INDIC;case"armenian":return Bn.ARMENIAN;case"bengali":return Bn.BENGALI;case"cambodian":return Bn.CAMBODIAN;case"cjk-earthly-branch":return Bn.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Bn.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Bn.CJK_IDEOGRAPHIC;case"devanagari":return Bn.DEVANAGARI;case"ethiopic-numeric":return Bn.ETHIOPIC_NUMERIC;case"georgian":return Bn.GEORGIAN;case"gujarati":return Bn.GUJARATI;case"gurmukhi":return Bn.GURMUKHI;case"hebrew":return Bn.HEBREW;case"hiragana":return Bn.HIRAGANA;case"hiragana-iroha":return Bn.HIRAGANA_IROHA;case"japanese-formal":return Bn.JAPANESE_FORMAL;case"japanese-informal":return Bn.JAPANESE_INFORMAL;case"kannada":return Bn.KANNADA;case"katakana":return Bn.KATAKANA;case"katakana-iroha":return Bn.KATAKANA_IROHA;case"khmer":return Bn.KHMER;case"korean-hangul-formal":return Bn.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Bn.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Bn.KOREAN_HANJA_INFORMAL;case"lao":return Bn.LAO;case"lower-armenian":return Bn.LOWER_ARMENIAN;case"malayalam":return Bn.MALAYALAM;case"mongolian":return Bn.MONGOLIAN;case"myanmar":return Bn.MYANMAR;case"oriya":return Bn.ORIYA;case"persian":return Bn.PERSIAN;case"simp-chinese-formal":return Bn.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Bn.SIMP_CHINESE_INFORMAL;case"tamil":return Bn.TAMIL;case"telugu":return Bn.TELUGU;case"thai":return Bn.THAI;case"tibetan":return Bn.TIBETAN;case"trad-chinese-formal":return Bn.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Bn.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Bn.UPPER_ARMENIAN;case"disclosure-open":return Bn.DISCLOSURE_OPEN;case"disclosure-closed":return Bn.DISCLOSURE_CLOSED;case"none":default:return Bn.NONE}}},Mn=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:ot.TOKEN_VALUE}},Tn=Mn("top"),Fn=Mn("right"),Nn=Mn("bottom"),In=Mn("left");!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.SCROLL=2]="SCROLL",e[e.AUTO=3]="AUTO"}(Sn||(Sn={}));var Ln,Dn={name:"overflow",initialValue:"visible",prefix:!1,type:ot.LIST,parse:function(e){return e.filter(Fe).map((function(e){switch(e.value){case"hidden":return Sn.HIDDEN;case"scroll":return Sn.SCROLL;case"auto":return Sn.AUTO;case"visible":default:return Sn.VISIBLE}}))}};!function(e){e.NORMAL="normal",e.BREAK_WORD="break-word"}(Ln||(Ln={}));var Un,Pn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return Ln.BREAK_WORD;case"normal":default:return Ln.NORMAL}}},Hn=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:ot.TYPE_VALUE,format:"length-percentage"}},Rn=Hn("top"),Qn=Hn("right"),zn=Hn("bottom"),Vn=Hn("left");!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(Un||(Un={}));var Kn,Wn={name:"text-align",initialValue:"left",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"right":return Un.RIGHT;case"center":case"justify":return Un.CENTER;case"left":default:return Un.LEFT}}};!function(e){e[e.STATIC=0]="STATIC",e[e.RELATIVE=1]="RELATIVE",e[e.ABSOLUTE=2]="ABSOLUTE",e[e.FIXED=3]="FIXED",e[e.STICKY=4]="STICKY"}(Kn||(Kn={}));var Xn,Yn={name:"position",initialValue:"static",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"relative":return Kn.RELATIVE;case"absolute":return Kn.ABSOLUTE;case"fixed":return Kn.FIXED;case"sticky":return Kn.STICKY}return Kn.STATIC}},Gn={name:"text-shadow",initialValue:"none",type:ot.LIST,prefix:!1,parse:function(e){return 1===e.length&&Ie(e[0],"none")?[]:Ue(e).map((function(e){for(var t={color:ct.TRANSPARENT,offsetX:ze,offsetY:ze,blur:ze},n=0,i=0;i<e.length;i++){var r=e[i];He(r)?(0===n?t.offsetX=r:1===n?t.offsetY=r:t.blur=r,n++):t.color=Ze(r)}return t}))}};!function(e){e[e.NONE=0]="NONE",e[e.LOWERCASE=1]="LOWERCASE",e[e.UPPERCASE=2]="UPPERCASE",e[e.CAPITALIZE=3]="CAPITALIZE"}(Xn||(Xn={}));var qn,Jn={name:"text-transform",initialValue:"none",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return Xn.UPPERCASE;case"lowercase":return Xn.LOWERCASE;case"capitalize":return Xn.CAPITALIZE}return Xn.NONE}},Zn={name:"transform",initialValue:"none",prefix:!0,type:ot.VALUE,parse:function(e){if(e.type===h.IDENT_TOKEN&&"none"===e.value)return null;if(e.type===h.FUNCTION){var t=$n[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},$n={matrix:function(e){var t=e.filter((function(e){return e.type===h.NUMBER_TOKEN})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return e.type===h.NUMBER_TOKEN})).map((function(e){return e.number})),n=t[0],i=t[1],r=(t[2],t[3],t[4]),o=t[5],a=(t[6],t[7],t[8],t[9],t[10],t[11],t[12]),s=t[13];return t[14],t[15],16===t.length?[n,i,r,o,a,s]:null}},ei={type:h.PERCENTAGE_TOKEN,number:50,flags:4},ti=[ei,ei],ni={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:ot.LIST,parse:function(e){var t=e.filter(Re);return 2!==t.length?ti:[t[0],t[1]]}};!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.COLLAPSE=2]="COLLAPSE"}(qn||(qn={}));var ii,ri={name:"visible",initialValue:"none",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return qn.HIDDEN;case"collapse":return qn.COLLAPSE;case"visible":default:return qn.VISIBLE}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(ii||(ii={}));var oi,ai={name:"word-break",initialValue:"normal",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return ii.BREAK_ALL;case"keep-all":return ii.KEEP_ALL;case"normal":default:return ii.NORMAL}}},si={name:"z-index",initialValue:"auto",prefix:!1,type:ot.VALUE,parse:function(e){if(e.type===h.IDENT_TOKEN)return{auto:!0,order:0};if(Te(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},li={name:"opacity",initialValue:"1",type:ot.VALUE,prefix:!1,parse:function(e){return Te(e)?e.number:1}},ci={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:ot.TYPE_VALUE,format:"color"},ui={name:"text-decoration-line",initialValue:"none",prefix:!1,type:ot.LIST,parse:function(e){return e.filter(Fe).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},di={name:"font-family",initialValue:"",prefix:!1,type:ot.LIST,parse:function(e){var t=[],n=[];return e.forEach((function(e){switch(e.type){case h.IDENT_TOKEN:case h.STRING_TOKEN:t.push(e.value);break;case h.NUMBER_TOKEN:t.push(e.number.toString());break;case h.COMMA_TOKEN:n.push(t.join(" ")),t.length=0}})),t.length&&n.push(t.join(" ")),n.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},hi={name:"font-size",initialValue:"0",prefix:!1,type:ot.TYPE_VALUE,format:"length"},pi={name:"font-weight",initialValue:"normal",type:ot.VALUE,prefix:!1,parse:function(e){if(Te(e))return e.number;if(Fe(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},fi={name:"font-variant",initialValue:"none",type:ot.LIST,prefix:!1,parse:function(e){return e.filter(Fe).map((function(e){return e.value}))}};!function(e){e.NORMAL="normal",e.ITALIC="italic",e.OBLIQUE="oblique"}(oi||(oi={}));var Ai,mi={name:"font-style",initialValue:"normal",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return oi.OBLIQUE;case"italic":return oi.ITALIC;case"normal":default:return oi.NORMAL}}},gi=function(e,t){return 0!=(e&t)},vi={name:"content",initialValue:"none",type:ot.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===h.IDENT_TOKEN&&"none"===t.value?[]:e}},bi={name:"counter-increment",initialValue:"none",prefix:!0,type:ot.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===h.IDENT_TOKEN&&"none"===t.value)return null;for(var n=[],i=e.filter(Le),r=0;r<i.length;r++){var o=i[r],a=i[r+1];if(o.type===h.IDENT_TOKEN){var s=a&&Te(a)?a.number:1;n.push({counter:o.value,increment:s})}}return n}},yi={name:"counter-reset",initialValue:"none",prefix:!0,type:ot.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],n=e.filter(Le),i=0;i<n.length;i++){var r=n[i],o=n[i+1];if(Fe(r)&&"none"!==r.value){var a=o&&Te(o)?o.number:0;t.push({counter:r.value,reset:a})}}return t}},xi={name:"quotes",initialValue:"none",prefix:!0,type:ot.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===h.IDENT_TOKEN&&"none"===t.value)return null;var n=[],i=e.filter(Ne);if(i.length%2!=0)return null;for(var r=0;r<i.length;r+=2){var o=i[r].value,a=i[r+1].value;n.push({open:o,close:a})}return n}},wi=function(e,t,n){if(!e)return"";var i=e[Math.min(t,e.length-1)];return i?n?i.open:i.close:""},_i={name:"box-shadow",initialValue:"none",type:ot.LIST,prefix:!1,parse:function(e){return 1===e.length&&Ie(e[0],"none")?[]:Ue(e).map((function(e){for(var t={color:255,offsetX:ze,offsetY:ze,blur:ze,spread:ze,inset:!1},n=0,i=0;i<e.length;i++){var r=e[i];Ie(r,"inset")?t.inset=!0:He(r)?(0===n?t.offsetX=r:1===n?t.offsetY=r:2===n?t.blur=r:t.spread=r,n++):t.color=Ze(r)}return t}))}},ji={name:"object-fit",initialValue:"fill",prefix:!1,type:ot.IDENT_VALUE,parse:function(e){switch(e){case"contain":return"contain";case"cover":return"cover";case"none":return"none";case"scale-down":return"scale_down";case"fill":default:return"fill"}}},Ci=function(){function e(e){this.backgroundClip=ki(pt,e.backgroundClip),this.backgroundColor=ki(ft,e.backgroundColor),this.backgroundImage=ki(Ht,e.backgroundImage),this.backgroundOrigin=ki(Rt,e.backgroundOrigin),this.backgroundPosition=ki(Qt,e.backgroundPosition),this.backgroundRepeat=ki(Vt,e.backgroundRepeat),this.backgroundSize=ki(Xt,e.backgroundSize),this.borderTopColor=ki(qt,e.borderTopColor),this.borderRightColor=ki(Jt,e.borderRightColor),this.borderBottomColor=ki(Zt,e.borderBottomColor),this.borderLeftColor=ki($t,e.borderLeftColor),this.borderTopLeftRadius=ki(tn,e.borderTopLeftRadius),this.borderTopRightRadius=ki(nn,e.borderTopRightRadius),this.borderBottomRightRadius=ki(rn,e.borderBottomRightRadius),this.borderBottomLeftRadius=ki(on,e.borderBottomLeftRadius),this.borderTopStyle=ki(ln,e.borderTopStyle),this.borderRightStyle=ki(cn,e.borderRightStyle),this.borderBottomStyle=ki(un,e.borderBottomStyle),this.borderLeftStyle=ki(dn,e.borderLeftStyle),this.borderTopWidth=ki(pn,e.borderTopWidth),this.borderRightWidth=ki(fn,e.borderRightWidth),this.borderBottomWidth=ki(An,e.borderBottomWidth),this.borderLeftWidth=ki(mn,e.borderLeftWidth),this.boxShadow=ki(_i,e.boxShadow),this.color=ki(gn,e.color),this.display=ki(vn,e.display),this.float=ki(xn,e.cssFloat),this.fontFamily=ki(di,e.fontFamily),this.fontSize=ki(hi,e.fontSize),this.fontStyle=ki(mi,e.fontStyle),this.fontVariant=ki(fi,e.fontVariant),this.fontWeight=ki(pi,e.fontWeight),this.letterSpacing=ki(wn,e.letterSpacing),this.lineBreak=ki(jn,e.lineBreak),this.lineHeight=ki(Cn,e.lineHeight),this.listStyleImage=ki(En,e.listStyleImage),this.listStylePosition=ki(kn,e.listStylePosition),this.listStyleType=ki(On,e.listStyleType),this.marginTop=ki(Tn,e.marginTop),this.marginRight=ki(Fn,e.marginRight),this.marginBottom=ki(Nn,e.marginBottom),this.marginLeft=ki(In,e.marginLeft),this.opacity=ki(li,e.opacity);var t=ki(Dn,e.overflow);this.overflowX=t[0],this.overflowY=t[t.length>1?1:0],this.overflowWrap=ki(Pn,e.overflowWrap),this.paddingTop=ki(Rn,e.paddingTop),this.paddingRight=ki(Qn,e.paddingRight),this.paddingBottom=ki(zn,e.paddingBottom),this.paddingLeft=ki(Vn,e.paddingLeft),this.position=ki(Yn,e.position),this.textAlign=ki(Wn,e.textAlign),this.textDecorationColor=ki(ci,e.textDecorationColor||e.color),this.textDecorationLine=ki(ui,e.textDecorationLine),this.textShadow=ki(Gn,e.textShadow),this.textTransform=ki(Jn,e.textTransform),this.transform=ki(Zn,e.transform),this.transformOrigin=ki(ni,e.transformOrigin),this.visibility=ki(ri,e.visibility),this.wordBreak=ki(ai,e.wordBreak),this.zIndex=ki(si,e.zIndex),this.objectFit=ki(ji,e.objectFit)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===qn.VISIBLE},e.prototype.isTransparent=function(){return $e(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return this.position!==Kn.STATIC},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==an.NONE},e.prototype.isInlineLevel=function(){return gi(this.display,4)||gi(this.display,33554432)||gi(this.display,268435456)||gi(this.display,536870912)||gi(this.display,67108864)||gi(this.display,134217728)},e}(),Ei=function(e){this.content=ki(vi,e.content),this.quotes=ki(xi,e.quotes)},Bi=function(e){this.counterIncrement=ki(bi,e.counterIncrement),this.counterReset=ki(yi,e.counterReset)},ki=function(e,t){var n=new Se,i=null!=t?t.toString():e.initialValue;n.write(i);var r=new Oe(n.read());switch(e.type){case ot.IDENT_VALUE:var o=r.parseComponentValue();return e.parse(Fe(o)?o.value:e.initialValue);case ot.VALUE:return e.parse(r.parseComponentValue());case ot.LIST:return e.parse(r.parseComponentValues());case ot.TOKEN_VALUE:return r.parseComponentValue();case ot.TYPE_VALUE:switch(e.format){case"angle":return Ye(r.parseComponentValue());case"color":return Ze(r.parseComponentValue());case"image":return Ut(r.parseComponentValue());case"length":var a=r.parseComponentValue();return He(a)?a:ze;case"length-percentage":var s=r.parseComponentValue();return Re(s)?s:ze}}throw new Error("Attempting to parse unsupported css format type "+e.format)},Si=function(e){this.styles=new Ci(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&or(e)&&(e.style.transform="none"),this.bounds=a(e),this.flags=0},Oi=function(e,t){this.text=e,this.bounds=t},Mi=function(e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var r=a(n);return n.firstChild&&i.replaceChild(n.firstChild,n),r}}return new o(0,0,0,0)},Ti=function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(e,t),r.setEnd(e,t+n),o.fromClientRect(r.getBoundingClientRect())},Fi=function(e,t){return 0!==t.letterSpacing?s(e).map((function(e){return l(e)})):Ni(e,t)},Ni=function(e,t){for(var n,i=function(e,t){var n=s(e),i=q(n,t),r=i[0],o=i[1],a=i[2],l=n.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var e="×";u<l&&"×"===(e=G(n,o,r,++u,a)););if("×"!==e||u===l){var t=new J(n,e,c,u);return c=u,{value:t,done:!1}}return{done:!0,value:null}}}}(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===Ln.BREAK_WORD?"break-word":t.wordBreak}),r=[];!(n=i.next()).done;)n.value&&r.push(n.value.slice());return r},Ii=function(e,t){this.text=Li(e.data,t.textTransform),this.textBounds=function(e,t,n){var i=Fi(e,t),r=[],o=0;return i.forEach((function(e){if(t.textDecorationLine.length||e.trim().length>0)if(jt.SUPPORT_RANGE_BOUNDS)r.push(new Oi(e,Ti(n,o,e.length)));else{var i=n.splitText(e.length);r.push(new Oi(e,Mi(n))),n=i}else jt.SUPPORT_RANGE_BOUNDS||(n=n.splitText(e.length));o+=e.length})),r}(this.text,t,e)},Li=function(e,t){switch(t){case Xn.LOWERCASE:return e.toLowerCase();case Xn.CAPITALIZE:return e.replace(Di,Ui);case Xn.UPPERCASE:return e.toUpperCase();default:return e}},Di=/(^|\s|:|-|\(|\))([a-z])/g,Ui=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Pi=function(e){function n(t){var n=e.call(this,t)||this;return n.src=t.currentSrc||t.src,n.intrinsicWidth=t.naturalWidth,n.intrinsicHeight=t.naturalHeight,Et.getInstance().addImage(n.src),n}return t(n,e),n}(Si),Hi=function(e){function n(t){var n=e.call(this,t)||this;return n.canvas=t,n.intrinsicWidth=t.width,n.intrinsicHeight=t.height,n}return t(n,e),n}(Si),Ri=function(e){function n(t){var n=e.call(this,t)||this,i=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(t)),n.intrinsicWidth=t.width.baseVal.value,n.intrinsicHeight=t.height.baseVal.value,Et.getInstance().addImage(n.svg),n}return t(n,e),n}(Si),Qi=function(e){function n(t){var n=e.call(this,t)||this;return n.value=t.value,n}return t(n,e),n}(Si),zi=function(e){function n(t){var n=e.call(this,t)||this;return n.start=t.start,n.reversed="boolean"==typeof t.reversed&&!0===t.reversed,n}return t(n,e),n}(Si),Vi=[{type:h.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],Ki=[{type:h.PERCENTAGE_TOKEN,flags:0,number:50}],Wi="password",Xi=function(e){function n(t){var n,i,r,a=e.call(this,t)||this;switch(a.type=t.type.toLowerCase(),a.checked=t.checked,a.value=0===(i=(n=t).type===Wi?new Array(n.value.length+1).join("•"):n.value).length?n.placeholder||"":i,"checkbox"!==a.type&&"radio"!==a.type||(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=Wt.SOLID,a.styles.backgroundClip=[at.BORDER_BOX],a.styles.backgroundOrigin=[0],a.bounds=(r=a.bounds).width>r.height?new o(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new o(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r),a.type){case"checkbox":a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Vi;break;case"radio":a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Ki}return a}return t(n,e),n}(Si),Yi=function(e){function n(t){var n=e.call(this,t)||this,i=t.options[t.selectedIndex||0];return n.value=i&&i.text||"",n}return t(n,e),n}(Si),Gi=function(e){function n(t){var n=e.call(this,t)||this;return n.value=t.value,n}return t(n,e),n}(Si),qi=function(e){return Ze(Oe.create(e).parseComponentValue())},Ji=function(e){function n(t){var n=e.call(this,t)||this;n.src=t.src,n.width=parseInt(t.width,10)||0,n.height=parseInt(t.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){n.tree=er(t.contentWindow.document.documentElement);var i=t.contentWindow.document.documentElement?qi(getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):ct.TRANSPARENT,r=t.contentWindow.document.body?qi(getComputedStyle(t.contentWindow.document.body).backgroundColor):ct.TRANSPARENT;n.backgroundColor=$e(i)?$e(r)?n.styles.backgroundColor:r:i}}catch(e){}return n}return t(n,e),n}(Si),Zi=["OL","UL","MENU"],$i=function(e){return pr(e)?new Pi(e):hr(e)?new Hi(e):ur(e)?new Ri(e):sr(e)?new Qi(e):lr(e)?new zi(e):cr(e)?new Xi(e):vr(e)?new Yi(e):gr(e)?new Gi(e):fr(e)?new Ji(e):new Si(e)},er=function(e){var t=$i(e);return t.flags|=4,function e(t,n,i){for(var r=t.firstChild,o=void 0;r;r=o)if(o=r.nextSibling,ir(r)&&r.data.trim().length>0)n.textNodes.push(new Ii(r,n.styles));else if(rr(r)){var a=$i(r);a.styles.isVisible()&&(tr(r,a,i)?a.flags|=4:nr(a.styles)&&(a.flags|=2),-1!==Zi.indexOf(r.tagName)&&(a.flags|=8),n.elements.push(a),gr(r)||ur(r)||vr(r)||e(r,a,i))}}(e,t,t),t},tr=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||dr(e)&&n.styles.isTransparent()},nr=function(e){return e.isPositioned()||e.isFloating()},ir=function(e){return e.nodeType===Node.TEXT_NODE},rr=function(e){return e.nodeType===Node.ELEMENT_NODE},or=function(e){return rr(e)&&void 0!==e.style&&!ar(e)},ar=function(e){return"object"==typeof e.className},sr=function(e){return"LI"===e.tagName},lr=function(e){return"OL"===e.tagName},cr=function(e){return"INPUT"===e.tagName},ur=function(e){return"svg"===e.tagName},dr=function(e){return"BODY"===e.tagName},hr=function(e){return"CANVAS"===e.tagName},pr=function(e){return"IMG"===e.tagName},fr=function(e){return"IFRAME"===e.tagName},Ar=function(e){return"STYLE"===e.tagName},mr=function(e){return"SCRIPT"===e.tagName},gr=function(e){return"TEXTAREA"===e.tagName},vr=function(e){return"SELECT"===e.tagName},br=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,r=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(r=!1,n[Math.max(0,n.length-1)]+=e.increment)}));var o=[];return r&&i.forEach((function(e){var n=t.counters[e.counter];o.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),o},e}(),yr={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},xr={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},wr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},_r={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},jr=function(e,t,n,i,r,o){return e<t||e>n?Sr(e,r,o.length>0):i.integers.reduce((function(t,n,r){for(;e>=n;)e-=n,t+=i.values[r];return t}),"")+o},Cr=function(e,t,n,i){var r="";do{n||e--,r=i(e)+r,e/=t}while(e*t>=t);return r},Er=function(e,t,n,i,r){var o=n-t+1;return(e<0?"-":"")+(Cr(Math.abs(e),o,i,(function(e){return l(Math.floor(e%o)+t)}))+r)},Br=function(e,t,n){void 0===n&&(n=". ");var i=t.length;return Cr(Math.abs(e),i,!1,(function(e){return t[Math.floor(e%i)]}))+n},kr=function(e,t,n,i,r,o){if(e<-9999||e>9999)return Sr(e,Bn.CJK_DECIMAL,r.length>0);var a=Math.abs(e),s=r;if(0===a)return t[0]+s;for(var l=0;a>0&&l<=4;l++){var c=a%10;0===c&&gi(o,1)&&""!==s?s=t[c]+s:c>1||1===c&&0===l||1===c&&1===l&&gi(o,2)||1===c&&1===l&&gi(o,4)&&e>100||1===c&&l>1&&gi(o,8)?s=t[c]+(l>0?n[l-1]:"")+s:1===c&&l>0&&(s=n[l-1]+s),a=Math.floor(a/10)}return(e<0?i:"")+s},Sr=function(e,t,n){var i=n?". ":"",r=n?"、":"",o=n?", ":"",a=n?" ":"";switch(t){case Bn.DISC:return"•"+a;case Bn.CIRCLE:return"◦"+a;case Bn.SQUARE:return"◾"+a;case Bn.DECIMAL_LEADING_ZERO:var s=Er(e,48,57,!0,i);return s.length<4?"0"+s:s;case Bn.CJK_DECIMAL:return Br(e,"〇一二三四五六七八九",r);case Bn.LOWER_ROMAN:return jr(e,1,3999,yr,Bn.DECIMAL,i).toLowerCase();case Bn.UPPER_ROMAN:return jr(e,1,3999,yr,Bn.DECIMAL,i);case Bn.LOWER_GREEK:return Er(e,945,969,!1,i);case Bn.LOWER_ALPHA:return Er(e,97,122,!1,i);case Bn.UPPER_ALPHA:return Er(e,65,90,!1,i);case Bn.ARABIC_INDIC:return Er(e,1632,1641,!0,i);case Bn.ARMENIAN:case Bn.UPPER_ARMENIAN:return jr(e,1,9999,xr,Bn.DECIMAL,i);case Bn.LOWER_ARMENIAN:return jr(e,1,9999,xr,Bn.DECIMAL,i).toLowerCase();case Bn.BENGALI:return Er(e,2534,2543,!0,i);case Bn.CAMBODIAN:case Bn.KHMER:return Er(e,6112,6121,!0,i);case Bn.CJK_EARTHLY_BRANCH:return Br(e,"子丑寅卯辰巳午未申酉戌亥",r);case Bn.CJK_HEAVENLY_STEM:return Br(e,"甲乙丙丁戊己庚辛壬癸",r);case Bn.CJK_IDEOGRAPHIC:case Bn.TRAD_CHINESE_INFORMAL:return kr(e,"零一二三四五六七八九","十百千萬","負",r,14);case Bn.TRAD_CHINESE_FORMAL:return kr(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",r,15);case Bn.SIMP_CHINESE_INFORMAL:return kr(e,"零一二三四五六七八九","十百千萬","负",r,14);case Bn.SIMP_CHINESE_FORMAL:return kr(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",r,15);case Bn.JAPANESE_INFORMAL:return kr(e,"〇一二三四五六七八九","十百千万","マイナス",r,0);case Bn.JAPANESE_FORMAL:return kr(e,"零壱弐参四伍六七八九","拾百千万","マイナス",r,7);case Bn.KOREAN_HANGUL_FORMAL:return kr(e,"영일이삼사오육칠팔구","십백천만","마이너스",o,7);case Bn.KOREAN_HANJA_INFORMAL:return kr(e,"零一二三四五六七八九","十百千萬","마이너스",o,0);case Bn.KOREAN_HANJA_FORMAL:return kr(e,"零壹貳參四五六七八九","拾百千","마이너스",o,7);case Bn.DEVANAGARI:return Er(e,2406,2415,!0,i);case Bn.GEORGIAN:return jr(e,1,19999,_r,Bn.DECIMAL,i);case Bn.GUJARATI:return Er(e,2790,2799,!0,i);case Bn.GURMUKHI:return Er(e,2662,2671,!0,i);case Bn.HEBREW:return jr(e,1,10999,wr,Bn.DECIMAL,i);case Bn.HIRAGANA:return Br(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Bn.HIRAGANA_IROHA:return Br(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Bn.KANNADA:return Er(e,3302,3311,!0,i);case Bn.KATAKANA:return Br(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case Bn.KATAKANA_IROHA:return Br(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case Bn.LAO:return Er(e,3792,3801,!0,i);case Bn.MONGOLIAN:return Er(e,6160,6169,!0,i);case Bn.MYANMAR:return Er(e,4160,4169,!0,i);case Bn.ORIYA:return Er(e,2918,2927,!0,i);case Bn.PERSIAN:return Er(e,1776,1785,!0,i);case Bn.TAMIL:return Er(e,3046,3055,!0,i);case Bn.TELUGU:return Er(e,3174,3183,!0,i);case Bn.THAI:return Er(e,3664,3673,!0,i);case Bn.TIBETAN:return Er(e,3872,3881,!0,i);case Bn.DECIMAL:default:return Er(e,48,57,!0,i)}},Or=function(){function e(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new br,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}return e.prototype.toIFrame=function(e,t){var n=this,o=Tr(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,l=o.contentWindow,c=l.document,u=Fr(o).then((function(){return i(n,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(Dr),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(c.documentElement.style.top=-t.top+"px",c.documentElement.style.left=-t.left+"px",c.documentElement.style.position="absolute")),e=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(c)})).then((function(){return o}))]:[2,o]}}))}))}));return c.open(),c.write(Ir(document.doctype)+"<html></html>"),Lr(this.referenceElement.ownerDocument,a,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(e){if(hr(e))return this.createCanvasClone(e);if(Ar(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return pr(t)&&"lazy"===t.loading&&(t.loading="eager"),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(e){if(Ct.getInstance(this.options.id).error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(e){Ct.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var i=e.getContext("2d"),r=n.getContext("2d");return r&&(i?r.putImageData(i.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)),n}catch(e){}return n},e.prototype.cloneNode=function(e){if(ir(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&rr(e)&&(or(e)||ar(e))){var n=this.createElementClone(e),i=t.getComputedStyle(e),r=t.getComputedStyle(e,":before"),o=t.getComputedStyle(e,":after");this.referenceElement===e&&or(n)&&(this.clonedReferenceElement=n),dr(n)&&Hr(n);for(var a=this.counters.parse(new Bi(i)),s=this.resolvePseudoContent(e,n,r,Ai.BEFORE),l=e.firstChild;l;l=l.nextSibling)rr(l)&&(mr(l)||l.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.options.copyStyles&&rr(l)&&Ar(l)||n.appendChild(this.cloneNode(l));s&&n.insertBefore(s,n.firstChild);var c=this.resolvePseudoContent(e,n,o,Ai.AFTER);return c&&n.appendChild(c),this.counters.pop(a),i&&(this.options.copyStyles||ar(e))&&!fr(e)&&Nr(i,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(gr(e)||vr(e))&&(gr(n)||vr(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,i){var r=this;if(n){var o=n.content,a=t.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new Bi(n));var s=new Ei(n),l=a.createElement("html2canvaspseudoelement");Nr(n,l),s.content.forEach((function(t){if(t.type===h.STRING_TOKEN)l.appendChild(a.createTextNode(t.value));else if(t.type===h.URL_TOKEN){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(t.type===h.FUNCTION){if("attr"===t.name){var i=t.values.filter(Fe);i.length&&l.appendChild(a.createTextNode(e.getAttribute(i[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(De),c=o[0],u=o[1];if(c&&Fe(c)){var d=r.counters.getCounterValue(c.value),p=u&&Fe(u)?On.parse(u.value):Bn.DECIMAL;l.appendChild(a.createTextNode(Sr(d,p,!1)))}}else if("counters"===t.name){var f=t.values.filter(De),A=(c=f[0],f[1]);if(u=f[2],c&&Fe(c)){var m=r.counters.getCounterValues(c.value),g=u&&Fe(u)?On.parse(u.value):Bn.DECIMAL,v=A&&A.type===h.STRING_TOKEN?A.value:"",b=m.map((function(e){return Sr(e,g,!1)})).join(v);l.appendChild(a.createTextNode(b))}}}else if(t.type===h.IDENT_TOKEN)switch(t.value){case"open-quote":l.appendChild(a.createTextNode(wi(s.quotes,r.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(wi(s.quotes,--r.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(t.value))}})),l.className=Ur+" "+Pr;var c=i===Ai.BEFORE?" "+Ur:" "+Pr;return ar(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Ai||(Ai={}));var Mr,Tr=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body.appendChild(n),n},Fr=function(e){return new Promise((function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=e.onload=r.onreadystatechange=function(){i.onload=e.onload=r.onreadystatechange=null;var n=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),t(e))}),50)}}))},Nr=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e.item(n);"content"!==i&&t.style.setProperty(i,e.getPropertyValue(i))}return t},Ir=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Lr=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Dr=function(e){var t=e[0],n=e[1],i=e[2];t.scrollLeft=n,t.scrollTop=i},Ur="___html2canvas___pseudoelement_before",Pr="___html2canvas___pseudoelement_after",Hr=function(e){Rr(e,"."+Ur+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+Pr+':after{\n    content: "" !important;\n    display: none !important;\n}')},Rr=function(e,t){var n=e.ownerDocument;if(n){var i=n.createElement("style");i.textContent=t,e.appendChild(i)}};!function(e){e[e.VECTOR=0]="VECTOR",e[e.BEZIER_CURVE=1]="BEZIER_CURVE"}(Mr||(Mr={}));var Qr,zr=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Vr=function(){function e(e,t){this.type=Mr.VECTOR,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Kr=function(e,t,n){return new Vr(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Wr=function(){function e(e,t,n,i){this.type=Mr.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,n){var i=Kr(this.start,this.startControl,t),r=Kr(this.startControl,this.endControl,t),o=Kr(this.endControl,this.end,t),a=Kr(i,r,t),s=Kr(r,o,t),l=Kr(a,s,t);return n?new e(this.start,i,a,l):new e(l,s,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Xr=function(e){return e.type===Mr.BEZIER_CURVE},Yr=function(e){var t=e.styles,n=e.bounds,i=We(t.borderTopLeftRadius,n.width,n.height),r=i[0],o=i[1],a=We(t.borderTopRightRadius,n.width,n.height),s=a[0],l=a[1],c=We(t.borderBottomRightRadius,n.width,n.height),u=c[0],d=c[1],h=We(t.borderBottomLeftRadius,n.width,n.height),p=h[0],f=h[1],A=[];A.push((r+s)/n.width),A.push((p+u)/n.width),A.push((o+f)/n.height),A.push((l+d)/n.height);var m=Math.max.apply(Math,A);m>1&&(r/=m,o/=m,s/=m,l/=m,u/=m,d/=m,p/=m,f/=m);var g=n.width-s,v=n.height-d,b=n.width-u,y=n.height-f,x=t.borderTopWidth,w=t.borderRightWidth,_=t.borderBottomWidth,j=t.borderLeftWidth,C=Xe(t.paddingTop,e.bounds.width),E=Xe(t.paddingRight,e.bounds.width),B=Xe(t.paddingBottom,e.bounds.width),k=Xe(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=r>0||o>0?Gr(n.left,n.top,r,o,Qr.TOP_LEFT):new Vr(n.left,n.top),this.topRightBorderBox=s>0||l>0?Gr(n.left+g,n.top,s,l,Qr.TOP_RIGHT):new Vr(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||d>0?Gr(n.left+b,n.top+v,u,d,Qr.BOTTOM_RIGHT):new Vr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||f>0?Gr(n.left,n.top+y,p,f,Qr.BOTTOM_LEFT):new Vr(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||o>0?Gr(n.left+j,n.top+x,Math.max(0,r-j),Math.max(0,o-x),Qr.TOP_LEFT):new Vr(n.left+j,n.top+x),this.topRightPaddingBox=s>0||l>0?Gr(n.left+Math.min(g,n.width+j),n.top+x,g>n.width+j?0:s-j,l-x,Qr.TOP_RIGHT):new Vr(n.left+n.width-w,n.top+x),this.bottomRightPaddingBox=u>0||d>0?Gr(n.left+Math.min(b,n.width-j),n.top+Math.min(v,n.height+x),Math.max(0,u-w),d-_,Qr.BOTTOM_RIGHT):new Vr(n.left+n.width-w,n.top+n.height-_),this.bottomLeftPaddingBox=p>0||f>0?Gr(n.left+j,n.top+y,Math.max(0,p-j),f-_,Qr.BOTTOM_LEFT):new Vr(n.left+j,n.top+n.height-_),this.topLeftContentBox=r>0||o>0?Gr(n.left+j+k,n.top+x+C,Math.max(0,r-(j+k)),Math.max(0,o-(x+C)),Qr.TOP_LEFT):new Vr(n.left+j+k,n.top+x+C),this.topRightContentBox=s>0||l>0?Gr(n.left+Math.min(g,n.width+j+k),n.top+x+C,g>n.width+j+k?0:s-j+k,l-(x+C),Qr.TOP_RIGHT):new Vr(n.left+n.width-(w+E),n.top+x+C),this.bottomRightContentBox=u>0||d>0?Gr(n.left+Math.min(b,n.width-(j+k)),n.top+Math.min(v,n.height+x+C),Math.max(0,u-(w+E)),d-(_+B),Qr.BOTTOM_RIGHT):new Vr(n.left+n.width-(w+E),n.top+n.height-(_+B)),this.bottomLeftContentBox=p>0||f>0?Gr(n.left+j+k,n.top+y,Math.max(0,p-(j+k)),f-(_+B),Qr.BOTTOM_LEFT):new Vr(n.left+j+k,n.top+n.height-(_+B))};!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Qr||(Qr={}));var Gr=function(e,t,n,i,r){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=i*o,l=e+n,c=t+i;switch(r){case Qr.TOP_LEFT:return new Wr(new Vr(e,c),new Vr(e,c-s),new Vr(l-a,t),new Vr(l,t));case Qr.TOP_RIGHT:return new Wr(new Vr(e,t),new Vr(e+a,t),new Vr(l,c-s),new Vr(l,c));case Qr.BOTTOM_RIGHT:return new Wr(new Vr(l,t),new Vr(l,t+s),new Vr(e+a,c),new Vr(e,c));case Qr.BOTTOM_LEFT:default:return new Wr(new Vr(l,c),new Vr(l-a,c),new Vr(e,t+s),new Vr(e,t))}},qr=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Jr=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Zr=function(e,t,n){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=n,this.target=6},$r=function(e,t){this.type=1,this.target=t,this.path=e},eo=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},to=function(){function e(e,t){if(this.container=e,this.effects=t.slice(0),this.curves=new Yr(e),null!==e.styles.transform){var n=e.bounds.left+e.styles.transformOrigin[0].number,i=e.bounds.top+e.styles.transformOrigin[1].number,r=e.styles.transform;this.effects.push(new Zr(n,i,r))}if(e.styles.overflowX!==Sn.VISIBLE){var o=qr(this.curves),a=Jr(this.curves);zr(o,a)?this.effects.push(new $r(o,6)):(this.effects.push(new $r(o,2)),this.effects.push(new $r(a,4)))}}return e.prototype.getParentEffects=function(){var e=this.effects.slice(0);if(this.container.styles.overflowX!==Sn.VISIBLE){var t=qr(this.curves),n=Jr(this.curves);zr(t,n)||e.push(new $r(n,6))}return e},e}(),no=function(e,t){for(var n=e instanceof zi?e.start:1,i=e instanceof zi&&e.reversed,r=0;r<t.length;r++){var o=t[r];o.container instanceof Qi&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Sr(n,o.container.styles.listStyleType,!0),n+=i?-1:1}},io=function(e){var t=new to(e,[]),n=new eo(t),i=[];return function e(t,n,i,r){t.container.elements.forEach((function(o){var a=gi(o.flags,4),s=gi(o.flags,2),l=new to(o,t.getParentEffects());gi(o.styles.display,2048)&&r.push(l);var c=gi(o.flags,8)?[]:r;if(a||s){var u=a||o.styles.isPositioned()?i:n,d=new eo(l);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var h=o.styles.zIndex.order;if(h<0){var p=0;u.negativeZIndex.some((function(e,t){return h>e.element.container.styles.zIndex.order?(p=t,!1):p>0})),u.negativeZIndex.splice(p,0,d)}else if(h>0){var f=0;u.positiveZIndex.some((function(e,t){return h>=e.element.container.styles.zIndex.order?(f=t+1,!1):f>0})),u.positiveZIndex.splice(f,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else o.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);e(l,d,a?d:i,c)}else o.styles.isInlineLevel()?n.inlineLevel.push(l):n.nonInlineLevel.push(l),e(l,n,i,c);gi(o.flags,8)&&no(o,c)}))}(t,n,n,i),no(t.container,i),n},ro=function(e,t,n,i){var r=[];return Xr(e)?r.push(e.subdivide(.5,!1)):r.push(e),Xr(n)?r.push(n.subdivide(.5,!0)):r.push(n),Xr(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Xr(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},oo=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},ao=function(e){var t=e.styles,n=e.bounds,i=Xe(t.paddingLeft,n.width),r=Xe(t.paddingRight,n.width),o=Xe(t.paddingTop,n.width),a=Xe(t.paddingBottom,n.width);return n.add(i+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+o+a))},so=function(e,t,n){var i=function(e,t){return 0===e?t.bounds:2===e?ao(t):oo(t)}(ho(e.styles.backgroundOrigin,t),e),r=function(e,t){return e===at.BORDER_BOX?t.bounds:e===at.CONTENT_BOX?ao(t):oo(t)}(ho(e.styles.backgroundClip,t),e),o=uo(ho(e.styles.backgroundSize,t),n,i),a=o[0],s=o[1],l=We(ho(e.styles.backgroundPosition,t),i.width-a,i.height-s);return[po(ho(e.styles.backgroundRepeat,t),l,o,i,r),Math.round(i.left+l[0]),Math.round(i.top+l[1]),a,s]},lo=function(e){return Fe(e)&&e.value===zt.AUTO},co=function(e){return"number"==typeof e},uo=function(e,t,n){var i=t[0],r=t[1],o=t[2],a=e[0],s=e[1];if(Re(a)&&s&&Re(s))return[Xe(a,n.width),Xe(s,n.height)];var l=co(o);if(Fe(a)&&(a.value===zt.CONTAIN||a.value===zt.COVER))return co(o)?n.width/n.height<o!=(a.value===zt.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var c=co(i),u=co(r),d=c||u;if(lo(a)&&(!s||lo(s)))return c&&u?[i,r]:l||d?d&&l?[c?i:r*o,u?r:i/o]:[c?i:n.width,u?r:n.height]:[n.width,n.height];if(l){var h=0,p=0;return Re(a)?h=Xe(a,n.width):Re(s)&&(p=Xe(s,n.height)),lo(a)?h=p*o:s&&!lo(s)||(p=h/o),[h,p]}var f=null,A=null;if(Re(a)?f=Xe(a,n.width):s&&Re(s)&&(A=Xe(s,n.height)),null===f||s&&!lo(s)||(A=c&&u?f/i*r:n.height),null!==A&&lo(a)&&(f=c&&u?A/r*i:n.width),null!==f&&null!==A)return[f,A];throw new Error("Unable to calculate background-size for element")},ho=function(e,t){var n=e[t];return void 0===n?e[0]:n},po=function(e,t,n,i,r){var o=t[0],a=t[1],s=n[0],l=n[1];switch(e){case Dt.REPEAT_X:return[new Vr(Math.round(i.left),Math.round(i.top+a)),new Vr(Math.round(i.left+i.width),Math.round(i.top+a)),new Vr(Math.round(i.left+i.width),Math.round(l+i.top+a)),new Vr(Math.round(i.left),Math.round(l+i.top+a))];case Dt.REPEAT_Y:return[new Vr(Math.round(i.left+o),Math.round(i.top)),new Vr(Math.round(i.left+o+s),Math.round(i.top)),new Vr(Math.round(i.left+o+s),Math.round(i.height+i.top)),new Vr(Math.round(i.left+o),Math.round(i.height+i.top))];case Dt.NO_REPEAT:return[new Vr(Math.round(i.left+o),Math.round(i.top+a)),new Vr(Math.round(i.left+o+s),Math.round(i.top+a)),new Vr(Math.round(i.left+o+s),Math.round(i.top+a+l)),new Vr(Math.round(i.left+o),Math.round(i.top+a+l))];default:return[new Vr(Math.round(r.left),Math.round(r.top)),new Vr(Math.round(r.left+r.width),Math.round(r.top)),new Vr(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Vr(Math.round(r.left),Math.round(r.height+r.top))]}},fo=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",o.appendChild(n),i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),n.appendChild(r),n.appendChild(i);var a=i.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode("Hidden Text")),n.style.lineHeight="normal",i.style.verticalAlign="super";var s=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),Ao=function(){function e(e){this._activeEffects=[],this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,e.canvas||(this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px"),this.fontMetrics=new fo(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Ct.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.applyEffects=function(e,t){for(var n=this;this._activeEffects.length;)this.popEffect();e.filter((function(e){return gi(e.target,t)})).forEach((function(e){return n.applyEffect(e)}))},e.prototype.applyEffect=function(e){this.ctx.save(),function(e){return 0===e.type}(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),function(e){return 1===e.type}(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return(t=e.element.container.styles).isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(e)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.renderNode=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.renderTextWithLetterSpacing=function(e,t){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height):s(e.text).map((function(e){return l(e)})).reduce((function(t,i){return n.ctx.fillText(i,t,e.bounds.top+e.bounds.height),t+n.ctx.measureText(i).width}),e.bounds.left)},e.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=e.fontFamily.join(", "),i=Me(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,i,n].join(" "),n,i]},e.prototype.renderTextNode=function(e,t){return i(this,void 0,void 0,(function(){var n,i,o,a,s=this;return r(this,(function(r){return n=this.createFontStyle(t),i=n[0],o=n[1],a=n[2],this.ctx.font=i,e.textBounds.forEach((function(e){s.ctx.fillStyle=et(t.color),s.renderTextWithLetterSpacing(e,t.letterSpacing);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(t){s.ctx.shadowColor=et(t.color),s.ctx.shadowOffsetX=t.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=t.offsetY.number*s.options.scale,s.ctx.shadowBlur=t.blur.number,s.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)})),s.ctx.shadowColor="",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),t.textDecorationLine.length&&(s.ctx.fillStyle=et(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:var n=s.fontMetrics.getMetrics(o,a).baseline;s.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+n),e.bounds.width,1);break;case 2:s.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:var i=s.fontMetrics.getMetrics(o,a).middle;s.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+i),e.bounds.width,1)}})))})),[2]}))}))},e.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0)if("cover"==e.styles.objectFit){var i=30,r=30,o=(l=ao(e)).left,a=l.top;e.intrinsicWidth/l.width<e.intrinsicHeight/l.height?(i=l.width,r=e.intrinsicHeight*(l.width/e.intrinsicWidth),a=l.top+(l.height-r)/2):(i=e.intrinsicWidth*(l.height/e.intrinsicHeight),r=l.height,o=l.left+(l.width-i)/2);var s=Jr(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,o,a,i,r),this.ctx.restore()}else if("contain"==e.styles.objectFit)i=0,r=0,o=(l=ao(e)).left,a=l.top,e.intrinsicWidth/l.width<e.intrinsicHeight/l.height?(i=e.intrinsicWidth*(l.height/e.intrinsicHeight),r=l.height,o=l.left+(l.width-i)/2):(i=l.width,r=e.intrinsicHeight*(l.width/e.intrinsicWidth),a=l.top+(l.height-r)/2),s=Jr(t),this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,o,a,i,r),this.ctx.restore();else if("fill"==e.styles.objectFit){var l=ao(e);s=Jr(t),this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()}else l=ao(e),s=Jr(t),this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()},e.prototype.renderNodeContent=function(t){return i(this,void 0,void 0,(function(){var n,i,a,s,l,c,u,d,p,f,A,m,g,v;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(t.effects,4),n=t.container,i=t.curves,a=n.styles,s=0,l=n.textNodes,r.label=1;case 1:return s<l.length?(c=l[s],[4,this.renderTextNode(c,a)]):[3,4];case 2:r.sent(),r.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof Pi))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.options.cache.match(n.src)];case 6:return m=r.sent(),this.renderReplacedElement(n,i,m),[3,8];case 7:return r.sent(),Ct.getInstance(this.options.id).error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Hi&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Ri))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.options.cache.match(n.svg)];case 10:return m=r.sent(),this.renderReplacedElement(n,i,m),[3,12];case 11:return r.sent(),Ct.getInstance(this.options.id).error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Ji&&n.tree?[4,new e({id:this.options.id,scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:n.width,height:n.height,cache:this.options.cache,windowWidth:n.width,windowHeight:n.height}).render(n.tree)]:[3,14];case 13:u=r.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),r.label=14;case 14:if(n instanceof Xi&&(d=Math.min(n.bounds.width,n.bounds.height),"checkbox"===n.type?n.checked&&(this.ctx.save(),this.path([new Vr(n.bounds.left+.39363*d,n.bounds.top+.79*d),new Vr(n.bounds.left+.16*d,n.bounds.top+.5549*d),new Vr(n.bounds.left+.27347*d,n.bounds.top+.44071*d),new Vr(n.bounds.left+.39694*d,n.bounds.top+.5649*d),new Vr(n.bounds.left+.72983*d,n.bounds.top+.23*d),new Vr(n.bounds.left+.84*d,n.bounds.top+.34085*d),new Vr(n.bounds.left+.39363*d,n.bounds.top+.79*d)]),this.ctx.fillStyle=et(707406591),this.ctx.fill(),this.ctx.restore()):"radio"===n.type&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,2*Math.PI,!0),this.ctx.fillStyle=et(707406591),this.ctx.fill(),this.ctx.restore())),mo(n)&&n.value.length){switch(this.ctx.font=this.createFontStyle(a)[0],this.ctx.fillStyle=et(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign=vo(n.styles.textAlign),v=ao(n),p=0,n.styles.textAlign){case Un.CENTER:p+=v.width/2;break;case Un.RIGHT:p+=v.width}f=v.add(p,0,0,-v.height/2+1),this.ctx.save(),this.path([new Vr(v.left,v.top),new Vr(v.left+v.width,v.top),new Vr(v.left+v.width,v.top+v.height),new Vr(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Oi(n.value,f),a.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!gi(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if((A=n.styles.listStyleImage).type!==ut.URL)return[3,18];m=void 0,g=A.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.options.cache.match(g)];case 16:return m=r.sent(),this.ctx.drawImage(m,n.bounds.left-(m.width+10),n.bounds.top),[3,18];case 17:return r.sent(),Ct.getInstance(this.options.id).error("Error loading list-style-image "+g),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==Bn.NONE&&(this.ctx.font=this.createFontStyle(a)[0],this.ctx.fillStyle=et(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new o(n.bounds.left,n.bounds.top+Xe(n.styles.paddingTop,n.bounds.width),n.bounds.width,function(e,t){return Fe(e)&&"normal"===e.value?1.2*t:e.type===h.NUMBER_TOKEN?t*e.number:Re(e)?Xe(e,t):t}(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Oi(t.listValue,v),a.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},e.prototype.renderStackContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,a,s,l,c,u,d,h,p,f,A,m;return r(this,(function(r){switch(r.label){case 0:return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(m=n[t],[4,this.renderStack(m)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),i=0,o=e.nonInlineLevel,r.label=7;case 7:return i<o.length?(m=o[i],[4,this.renderNode(m)]):[3,10];case 8:r.sent(),r.label=9;case 9:return i++,[3,7];case 10:a=0,s=e.nonPositionedFloats,r.label=11;case 11:return a<s.length?(m=s[a],[4,this.renderStack(m)]):[3,14];case 12:r.sent(),r.label=13;case 13:return a++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,r.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:r.sent(),r.label=17;case 17:return l++,[3,15];case 18:u=0,d=e.inlineLevel,r.label=19;case 19:return u<d.length?(m=d[u],[4,this.renderNode(m)]):[3,22];case 20:r.sent(),r.label=21;case 21:return u++,[3,19];case 22:h=0,p=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return h<p.length?(m=p[h],[4,this.renderStack(m)]):[3,26];case 24:r.sent(),r.label=25;case 25:return h++,[3,23];case 26:f=0,A=e.positiveZIndex,r.label=27;case 27:return f<A.length?(m=A[f],[4,this.renderStack(m)]):[3,30];case 28:r.sent(),r.label=29;case 29:return f++,[3,27];case 30:return[2]}}))}))},e.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},e.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var i=Xr(e)?e.start:e;0===n?t.ctx.moveTo(i.x,i.y):t.ctx.lineTo(i.x,i.y),Xr(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},e.prototype.renderRepeat=function(e,t,n,i){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},e.prototype.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var i=this.canvas.ownerDocument.createElement("canvas");return i.width=t,i.height=n,i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},e.prototype.renderBackgroundImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,a,s;return r(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,a,s,l,c,u,d,h,p,f,A,m,g,v,b,y,x,w,_,j,C,E,B,k,S,O,M,T,F,N,I;return r(this,(function(r){switch(r.label){case 0:if(n.type!==ut.URL)return[3,5];o=void 0,a=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.options.cache.match(a)];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),Ct.getInstance(i.options.id).error("Error loading background-image "+a),[3,4];case 4:return o&&(s=so(e,t,[o.width,o.height,o.width/o.height]),y=s[0],E=s[1],B=s[2],_=s[3],j=s[4],v=i.ctx.createPattern(i.resizeImage(o,_,j),"repeat"),i.renderRepeat(y,v,E,B)),[3,6];case 5:n.type===ut.LINEAR_GRADIENT?(l=so(e,t,[null,null,null]),y=l[0],E=l[1],B=l[2],_=l[3],j=l[4],c=gt(n.angle,_,j),u=c[0],d=c[1],h=c[2],p=c[3],f=c[4],(A=document.createElement("canvas")).width=_,A.height=j,m=A.getContext("2d"),g=m.createLinearGradient(d,p,h,f),mt(n.stops,u).forEach((function(e){return g.addColorStop(e.stop,et(e.color))})),m.fillStyle=g,m.fillRect(0,0,_,j),_>0&&j>0&&(v=i.ctx.createPattern(A,"repeat"),i.renderRepeat(y,v,E,B))):function(e){return e.type===ut.RADIAL_GRADIENT}(n)&&(b=so(e,t,[null,null,null]),y=b[0],x=b[1],w=b[2],_=b[3],j=b[4],C=0===n.position.length?[Ve]:n.position,E=Xe(C[0],_),B=Xe(C[C.length-1],j),k=function(e,t,n,i,r){var o=0,a=0;switch(e.size){case ht.CLOSEST_SIDE:e.shape===dt.CIRCLE?o=a=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===dt.ELLIPSE&&(o=Math.min(Math.abs(t),Math.abs(t-i)),a=Math.min(Math.abs(n),Math.abs(n-r)));break;case ht.CLOSEST_CORNER:if(e.shape===dt.CIRCLE)o=a=Math.min(vt(t,n),vt(t,n-r),vt(t-i,n),vt(t-i,n-r));else if(e.shape===dt.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-i)),l=bt(i,r,t,n,!0),c=l[0],u=l[1];a=s*(o=vt(c-t,(u-n)/s))}break;case ht.FARTHEST_SIDE:e.shape===dt.CIRCLE?o=a=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===dt.ELLIPSE&&(o=Math.max(Math.abs(t),Math.abs(t-i)),a=Math.max(Math.abs(n),Math.abs(n-r)));break;case ht.FARTHEST_CORNER:if(e.shape===dt.CIRCLE)o=a=Math.max(vt(t,n),vt(t,n-r),vt(t-i,n),vt(t-i,n-r));else if(e.shape===dt.ELLIPSE){s=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-i));var d=bt(i,r,t,n,!1);c=d[0],u=d[1],a=s*(o=vt(c-t,(u-n)/s))}}return Array.isArray(e.size)&&(o=Xe(e.size[0],i),a=2===e.size.length?Xe(e.size[1],r):o),[o,a]}(n,E,B,_,j),S=k[0],O=k[1],S>0&&S>0&&(M=i.ctx.createRadialGradient(x+E,w+B,0,x+E,w+B,S),mt(n.stops,2*S).forEach((function(e){return M.addColorStop(e.stop,et(e.color))})),i.path(y),i.ctx.fillStyle=M,S!==O?(T=e.bounds.left+.5*e.bounds.width,F=e.bounds.top+.5*e.bounds.height,I=1/(N=O/S),i.ctx.save(),i.ctx.translate(T,F),i.ctx.transform(1,0,0,N,0,0),i.ctx.translate(-T,-F),i.ctx.fillRect(x,I*(w-F)+F,_,j*I),i.ctx.restore()):i.ctx.fill())),r.label=6;case 6:return t--,[2]}}))},i=this,o=0,a=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<a.length?(s=a[o],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},e.prototype.renderBorder=function(e,t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return this.path(function(e,t){switch(t){case 0:return ro(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ro(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ro(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ro(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}(n,t)),this.ctx.fillStyle=et(e),this.ctx.fill(),[2]}))}))},e.prototype.renderNodeBackgroundAndBorders=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,a,s,l,c,u=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.effects,2),t=e.container.styles,n=!$e(t.backgroundColor)||t.backgroundImage.length,i=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],o=go(ho(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),$e(t.backgroundColor)||(this.ctx.fillStyle=et(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){u.ctx.save();var n,i,r,o,a,s=qr(e.curves),l=t.inset?0:1e4,c=(n=s,i=-l+(t.inset?1:-1)*t.spread.number,r=(t.inset?1:-1)*t.spread.number,o=t.spread.number*(t.inset?-2:2),a=t.spread.number*(t.inset?-2:2),n.map((function(e,t){switch(t){case 0:return e.add(i,r);case 1:return e.add(i+o,r);case 2:return e.add(i+o,r+a);case 3:return e.add(i,r+a)}return e})));t.inset?(u.path(s),u.ctx.clip(),u.mask(c)):(u.mask(s),u.ctx.clip(),u.path(c)),u.ctx.shadowOffsetX=t.offsetX.number+l,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=et(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?et(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),r.label=2;case 2:a=0,s=0,l=i,r.label=3;case 3:return s<l.length?(c=l[s]).style===Wt.NONE||$e(c.color)?[3,5]:[4,this.renderBorder(c.color,a,e.curves)]:[3,7];case 4:r.sent(),r.label=5;case 5:a++,r.label=6;case 6:return s++,[3,3];case 7:return[2]}}))}))},e.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=et(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),t=io(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}}))}))},e}(),mo=function(e){return e instanceof Gi||e instanceof Yi||e instanceof Xi&&"radio"!==e.type&&"checkbox"!==e.type},go=function(e,t){switch(e){case at.BORDER_BOX:return qr(t);case at.CONTENT_BOX:return function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]}(t);case at.PADDING_BOX:default:return Jr(t)}},vo=function(e){switch(e){case Un.CENTER:return"center";case Un.RIGHT:return"right";case Un.LEFT:default:return"left"}},bo=function(){function e(e){this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),Ct.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return t=wt(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,e),[4,yo(t)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=et(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},e}(),yo=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},xo=function(e){return Ze(Oe.create(e).parseComponentValue())};"undefined"!=typeof window&&Et.setContext(window);var wo=function(e,t){return i(void 0,void 0,void 0,(function(){var i,s,l,c,u,d,h,p,f,A,m,g,v,b,y,x,w,_,j,C,E,B,k;return r(this,(function(r){switch(r.label){case 0:if(!(i=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=i.defaultView))throw new Error("Document is not attached to a Window");return l=(Math.round(1e3*Math.random())+Date.now()).toString(16),c=dr(e)||"HTML"===e.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,i,r)}(i):a(e),u=c.width,d=c.height,h=c.left,p=c.top,f=n({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},t),A={backgroundColor:"#ffffff",cache:t.cache?t.cache:Et.create(l,f),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:s.devicePixelRatio||1,windowWidth:s.innerWidth,windowHeight:s.innerHeight,scrollX:s.pageXOffset,scrollY:s.pageYOffset,x:h,y:p,width:Math.ceil(u),height:Math.ceil(d),id:l},m=n({},A,f,t),g=new o(m.scrollX,m.scrollY,m.windowWidth,m.windowHeight),Ct.create({id:l,enabled:m.logging}),Ct.getInstance(l).debug("Starting document clone"),v=new Or(e,{id:l,onclone:m.onclone,ignoreElements:m.ignoreElements,inlineImages:m.foreignObjectRendering,copyStyles:m.foreignObjectRendering}),(b=v.clonedReferenceElement)?[4,v.toIFrame(i,g)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=r.sent(),x=i.documentElement?xo(getComputedStyle(i.documentElement).backgroundColor):ct.TRANSPARENT,w=i.body?xo(getComputedStyle(i.body).backgroundColor):ct.TRANSPARENT,_=t.backgroundColor,j="string"==typeof _?xo(_):null===_?ct.TRANSPARENT:4294967295,C=e===i.documentElement?$e(x)?$e(w)?j:w:x:j,E={id:l,cache:m.cache,canvas:m.canvas,backgroundColor:C,scale:m.scale,x:m.x,y:m.y,scrollX:m.scrollX,scrollY:m.scrollY,width:m.width,height:m.height,windowWidth:m.windowWidth,windowHeight:m.windowHeight},m.foreignObjectRendering?(Ct.getInstance(l).debug("Document cloned, using foreign object rendering"),[4,new bo(E).render(b)]):[3,3];case 2:return B=r.sent(),[3,5];case 3:return Ct.getInstance(l).debug("Document cloned, using computed rendering"),Et.attachInstance(m.cache),Ct.getInstance(l).debug("Starting DOM parsing"),k=er(b),Et.detachInstance(),C===k.styles.backgroundColor&&(k.styles.backgroundColor=ct.TRANSPARENT),Ct.getInstance(l).debug("Starting renderer"),[4,new Ao(E).render(k)];case 4:B=r.sent(),r.label=5;case 5:return!0===m.removeContainer&&(Or.destroy(y)||Ct.getInstance(l).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ct.getInstance(l).debug("Finished rendering"),Ct.destroy(l),Et.destroy(l),[2,B]}}))}))};return function(e,t){return void 0===t&&(t={}),wo(e,t)}}()},function(e,t,n){e.exports=n(21)},function(module,exports,__webpack_require__){if(!jSuites)var jSuites=__webpack_require__(30);var factory;factory=function(){"use strict";var Version=(info={title:"Jspreadsheet",version:"4.7.3",type:"CE",host:"https://bossanova.uk/jspreadsheet",license:"MIT",print:function(){return[this.title+" "+this.type+" "+this.version,this.host,this.license].join("\r\n")}},function(){return info}),info,_jexcel=function jexcel(el,options){var obj={options:{}};if(!(el instanceof Element||el instanceof HTMLDocument))return console.error("Jspreadsheet: el is not a valid DOM element"),!1;if("TABLE"==el.tagName){if(!(options=_jexcel.createFromTable(el,options)))return console.error("Jspreadsheet: el is not a valid DOM element"),!1;var div=document.createElement("div");el.parentNode.insertBefore(div,el),el.remove(),el=div}var defaults={url:null,method:"GET",requestVariables:null,data:null,sorting:null,copyCompatibility:!1,root:null,rows:[],columns:[],colHeaders:[],colWidths:[],colAlignments:[],nestedHeaders:null,defaultColWidth:50,defaultColAlign:"center",minSpareRows:0,minSpareCols:0,minDimensions:[0,0],allowExport:!0,includeHeadersOnDownload:!1,includeHeadersOnCopy:!1,columnSorting:!0,columnDrag:!1,columnResize:!0,rowResize:!1,rowDrag:!0,editable:!0,allowInsertRow:!0,allowManualInsertRow:!0,allowInsertColumn:!0,allowManualInsertColumn:!0,allowDeleteRow:!0,allowDeletingAllRows:!1,allowDeleteColumn:!0,allowRenameColumn:!0,allowComments:!1,wordWrap:!1,imageOptions:null,csv:null,csvFileName:"jspreadsheet",csvHeaders:!0,csvDelimiter:",",parseTableFirstRowAsHeader:!1,parseTableAutoCellType:!1,selectionCopy:!0,mergeCells:{},toolbar:null,search:!1,pagination:!1,paginationOptions:null,fullscreen:!1,lazyLoading:!1,loadingSpin:!1,tableOverflow:!1,tableHeight:"300px",tableWidth:null,textOverflow:!1,meta:null,style:null,classes:null,parseFormulas:!0,autoIncrement:!0,autoCasting:!0,secureFormulas:!0,stripHTML:!0,stripHTMLOnCopy:!1,filters:!1,footers:null,onundo:null,onredo:null,onload:null,onchange:null,oncomments:null,onbeforechange:null,onafterchanges:null,onbeforeinsertrow:null,oninsertrow:null,onbeforeinsertcolumn:null,oninsertcolumn:null,onbeforedeleterow:null,ondeleterow:null,onbeforedeletecolumn:null,ondeletecolumn:null,onmoverow:null,onmovecolumn:null,onresizerow:null,onresizecolumn:null,onsort:null,onselection:null,oncopy:null,onpaste:null,onbeforepaste:null,onmerge:null,onfocus:null,onblur:null,onchangeheader:null,oncreateeditor:null,oneditionstart:null,oneditionend:null,onchangestyle:null,onchangemeta:null,onchangepage:null,onbeforesave:null,onsave:null,onevent:null,persistance:!1,updateTable:null,detachForUpdates:!1,freezeColumns:null,text:{noRecordsFound:"No records found",showingPage:"Showing page {0} of {1} entries",show:"Show ",search:"Search",entries:" entries",columnName:"Column name",insertANewColumnBefore:"Insert a new column before",insertANewColumnAfter:"Insert a new column after",deleteSelectedColumns:"Delete selected columns",renameThisColumn:"Rename this column",orderAscending:"Order ascending",orderDescending:"Order descending",insertANewRowBefore:"Insert a new row before",insertANewRowAfter:"Insert a new row after",deleteSelectedRows:"Delete selected rows",editComments:"Edit comments",addComments:"Add comments",comments:"Comments",clearComments:"Clear comments",copy:"Copy...",paste:"Paste...",saveAs:"Save as...",about:"About",areYouSureToDeleteTheSelectedRows:"Are you sure to delete the selected rows?",areYouSureToDeleteTheSelectedColumns:"Are you sure to delete the selected columns?",thisActionWillDestroyAnyExistingMergedCellsAreYouSure:"This action will destroy any existing merged cells. Are you sure?",thisActionWillClearYourSearchResultsAreYouSure:"This action will clear your search results. Are you sure?",thereIsAConflictWithAnotherMergedCell:"There is a conflict with another merged cell",invalidMergeProperties:"Invalid merged properties",cellAlreadyMerged:"Cell already merged",noCellsSelected:"No cells selected"},about:!0};for(var property in defaults)if(options&&options.hasOwnProperty(property))if("text"===property)for(var textKey in obj.options[property]=defaults[property],options[property])options[property].hasOwnProperty(textKey)&&(obj.options[property][textKey]=options[property][textKey]);else obj.options[property]=options[property];else obj.options[property]=defaults[property];obj.el=el,obj.corner=null,obj.contextMenu=null,obj.textarea=null,obj.ads=null,obj.content=null,obj.table=null,obj.thead=null,obj.tbody=null,obj.rows=[],obj.results=null,obj.searchInput=null,obj.toolbar=null,obj.pagination=null,obj.pageNumber=null,obj.headerContainer=null,obj.colgroupContainer=null,obj.headers=[],obj.records=[],obj.history=[],obj.formula=[],obj.colgroup=[],obj.selection=[],obj.highlighted=[],obj.selectedCell=null,obj.selectedContainer=null,obj.style=[],obj.data=null,obj.filter=null,obj.filters=[],obj.cursor=null,obj.historyIndex=-1,obj.ignoreEvents=!1,obj.ignoreHistory=!1,obj.edition=null,obj.hashString=null,obj.resizing=null,obj.dragging=null,1==obj.options.lazyLoading&&0==obj.options.tableOverflow&&0==obj.options.fullscreen&&(console.error("Jspreadsheet: The lazyloading only works when tableOverflow = yes or fullscreen = yes"),obj.options.lazyLoading=!1),obj.fullscreen=function(e){null==e&&(e=!obj.options.fullscreen),obj.options.fullscreen!=e&&(obj.options.fullscreen=e,1==e?el.classList.add("fullscreen"):el.classList.remove("fullscreen"))},obj.dispatch=function(e){if(!obj.ignoreEvents){if("function"==typeof obj.options.onevent)var t=obj.options.onevent.apply(this,arguments);"function"==typeof obj.options[e]&&(t=obj.options[e].apply(this,Array.prototype.slice.call(arguments,1)))}if("onafterchanges"==e&&obj.options.persistance){var n=1==obj.options.persistance?obj.options.url:obj.options.persistance,i=obj.prepareJson(arguments[2]);obj.save(n,i)}return t},obj.prepareTable=function(){var e=obj.options.columns.length;if(obj.options.data&&void 0!==obj.options.data[0]){var t=Object.keys(obj.options.data[0]);t.length>e&&(e=t.length)}obj.options.minDimensions[0]>e&&(e=obj.options.minDimensions[0]);for(var n=[],i=0;i<e;i++)obj.options.colHeaders[i]||(obj.options.colHeaders[i]=""),obj.options.colWidths[i]||(obj.options.colWidths[i]=obj.options.defaultColWidth),obj.options.colAlignments[i]||(obj.options.colAlignments[i]=obj.options.defaultColAlign),obj.options.columns[i]?obj.options.columns[i].type||(obj.options.columns[i].type="text"):obj.options.columns[i]={type:"text"},obj.options.columns[i].name||(obj.options.columns[i].name=t&&t[i]?t[i]:i),obj.options.columns[i].source||(obj.options.columns[i].source=[]),obj.options.columns[i].options||(obj.options.columns[i].options=[]),obj.options.columns[i].editor||(obj.options.columns[i].editor=null),obj.options.columns[i].allowEmpty||(obj.options.columns[i].allowEmpty=!1),obj.options.columns[i].title||(obj.options.columns[i].title=obj.options.colHeaders[i]?obj.options.colHeaders[i]:""),obj.options.columns[i].width||(obj.options.columns[i].width=obj.options.colWidths[i]?obj.options.colWidths[i]:obj.options.defaultColWidth),obj.options.columns[i].align||(obj.options.columns[i].align=obj.options.colAlignments[i]?obj.options.colAlignments[i]:"center"),"autocomplete"==obj.options.columns[i].type||"dropdown"==obj.options.columns[i].type?obj.options.columns[i].url&&n.push({url:obj.options.columns[i].url,index:i,method:"GET",dataType:"json",success:function(e){for(var t=0;t<e.length;t++)obj.options.columns[this.index].source.push(e[t])}}):"calendar"==obj.options.columns[i].type&&(obj.options.columns[i].options.format||(obj.options.columns[i].options.format="DD/MM/YYYY"));n.length?jSuites.ajax(n,(function(){obj.createTable()})):obj.createTable()},obj.createTable=function(){obj.table=document.createElement("table"),obj.thead=document.createElement("thead"),obj.tbody=document.createElement("tbody"),obj.headers=[],obj.colgroup=[],obj.content=document.createElement("div"),obj.content.classList.add("jexcel_content"),obj.content.onscroll=function(e){obj.scrollControls(e)},obj.content.onwheel=function(e){obj.wheelControls(e)},obj.toolbar=document.createElement("div"),obj.toolbar.classList.add("jexcel_toolbar");var e=document.createElement("div"),t=document.createTextNode(obj.options.text.search+": ");obj.searchInput=document.createElement("input"),obj.searchInput.classList.add("jexcel_search"),e.appendChild(t),e.appendChild(obj.searchInput),obj.searchInput.onfocus=function(){obj.resetSelection()};var n=document.createElement("div");if(obj.options.pagination>0&&obj.options.paginationOptions&&obj.options.paginationOptions.length>0){obj.paginationDropdown=document.createElement("select"),obj.paginationDropdown.classList.add("jexcel_pagination_dropdown"),obj.paginationDropdown.onchange=function(){obj.options.pagination=parseInt(this.value),obj.page(0)};for(var i=0;i<obj.options.paginationOptions.length;i++){var r=document.createElement("option");r.value=obj.options.paginationOptions[i],r.innerHTML=obj.options.paginationOptions[i],obj.paginationDropdown.appendChild(r)}obj.paginationDropdown.value=obj.options.pagination,n.appendChild(document.createTextNode(obj.options.text.show)),n.appendChild(obj.paginationDropdown),n.appendChild(document.createTextNode(obj.options.text.entries))}var o,a=document.createElement("div");if(a.classList.add("jexcel_filter"),a.appendChild(n),a.appendChild(e),obj.colgroupContainer=document.createElement("colgroup"),(o=document.createElement("col")).setAttribute("width","50"),obj.colgroupContainer.appendChild(o),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(var s=0;s<obj.options.nestedHeaders.length;s++)obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders[s]));else obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders));for(obj.headerContainer=document.createElement("tr"),(o=document.createElement("td")).classList.add("jexcel_selectall"),obj.headerContainer.appendChild(o),i=0;i<obj.options.columns.length;i++)obj.createCellHeader(i),obj.headerContainer.appendChild(obj.headers[i]),obj.colgroupContainer.appendChild(obj.colgroup[i]);if(obj.thead.appendChild(obj.headerContainer),1==obj.options.filters){obj.filter=document.createElement("tr");var l=document.createElement("td");for(obj.filter.appendChild(l),i=0;i<obj.options.columns.length;i++)(l=document.createElement("td")).innerHTML="&nbsp;",l.setAttribute("data-x",i),l.className="jexcel_column_filter","hidden"==obj.options.columns[i].type&&(l.style.display="none"),obj.filter.appendChild(l);obj.thead.appendChild(obj.filter)}obj.table=document.createElement("table"),obj.table.classList.add("jexcel"),obj.table.setAttribute("cellpadding","0"),obj.table.setAttribute("cellspacing","0"),obj.table.setAttribute("unselectable","yes"),obj.table.appendChild(obj.colgroupContainer),obj.table.appendChild(obj.thead),obj.table.appendChild(obj.tbody),obj.options.textOverflow||obj.table.classList.add("jexcel_overflow"),obj.corner=document.createElement("div"),obj.corner.className="jexcel_corner",obj.corner.setAttribute("unselectable","on"),obj.corner.setAttribute("onselectstart","return false"),0==obj.options.selectionCopy&&(obj.corner.style.display="none"),obj.textarea=document.createElement("textarea"),obj.textarea.className="jexcel_textarea",obj.textarea.id="jexcel_textarea",obj.textarea.tabIndex="-1",obj.contextMenu=document.createElement("div"),obj.contextMenu.className="jexcel_contextmenu",jSuites.contextmenu(obj.contextMenu,{onclick:function(){obj.contextMenu.contextmenu.close(!1)}});var c=document.createElement("a");c.setAttribute("href","https://bossanova.uk/jspreadsheet/"),obj.ads=document.createElement("div"),obj.ads.className="jexcel_about";try{if("undefined"!=typeof sessionStorage&&!sessionStorage.getItem("jexcel")){sessionStorage.setItem("jexcel",!0);var u=document.createElement("img");u.src="//bossanova.uk/jspreadsheet/logo.png",c.appendChild(u)}}catch(e){}var d=document.createElement("span");d.innerHTML="Jspreadsheet CE",c.appendChild(d),obj.ads.appendChild(c),document.createElement("div").classList.add("jexcel_table"),obj.pagination=document.createElement("div"),obj.pagination.classList.add("jexcel_pagination");var h=document.createElement("div"),p=document.createElement("div");if(obj.pagination.appendChild(h),obj.pagination.appendChild(p),obj.options.pagination||(obj.pagination.style.display="none"),1==obj.options.search&&el.appendChild(a),obj.content.appendChild(obj.table),obj.content.appendChild(obj.corner),obj.content.appendChild(obj.textarea),el.appendChild(obj.toolbar),el.appendChild(obj.content),el.appendChild(obj.pagination),el.appendChild(obj.contextMenu),el.appendChild(obj.ads),el.classList.add("jexcel_container"),obj.options.toolbar&&obj.options.toolbar.length&&obj.createToolbar(),1==obj.options.fullscreen?el.classList.add("fullscreen"):1==obj.options.tableOverflow&&(obj.options.tableHeight&&(obj.content.style["overflow-y"]="auto",obj.content.style["box-shadow"]="rgb(221 221 221) 2px 2px 5px 0.1px",obj.content.style.maxHeight=obj.options.tableHeight),obj.options.tableWidth&&(obj.content.style["overflow-x"]="auto",obj.content.style.width=obj.options.tableWidth)),1!=obj.options.tableOverflow&&obj.options.toolbar&&el.classList.add("with-toolbar"),1==obj.options.columnDrag&&obj.thead.classList.add("draggable"),1==obj.options.columnResize&&obj.thead.classList.add("resizable"),1==obj.options.rowDrag&&obj.tbody.classList.add("draggable"),1==obj.options.rowResize&&obj.tbody.classList.add("resizable"),obj.setData(),obj.options.style&&obj.setStyle(obj.options.style,null,null,1,1),obj.options.classes){var f=Object.keys(obj.options.classes);for(i=0;i<f.length;i++){var A=_jexcel.getIdFromColumnName(f[i],!0);obj.records[A[1]][A[0]].classList.add(obj.options.classes[f[i]])}}},obj.refresh=function(){obj.options.url?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.url,method:obj.options.method,data:obj.options.requestVariables,dataType:"json",success:function(e){obj.options.data=e.data?e.data:e,obj.setData(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.setData()},obj.setData=function(e){if(e&&("string"==typeof e&&(e=JSON.parse(e)),obj.options.data=e),obj.options.data||(obj.options.data=[]),obj.options.data&&obj.options.data[0]&&!Array.isArray(obj.options.data[0])){e=[];for(var t=0;t<obj.options.data.length;t++){for(var n=[],i=0;i<obj.options.columns.length;i++)n[i]=obj.options.data[t][obj.options.columns[i].name];e.push(n)}obj.options.data=e}t=0,i=0;var r=obj.options.columns.length,o=obj.options.data.length,a=obj.options.minDimensions[0],s=obj.options.minDimensions[1],l=a>r?a:r,c=s>o?s:o;for(t=0;t<c;t++)for(i=0;i<l;i++)null==obj.options.data[t]&&(obj.options.data[t]=[]),null==obj.options.data[t][i]&&(obj.options.data[t][i]="");if(obj.rows=[],obj.results=null,obj.records=[],obj.history=[],obj.historyIndex=-1,obj.tbody.innerHTML="",1==obj.options.lazyLoading){var u=0,d=obj.options.data.length<100?obj.options.data.length:100;obj.options.pagination&&(obj.options.pagination=!1,console.error("Jspreadsheet: Pagination will be disable due the lazyLoading"))}else obj.options.pagination?(obj.pageNumber||(obj.pageNumber=0),obj.options.pagination,u=obj.options.pagination*obj.pageNumber,d=obj.options.pagination*obj.pageNumber+obj.options.pagination,obj.options.data.length<d&&(d=obj.options.data.length)):(u=0,d=obj.options.data.length);for(t=0;t<obj.options.data.length;t++){var h=obj.createRow(t,obj.options.data[t]);t>=u&&t<d&&obj.tbody.appendChild(h)}if(1==obj.options.lazyLoading||obj.options.pagination&&obj.updatePagination(),obj.options.mergeCells){var p=Object.keys(obj.options.mergeCells);for(i=0;i<p.length;i++){var f=obj.options.mergeCells[p[i]];obj.setMerge(p[i],f[0],f[1],1)}}obj.updateTable(),obj.dispatch("onload",el,obj)},obj.getData=function(e,t){for(var n=[],i=0,r=0,o=1==t||0==obj.options.copyCompatibility,a=obj.options.columns.length,s=obj.options.data.length,l=0;l<s;l++){i=0;for(var c=0;c<a;c++)e&&!obj.records[l][c].classList.contains("highlight")||(n[r]||(n[r]=[]),n[r][i]=o?obj.options.data[l][c]:obj.records[l][c].innerHTML,i++);i>0&&r++}return n},obj.getJsonRow=function(e){for(var t=obj.options.data[e],n=obj.options.columns.length,i={},r=0;r<n;r++)obj.options.columns[r].name||(obj.options.columns[r].name=r),i[obj.options.columns[r].name]=t[r];return i},obj.getJson=function(e){for(var t=[],n=obj.options.columns.length,i=obj.options.data.length,r=0;r<i;r++){for(var o=null,a=0;a<n;a++)e&&!obj.records[r][a].classList.contains("highlight")||(null==o&&(o={}),obj.options.columns[a].name||(obj.options.columns[a].name=a),o[obj.options.columns[a].name]=obj.options.data[r][a]);null!=o&&t.push(o)}return t},obj.prepareJson=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].x,r=e[n].y,o=obj.options.columns[i].name?obj.options.columns[i].name:i;t[r]||(t[r]={row:r,data:{}}),t[r].data[o]=e[n].newValue}return t.filter((function(e){return null!=e}))},obj.save=function(e,t){var n=obj.dispatch("onbeforesave",el,obj,t);if(n)t=n;else if(!1===n)return!1;jSuites.ajax({url:e,method:"POST",dataType:"json",data:{data:JSON.stringify(t)},success:function(e){obj.dispatch("onsave",el,obj,t)}})},obj.getRowData=function(e){return obj.options.data[e]},obj.setRowData=function(e,t){for(var n=0;n<obj.headers.length;n++){var i=_jexcel.getColumnNameFromId([n,e]);null!=t[n]&&obj.setValue(i,t[n])}},obj.getColumnData=function(e){for(var t=[],n=0;n<obj.options.data.length;n++)t.push(obj.options.data[n][e]);return t},obj.setColumnData=function(e,t){for(var n=0;n<obj.rows.length;n++){var i=_jexcel.getColumnNameFromId([e,n]);null!=t[n]&&obj.setValue(i,t[n])}},obj.createRow=function(e,t){obj.records[e]||(obj.records[e]=[]),t||(t=obj.options.data[e]),obj.rows[e]=document.createElement("tr"),obj.rows[e].setAttribute("data-y",e);var n=null;obj.options.rows[e]&&(obj.options.rows[e].height&&(obj.rows[e].style.height=obj.options.rows[e].height),obj.options.rows[e].title&&(n=obj.options.rows[e].title)),n||(n=parseInt(e+1));var i=document.createElement("td");i.innerHTML=n,i.setAttribute("data-y",e),i.className="jexcel_row",obj.rows[e].appendChild(i);for(var r=0;r<obj.options.columns.length;r++)obj.records[e][r]=obj.createCell(r,e,t[r]),obj.rows[e].appendChild(obj.records[e][r]);return obj.rows[e]},obj.parseValue=function(e,t,n){if("="==(""+n).substr(0,1)&&1==obj.options.parseFormulas&&(n=obj.executeFormula(n,e,t)),obj.options.columns[e].mask){var i=obj.options.columns[e].decimal||".";n=""+jSuites.mask.run(n,obj.options.columns[e].mask,i)}return n},obj.createCell=function(e,t,n){var i=document.createElement("td");if(i.setAttribute("data-x",e),i.setAttribute("data-y",t),"="==(""+n).substr(0,1)&&1==obj.options.secureFormulas){var r=secureFormula(n);r!=n&&(n=r)}if(obj.options.columns[e].editor)!1===obj.options.stripHTML||!1===obj.options.columns[e].stripHTML?i.innerHTML=n:i.innerText=n,"function"==typeof obj.options.columns[e].editor.createCell&&(i=obj.options.columns[e].editor.createCell(i));else if("hidden"==obj.options.columns[e].type)i.style.display="none",i.innerText=n;else if("checkbox"==obj.options.columns[e].type||"radio"==obj.options.columns[e].type){var o=document.createElement("input");o.type=obj.options.columns[e].type,o.name="c"+e,o.checked=1==n||1==n||"true"==n,o.onclick=function(){obj.setValue(i,this.checked)},1!=obj.options.columns[e].readOnly&&0!=obj.options.editable||o.setAttribute("disabled","disabled"),i.appendChild(o),obj.options.data[t][e]=o.checked}else if("calendar"==obj.options.columns[e].type){var a=jSuites.calendar.extractDateFromString(n,obj.options.columns[e].options.format);i.innerText=jSuites.calendar.getDateString(a||n,obj.options.columns[e].options.format)}else if("dropdown"==obj.options.columns[e].type||"autocomplete"==obj.options.columns[e].type)i.classList.add("jexcel_dropdown"),i.innerText=obj.getDropDownValue(e,n);else if("color"==obj.options.columns[e].type)if("square"==obj.options.columns[e].render){var s=document.createElement("div");s.className="color",s.style.backgroundColor=n,i.appendChild(s)}else i.style.color=n,i.innerText=n;else if("image"==obj.options.columns[e].type){if(n&&"data:image"==n.substr(0,10)){var l=document.createElement("img");l.src=n,i.appendChild(l)}}else"html"==obj.options.columns[e].type||!1===obj.options.stripHTML||!1===obj.options.columns[e].stripHTML?i.innerHTML=stripScript(obj.parseValue(e,t,n)):i.innerText=obj.parseValue(e,t,n);1==obj.options.columns[e].readOnly&&(i.className="readonly");var c=obj.options.columns[e].align?obj.options.columns[e].align:"center";return i.style.textAlign=c,0!=obj.options.columns[e].wordWrap&&(1==obj.options.wordWrap||1==obj.options.columns[e].wordWrap||i.innerHTML.length>200)&&(i.style.whiteSpace="pre-wrap"),e>0&&1==this.options.textOverflow&&(n||i.innerHTML?obj.records[t][e-1].style.overflow="hidden":e==obj.options.columns.length-1&&(i.style.overflow="hidden")),i},obj.createCellHeader=function(e){var t=obj.options.columns[e].width?obj.options.columns[e].width:obj.options.defaultColWidth,n=obj.options.columns[e].align?obj.options.columns[e].align:obj.options.defaultColAlign;obj.headers[e]=document.createElement("td"),obj.options.stripHTML?obj.headers[e].innerText=obj.options.columns[e].title?obj.options.columns[e].title:_jexcel.getColumnName(e):obj.headers[e].innerHTML=obj.options.columns[e].title?obj.options.columns[e].title:_jexcel.getColumnName(e),obj.headers[e].setAttribute("data-x",e),obj.headers[e].style.textAlign=n,obj.options.columns[e].title&&obj.headers[e].setAttribute("title",obj.options.columns[e].title),obj.options.columns[e].id&&obj.headers[e].setAttribute("id",obj.options.columns[e].id),obj.colgroup[e]=document.createElement("col"),obj.colgroup[e].setAttribute("width",t),"hidden"==obj.options.columns[e].type&&(obj.headers[e].style.display="none",obj.colgroup[e].style.display="none")},obj.updateNestedHeader=function(e,t,n){obj.options.nestedHeaders[t][e].title&&(obj.options.nestedHeaders[t][e].title=n,obj.options.nestedHeaders[t].element.children[e+1].innerText=n)},obj.createNestedHeader=function(e){var t=document.createElement("tr");t.classList.add("jexcel_nested");var n=document.createElement("td");t.appendChild(n),e.element=t;for(var i=0,r=0;r<e.length;r++){e[r].colspan||(e[r].colspan=1),e[r].align||(e[r].align="center"),e[r].title||(e[r].title="");for(var o=e[r].colspan,a=[],s=0;s<o;s++)obj.options.columns[i]&&"hidden"==obj.options.columns[i].type&&o++,a.push(i),i++;(n=document.createElement("td")).setAttribute("data-column",a.join(",")),n.setAttribute("colspan",e[r].colspan),n.setAttribute("align",e[r].align),n.innerText=e[r].title,t.appendChild(n)}return t},obj.createToolbar=function(e){e?obj.options.toolbar=e:e=obj.options.toolbar;for(var t=0;t<e.length;t++)if("i"==e[t].type)(r=document.createElement("i")).classList.add("jexcel_toolbar_item"),r.classList.add("material-icons"),r.setAttribute("data-k",e[t].k),r.setAttribute("data-v",e[t].v),r.setAttribute("id",e[t].id),e[t].tooltip&&r.setAttribute("title",e[t].tooltip),e[t].onclick&&(e[t].onclick,1)?r.onclick=function(t){var n=t;return function(){e[n].onclick(el,obj,this)}}(t):r.onclick=function(){var e=this.getAttribute("data-k"),t=this.getAttribute("data-v");obj.setStyle(obj.highlighted,e,t)},r.innerText=e[t].content,obj.toolbar.appendChild(r);else if("select"==e[t].type){(r=document.createElement("select")).classList.add("jexcel_toolbar_item"),r.setAttribute("data-k",e[t].k),e[t].tooltip&&r.setAttribute("title",e[t].tooltip),e[t].onchange&&(e[t].onchange,1)?r.onchange=e[t].onchange:r.onchange=function(){var e=this.getAttribute("data-k");obj.setStyle(obj.highlighted,e,this.value)};for(var n=0;n<e[t].v.length;n++){var i=document.createElement("option");i.value=e[t].v[n],i.innerText=e[t].v[n],r.appendChild(i)}obj.toolbar.appendChild(r)}else if("color"==e[t].type){var r;(r=document.createElement("i")).classList.add("jexcel_toolbar_item"),r.classList.add("material-icons"),r.setAttribute("data-k",e[t].k),r.setAttribute("data-v",""),e[t].tooltip&&r.setAttribute("title",e[t].tooltip),obj.toolbar.appendChild(r),r.innerText=e[t].content,jSuites.color(r,{onchange:function(e,t){var n=e.getAttribute("data-k");obj.setStyle(obj.highlighted,n,t)}})}},obj.setMerge=function(e,t,n,i){var r=!1;if(!e){if(!obj.highlighted.length)return alert(obj.options.text.noCellsSelected),null;var o=parseInt(obj.highlighted[0].getAttribute("data-x")),a=parseInt(obj.highlighted[0].getAttribute("data-y")),s=parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute("data-x")),l=parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute("data-y"));e=_jexcel.getColumnNameFromId([o,a]),t=s-o+1,n=l-a+1}var c=_jexcel.getIdFromColumnName(e,!0);if(obj.options.mergeCells[e])obj.records[c[1]][c[0]].getAttribute("data-merged")&&(r=obj.options.text.cellAlreadyMerged);else if((!t||t<2)&&(!n||n<2))r=obj.options.text.invalidMergeProperties;else for(var u=c[1];u<c[1]+n;u++)for(var d=c[0];d<c[0]+t;d++)_jexcel.getColumnNameFromId([d,u]),obj.records[u][d].getAttribute("data-merged")&&(r=obj.options.text.thereIsAConflictWithAnotherMergedCell);if(r)alert(r);else{t>1?obj.records[c[1]][c[0]].setAttribute("colspan",t):t=1,n>1?obj.records[c[1]][c[0]].setAttribute("rowspan",n):n=1,obj.options.mergeCells[e]=[t,n,[]],obj.records[c[1]][c[0]].setAttribute("data-merged","true"),obj.records[c[1]][c[0]].style.overflow="hidden";for(var h=[],p=c[1];p<c[1]+n;p++)for(var f=c[0];f<c[0]+t;f++)c[0]==f&&c[1]==p||(h.push(obj.options.data[p][f]),obj.updateCell(f,p,"",!0),obj.options.mergeCells[e][2].push(obj.records[p][f]),obj.records[p][f].style.display="none",obj.records[p][f]=obj.records[c[1]][c[0]]);obj.updateSelection(obj.records[c[1]][c[0]]),i||(obj.setHistory({action:"setMerge",column:e,colspan:t,rowspan:n,data:h}),obj.dispatch("onmerge",el,e,t,n))}},obj.getMerge=function(e){var t={};if(e)t=obj.options.mergeCells[e]?[obj.options.mergeCells[e][0],obj.options.mergeCells[e][1]]:null;else if(obj.options.mergeCells){obj.options.mergeCells;for(var n=Object.keys(obj.options.mergeCells),i=0;i<n.length;i++)t[n[i]]=[obj.options.mergeCells[n[i]][0],obj.options.mergeCells[n[i]][1]]}return t},obj.removeMerge=function(e,t,n){if(obj.options.mergeCells[e]){var i=_jexcel.getIdFromColumnName(e,!0);obj.records[i[1]][i[0]].removeAttribute("colspan"),obj.records[i[1]][i[0]].removeAttribute("rowspan"),obj.records[i[1]][i[0]].removeAttribute("data-merged");for(var r=obj.options.mergeCells[e],o=0,a=0;a<r[1];a++)for(var s=0;s<r[0];s++)(a>0||s>0)&&(obj.records[i[1]+a][i[0]+s]=r[2][o],obj.records[i[1]+a][i[0]+s].style.display="",t&&t[o]&&obj.updateCell(i[0]+s,i[1]+a,t[o]),o++);obj.updateSelection(obj.records[i[1]][i[0]],obj.records[i[1]+a-1][i[0]+s-1]),n||delete obj.options.mergeCells[e]}},obj.destroyMerged=function(e){if(obj.options.mergeCells){obj.options.mergeCells;for(var t=Object.keys(obj.options.mergeCells),n=0;n<t.length;n++)obj.removeMerge(t[n],null,e)}},obj.isColMerged=function(e,t){var n=[];if(obj.options.mergeCells)for(var i=Object.keys(obj.options.mergeCells),r=0;r<i.length;r++){var o=_jexcel.getIdFromColumnName(i[r],!0),a=obj.options.mergeCells[i[r]][0],s=o[0],l=o[0]+(a>1?a-1:0);null==t?s<=e&&l>=e&&n.push(i[r]):t?s<e&&l>=e&&n.push(i[r]):s<=e&&l>e&&n.push(i[r])}return n},obj.isRowMerged=function(e,t){var n=[];if(obj.options.mergeCells)for(var i=Object.keys(obj.options.mergeCells),r=0;r<i.length;r++){var o=_jexcel.getIdFromColumnName(i[r],!0),a=obj.options.mergeCells[i[r]][1],s=o[1],l=o[1]+(a>1?a-1:0);null==t?s<=e&&l>=e&&n.push(i[r]):t?s<e&&l>=e&&n.push(i[r]):s<=e&&l>e&&n.push(i[r])}return n},obj.openFilter=function(e){if(obj.options.filters){e=parseInt(e),obj.resetSelection();var t=[];if("checkbox"==obj.options.columns[e].type)t.push({id:"true",name:"True"}),t.push({id:"false",name:"False"});else{for(var n=[],i=!1,r=0;r<obj.options.data.length;r++){var o=obj.options.data[r][e],a=obj.records[r][e].innerHTML;o&&a?n[o]=a:i=!0}var s=Object.keys(n);for(t=[],r=0;r<s.length;r++)t.push({id:s[r],name:n[s[r]]});i&&t.push({value:"",id:"",name:"(Blanks)"})}var l=document.createElement("div");obj.filter.children[e+1].innerHTML="",obj.filter.children[e+1].appendChild(l),obj.filter.children[e+1].style.paddingLeft="0px",obj.filter.children[e+1].style.paddingRight="0px",obj.filter.children[e+1].style.overflow="initial";var c={data:t,multiple:!0,autocomplete:!0,opened:!0,value:void 0!==obj.filters[e]?obj.filters[e]:null,width:"100%",position:1==obj.options.tableOverflow||1==obj.options.fullscreen,onclose:function(t){obj.resetFilters(),obj.filters[e]=t.dropdown.getValue(!0),obj.filter.children[e+1].innerHTML=t.dropdown.getText(),obj.filter.children[e+1].style.paddingLeft="",obj.filter.children[e+1].style.paddingRight="",obj.filter.children[e+1].style.overflow="",obj.closeFilter(e),obj.refreshSelection()}};jSuites.dropdown(l,c)}else console.log("Jspreadsheet: filters not enabled.")},obj.resetFilters=function(){if(obj.options.filters)for(var e=0;e<obj.filter.children.length;e++)obj.filter.children[e].innerHTML="&nbsp;",obj.filters[e]=null},obj.closeFilter=function(e){if(!e)for(var t=0;t<obj.filter.children.length;t++)obj.filters[t]&&(e=t);var n=function(e,t,n){for(var i=0;i<e.length;i++)if(""==e[i]&&(!1===obj.options.data[n][t]||""+obj.options.data[n][t]=="")||""!=e[i]&&((""+obj.options.data[n][t]).search(e[i])>=0||(""+obj.records[n][t].innerHTML).search(e[i])>=0))return!0;return!1},i=obj.filters[e];obj.results=[];for(var r=0;r<obj.options.data.length;r++)n(i,e,r)&&obj.results.push(r);obj.results.length||(obj.results=null),obj.updateResult()},obj.openEditor=function(e,t,n){var i=e.getAttribute("data-y"),r=e.getAttribute("data-x");obj.dispatch("oneditionstart",el,e,r,i),r>0&&(obj.records[i][r-1].style.overflow="hidden");var o=function(t){var n=e.getBoundingClientRect(),o=document.createElement(t);return o.style.width=n.width+"px",o.style.height=n.height-2+"px",o.style.minHeight=n.height-2+"px",e.classList.add("editor"),e.innerHTML="",e.appendChild(o),obj.dispatch("oncreateeditor",el,e,r,i,o),o};if(1==e.classList.contains("readonly"));else if(obj.edition=[obj.records[i][r],obj.records[i][r].innerHTML,r,i],obj.options.columns[r].editor)obj.options.columns[r].editor.openEditor(e,el,t,n);else if("hidden"==obj.options.columns[r].type);else if("checkbox"==obj.options.columns[r].type||"radio"==obj.options.columns[r].type){var a=!e.children[0].checked;obj.setValue(e,a),obj.edition=null}else if("dropdown"==obj.options.columns[r].type||"autocomplete"==obj.options.columns[r].type){if(a=obj.options.data[i][r],obj.options.columns[r].multiple&&!Array.isArray(a)&&(a=a.split(";")),"function"==typeof obj.options.columns[r].filter)var s=obj.options.columns[r].filter(el,e,r,i,obj.options.columns[r].source);else s=obj.options.columns[r].source;for(var l=[],c=0;c<s.length;c++)l.push(s[c]);var u=o("div"),d={data:l,multiple:!!obj.options.columns[r].multiple,autocomplete:!(!obj.options.columns[r].autocomplete&&"autocomplete"!=obj.options.columns[r].type),opened:!0,value:a,width:"100%",height:u.style.minHeight,position:1==obj.options.tableOverflow||1==obj.options.fullscreen,onclose:function(){obj.closeEditor(e,!0)}};obj.options.columns[r].options&&obj.options.columns[r].options.type&&(d.type=obj.options.columns[r].options.type),jSuites.dropdown(u,d)}else if("calendar"==obj.options.columns[r].type||"color"==obj.options.columns[r].type)a=obj.options.data[i][r],(u=o("input")).value=a,1!=obj.options.tableOverflow&&1!=obj.options.fullscreen||(obj.options.columns[r].options.position=!0),obj.options.columns[r].options.value=obj.options.data[i][r],obj.options.columns[r].options.opened=!0,obj.options.columns[r].options.onclose=function(t,n){obj.closeEditor(e,!0)},"color"==obj.options.columns[r].type?jSuites.color(u,obj.options.columns[r].options):jSuites.calendar(u,obj.options.columns[r].options),u.focus();else if("html"==obj.options.columns[r].type){a=obj.options.data[i][r],(u=o("div")).style.position="relative",(f=document.createElement("div")).classList.add("jexcel_richtext"),u.appendChild(f),jSuites.editor(f,{focus:!0,value:a});var h=e.getBoundingClientRect(),p=f.getBoundingClientRect();window.innerHeight<h.bottom+p.height?f.style.top=h.top-(p.height+2)+"px":f.style.top=h.top+"px"}else if("image"==obj.options.columns[r].type){var f,A=e.children[0];(u=o("div")).style.position="relative",(f=document.createElement("div")).classList.add("jclose"),A&&A.src&&f.appendChild(A),u.appendChild(f),jSuites.image(f,obj.options.imageOptions),h=e.getBoundingClientRect(),p=f.getBoundingClientRect(),window.innerHeight<h.bottom+p.height?f.style.top=h.top-(p.height+2)+"px":f.style.top=h.top+"px"}else{if(a=1==t?"":obj.options.data[i][r],0==obj.options.columns[r].wordWrap||1!=obj.options.wordWrap&&1!=obj.options.columns[r].wordWrap)u=o("input"),obj.options.columns[r].mask&&u.setAttribute("data-mask",obj.options.columns[r].mask);else var u=o("textarea");u.onblur=function(){obj.closeEditor(e,!0)},u.focus(),u.value=a,u.scrollLeft=u.scrollWidth}},obj.closeEditor=function(e,t){var n=parseInt(e.getAttribute("data-x")),i=parseInt(e.getAttribute("data-y"));if(1==t){if(obj.options.columns[n].editor)var r=obj.options.columns[n].editor.closeEditor(e,t);else if("checkbox"==obj.options.columns[n].type||"radio"==obj.options.columns[n].type||"hidden"==obj.options.columns[n].type);else if("dropdown"==obj.options.columns[n].type||"autocomplete"==obj.options.columns[n].type)r=e.children[0].dropdown.close(!0);else if("calendar"==obj.options.columns[n].type)r=e.children[0].calendar.close(!0);else if("color"==obj.options.columns[n].type)r=e.children[0].color.close(!0);else if("html"==obj.options.columns[n].type)r=e.children[0].children[0].editor.getData();else if("image"==obj.options.columns[n].type){var o=e.children[0].children[0].children[0];r=o&&"IMG"==o.tagName?o.src:""}else"numeric"==obj.options.columns[n].type?("="!=(r=e.children[0].value).substr(0,1)&&""==r&&(r=obj.options.columns[n].allowEmpty?"":0),e.children[0].onblur=null):(r=e.children[0].value,e.children[0].onblur=null);obj.options.data[i][n]==r?e.innerHTML=obj.edition[1]:obj.setValue(e,r)}else obj.options.columns[n].editor?obj.options.columns[n].editor.closeEditor(e,t):"dropdown"==obj.options.columns[n].type||"autocomplete"==obj.options.columns[n].type?e.children[0].dropdown.close(!0):"calendar"==obj.options.columns[n].type?e.children[0].calendar.close(!0):"color"==obj.options.columns[n].type?e.children[0].color.close(!0):e.children[0].onblur=null,e.innerHTML=obj.edition&&obj.edition[1]?obj.edition[1]:"";obj.dispatch("oneditionend",el,e,n,i,r,t),e.classList.remove("editor"),obj.edition=null},obj.getCell=function(e){var t=(e=_jexcel.getIdFromColumnName(e,!0))[0],n=e[1];return obj.records[n][t]},obj.getCellFromCoords=function(e,t){return obj.records[t][e]},obj.getLabel=function(e){var t=(e=_jexcel.getIdFromColumnName(e,!0))[0],n=e[1];return obj.records[n][t].innerHTML},obj.getLabelFromCoords=function(e,t){return obj.records[t][e].innerHTML},obj.getValue=function(e,t){if("object"==typeof e)var n=e.getAttribute("data-x"),i=e.getAttribute("data-y");else n=(e=_jexcel.getIdFromColumnName(e,!0))[0],i=e[1];var r=null;return null!=n&&null!=i&&(obj.records[i]&&obj.records[i][n]&&(t||1==obj.options.copyCompatibility)?r=obj.records[i][n].innerHTML:obj.options.data[i]&&"undefined"!=obj.options.data[i][n]&&(r=obj.options.data[i][n])),r},obj.getValueFromCoords=function(e,t,n){var i=null;return null!=e&&null!=t&&(obj.records[t]&&obj.records[t][e]&&n||1==obj.options.copyCompatibility?i=obj.records[t][e].innerHTML:obj.options.data[t]&&"undefined"!=obj.options.data[t][e]&&(i=obj.options.data[t][e])),i},obj.setValue=function(e,t,n){var i=[];if("string"==typeof e){var r=(l=_jexcel.getIdFromColumnName(e,!0))[0],o=l[1];i.push(obj.updateCell(r,o,t,n)),obj.updateFormulaChain(r,o,i)}else if(r=null,o=null,e&&e.getAttribute&&(r=e.getAttribute("data-x"),o=e.getAttribute("data-y")),null!=r&&null!=o)i.push(obj.updateCell(r,o,t,n)),obj.updateFormulaChain(r,o,i);else{var a=Object.keys(e);if(a.length>0)for(var s=0;s<a.length;s++){var l;if("string"==typeof e[s])r=(l=_jexcel.getIdFromColumnName(e[s],!0))[0],o=l[1];else null!=e[s].x&&null!=e[s].y?(r=e[s].x,o=e[s].y,null!=e[s].newValue?t=e[s].newValue:null!=e[s].value&&(t=e[s].value)):(r=e[s].getAttribute("data-x"),o=e[s].getAttribute("data-y"));null!=r&&null!=o&&(i.push(obj.updateCell(r,o,t,n)),obj.updateFormulaChain(r,o,i))}}obj.setHistory({action:"setValue",records:i,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,i)},obj.setValueFromCoords=function(e,t,n,i){var r=[];r.push(obj.updateCell(e,t,n,i)),obj.updateFormulaChain(e,t,r),obj.setHistory({action:"setValue",records:r,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,r)},obj.setCheckRadioValue=function(){for(var e=[],t=Object.keys(obj.highlighted),n=0;n<t.length;n++){var i=obj.highlighted[n].getAttribute("data-x"),r=obj.highlighted[n].getAttribute("data-y");"checkbox"!=obj.options.columns[i].type&&"radio"!=obj.options.columns[i].type||e.push(obj.updateCell(i,r,!obj.options.data[r][i]))}e.length&&(obj.setHistory({action:"setValue",records:e,selection:obj.selectedCell}),obj.onafterchanges(el,e))};var stripScript=function(e){var t=new Option;t.innerHTML=e;var n=null;for(e=t.getElementsByTagName("script");n=e[0];)n.parentNode.removeChild(n);return t.innerHTML};obj.updateCell=function(e,t,n,i){if(1!=obj.records[t][e].classList.contains("readonly")||i){var r;if("="==(""+n).substr(0,1)&&1==obj.options.secureFormulas&&(r=secureFormula(n))!=n&&(n=r),null!=(r=obj.dispatch("onbeforechange",el,obj.records[t][e],e,t,n))&&(n=r),obj.options.columns[e].editor&&"function"==typeof obj.options.columns[e].editor.updateCell&&(n=obj.options.columns[e].editor.updateCell(obj.records[t][e],n,i)),c={x:e,y:t,col:e,row:t,newValue:n,oldValue:obj.options.data[t][e]},obj.options.columns[e].editor)obj.options.data[t][e]=n;else if("checkbox"==obj.options.columns[e].type||"radio"==obj.options.columns[e].type){if("radio"==obj.options.columns[e].type)for(var o=0;o<obj.options.data.length;o++)obj.options.data[o][e]=!1;obj.records[t][e].children[0].checked=1==n||1==n||"true"==n||"TRUE"==n,obj.options.data[t][e]=obj.records[t][e].children[0].checked}else if("dropdown"==obj.options.columns[e].type||"autocomplete"==obj.options.columns[e].type)obj.options.data[t][e]=n,obj.records[t][e].innerText=obj.getDropDownValue(e,n);else if("calendar"==obj.options.columns[e].type){var a=jSuites.calendar.extractDateFromString(n,obj.options.columns[e].options.format);obj.options.data[t][e]=n,obj.records[t][e].innerText=jSuites.calendar.getDateString(a||n,obj.options.columns[e].options.format)}else if("color"==obj.options.columns[e].type)if(obj.options.data[t][e]=n,"square"==obj.options.columns[e].render){var s=document.createElement("div");s.className="color",s.style.backgroundColor=n,obj.records[t][e].innerText="",obj.records[t][e].appendChild(s)}else obj.records[t][e].style.color=n,obj.records[t][e].innerText=n;else if("image"==obj.options.columns[e].type){if(n=""+n,obj.options.data[t][e]=n,obj.records[t][e].innerHTML="",n&&"data:image"==n.substr(0,10)){var l=document.createElement("img");l.src=n,obj.records[t][e].appendChild(l)}}else obj.options.data[t][e]=n,"html"==obj.options.columns[e].type||!1===obj.options.stripHTML||!1===obj.options.columns[e].stripHTML?obj.records[t][e].innerHTML=stripScript(obj.parseValue(e,t,n)):obj.records[t][e].innerText=obj.parseValue(e,t,n),0!=obj.options.columns[e].wordWrap&&(1==obj.options.wordWrap||1==obj.options.columns[e].wordWrap||obj.records[t][e].innerHTML.length>200)?obj.records[t][e].style.whiteSpace="pre-wrap":obj.records[t][e].style.whiteSpace="";e>0&&(obj.records[t][e-1].style.overflow=n?"hidden":""),obj.dispatch("onchange",el,obj.records[t]&&obj.records[t][e]?obj.records[t][e]:null,e,t,n,c.oldValue)}else var c={x:e,y:t,col:e,row:t};return c},obj.copyData=function(e,t){var n=obj.getData(!0,!0),i=obj.selectedContainer,r=parseInt(e.getAttribute("data-x")),o=parseInt(e.getAttribute("data-y")),a=parseInt(t.getAttribute("data-x")),s=parseInt(t.getAttribute("data-y")),l=[],c=!1;if(i[0]==r){if(o<i[1])var u=o-i[1];else u=1;var d=0}else d=r<i[0]?r-i[0]:1,u=0;for(var h=0,p=0,f=o;f<=s;f++)if(!obj.rows[f]||"none"!=obj.rows[f].style.display){null==n[p]&&(p=0),h=0,i[0]!=r&&(d=r<i[0]?r-i[0]:1);for(var A=r;A<=a;A++){if(obj.records[f][A]&&!obj.records[f][A].classList.contains("readonly")&&"none"!=obj.records[f][A].style.display&&0==c){if(!obj.selection.length&&""!=obj.options.data[f][A]){c=!0;continue}(null==n[p]||null==n[p][h])&&(h=0);var m=n[p][h];if(m&&!n[1]&&1==obj.options.autoIncrement)if("text"==obj.options.columns[A].type||"number"==obj.options.columns[A].type)if("="==(""+m).substr(0,1)){var g=m.match(/([A-Z]+[0-9]+)/g);if(g){for(var v=[],b=0;b<g.length;b++){var y=_jexcel.getIdFromColumnName(g[b],1);y[0]+=d,y[1]+=u,y[1]<0&&(y[1]=0);var x=_jexcel.getColumnNameFromId([y[0],y[1]]);x!=g[b]&&(v[g[b]]=x)}v&&(m=obj.updateFormula(m,v))}}else m==Number(m)&&(m=Number(m)+u);else if("calendar"==obj.options.columns[A].type){var w=new Date(m);w.setDate(w.getDate()+u),m=w.getFullYear()+"-"+_jexcel.doubleDigitFormat(parseInt(w.getMonth()+1))+"-"+_jexcel.doubleDigitFormat(w.getDate())+" 00:00:00"}l.push(obj.updateCell(A,f,m)),obj.updateFormulaChain(A,f,l)}h++,i[0]!=r&&d++}p++,u++}obj.setHistory({action:"setValue",records:l,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,l)},obj.refreshSelection=function(){obj.selectedCell&&obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])},obj.conditionalSelectionUpdate=function(e,t,n){if(1==e){if(obj.selectedCell&&(t>=obj.selectedCell[1]&&t<=obj.selectedCell[3]||n>=obj.selectedCell[1]&&n<=obj.selectedCell[3]))return void obj.resetSelection()}else if(obj.selectedCell&&(t>=obj.selectedCell[0]&&t<=obj.selectedCell[2]||n>=obj.selectedCell[0]&&n<=obj.selectedCell[2]))return void obj.resetSelection()},obj.resetSelection=function(e){if(obj.highlighted.length){c=1;for(var t=0;t<obj.highlighted.length;t++){obj.highlighted[t].classList.remove("highlight"),obj.highlighted[t].classList.remove("highlight-left"),obj.highlighted[t].classList.remove("highlight-right"),obj.highlighted[t].classList.remove("highlight-top"),obj.highlighted[t].classList.remove("highlight-bottom"),obj.highlighted[t].classList.remove("highlight-selected");var n=parseInt(obj.highlighted[t].getAttribute("data-x")),i=parseInt(obj.highlighted[t].getAttribute("data-y"));if(obj.highlighted[t].getAttribute("data-merged"))var r=parseInt(obj.highlighted[t].getAttribute("colspan")),o=parseInt(obj.highlighted[t].getAttribute("rowspan")),a=r>0?n+(r-1):n,s=o>0?i+(o-1):i;else a=n,s=i;for(var l=n;l<=a;l++)obj.headers[l]&&obj.headers[l].classList.remove("selected");for(l=i;l<=s;l++)obj.rows[l]&&obj.rows[l].classList.remove("selected")}}else var c=0;return obj.highlighted=[],obj.selectedCell=null,obj.corner.style.top="-2000px",obj.corner.style.left="-2000px",1==e&&1==c&&obj.dispatch("onblur",el),c},obj.updateSelection=function(e,t,n){var i=e.getAttribute("data-x"),r=e.getAttribute("data-y");if(t)var o=t.getAttribute("data-x"),a=t.getAttribute("data-y");else o=i,a=r;obj.updateSelectionFromCoords(i,r,o,a,n)},obj.updateSelectionFromCoords=function(e,t,n,i,r){var o=obj.resetSelection();if(null==t&&(t=0,i=obj.rows.length-1),null==n&&(n=e),null==i&&(i=t),e>=obj.headers.length&&(e=obj.headers.length-1),t>=obj.rows.length&&(t=obj.rows.length-1),n>=obj.headers.length&&(n=obj.headers.length-1),i>=obj.rows.length&&(i=obj.rows.length-1),obj.selectedCell=[e,t,n,i],null!=e){if(obj.records[t][e]&&obj.records[t][e].classList.add("highlight-selected"),parseInt(e)<parseInt(n))var a=parseInt(e),s=parseInt(n);else a=parseInt(n),s=parseInt(e);if(parseInt(t)<parseInt(i))var l=parseInt(t),c=parseInt(i);else l=parseInt(i),c=parseInt(t);for(var u=a;u<=s;u++)for(var d=l;d<=c;d++)if(obj.records[d][u]&&obj.records[d][u].getAttribute("data-merged")){var h=parseInt(obj.records[d][u].getAttribute("data-x")),p=parseInt(obj.records[d][u].getAttribute("data-y")),f=parseInt(obj.records[d][u].getAttribute("colspan")),A=parseInt(obj.records[d][u].getAttribute("rowspan"));f>1&&(h<a&&(a=h),h+f>s&&(s=h+f-1)),A&&(p<l&&(l=p),p+A>c&&(c=p+A-1))}var m=null,g=null,v=null,b=null;for(d=l;d<=c;d++)"none"!=obj.rows[d].style.display&&(null==v&&(v=d),b=d);for(u=a;u<=s;u++){for(d=l;d<=c;d++)"none"!=obj.rows[d].style.display&&"none"!=obj.records[d][u].style.display&&(obj.records[d][u].classList.add("highlight"),obj.highlighted.push(obj.records[d][u]));"hidden"!=obj.options.columns[u].type&&(null==m&&(m=u),g=u)}for(m||(m=0),g||(g=0),u=m;u<=g;u++)"hidden"!=obj.options.columns[u].type&&(obj.records[v]&&obj.records[v][u]&&obj.records[v][u].classList.add("highlight-top"),obj.records[b]&&obj.records[b][u]&&obj.records[b][u].classList.add("highlight-bottom"),obj.headers[u].classList.add("selected"));for(d=v;d<=b;d++)obj.rows[d]&&"none"!=obj.rows[d].style.display&&(obj.records[d][m].classList.add("highlight-left"),obj.records[d][g].classList.add("highlight-right"),obj.rows[d].classList.add("selected"));obj.selectedContainer=[m,v,g,b]}0==o&&(obj.dispatch("onfocus",el),obj.removeCopyingSelection()),obj.dispatch("onselection",el,m,v,g,b,r),obj.updateCornerPosition()},obj.removeCopySelection=function(){for(var e=0;e<obj.selection.length;e++)obj.selection[e].classList.remove("selection"),obj.selection[e].classList.remove("selection-left"),obj.selection[e].classList.remove("selection-right"),obj.selection[e].classList.remove("selection-top"),obj.selection[e].classList.remove("selection-bottom");obj.selection=[]},obj.updateCopySelection=function(e,t){obj.removeCopySelection();var n=obj.selectedContainer[0],i=obj.selectedContainer[1],r=obj.selectedContainer[2],o=obj.selectedContainer[3];if(null!=e&&null!=t){if(e-r>0)var a=parseInt(r)+1,s=parseInt(e);else a=parseInt(e),s=parseInt(n)-1;if(t-o>0)var l=parseInt(o)+1,c=parseInt(t);else l=parseInt(t),c=parseInt(i)-1;s-a<=c-l?(a=parseInt(n),s=parseInt(r)):(l=parseInt(i),c=parseInt(o));for(var u=l;u<=c;u++)for(var d=a;d<=s;d++)obj.records[u][d]&&"none"!=obj.rows[u].style.display&&"none"!=obj.records[u][d].style.display&&(obj.records[u][d].classList.add("selection"),obj.records[l][d].classList.add("selection-top"),obj.records[c][d].classList.add("selection-bottom"),obj.records[u][a].classList.add("selection-left"),obj.records[u][s].classList.add("selection-right"),obj.selection.push(obj.records[u][d]))}},obj.updateCornerPosition=function(){if(obj.highlighted.length){var e=obj.highlighted[obj.highlighted.length-1],t=obj.content.getBoundingClientRect(),n=t.left,i=t.top,r=e.getBoundingClientRect(),o=r.left,a=r.top,s=r.width,l=r.height,c=o-n+obj.content.scrollLeft+s-4,u=a-i+obj.content.scrollTop+l-4;obj.corner.style.top=u+"px",obj.corner.style.left=c+"px",obj.options.freezeColumns&&o-n+s<obj.getFreezeWidth()?obj.corner.style.display="none":1==obj.options.selectionCopy&&(obj.corner.style.display="")}else obj.corner.style.top="-2000px",obj.corner.style.left="-2000px"},obj.updateScroll=function(e){var t=obj.content.getBoundingClientRect(),n=t.left,i=t.top,r=t.width,o=t.height,a=obj.records[obj.selectedCell[3]][obj.selectedCell[2]].getBoundingClientRect(),s=a.left,l=a.top,c=a.width,u=a.height;if(0==e||1==e)var d=s-n+obj.content.scrollLeft,h=l-i+obj.content.scrollTop-2;else d=s-n+obj.content.scrollLeft+c,h=l-i+obj.content.scrollTop+u;h>obj.content.scrollTop+30&&h<obj.content.scrollTop+o||(h<obj.content.scrollTop+30?obj.content.scrollTop=h-u:obj.content.scrollTop=h-(o-2));var p=obj.getFreezeWidth();d>obj.content.scrollLeft+p&&d<obj.content.scrollLeft+r||(d<obj.content.scrollLeft+30?(obj.content.scrollLeft=d,obj.content.scrollLeft<50&&(obj.content.scrollLeft=0)):d<obj.content.scrollLeft+p?obj.content.scrollLeft=d-p-1:obj.content.scrollLeft=d-(r-20))},obj.getWidth=function(e){if(e)"object"==typeof e&&(e=$(e).getAttribute("data-x")),t=obj.colgroup[e].getAttribute("width");else for(var t=[],n=0;n<obj.headers.length;n++)t.push(obj.options.columns[n].width);return t},obj.setWidth=function(e,t,n){if(t){if(Array.isArray(e)){n||(n=[]);for(var i=0;i<e.length;i++){n[i]||(n[i]=obj.colgroup[e[i]].getAttribute("width"));var r=Array.isArray(t)&&t[i]?t[i]:t;obj.colgroup[e[i]].setAttribute("width",r),obj.options.columns[e[i]].width=r}}else n||(n=obj.colgroup[e].getAttribute("width")),obj.colgroup[e].setAttribute("width",t),obj.options.columns[e].width=t;obj.setHistory({action:"setWidth",column:e,oldValue:n,newValue:t}),obj.dispatch("onresizecolumn",el,e,t,n),obj.updateCornerPosition()}},obj.setHeight=function(e,t,n){t>0&&("object"==typeof e&&(e=e.getAttribute("data-y")),n||(n=obj.rows[e].getAttribute("height"))||(n=obj.rows[e].getBoundingClientRect().height),t=parseInt(t),obj.rows[e].style.height=t+"px",obj.options.rows[e]||(obj.options.rows[e]={}),obj.options.rows[e].height=t,obj.setHistory({action:"setHeight",row:e,oldValue:n,newValue:t}),obj.dispatch("onresizerow",el,e,t,n),obj.updateCornerPosition())},obj.getHeight=function(e){if(e)"object"==typeof e&&(e=$(e).getAttribute("data-y")),t=obj.rows[e].style.height;else for(var t=[],n=0;n<obj.rows.length;n++){var i=obj.rows[n].style.height;i&&(t[n]=i)}return t},obj.setFooter=function(e){if(e&&(obj.options.footers=e),obj.options.footers){obj.tfoot||(obj.tfoot=document.createElement("tfoot"),obj.table.appendChild(obj.tfoot));for(var t=0;t<obj.options.footers.length;t++){if(obj.tfoot.children[t])var n=obj.tfoot.children[t];else{n=document.createElement("tr");var i=document.createElement("td");n.appendChild(i),obj.tfoot.appendChild(n)}for(var r=0;r<obj.headers.length;r++){if(obj.options.footers[t][r]||(obj.options.footers[t][r]=""),obj.tfoot.children[t].children[r+1])i=obj.tfoot.children[t].children[r+1];else{i=document.createElement("td"),n.appendChild(i);var o=obj.options.columns[r].align?obj.options.columns[r].align:"center";i.style.textAlign=o}i.innerText=obj.parseValue(r,t,obj.options.footers[t][r])}}}},obj.getHeader=function(e){return obj.headers[e].innerText},obj.setHeader=function(e,t){if(obj.headers[e]){var n=obj.headers[e].innerText;t||(t=prompt(obj.options.text.columnName,n)),t&&(obj.headers[e].innerText=t,obj.headers[e].setAttribute("title",t),obj.options.columns[e].title=t),obj.setHistory({action:"setHeader",column:e,oldValue:n,newValue:t}),obj.dispatch("onchangeheader",el,e,n,t)}},obj.getHeaders=function(e){for(var t=[],n=0;n<obj.headers.length;n++)t.push(obj.getHeader(n));return e?t:t.join(obj.options.csvDelimiter)},obj.getMeta=function(e,t){return e?t?obj.options.meta[e]&&obj.options.meta[e][t]?obj.options.meta[e][t]:null:obj.options.meta[e]?obj.options.meta[e]:null:obj.options.meta},obj.setMeta=function(e,t,n){if(obj.options.meta||(obj.options.meta={}),t&&n)obj.options.meta[e]||(obj.options.meta[e]={}),obj.options.meta[e][t]=n;else for(var i=Object.keys(e),r=0;r<i.length;r++){obj.options.meta[i[r]]||(obj.options.meta[i[r]]={});for(var o=Object.keys(e[i[r]]),a=0;a<o.length;a++)obj.options.meta[i[r]][o[a]]=e[i[r]][o[a]]}obj.dispatch("onchangemeta",el,e,t,n)},obj.updateMeta=function(e){if(obj.options.meta){for(var t={},n=Object.keys(obj.options.meta),i=0;i<n.length;i++)e[n[i]]?t[e[n[i]]]=obj.options.meta[n[i]]:t[n[i]]=obj.options.meta[n[i]];obj.options.meta=t}},obj.getStyle=function(e,t){if(e)return e=_jexcel.getIdFromColumnName(e,!0),t?obj.records[e[1]][e[0]].style[t]:obj.records[e[1]][e[0]].getAttribute("style");for(var n={},i=obj.options.data[0].length,r=obj.options.data.length,o=0;o<r;o++)for(var a=0;a<i;a++){var s=t?obj.records[o][a].style[t]:obj.records[o][a].getAttribute("style");s&&(n[_jexcel.getColumnNameFromId([a,o])]=s)}return n},obj.resetStyle=function(e,t){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=_jexcel.getIdFromColumnName(n[i],!0);obj.records[r[1]]&&obj.records[r[1]][r[0]]&&obj.records[r[1]][r[0]].setAttribute("style","")}obj.setStyle(e,null,null,null,t)},obj.setStyle=function(e,t,n,i,r){var o={},a={},s=function(e,t,n){var r=_jexcel.getIdFromColumnName(e,!0);if(obj.records[r[1]]&&obj.records[r[1]][r[0]]&&(0==obj.records[r[1]][r[0]].classList.contains("readonly")||i)){var s=obj.records[r[1]][r[0]].style[t];s!=n||i?obj.records[r[1]][r[0]].style[t]=n:(n="",obj.records[r[1]][r[0]].style[t]=""),a[e]||(a[e]=[]),o[e]||(o[e]=[]),a[e].push([t+":"+s]),o[e].push([t+":"+n])}};if(t&&n)if("string"==typeof e)s(e,t,n);else for(var l=[],c=0;c<e.length;c++){var u=e[c].getAttribute("data-x"),d=e[c].getAttribute("data-y"),h=_jexcel.getColumnNameFromId([u,d]);l[h]||(s(h,t,n),l[h]=!0)}else{var p=Object.keys(e);for(c=0;c<p.length;c++){var f=e[p[c]];"string"==typeof f&&(f=f.split(";"));for(var A=0;A<f.length;A++)"string"==typeof f[A]&&(f[A]=f[A].split(":")),f[A][0].trim()&&s(p[c],f[A][0].trim(),f[A][1])}}for(p=Object.keys(a),c=0;c<p.length;c++)a[p[c]]=a[p[c]].join(";");for(p=Object.keys(o),c=0;c<p.length;c++)o[p[c]]=o[p[c]].join(";");r||obj.setHistory({action:"setStyle",oldValue:a,newValue:o}),obj.dispatch("onchangestyle",el,e,t,n)},obj.getComments=function(e,t){if(e)return"string"==typeof e&&(e=_jexcel.getIdFromColumnName(e,!0)),t?[obj.records[e[1]][e[0]].getAttribute("title"),obj.records[e[1]][e[0]].getAttribute("author")]:obj.records[e[1]][e[0]].getAttribute("title")||"";for(var n={},i=0;i<obj.options.data.length;i++)for(var r=0;r<obj.options.columns.length;r++){var o=obj.records[i][r].getAttribute("title");o&&(n[e=_jexcel.getColumnNameFromId([r,i])]=o)}return n},obj.setComments=function(e,t,n){if("string"==typeof e)var i=_jexcel.getIdFromColumnName(e,!0);else i=e;var r=obj.records[i[1]][i[0]].getAttribute("title"),o=[r,n=obj.records[i[1]][i[0]].getAttribute("data-author")];obj.records[i[1]][i[0]].setAttribute("title",t||""),obj.records[i[1]][i[0]].setAttribute("data-author",n||""),t?obj.records[i[1]][i[0]].classList.add("jexcel_comments"):obj.records[i[1]][i[0]].classList.remove("jexcel_comments"),obj.setHistory({action:"setComments",column:e,newValue:[t,n],oldValue:o}),obj.dispatch("oncomments",el,t,r)},obj.getConfig=function(){var e=obj.options;return e.style=obj.getStyle(),e.mergeCells=obj.getMerge(),e.comments=obj.getComments(),e},obj.orderBy=function(e,t){if(e>=0){if(Object.keys(obj.options.mergeCells).length>0){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}t=null==t?obj.headers[e].classList.contains("arrow-down")?1:0:t?1:0;var n=[];if("number"==obj.options.columns[e].type||"percentage"==obj.options.columns[e].type||"autonumber"==obj.options.columns[e].type||"color"==obj.options.columns[e].type)for(var i=0;i<obj.options.data.length;i++)n[i]=[i,Number(obj.options.data[i][e])];else if("calendar"==obj.options.columns[e].type||"checkbox"==obj.options.columns[e].type||"radio"==obj.options.columns[e].type)for(i=0;i<obj.options.data.length;i++)n[i]=[i,obj.options.data[i][e]];else for(i=0;i<obj.options.data.length;i++)n[i]=[i,obj.records[i][e].innerText.toLowerCase()];"function"!=typeof obj.options.sorting&&(obj.options.sorting=function(e){return function(t,n){var i=t[1],r=n[1];return e?""===i&&""!==r?1:""!==i&&""===r||i>r?-1:i<r?1:0:""===i&&""!==r?1:""!==i&&""===r?-1:i>r?1:i<r?-1:0}}),n=n.sort(obj.options.sorting(t));var r=[];for(i=0;i<n.length;i++)r[i]=n[i][0];return obj.setHistory({action:"orderBy",rows:r,column:e,order:t}),obj.updateOrderArrow(e,t),obj.updateOrder(r),obj.dispatch("onsort",el,e,t),!0}},obj.updateOrderArrow=function(e,t){for(var n=0;n<obj.headers.length;n++)obj.headers[n].classList.remove("arrow-up"),obj.headers[n].classList.remove("arrow-down");t?obj.headers[e].classList.add("arrow-up"):obj.headers[e].classList.add("arrow-down")},obj.updateOrder=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=obj.options.data[e[n]];for(obj.options.data=t,t=[],n=0;n<e.length;n++)t[n]=obj.records[e[n]];for(obj.records=t,t=[],n=0;n<e.length;n++)t[n]=obj.rows[e[n]];if(obj.rows=t,obj.updateTableReferences(),obj.results&&obj.results.length)obj.searchInput.value?obj.search(obj.searchInput.value):obj.closeFilter();else if(obj.results=null,obj.pageNumber=0,obj.options.pagination>0)obj.page(0);else if(1==obj.options.lazyLoading)obj.loadPage(0);else for(n=0;n<obj.rows.length;n++)obj.tbody.appendChild(obj.rows[n])},obj.moveRow=function(e,t,n){if(Object.keys(obj.options.mergeCells).length>0){if(e>t)var i=1;else i=0;if(obj.isRowMerged(e).length||obj.isRowMerged(t,i).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}n||(Array.prototype.indexOf.call(obj.tbody.children,obj.rows[t])>=0?e>t?obj.tbody.insertBefore(obj.rows[e],obj.rows[t]):obj.tbody.insertBefore(obj.rows[e],obj.rows[t].nextSibling):obj.tbody.removeChild(obj.rows[e])),obj.rows.splice(t,0,obj.rows.splice(e,1)[0]),obj.records.splice(t,0,obj.records.splice(e,1)[0]),obj.options.data.splice(t,0,obj.options.data.splice(e,1)[0]),obj.options.pagination>0&&obj.tbody.children.length!=obj.options.pagination&&obj.page(obj.pageNumber),obj.setHistory({action:"moveRow",oldValue:e,newValue:t}),obj.updateTableReferences(),obj.dispatch("onmoverow",el,e,t)},obj.insertRow=function(e,t,n){if(1==obj.options.allowInsertRow){var i=[];if(e>0)var r=e;else r=1,e&&(i=e);n=!!n;var o=obj.options.data.length-1;if((null==t||t>=parseInt(o)||t<0)&&(t=o),!1===obj.dispatch("onbeforeinsertrow",el,t,r,n))return console.log("onbeforeinsertrow returned false"),!1;if(Object.keys(obj.options.mergeCells).length>0&&obj.isRowMerged(t,n).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}for(var a=n?t:t+1,s=obj.records.splice(a),l=obj.options.data.splice(a),c=obj.rows.splice(a),u=[],d=[],h=[],p=a;p<r+a;p++){obj.options.data[p]=[];for(var f=0;f<obj.options.columns.length;f++)obj.options.data[p][f]=i[f]?i[f]:"";var A=obj.createRow(p,obj.options.data[p]);c[0]?Array.prototype.indexOf.call(obj.tbody.children,c[0])>=0&&obj.tbody.insertBefore(A,c[0]):Array.prototype.indexOf.call(obj.tbody.children,obj.rows[t])>=0&&obj.tbody.appendChild(A),u.push(obj.records[p]),d.push(obj.options.data[p]),h.push(A)}Array.prototype.push.apply(obj.records,s),Array.prototype.push.apply(obj.options.data,l),Array.prototype.push.apply(obj.rows,c),obj.options.pagination>0&&obj.page(obj.pageNumber),obj.setHistory({action:"insertRow",rowNumber:t,numOfRows:r,insertBefore:n,rowRecords:u,rowData:d,rowNode:h}),obj.updateTableReferences(),obj.dispatch("oninsertrow",el,t,r,u,n)}},obj.deleteRow=function(e,t){if(1==obj.options.allowDeleteRow)if(1==obj.options.allowDeletingAllRows||obj.options.data.length>1){if(null==e){var n=obj.getSelectedRows();n[0]?(e=parseInt(n[0].getAttribute("data-y")),t=n.length):(e=obj.options.data.length-1,t=1)}var i=obj.options.data.length-1;if((null==e||e>i||e<0)&&(e=i),t||(t=1),e+t>=obj.options.data.length&&(t=obj.options.data.length-e),!1===obj.dispatch("onbeforedeleterow",el,e,t))return console.log("onbeforedeleterow returned false"),!1;if(parseInt(e)>-1){var r=!1;if(Object.keys(obj.options.mergeCells).length>0)for(var o=e;o<e+t;o++)obj.isRowMerged(o,!1).length&&(r=!0);if(r){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}for(0==obj.options.allowDeletingAllRows&&i+1===t&&(t--,console.error("Jspreadsheet: It is not possible to delete the last row")),o=e;o<e+t;o++)Array.prototype.indexOf.call(obj.tbody.children,obj.rows[o])>=0&&(obj.rows[o].className="",obj.rows[o].parentNode.removeChild(obj.rows[o]));var a=obj.records.splice(e,t),s=obj.options.data.splice(e,t),l=obj.rows.splice(e,t);obj.options.pagination>0&&obj.tbody.children.length!=obj.options.pagination&&obj.page(obj.pageNumber),obj.conditionalSelectionUpdate(1,e,e+t-1),obj.setHistory({action:"deleteRow",rowNumber:e,numOfRows:t,insertBefore:1,rowRecords:a,rowData:s,rowNode:l}),obj.updateTableReferences(),obj.dispatch("ondeleterow",el,e,t,a)}}else console.error("Jspreadsheet: It is not possible to delete the last row")},obj.moveColumn=function(e,t){if(Object.keys(obj.options.mergeCells).length>0){if(e>t)var n=1;else n=0;if(obj.isColMerged(e).length||obj.isColMerged(t,n).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}}if((e=parseInt(e))>(t=parseInt(t))){obj.headerContainer.insertBefore(obj.headers[e],obj.headers[t]),obj.colgroupContainer.insertBefore(obj.colgroup[e],obj.colgroup[t]);for(var i=0;i<obj.rows.length;i++)obj.rows[i].insertBefore(obj.records[i][e],obj.records[i][t])}else for(obj.headerContainer.insertBefore(obj.headers[e],obj.headers[t].nextSibling),obj.colgroupContainer.insertBefore(obj.colgroup[e],obj.colgroup[t].nextSibling),i=0;i<obj.rows.length;i++)obj.rows[i].insertBefore(obj.records[i][e],obj.records[i][t].nextSibling);for(obj.options.columns.splice(t,0,obj.options.columns.splice(e,1)[0]),obj.headers.splice(t,0,obj.headers.splice(e,1)[0]),obj.colgroup.splice(t,0,obj.colgroup.splice(e,1)[0]),i=0;i<obj.rows.length;i++)obj.options.data[i].splice(t,0,obj.options.data[i].splice(e,1)[0]),obj.records[i].splice(t,0,obj.records[i].splice(e,1)[0]);if(obj.options.footers)for(i=0;i<obj.options.footers.length;i++)obj.options.footers[i].splice(t,0,obj.options.footers[i].splice(e,1)[0]);obj.setHistory({action:"moveColumn",oldValue:e,newValue:t}),obj.updateTableReferences(),obj.dispatch("onmovecolumn",el,e,t)},obj.insertColumn=function(e,t,n,i){if(1==obj.options.allowInsertColumn){var r=[];if(e>0)var o=e;else o=1,e&&(r=e);n=!!n;var a=obj.options.columns.length-1;if((null==t||t>=parseInt(a)||t<0)&&(t=a),!1===obj.dispatch("onbeforeinsertcolumn",el,t,o,n))return console.log("onbeforeinsertcolumn returned false"),!1;if(Object.keys(obj.options.mergeCells).length>0&&obj.isColMerged(t,n).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}i||(i=[]);for(var s=0;s<o;s++)i[s]||(i[s]={type:"text",source:[],options:[],width:obj.options.defaultColWidth,align:obj.options.defaultColAlign});var l=n?t:t+1;obj.options.columns=_jexcel.injectArray(obj.options.columns,l,i);for(var c=obj.headers.splice(l),u=obj.colgroup.splice(l),d=[],h=[],p=[],f=[],A=[],m=l;m<o+l;m++)obj.createCellHeader(m),obj.headerContainer.insertBefore(obj.headers[m],obj.headerContainer.children[m+1]),obj.colgroupContainer.insertBefore(obj.colgroup[m],obj.colgroupContainer.children[m+1]),d.push(obj.headers[m]),h.push(obj.colgroup[m]);if(obj.options.footers)for(var g=0;g<obj.options.footers.length;g++){for(A[g]=[],s=0;s<o;s++)A[g].push("");obj.options.footers[g].splice(l,0,A[g])}for(var v=0;v<obj.options.data.length;v++){var b=obj.options.data[v].splice(l),y=obj.records[v].splice(l);for(f[v]=[],p[v]=[],m=l;m<o+l;m++){var x=r[v]?r[v]:"";obj.options.data[v][m]=x;var w=obj.createCell(m,v,obj.options.data[v][m]);obj.records[v][m]=w,obj.rows[v]&&obj.rows[v].insertBefore(w,obj.rows[v].children[m+1]),f[v].push(x),p[v].push(w)}Array.prototype.push.apply(obj.options.data[v],b),Array.prototype.push.apply(obj.records[v],y)}if(Array.prototype.push.apply(obj.headers,c),Array.prototype.push.apply(obj.colgroup,u),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(g=0;g<obj.options.nestedHeaders.length;g++){var _=parseInt(obj.options.nestedHeaders[g][obj.options.nestedHeaders[g].length-1].colspan)+o;obj.options.nestedHeaders[g][obj.options.nestedHeaders[g].length-1].colspan=_,obj.thead.children[g].children[obj.thead.children[g].children.length-1].setAttribute("colspan",_);var j=obj.thead.children[g].children[obj.thead.children[g].children.length-1].getAttribute("data-column");for(j=j.split(","),m=l;m<o+l;m++)j.push(m);obj.thead.children[g].children[obj.thead.children[g].children.length-1].setAttribute("data-column",j)}else _=parseInt(obj.options.nestedHeaders[0].colspan)+o,obj.options.nestedHeaders[0].colspan=_,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",_);obj.setHistory({action:"insertColumn",columnNumber:t,numOfColumns:o,insertBefore:n,columns:i,headers:d,colgroup:h,records:p,footers:A,data:f}),obj.updateTableReferences(),obj.dispatch("oninsertcolumn",el,t,o,p,n)}},obj.deleteColumn=function(e,t){if(1==obj.options.allowDeleteColumn)if(obj.headers.length>1){if(null==e){var n=obj.getSelectedColumns(!0);n.length?(e=parseInt(n[0]),t=parseInt(n.length)):(e=obj.headers.length-1,t=1)}var i=obj.options.data[0].length-1;if((null==e||e>i||e<0)&&(e=i),t||(t=1),t>obj.options.data[0].length-e&&(t=obj.options.data[0].length-e),!1===obj.dispatch("onbeforedeletecolumn",el,e,t))return console.log("onbeforedeletecolumn returned false"),!1;if(parseInt(e)>-1){var r=!1;if(Object.keys(obj.options.mergeCells).length>0)for(var o=e;o<e+t;o++)obj.isColMerged(o,!1).length&&(r=!0);if(r){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}var a=obj.options.columns.splice(e,t);for(o=e;o<e+t;o++)obj.colgroup[o].className="",obj.headers[o].className="",obj.colgroup[o].parentNode.removeChild(obj.colgroup[o]),obj.headers[o].parentNode.removeChild(obj.headers[o]);for(var s=obj.headers.splice(e,t),l=obj.colgroup.splice(e,t),c=[],u=[],d=[],h=0;h<obj.options.data.length;h++)for(o=e;o<e+t;o++)obj.records[h][o].className="",obj.records[h][o].parentNode.removeChild(obj.records[h][o]);for(h=0;h<obj.options.data.length;h++)u[h]=obj.options.data[h].splice(e,t),c[h]=obj.records[h].splice(e,t);if(obj.options.footers)for(h=0;h<obj.options.footers.length;h++)d[h]=obj.options.footers[h].splice(e,t);if(obj.conditionalSelectionUpdate(0,e,e+t-1),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(var p=0;p<obj.options.nestedHeaders.length;p++){var f=parseInt(obj.options.nestedHeaders[p][obj.options.nestedHeaders[p].length-1].colspan)-t;obj.options.nestedHeaders[p][obj.options.nestedHeaders[p].length-1].colspan=f,obj.thead.children[p].children[obj.thead.children[p].children.length-1].setAttribute("colspan",f)}else f=parseInt(obj.options.nestedHeaders[0].colspan)-t,obj.options.nestedHeaders[0].colspan=f,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",f);obj.setHistory({action:"deleteColumn",columnNumber:e,numOfColumns:t,insertBefore:1,columns:a,headers:s,colgroup:l,records:c,footers:d,data:u}),obj.updateTableReferences(),obj.dispatch("ondeletecolumn",el,e,t,c)}}else console.error("Jspreadsheet: It is not possible to delete the last column")},obj.getSelectedRows=function(e){for(var t=[],n=0;n<obj.rows.length;n++)obj.rows[n].classList.contains("selected")&&(e?t.push(n):t.push(obj.rows[n]));return t},obj.getSelectedColumns=function(){for(var e=[],t=0;t<obj.headers.length;t++)obj.headers[t].classList.contains("selected")&&e.push(t);return e},obj.getHighlighted=function(){return obj.highlighted},obj.updateTableReferences=function(){for(var e=0;e<obj.headers.length;e++)(o=obj.headers[e].getAttribute("data-x"))!=e&&(obj.headers[e].setAttribute("data-x",e),obj.headers[e].getAttribute("title")||(obj.headers[e].innerHTML=_jexcel.getColumnName(e)));for(var t=0;t<obj.rows.length;t++)obj.rows[t]&&(a=obj.rows[t].getAttribute("data-y"))!=t&&(obj.rows[t].setAttribute("data-y",t),obj.rows[t].children[0].setAttribute("data-y",t),obj.rows[t].children[0].innerHTML=t+1);var n=[],i=[],r=function(e,t,i,r){if(e!=i&&obj.records[r][i].setAttribute("data-x",i),t!=r&&obj.records[r][i].setAttribute("data-y",r),e!=i||t!=r){var o=_jexcel.getColumnNameFromId([e,t]),a=_jexcel.getColumnNameFromId([i,r]);n[o]=a}};for(t=0;t<obj.records.length;t++)for(e=0;e<obj.records[0].length;e++)if(obj.records[t][e]){var o=obj.records[t][e].getAttribute("data-x"),a=obj.records[t][e].getAttribute("data-y");if(obj.records[t][e].getAttribute("data-merged")){var s=_jexcel.getColumnNameFromId([o,a]),l=_jexcel.getColumnNameFromId([e,t]);if(null==i[s])if(s==l)i[s]=!1;else{var c=parseInt(e-o),u=parseInt(t-a);i[s]=[l,c,u]}}else r(o,a,e,t)}var d=Object.keys(i);if(d.length)for(e=0;e<d.length;e++)if(i[d[e]]){var h=_jexcel.getIdFromColumnName(d[e],!0);for(r(o=h[0],a=h[1],o+i[d[e]][1],a+i[d[e]][2]),s=d[e],l=i[d[e]][0],t=0;t<obj.options.mergeCells[s][2].length;t++)o=parseInt(obj.options.mergeCells[s][2][t].getAttribute("data-x")),a=parseInt(obj.options.mergeCells[s][2][t].getAttribute("data-y")),obj.options.mergeCells[s][2][t].setAttribute("data-x",o+i[d[e]][1]),obj.options.mergeCells[s][2][t].setAttribute("data-y",a+i[d[e]][2]);obj.options.mergeCells[l]=obj.options.mergeCells[s],delete obj.options.mergeCells[s]}obj.updateFormulas(n),obj.updateMeta(n),obj.refreshSelection(),obj.updateTable()},obj.updateTable=function(){if(obj.options.minSpareRows>0){for(var e=0,t=obj.rows.length-1;t>=0;t--){for(var n=!1,i=0;i<obj.headers.length;i++)obj.options.data[t][i]&&(n=!0);if(n)break;e++}obj.options.minSpareRows-e>0&&obj.insertRow(obj.options.minSpareRows-e)}if(obj.options.minSpareCols>0){var r=0;for(i=obj.headers.length-1;i>=0;i--){for(n=!1,t=0;t<obj.rows.length;t++)obj.options.data[t][i]&&(n=!0);if(n)break;r++}obj.options.minSpareCols-r>0&&obj.insertColumn(obj.options.minSpareCols-r)}if("function"==typeof obj.options.updateTable){for(obj.options.detachForUpdates&&el.removeChild(obj.content),t=0;t<obj.rows.length;t++)for(i=0;i<obj.headers.length;i++)obj.options.updateTable(el,obj.records[t][i],i,t,obj.options.data[t][i],obj.records[t][i].innerText,_jexcel.getColumnNameFromId([i,t]));obj.options.detachForUpdates&&el.insertBefore(obj.content,obj.pagination)}obj.options.footers&&obj.setFooter(),setTimeout((function(){obj.updateCornerPosition()}),0)},obj.isReadOnly=function(e){if(e=obj.getCell(e))return!!e.classList.contains("readonly")},obj.setReadOnly=function(e,t){(e=obj.getCell(e))&&(t?e.classList.add("readonly"):e.classList.remove("readonly"))},obj.showRow=function(e){obj.rows[e].style.display=""},obj.hideRow=function(e){obj.rows[e].style.display="none"},obj.showColumn=function(e){obj.headers[e].style.display="",obj.colgroup[e].style.display="";for(var t=0;t<obj.options.data.length;t++)obj.records[t][e].style.display=""},obj.hideColumn=function(e){obj.headers[e].style.display="none",obj.colgroup[e].style.display="none";for(var t=0;t<obj.options.data.length;t++)obj.records[t][e].style.display="none"},obj.showIndex=function(){obj.table.classList.remove("jexcel_hidden_index")},obj.hideIndex=function(){obj.table.classList.add("jexcel_hidden_index")};var chainLoopProtection=[];obj.updateFormulaChain=function(e,t,n){var i=_jexcel.getColumnNameFromId([e,t]);if(obj.formula[i]&&obj.formula[i].length>0)if(chainLoopProtection[i])obj.records[t][e].innerHTML="#ERROR",obj.formula[i]="";else{chainLoopProtection[i]=!0;for(var r=0;r<obj.formula[i].length;r++){var o=_jexcel.getIdFromColumnName(obj.formula[i][r],!0),a=""+obj.options.data[o[1]][o[0]];"="==a.substr(0,1)?n.push(obj.updateCell(o[0],o[1],a,!0)):Object.keys(obj.formula)[r]=null,obj.updateFormulaChain(o[0],o[1],n)}}chainLoopProtection=[]},obj.updateFormulas=function(e){for(var t=0;t<obj.options.data.length;t++)for(var n=0;n<obj.options.data[0].length;n++)if("="==(s=""+obj.options.data[t][n]).substr(0,1)){var i=obj.updateFormula(s,e);i!=s&&(obj.options.data[t][n]=i)}var r=[],o=Object.keys(obj.formula);for(t=0;t<o.length;t++){var a=o[t],s=obj.formula[a];for(e[a]&&(a=e[a]),r[a]=[],n=0;n<s.length;n++){var l=s[n];e[l]&&(l=e[l]),r[a].push(l)}}obj.formula=r},obj.updateFormula=function(e,t){for(var n=/[A-Z]/,i=/[0-9]/,r="",o=null,a=null,s="",l=0;l<e.length;l++)n.exec(e[l])?(o=1,a=0,s+=e[l]):i.exec(e[l])?(a=o?1:0,s+=e[l]):(o&&a&&(s=t[s]?t[s]:s),r+=s,r+=e[l],o=0,a=0,s="");return s&&(o&&a&&(s=t[s]?t[s]:s),r+=s),r};var secureFormula=function(e){for(var t="",n=0,i=0;i<e.length;i++)'"'==e[i]&&(n=0==n?1:0),t+=1==n?e[i]:e[i].toUpperCase();return t};obj.executeFormula=function(expression,x,y){var formulaResults=[],formulaLoopProtection=[],execute=function execute(expression,x,y){var parentId=_jexcel.getColumnNameFromId([x,y]);if(formulaLoopProtection[parentId])return console.error("Reference loop detected"),"#ERROR";formulaLoopProtection[parentId]=!0;var tokensUpdate=function(e){for(var t=0;t<e.length;t++){var n=[],i=e[t].split(":"),r=_jexcel.getIdFromColumnName(i[0],!0),o=_jexcel.getIdFromColumnName(i[1],!0);if(r[0]<=o[0])var a=r[0],s=o[0];else a=o[0],s=r[0];if(r[1]<=o[1])var l=r[1],c=o[1];else l=o[1],c=r[1];for(var u=l;u<=c;u++)for(var d=a;d<=s;d++)n.push(_jexcel.getColumnNameFromId([d,u]));expression=expression.replace(e[t],n.join(","))}};expression=expression.replace(/\$?([A-Z]+)\$?([0-9]+)/g,"$1$2");var tokens=expression.match(/([A-Z]+[0-9]+)\:([A-Z]+[0-9]+)/g);tokens&&tokens.length&&tokensUpdate(tokens);var evalstring="",tokens=expression.match(/([A-Z]+[0-9]+)/g);if(tokens&&tokens.indexOf(parentId)>-1)return console.error("Self Reference detected"),"#ERROR";if(tokens)for(var i=0;i<tokens.length;i++)if(obj.formula[tokens[i]]||(obj.formula[tokens[i]]=[]),obj.formula[tokens[i]].indexOf(parentId)<0&&obj.formula[tokens[i]].push(parentId),eval("typeof("+tokens[i]+') == "undefined"')){var position=_jexcel.getIdFromColumnName(tokens[i],1);if(void 0!==obj.options.data[position[1]]&&void 0!==obj.options.data[position[1]][position[0]])var value=obj.options.data[position[1]][position[0]];else var value="";if("="==(""+value).substr(0,1)&&(formulaResults[tokens[i]]?value=formulaResults[tokens[i]]:(value=execute(value,position[0],position[1]),formulaResults[tokens[i]]=value)),""==(""+value).trim())evalstring+="var "+tokens[i]+" = null;";else if(value==Number(value)&&1==obj.options.autoCasting)evalstring+="var "+tokens[i]+" = "+Number(value)+";";else{var number=obj.parseNumber(value,position[0]);1==obj.options.autoCasting&&number?evalstring+="var "+tokens[i]+" = "+number+";":evalstring+="var "+tokens[i]+" = '"+value+"';"}}try{evalstring+="function COLUMN() { return parseInt(x) + 1; }; function ROW() { return parseInt(y) + 1; }; function CELL() { return parentId; }; function TABLE() { return obj; }; function VALUE(col, row) { return obj.records[row-1][col-1].innerHTML; }; function THISROWCELL(col) { var id = jexcel.getIdFromColumnName(col+(parseInt(y)+1), true); return obj.records[id[1]][id[0]].innerHTML; }";var res=eval(evalstring+expression.substr(1))}catch(e){var res="#ERROR"}return res};return execute(expression,x,y)},obj.parseNumber=function(e,t){var n=t&&obj.options.columns[t].decimal?obj.options.columns[t].decimal:".",i=""+e;if((i=i.split(n))[0]=i[0].match(/[+-]?[0-9]/g),i[0]&&(i[0]=i[0].join("")),i[1]&&(i[1]=i[1].match(/[0-9]*/g).join("")),i[0]&&Number(i[0])>=0)if(i[1])e=Number(i[0]+"."+i[1]);else var e=Number(i[0]+".00");else e=null;return e},obj.row=function(e){},obj.col=function(e){},obj.up=function(e,t){if(e?obj.selectedCell[3]>0&&obj.up.visible(1,t?0:1):(obj.selectedCell[1]>0&&obj.up.visible(0,t?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),1==obj.options.lazyLoading)if(0==obj.selectedCell[1]||0==obj.selectedCell[3])obj.loadPage(0),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]);else if(obj.loadValidation())obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]);else{var n=parseInt(obj.tbody.firstChild.getAttribute("data-y"));obj.selectedCell[1]-n<30&&(obj.loadUp(),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]))}else if(obj.options.pagination>0){var i=obj.whichPage(obj.selectedCell[3]);i!=obj.pageNumber&&obj.page(i)}obj.updateScroll(1)},obj.up.visible=function(e,t){if(0==e)var n=parseInt(obj.selectedCell[0]),i=parseInt(obj.selectedCell[1]);else n=parseInt(obj.selectedCell[2]),i=parseInt(obj.selectedCell[3]);if(0==t){for(var r=0;r<i;r++)if("none"!=obj.records[r][n].style.display&&"none"!=obj.rows[r].style.display){i=r;break}}else i=obj.up.get(n,i);0==e?(obj.selectedCell[0]=n,obj.selectedCell[1]=i):(obj.selectedCell[2]=n,obj.selectedCell[3]=i)},obj.up.get=function(e,t){e=parseInt(e);for(var n=(t=parseInt(t))-1;n>=0;n--)if("none"!=obj.records[n][e].style.display&&"none"!=obj.rows[n].style.display){if(obj.records[n][e].getAttribute("data-merged")&&obj.records[n][e]==obj.records[t][e])continue;t=n;break}return t},obj.down=function(e,t){if(e?obj.selectedCell[3]<obj.records.length-1&&obj.down.visible(1,t?0:1):(obj.selectedCell[1]<obj.records.length-1&&obj.down.visible(0,t?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),1==obj.options.lazyLoading)obj.selectedCell[1]==obj.records.length-1||obj.selectedCell[3]==obj.records.length-1?(obj.loadPage(-1),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])):obj.loadValidation()?obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]):parseInt(obj.tbody.lastChild.getAttribute("data-y"))-obj.selectedCell[3]<30&&(obj.loadDown(),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]));else if(obj.options.pagination>0){var n=obj.whichPage(obj.selectedCell[3]);n!=obj.pageNumber&&obj.page(n)}obj.updateScroll(3)},obj.down.visible=function(e,t){if(0==e)var n=parseInt(obj.selectedCell[0]),i=parseInt(obj.selectedCell[1]);else n=parseInt(obj.selectedCell[2]),i=parseInt(obj.selectedCell[3]);if(0==t){for(var r=obj.rows.length-1;r>i;r--)if("none"!=obj.records[r][n].style.display&&"none"!=obj.rows[r].style.display){i=r;break}}else i=obj.down.get(n,i);0==e?(obj.selectedCell[0]=n,obj.selectedCell[1]=i):(obj.selectedCell[2]=n,obj.selectedCell[3]=i)},obj.down.get=function(e,t){e=parseInt(e);for(var n=(t=parseInt(t))+1;n<obj.rows.length;n++)if("none"!=obj.records[n][e].style.display&&"none"!=obj.rows[n].style.display){if(obj.records[n][e].getAttribute("data-merged")&&obj.records[n][e]==obj.records[t][e])continue;t=n;break}return t},obj.right=function(e,t){e?obj.selectedCell[2]<obj.headers.length-1&&obj.right.visible(1,t?0:1):(obj.selectedCell[0]<obj.headers.length-1&&obj.right.visible(0,t?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(2)},obj.right.visible=function(e,t){if(0==e)var n=parseInt(obj.selectedCell[0]),i=parseInt(obj.selectedCell[1]);else n=parseInt(obj.selectedCell[2]),i=parseInt(obj.selectedCell[3]);if(0==t){for(var r=obj.headers.length-1;r>n;r--)if("none"!=obj.records[i][r].style.display){n=r;break}}else n=obj.right.get(n,i);0==e?(obj.selectedCell[0]=n,obj.selectedCell[1]=i):(obj.selectedCell[2]=n,obj.selectedCell[3]=i)},obj.right.get=function(e,t){e=parseInt(e),t=parseInt(t);for(var n=e+1;n<obj.headers.length;n++)if("none"!=obj.records[t][n].style.display){if(obj.records[t][n].getAttribute("data-merged")&&obj.records[t][n]==obj.records[t][e])continue;e=n;break}return e},obj.left=function(e,t){e?obj.selectedCell[2]>0&&obj.left.visible(1,t?0:1):(obj.selectedCell[0]>0&&obj.left.visible(0,t?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(0)},obj.left.visible=function(e,t){if(0==e)var n=parseInt(obj.selectedCell[0]),i=parseInt(obj.selectedCell[1]);else n=parseInt(obj.selectedCell[2]),i=parseInt(obj.selectedCell[3]);if(0==t){for(var r=0;r<n;r++)if("none"!=obj.records[i][r].style.display){n=r;break}}else n=obj.left.get(n,i);0==e?(obj.selectedCell[0]=n,obj.selectedCell[1]=i):(obj.selectedCell[2]=n,obj.selectedCell[3]=i)},obj.left.get=function(e,t){e=parseInt(e),t=parseInt(t);for(var n=e-1;n>=0;n--)if("none"!=obj.records[t][n].style.display){if(obj.records[t][n].getAttribute("data-merged")&&obj.records[t][n]==obj.records[t][e])continue;e=n;break}return e},obj.first=function(e,t){if(e?t?obj.selectedCell[3]=0:obj.left.visible(1,0):(t?obj.selectedCell[1]=0:obj.left.visible(0,0),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),1!=obj.options.lazyLoading||0!=obj.selectedCell[1]&&0!=obj.selectedCell[3]){if(obj.options.pagination>0){var n=obj.whichPage(obj.selectedCell[3]);n!=obj.pageNumber&&obj.page(n)}}else obj.loadPage(0);obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(1)},obj.last=function(e,t){if(e?t?obj.selectedCell[3]=obj.records.length-1:obj.right.visible(1,0):(t?obj.selectedCell[1]=obj.records.length-1:obj.right.visible(0,0),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),1!=obj.options.lazyLoading||obj.selectedCell[1]!=obj.records.length-1&&obj.selectedCell[3]!=obj.records.length-1){if(obj.options.pagination>0){var n=obj.whichPage(obj.selectedCell[3]);n!=obj.pageNumber&&obj.page(n)}}else obj.loadPage(-1);obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(3)},obj.selectAll=function(){obj.selectedCell||(obj.selectedCell=[]),obj.selectedCell[0]=0,obj.selectedCell[1]=0,obj.selectedCell[2]=obj.headers.length-1,obj.selectedCell[3]=obj.records.length-1,obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])},obj.loadPage=function(e){if(1==obj.options.search&&obj.results)var t=obj.results;else t=obj.rows;null!=e&&-1!=e||(e=Math.ceil(t.length/100)-1);var n=100*e,i=100*e+100;i>t.length&&(i=t.length),(n=i-100)<0&&(n=0);for(var r=n;r<i;r++)1==obj.options.search&&obj.results?obj.tbody.appendChild(obj.rows[t[r]]):obj.tbody.appendChild(obj.rows[r]),obj.tbody.children.length>100&&obj.tbody.removeChild(obj.tbody.firstChild)},obj.loadUp=function(){if(1==obj.options.search&&obj.results)var e=obj.results;else e=obj.rows;var t=0;if(e.length>100){var n=parseInt(obj.tbody.firstChild.getAttribute("data-y"));if(1==obj.options.search&&obj.results&&(n=e.indexOf(n)),n>0)for(var i=0;i<30;i++)(n-=1)>-1&&(1==obj.options.search&&obj.results?obj.tbody.insertBefore(obj.rows[e[n]],obj.tbody.firstChild):obj.tbody.insertBefore(obj.rows[n],obj.tbody.firstChild),obj.tbody.children.length>100&&(obj.tbody.removeChild(obj.tbody.lastChild),t=1))}return t},obj.loadDown=function(){if(1==obj.options.search&&obj.results)var e=obj.results;else e=obj.rows;var t=0;if(e.length>100){var n=parseInt(obj.tbody.lastChild.getAttribute("data-y"));if(1==obj.options.search&&obj.results&&(n=e.indexOf(n)),n<obj.rows.length-1)for(var i=0;i<=30;i++)n<e.length&&(1==obj.options.search&&obj.results?obj.tbody.appendChild(obj.rows[e[n]]):obj.tbody.appendChild(obj.rows[n]),obj.tbody.children.length>100&&(obj.tbody.removeChild(obj.tbody.firstChild),t=1)),n+=1}return t},obj.loadValidation=function(){if(obj.selectedCell){var e=parseInt(obj.tbody.firstChild.getAttribute("data-y"))/100,t=parseInt(obj.selectedCell[3]/100),n=parseInt(obj.rows.length/100);if(e!=t&&t<=n&&!Array.prototype.indexOf.call(obj.tbody.children,obj.rows[obj.selectedCell[3]]))return obj.loadPage(t),!0}return!1},obj.resetSearch=function(){obj.searchInput.value="",obj.search(""),obj.results=null},obj.search=function(e){if(e&&(e=e.toLowerCase()),obj.options.filters&&obj.resetFilters(),obj.resetSelection(),obj.pageNumber=0,obj.results=[],e){var t=function(e){-1==obj.results.indexOf(e)&&obj.results.push(e)};obj.options.data.filter((function(n,i){if(function(e,t,n){for(var i=0;i<e.length;i++)if((""+e[i]).toLowerCase().search(t)>=0||(""+obj.records[n][i].innerHTML).toLowerCase().search(t)>=0)return!0;return!1}(n,e,i)){var r=obj.isRowMerged(i);if(r.length)for(var o=0;o<r.length;o++)for(var a=_jexcel.getIdFromColumnName(r[o],!0),s=0;s<obj.options.mergeCells[r[o]][1];s++)t(a[1]+s);else t(i);return!0}return!1}))}else obj.results=null;return obj.updateResult()},obj.updateResult=function(){var e=0,t=0;for(e=1==obj.options.lazyLoading?100:obj.options.pagination>0?obj.options.pagination:obj.results?obj.results.length:obj.rows.length;obj.tbody.firstChild;)obj.tbody.removeChild(obj.tbody.firstChild);for(var n=0;n<obj.rows.length;n++)!obj.results||obj.results.indexOf(n)>-1?(t<e&&(obj.tbody.appendChild(obj.rows[n]),t++),obj.rows[n].style.display=""):obj.rows[n].style.display="none";return obj.options.pagination>0&&obj.updatePagination(),obj.updateCornerPosition(),e},obj.whichPage=function(e){return 1==obj.options.search&&obj.results&&(e=obj.results.indexOf(e)),Math.ceil((parseInt(e)+1)/parseInt(obj.options.pagination))-1},obj.page=function(e){var t=obj.pageNumber;if(1==obj.options.search&&obj.results)var n=obj.results;else n=obj.rows;var i=parseInt(obj.options.pagination);null!=e&&-1!=e||(e=Math.ceil(n.length/i)-1),obj.pageNumber=e;var r=e*i,o=e*i+i;for(o>n.length&&(o=n.length),r<0&&(r=0);obj.tbody.firstChild;)obj.tbody.removeChild(obj.tbody.firstChild);for(var a=r;a<o;a++)1==obj.options.search&&obj.results?obj.tbody.appendChild(obj.rows[n[a]]):obj.tbody.appendChild(obj.rows[a]);obj.options.pagination>0&&obj.updatePagination(),obj.updateCornerPosition(),obj.dispatch("onchangepage",el,e,t)},obj.updatePagination=function(){if(obj.pagination.children[0].innerHTML="",obj.pagination.children[1].innerHTML="",obj.options.pagination){if(1==obj.options.search&&obj.results)var e=obj.results.length;else e=obj.rows.length;if(e){var t=Math.ceil(e/obj.options.pagination);if(obj.pageNumber<6)var n=1,i=t<10?t:10;else t-obj.pageNumber<5?(i=t,(n=t-9)<1&&(n=1)):(n=obj.pageNumber-4,i=obj.pageNumber+5);n>1&&((o=document.createElement("div")).className="jexcel_page",o.innerHTML="<",o.title=1,obj.pagination.children[1].appendChild(o));for(var r=n;r<=i;r++){var o;(o=document.createElement("div")).className="jexcel_page",o.innerHTML=r,obj.pagination.children[1].appendChild(o),obj.pageNumber==r-1&&o.classList.add("jexcel_page_selected")}i<t&&((o=document.createElement("div")).className="jexcel_page",o.innerHTML=">",o.title=t,obj.pagination.children[1].appendChild(o)),obj.pagination.children[0].innerHTML=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,(function(e,n){return void 0!==t[n]?t[n]:e}))}(obj.options.text.showingPage,obj.pageNumber+1,t)}else obj.pagination.children[0].innerHTML=obj.options.text.noRecordsFound}},obj.download=function(e){if(0==obj.options.allowExport)console.error("Export not allowed");else{var t="";t+=obj.copy(!1,obj.options.csvDelimiter,!0,e,!0);var n=new Blob(["\ufeff"+t],{type:"text/csv;charset=utf-8;"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,obj.options.csvFileName+".csv");else{var i=document.createElement("a"),r=URL.createObjectURL(n);i.href=r,i.setAttribute("download",obj.options.csvFileName+".csv"),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)}}},obj.setHistory=function(e){if(1!=obj.ignoreHistory){var t=++obj.historyIndex;obj.history=obj.history=obj.history.slice(0,t+1),obj.history[t]=e}},obj.copy=function(e,t,n,i,r){t||(t="\t");var o=new RegExp(t,"ig"),a=[],s=[],l=[],c=[],u=[],d=obj.options.data[0].length,h=obj.options.data.length,p="",f=!1,A="",m="",g=0,v=0;if(r&&1==obj.options.includeHeadersOnDownload||!r&&1==obj.options.includeHeadersOnCopy||i){if(obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0){p=obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0]?obj.options.nestedHeaders:[obj.options.nestedHeaders];for(var b=0;b<p.length;b++){for(var y=[],x=0;x<p[b].length;x++){var w=parseInt(p[b][x].colspan);y.push(p[b][x].title);for(var _=0;_<w-1;_++)y.push("")}m+=y.join(t)+"\r\n"}}f=!0}for(obj.style=[],b=0;b<h;b++){for(s=[],l=[],x=0;x<d;x++)if(!e||obj.records[b][x].classList.contains("highlight")){1==f&&a.push(obj.headers[x].innerText);var j=obj.options.data[b][x];if(j.match&&(j.match(o)||j.match(/,/g)||j.match(/\n/)||j.match(/\"/))&&(j='"'+(j=j.replace(new RegExp('"',"g"),'""'))+'"'),s.push(j),"checkbox"==obj.options.columns[x].type||"radio"==obj.options.columns[x].type)var C=j;else(C=1==obj.options.stripHTMLOnCopy?obj.records[b][x].innerText:obj.records[b][x].innerHTML).match&&(C.match(o)||C.match(/,/g)||C.match(/\n/)||C.match(/\"/))&&(C='"'+(C=C.replace(new RegExp('"',"g"),'""'))+'"');l.push(C),p=(p=obj.records[b][x].getAttribute("style")).replace("display: none;",""),obj.style.push(p||"")}s.length&&(f&&(g=s.length,c.push(a.join(t))),c.push(s.join(t))),l.length&&(v++,f&&(u.push(a.join(t)),f=!1),u.push(l.join(t)))}d==g&&h==v&&(A=m);var E=A+c.join("\r\n"),B=A+u.join("\r\n");if(n||(1==obj.options.copyCompatibility?obj.textarea.value=B:obj.textarea.value=E,obj.textarea.select(),document.execCommand("copy")),1==obj.options.copyCompatibility?obj.data=B:obj.data=E,obj.hashString=obj.hash(obj.data),!n){if(obj.removeCopyingSelection(),obj.highlighted)for(x=0;x<obj.highlighted.length;x++)obj.highlighted[x].classList.add("copying"),obj.highlighted[x].classList.contains("highlight-left")&&obj.highlighted[x].classList.add("copying-left"),obj.highlighted[x].classList.contains("highlight-right")&&obj.highlighted[x].classList.add("copying-right"),obj.highlighted[x].classList.contains("highlight-top")&&obj.highlighted[x].classList.add("copying-top"),obj.highlighted[x].classList.contains("highlight-bottom")&&obj.highlighted[x].classList.add("copying-bottom");obj.dispatch("oncopy",el,1==obj.options.copyCompatibility?u:c,obj.hashString)}return obj.data},obj.paste=function(e,t,n){var i=obj.dispatch("onbeforepaste",el,n,e,t);if(!1===i)return!1;i&&(n=i);var r=obj.hash(n),o=r==obj.hashString?obj.style:null;if(1==obj.options.copyCompatibility&&r==obj.hashString&&(n=obj.data),n=obj.parseCSV(n,"\t"),null!=e&&null!=t&&n){for(var a=0,s=0,l=[],c={},u={},d=0,h=parseInt(e),p=parseInt(t),f=null;f=n[s];){for(a=0,h=parseInt(e);null!=f[a];){var A=obj.updateCell(h,p,f[a]);if(l.push(A),obj.updateFormulaChain(h,p,l),o&&o[d]){var m=_jexcel.getColumnNameFromId([h,p]);c[m]=o[d],u[m]=obj.getStyle(m),obj.records[p][h].setAttribute("style",o[d]),d++}null!=f[++a]&&(h>=obj.headers.length-1&&obj.insertColumn(),h=obj.right.get(h,p))}n[++s]&&(p>=obj.rows.length-1&&obj.insertRow(),p=obj.down.get(e,p))}obj.updateSelectionFromCoords(e,t,h,p),obj.setHistory({action:"setValue",records:l,selection:obj.selectedCell,newStyle:c,oldStyle:u}),obj.updateTable(),obj.dispatch("onpaste",el,n),obj.onafterchanges(el,l)}obj.removeCopyingSelection()},obj.removeCopyingSelection=function(){for(var e=document.querySelectorAll(".jexcel .copying"),t=0;t<e.length;t++)e[t].classList.remove("copying"),e[t].classList.remove("copying-left"),e[t].classList.remove("copying-right"),e[t].classList.remove("copying-top"),e[t].classList.remove("copying-bottom")},obj.historyProcessRow=function(e,t){var n=t.insertBefore?t.rowNumber:t.rowNumber+1;if(1==obj.options.search&&obj.results&&obj.results.length!=obj.rows.length&&obj.resetSearch(),1==e){for(var i=t.numOfRows,r=n;r<i+n;r++)obj.rows[r].parentNode.removeChild(obj.rows[r]);obj.records.splice(n,i),obj.options.data.splice(n,i),obj.rows.splice(n,i),obj.conditionalSelectionUpdate(1,n,i+n-1)}else{obj.records=_jexcel.injectArray(obj.records,n,t.rowRecords),obj.options.data=_jexcel.injectArray(obj.options.data,n,t.rowData),obj.rows=_jexcel.injectArray(obj.rows,n,t.rowNode);var o=0;for(r=n;r<t.numOfRows+n;r++)obj.tbody.insertBefore(t.rowNode[o],obj.tbody.children[r]),o++}obj.options.pagination>0&&obj.page(obj.pageNumber),obj.updateTableReferences()},obj.historyProcessColumn=function(e,t){var n=t.insertBefore?t.columnNumber:t.columnNumber+1;if(1==e){var i=t.numOfColumns;obj.options.columns.splice(n,i);for(var r=n;r<i+n;r++)obj.headers[r].parentNode.removeChild(obj.headers[r]),obj.colgroup[r].parentNode.removeChild(obj.colgroup[r]);obj.headers.splice(n,i),obj.colgroup.splice(n,i);for(var o=0;o<t.data.length;o++){for(r=n;r<i+n;r++)obj.records[o][r].parentNode.removeChild(obj.records[o][r]);obj.records[o].splice(n,i),obj.options.data[o].splice(n,i)}if(obj.options.footers)for(o=0;o<obj.options.footers.length;o++)obj.options.footers[o].splice(n,i)}else{obj.options.columns=_jexcel.injectArray(obj.options.columns,n,t.columns),obj.headers=_jexcel.injectArray(obj.headers,n,t.headers),obj.colgroup=_jexcel.injectArray(obj.colgroup,n,t.colgroup);var a=0;for(r=n;r<t.numOfColumns+n;r++)obj.headerContainer.insertBefore(t.headers[a],obj.headerContainer.children[r+1]),obj.colgroupContainer.insertBefore(t.colgroup[a],obj.colgroupContainer.children[r+1]),a++;for(o=0;o<t.data.length;o++)for(obj.options.data[o]=_jexcel.injectArray(obj.options.data[o],n,t.data[o]),obj.records[o]=_jexcel.injectArray(obj.records[o],n,t.records[o]),a=0,r=n;r<t.numOfColumns+n;r++)obj.rows[o].insertBefore(t.records[o][a],obj.rows[o].children[r+1]),a++;if(obj.options.footers)for(o=0;o<obj.options.footers.length;o++)obj.options.footers[o]=_jexcel.injectArray(obj.options.footers[o],n,t.footers[o])}if(obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(o=0;o<obj.options.nestedHeaders.length;o++){if(1==e)var s=parseInt(obj.options.nestedHeaders[o][obj.options.nestedHeaders[o].length-1].colspan)-t.numOfColumns;else s=parseInt(obj.options.nestedHeaders[o][obj.options.nestedHeaders[o].length-1].colspan)+t.numOfColumns;obj.options.nestedHeaders[o][obj.options.nestedHeaders[o].length-1].colspan=s,obj.thead.children[o].children[obj.thead.children[o].children.length-1].setAttribute("colspan",s)}else s=1==e?parseInt(obj.options.nestedHeaders[0].colspan)-t.numOfColumns:parseInt(obj.options.nestedHeaders[0].colspan)+t.numOfColumns,obj.options.nestedHeaders[0].colspan=s,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",s);obj.updateTableReferences()},obj.undo=function(){var e=!!obj.ignoreEvents,t=!!obj.ignoreHistory;obj.ignoreEvents=!0,obj.ignoreHistory=!0;var n=[];if(obj.historyIndex>=0){var i=obj.history[obj.historyIndex--];if("insertRow"==i.action)obj.historyProcessRow(1,i);else if("deleteRow"==i.action)obj.historyProcessRow(0,i);else if("insertColumn"==i.action)obj.historyProcessColumn(1,i);else if("deleteColumn"==i.action)obj.historyProcessColumn(0,i);else if("moveRow"==i.action)obj.moveRow(i.newValue,i.oldValue);else if("moveColumn"==i.action)obj.moveColumn(i.newValue,i.oldValue);else if("setMerge"==i.action)obj.removeMerge(i.column,i.data);else if("setStyle"==i.action)obj.setStyle(i.oldValue,null,null,1);else if("setWidth"==i.action)obj.setWidth(i.column,i.oldValue);else if("setHeight"==i.action)obj.setHeight(i.row,i.oldValue);else if("setHeader"==i.action)obj.setHeader(i.column,i.oldValue);else if("setComments"==i.action)obj.setComments(i.column,i.oldValue[0],i.oldValue[1]);else if("orderBy"==i.action){for(var r=[],o=0;o<i.rows.length;o++)r[i.rows[o]]=o;obj.updateOrderArrow(i.column,i.order?0:1),obj.updateOrder(r)}else if("setValue"==i.action){for(var a=0;a<i.records.length;a++)n.push({x:i.records[a].x,y:i.records[a].y,newValue:i.records[a].oldValue}),i.oldStyle&&obj.resetStyle(i.oldStyle);obj.setValue(n),i.selection&&obj.updateSelectionFromCoords(i.selection[0],i.selection[1],i.selection[2],i.selection[3])}}obj.ignoreEvents=e,obj.ignoreHistory=t,obj.dispatch("onundo",el,i)},obj.redo=function(){var e=!!obj.ignoreEvents,t=!!obj.ignoreHistory;if(obj.ignoreEvents=!0,obj.ignoreHistory=!0,obj.historyIndex<obj.history.length-1){var n=obj.history[++obj.historyIndex];if("insertRow"==n.action)obj.historyProcessRow(0,n);else if("deleteRow"==n.action)obj.historyProcessRow(1,n);else if("insertColumn"==n.action)obj.historyProcessColumn(0,n);else if("deleteColumn"==n.action)obj.historyProcessColumn(1,n);else if("moveRow"==n.action)obj.moveRow(n.oldValue,n.newValue);else if("moveColumn"==n.action)obj.moveColumn(n.oldValue,n.newValue);else if("setMerge"==n.action)obj.setMerge(n.column,n.colspan,n.rowspan,1);else if("setStyle"==n.action)obj.setStyle(n.newValue,null,null,1);else if("setWidth"==n.action)obj.setWidth(n.column,n.newValue);else if("setHeight"==n.action)obj.setHeight(n.row,n.newValue);else if("setHeader"==n.action)obj.setHeader(n.column,n.newValue);else if("setComments"==n.action)obj.setComments(n.column,n.newValue[0],n.newValue[1]);else if("orderBy"==n.action)obj.updateOrderArrow(n.column,n.order),obj.updateOrder(n.rows);else if("setValue"==n.action){obj.setValue(n.records);for(var i=0;i<n.records.length;i++)n.oldStyle&&obj.resetStyle(n.newStyle);n.selection&&obj.updateSelectionFromCoords(n.selection[0],n.selection[1],n.selection[2],n.selection[3])}}obj.ignoreEvents=e,obj.ignoreHistory=t,obj.dispatch("onredo",el,n)},obj.getDropDownValue=function(e,t){var n=[];if(obj.options.columns[e]&&obj.options.columns[e].source){for(var i=[],r=obj.options.columns[e].source,o=0;o<r.length;o++)"object"==typeof r[o]?i[r[o].id]=r[o].name:i[r[o]]=r[o];var a=Array.isArray(t)?t:(""+t).split(";");for(o=0;o<a.length;o++)"object"==typeof a[o]?n.push(i[a[o].id]):i[a[o]]&&n.push(i[a[o]])}else console.error("Invalid column");return n.length>0?n.join("; "):""},obj.parseCSV=function(e,t){9==(e=e.replace(/\r?\n$|\r$|\n$/g,"")).charCodeAt(e.length-1)&&(e+="\0"),t=t||",";for(var n=[],i=!1,r=0,o=0,a=0;a<e.length;a++){var s=e[a],l=e[a+1];n[r]=n[r]||[],n[r][o]=n[r][o]||"",'"'==s&&i&&'"'==l?(n[r][o]+=s,++a):'"'!=s?s!=t||i?"\r"!=s||"\n"!=l||i?"\n"==s&&!i||"\r"==s&&!i?(++r,o=0):n[r][o]+=s:(++r,o=0,++a):++o:i=!i}return n},obj.hash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},obj.onafterchanges=function(e,t){obj.dispatch("onafterchanges",e,t)},obj.destroy=function(){_jexcel.destroy(el)},obj.init=function(){_jexcel.current=obj,"function"==typeof _jexcel.build&&(obj.options.root?_jexcel.build(obj.options.root):(_jexcel.build(document),_jexcel.build=null)),el.setAttribute("tabindex",1),el.addEventListener("focus",(function(e){_jexcel.current&&!obj.selectedCell&&(obj.updateSelectionFromCoords(0,0,0,0),obj.left())})),obj.options.csv?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.csv,method:obj.options.method,data:obj.options.requestVariables,dataType:"text",success:function(e){var t=obj.parseCSV(e,obj.options.csvDelimiter);if(1==obj.options.csvHeaders&&t.length>0)for(var n=t.shift(),i=0;i<n.length;i++)obj.options.columns[i]||(obj.options.columns[i]={type:"text",align:obj.options.defaultColAlign,width:obj.options.defaultColWidth}),void 0===obj.options.columns[i].title&&(obj.options.columns[i].title=n[i]);obj.options.data=t,obj.prepareTable(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.options.url?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.url,method:obj.options.method,data:obj.options.requestVariables,dataType:"json",success:function(e){obj.options.data=e.data?e.data:e,obj.prepareTable(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.prepareTable()},options&&null!=options.contextMenu?obj.options.contextMenu=options.contextMenu:obj.options.contextMenu=function(e,t,n,i){var r=[];if(null==n)1==obj.options.allowInsertColumn&&r.push({title:obj.options.text.insertANewColumnBefore,onclick:function(){obj.insertColumn(1,parseInt(t),1)}}),1==obj.options.allowInsertColumn&&r.push({title:obj.options.text.insertANewColumnAfter,onclick:function(){obj.insertColumn(1,parseInt(t),0)}}),1==obj.options.allowDeleteColumn&&r.push({title:obj.options.text.deleteSelectedColumns,onclick:function(){obj.deleteColumn(obj.getSelectedColumns().length?void 0:parseInt(t))}}),1==obj.options.allowRenameColumn&&r.push({title:obj.options.text.renameThisColumn,onclick:function(){obj.setHeader(t)}}),1==obj.options.columnSorting&&(r.push({type:"line"}),r.push({title:obj.options.text.orderAscending,onclick:function(){obj.orderBy(t,0)}}),r.push({title:obj.options.text.orderDescending,onclick:function(){obj.orderBy(t,1)}}));else if(1==obj.options.allowInsertRow&&(r.push({title:obj.options.text.insertANewRowBefore,onclick:function(){obj.insertRow(1,parseInt(n),1)}}),r.push({title:obj.options.text.insertANewRowAfter,onclick:function(){obj.insertRow(1,parseInt(n))}})),1==obj.options.allowDeleteRow&&r.push({title:obj.options.text.deleteSelectedRows,onclick:function(){obj.deleteRow(obj.getSelectedRows().length?void 0:parseInt(n))}}),t&&1==obj.options.allowComments){r.push({type:"line"});var o=obj.records[n][t].getAttribute("title")||"";r.push({title:o?obj.options.text.editComments:obj.options.text.addComments,onclick:function(){var e=prompt(obj.options.text.comments,o);e&&obj.setComments([t,n],e)}}),o&&r.push({title:obj.options.text.clearComments,onclick:function(){obj.setComments([t,n],"")}})}return r.push({type:"line"}),r.push({title:obj.options.text.copy,shortcut:"Ctrl + C",onclick:function(){obj.copy(!0)}}),navigator&&navigator.clipboard&&r.push({title:obj.options.text.paste,shortcut:"Ctrl + V",onclick:function(){obj.selectedCell&&navigator.clipboard.readText().then((function(e){e&&_jexcel.current.paste(obj.selectedCell[0],obj.selectedCell[1],e)}))}}),obj.options.allowExport&&r.push({title:obj.options.text.saveAs,shortcut:"Ctrl + S",onclick:function(){obj.download()}}),obj.options.about&&r.push({title:obj.options.text.about,onclick:function(){!0===obj.options.about?alert(Version().print()):alert(obj.options.about)}}),r},obj.scrollControls=function(e){obj.wheelControls(),obj.options.freezeColumns>0&&obj.content.scrollLeft!=scrollLeft&&obj.updateFreezePosition(),1!=obj.options.lazyLoading&&1!=obj.options.tableOverflow||obj.edition&&"jdropdown"!=e.target.className.substr(0,9)&&obj.closeEditor(obj.edition[0],!0)},obj.wheelControls=function(e){1==obj.options.lazyLoading&&null==_jexcel.timeControlLoading&&(_jexcel.timeControlLoading=setTimeout((function(){obj.content.scrollTop+obj.content.clientHeight>=obj.content.scrollHeight-10?obj.loadDown()&&(obj.content.scrollTop+obj.content.clientHeight>obj.content.scrollHeight-10&&(obj.content.scrollTop=obj.content.scrollTop-obj.content.clientHeight),obj.updateCornerPosition()):obj.content.scrollTop<=obj.content.clientHeight&&obj.loadUp()&&(obj.content.scrollTop<10&&(obj.content.scrollTop=obj.content.scrollTop+obj.content.clientHeight),obj.updateCornerPosition()),_jexcel.timeControlLoading=null}),100))},obj.getFreezeWidth=function(){var e=0;if(obj.options.freezeColumns>0)for(var t=0;t<obj.options.freezeColumns;t++)e+=parseInt(obj.options.columns[t].width);return e};var scrollLeft=0;return obj.updateFreezePosition=function(){var e=0;if((scrollLeft=obj.content.scrollLeft)>50)for(var t=0;t<obj.options.freezeColumns;t++){t>0&&(e+=parseInt(obj.options.columns[t-1].width)),obj.headers[t].classList.add("jexcel_freezed"),obj.headers[t].style.left=e+"px";for(var n=0;n<obj.rows.length;n++)if(obj.rows[n]&&obj.records[n][t]){var i=scrollLeft+(t>0?obj.records[n][t-1].style.width:0)-51+"px";obj.records[n][t].classList.add("jexcel_freezed"),obj.records[n][t].style.left=i}}else for(t=0;t<obj.options.freezeColumns;t++)for(obj.headers[t].classList.remove("jexcel_freezed"),obj.headers[t].style.left="",n=0;n<obj.rows.length;n++)obj.records[n][t]&&(obj.records[n][t].classList.remove("jexcel_freezed"),obj.records[n][t].style.left="");obj.updateCornerPosition()},el.addEventListener("DOMMouseScroll",obj.wheelControls),el.addEventListener("mousewheel",obj.wheelControls),el.jexcel=obj,el.jspreadsheet=obj,obj.init(),obj};_jexcel.version=Version,_jexcel.current=null,_jexcel.timeControl=null,_jexcel.timeControlLoading=null,_jexcel.destroy=function(e,t){if(e.jexcel){var n=e.jexcel.options.root?e.jexcel.options.root:document;e.removeEventListener("DOMMouseScroll",e.jexcel.scrollControls),e.removeEventListener("mousewheel",e.jexcel.scrollControls),e.jexcel=null,e.innerHTML="",t&&(n.removeEventListener("mouseup",_jexcel.mouseUpControls),n.removeEventListener("mousedown",_jexcel.mouseDownControls),n.removeEventListener("mousemove",_jexcel.mouseMoveControls),n.removeEventListener("mouseover",_jexcel.mouseOverControls),n.removeEventListener("dblclick",_jexcel.doubleClickControls),n.removeEventListener("paste",_jexcel.pasteControls),n.removeEventListener("contextmenu",_jexcel.contextMenuControls),n.removeEventListener("touchstart",_jexcel.touchStartControls),n.removeEventListener("touchend",_jexcel.touchEndControls),n.removeEventListener("touchcancel",_jexcel.touchEndControls),document.removeEventListener("keydown",_jexcel.keyDownControls),_jexcel=null)}},_jexcel.build=function(e){e.addEventListener("mouseup",_jexcel.mouseUpControls),e.addEventListener("mousedown",_jexcel.mouseDownControls),e.addEventListener("mousemove",_jexcel.mouseMoveControls),e.addEventListener("mouseover",_jexcel.mouseOverControls),e.addEventListener("dblclick",_jexcel.doubleClickControls),e.addEventListener("paste",_jexcel.pasteControls),e.addEventListener("contextmenu",_jexcel.contextMenuControls),e.addEventListener("touchstart",_jexcel.touchStartControls),e.addEventListener("touchend",_jexcel.touchEndControls),e.addEventListener("touchcancel",_jexcel.touchEndControls),e.addEventListener("touchmove",_jexcel.touchEndControls),document.addEventListener("keydown",_jexcel.keyDownControls)},_jexcel.keyDownControls=function(e){if(_jexcel.current){if(_jexcel.current.edition)if(27==e.which)_jexcel.current.edition&&_jexcel.current.closeEditor(_jexcel.current.edition[0],!1),e.preventDefault();else if(13==e.which)if("calendar"==_jexcel.current.options.columns[_jexcel.current.edition[2]].type)_jexcel.current.closeEditor(_jexcel.current.edition[0],!0);else if("dropdown"==_jexcel.current.options.columns[_jexcel.current.edition[2]].type||"autocomplete"==_jexcel.current.options.columns[_jexcel.current.edition[2]].type);else if((1==_jexcel.current.options.wordWrap||1==_jexcel.current.options.columns[_jexcel.current.edition[2]].wordWrap||_jexcel.current.options.data[_jexcel.current.edition[3]][_jexcel.current.edition[2]].length>200)&&e.altKey){var t=_jexcel.current.edition[0].children[0],n=_jexcel.current.edition[0].children[0].value,i=t.selectionStart;n=n.slice(0,i)+"\n"+n.slice(i),t.value=n,t.focus(),t.selectionStart=i+1,t.selectionEnd=i+1}else _jexcel.current.edition[0].children[0].blur();else 9==e.which&&("calendar"==_jexcel.current.options.columns[_jexcel.current.edition[2]].type?_jexcel.current.closeEditor(_jexcel.current.edition[0],!0):_jexcel.current.edition[0].children[0].blur());if(!_jexcel.current.edition&&_jexcel.current.selectedCell)if(37==e.which)_jexcel.current.left(e.shiftKey,e.ctrlKey),e.preventDefault();else if(39==e.which)_jexcel.current.right(e.shiftKey,e.ctrlKey),e.preventDefault();else if(38==e.which)_jexcel.current.up(e.shiftKey,e.ctrlKey),e.preventDefault();else if(40==e.which)_jexcel.current.down(e.shiftKey,e.ctrlKey),e.preventDefault();else if(36==e.which)_jexcel.current.first(e.shiftKey,e.ctrlKey),e.preventDefault();else if(35==e.which)_jexcel.current.last(e.shiftKey,e.ctrlKey),e.preventDefault();else if(32==e.which)1==_jexcel.current.options.editable&&_jexcel.current.setCheckRadioValue(),e.preventDefault();else if(46==e.which)1==_jexcel.current.options.editable&&(_jexcel.current.selectedRow?1==_jexcel.current.options.allowDeleteRow&&confirm(_jexcel.current.options.text.areYouSureToDeleteTheSelectedRows)&&_jexcel.current.deleteRow():_jexcel.current.selectedHeader?1==_jexcel.current.options.allowDeleteColumn&&confirm(_jexcel.current.options.text.areYouSureToDeleteTheSelectedColumns)&&_jexcel.current.deleteColumn():_jexcel.current.setValue(_jexcel.current.highlighted,""));else if(13==e.which)e.shiftKey?_jexcel.current.up():(1==_jexcel.current.options.allowInsertRow&&1==_jexcel.current.options.allowManualInsertRow&&_jexcel.current.selectedCell[1]==_jexcel.current.options.data.length-1&&_jexcel.current.insertRow(),_jexcel.current.down()),e.preventDefault();else if(9==e.which)e.shiftKey?_jexcel.current.left():(1==_jexcel.current.options.allowInsertColumn&&1==_jexcel.current.options.allowManualInsertColumn&&_jexcel.current.selectedCell[0]==_jexcel.current.options.data[0].length-1&&_jexcel.current.insertColumn(),_jexcel.current.right()),e.preventDefault();else if(!e.ctrlKey&&!e.metaKey||e.shiftKey){if(_jexcel.current.selectedCell&&1==_jexcel.current.options.editable){var r=_jexcel.current.selectedCell[1],o=_jexcel.current.selectedCell[0];"readonly"!=_jexcel.current.options.columns[o].type&&(32==e.keyCode?"checkbox"==_jexcel.current.options.columns[o].type||"radio"==_jexcel.current.options.columns[o].type?e.preventDefault():_jexcel.current.openEditor(_jexcel.current.records[r][o],!0):113==e.keyCode?_jexcel.current.openEditor(_jexcel.current.records[r][o],!1):(8==e.keyCode||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=111||e.keyCode>=187&&e.keyCode<=190||(String.fromCharCode(e.keyCode)==e.key||String.fromCharCode(e.keyCode).toLowerCase()==e.key.toLowerCase())&&_jexcel.validLetter(String.fromCharCode(e.keyCode)))&&(_jexcel.current.openEditor(_jexcel.current.records[r][o],!0),"calendar"==_jexcel.current.options.columns[o].type&&e.preventDefault()))}}else 65==e.which?(_jexcel.current.selectAll(),e.preventDefault()):83==e.which?(_jexcel.current.download(),e.preventDefault()):89==e.which?(_jexcel.current.redo(),e.preventDefault()):90==e.which?(_jexcel.current.undo(),e.preventDefault()):67==e.which?(_jexcel.current.copy(!0),e.preventDefault()):88==e.which?(1==_jexcel.current.options.editable?_jexcel.cutControls():_jexcel.copyControls(),e.preventDefault()):86==e.which&&_jexcel.pasteControls();else e.target.classList.contains("jexcel_search")&&(_jexcel.timeControl&&clearTimeout(_jexcel.timeControl),_jexcel.timeControl=setTimeout((function(){_jexcel.current.search(e.target.value)}),200))}},_jexcel.isMouseAction=!1,_jexcel.mouseDownControls=function(e){if((e=e||window.event).buttons)var t=e.buttons;else t=e.button?e.button:e.which;var n=_jexcel.getElement(e.target);if(n[0]?_jexcel.current!=n[0].jexcel&&(_jexcel.current&&(_jexcel.current.edition&&_jexcel.current.closeEditor(_jexcel.current.edition[0],!0),_jexcel.current.resetSelection()),_jexcel.current=n[0].jexcel):_jexcel.current&&(_jexcel.current.edition&&_jexcel.current.closeEditor(_jexcel.current.edition[0],!0),_jexcel.current.resetSelection(!0),_jexcel.current=null),_jexcel.current&&1==t){if(e.target.classList.contains("jexcel_selectall"))_jexcel.current&&_jexcel.current.selectAll();else if(e.target.classList.contains("jexcel_corner"))1==_jexcel.current.options.editable&&(_jexcel.current.selectedCorner=!0);else{if(1==n[1]){if(h=e.target.getAttribute("data-x")){var i=e.target.getBoundingClientRect();if(1==_jexcel.current.options.columnResize&&i.width-e.offsetX<6){_jexcel.current.resizing={mousePosition:e.pageX,column:h,width:i.width},_jexcel.current.headers[h].classList.add("resizing");for(var r=0;r<_jexcel.current.records.length;r++)_jexcel.current.records[r][h]&&_jexcel.current.records[r][h].classList.add("resizing")}else if(1==_jexcel.current.options.columnDrag&&i.height-e.offsetY<6)if(_jexcel.current.isColMerged(h).length)console.error("Jspreadsheet: This column is part of a merged cell.");else for(_jexcel.current.resetSelection(),_jexcel.current.dragging={element:e.target,column:h,destination:h},_jexcel.current.headers[h].classList.add("dragging"),r=0;r<_jexcel.current.records.length;r++)_jexcel.current.records[r][h]&&_jexcel.current.records[r][h].classList.add("dragging");else{if(_jexcel.current.selectedHeader&&(e.shiftKey||e.ctrlKey))var o=_jexcel.current.selectedHeader,a=h;else _jexcel.current.selectedHeader==h&&1==_jexcel.current.options.allowRenameColumn&&(_jexcel.timeControl=setTimeout((function(){_jexcel.current.setHeader(h)}),800)),_jexcel.current.selectedHeader=h,o=h,a=h;_jexcel.current.updateSelectionFromCoords(o,0,a,_jexcel.current.options.data.length-1)}}else if(e.target.parentNode.classList.contains("jexcel_nested")){if(e.target.getAttribute("data-column"))var s=e.target.getAttribute("data-column").split(","),l=parseInt(s[0]),c=parseInt(s[s.length-1]);else l=0,c=_jexcel.current.options.columns.length-1;_jexcel.current.updateSelectionFromCoords(l,0,c,_jexcel.current.options.data.length-1)}}else _jexcel.current.selectedHeader=!1;if(2==n[1]){var u=e.target.getAttribute("data-y");if(e.target.classList.contains("jexcel_row"))i=e.target.getBoundingClientRect(),1==_jexcel.current.options.rowResize&&i.height-e.offsetY<6?(_jexcel.current.resizing={element:e.target.parentNode,mousePosition:e.pageY,row:u,height:i.height},e.target.parentNode.classList.add("resizing")):1==_jexcel.current.options.rowDrag&&i.width-e.offsetX<6?_jexcel.current.isRowMerged(u).length?console.error("Jspreadsheet: This row is part of a merged cell"):1==_jexcel.current.options.search&&_jexcel.current.results?console.error("Jspreadsheet: Please clear your search before perform this action"):(_jexcel.current.resetSelection(),_jexcel.current.dragging={element:e.target.parentNode,row:u,destination:u},e.target.parentNode.classList.add("dragging")):(_jexcel.current.selectedRow&&(e.shiftKey||e.ctrlKey)?(o=_jexcel.current.selectedRow,a=u):(_jexcel.current.selectedRow=u,o=u,a=u),_jexcel.current.updateSelectionFromCoords(0,o,_jexcel.current.options.data[0].length-1,a));else if(e.target.classList.contains("jclose")&&e.target.clientWidth-e.offsetX<50&&e.offsetY<50)_jexcel.current.closeEditor(_jexcel.current.edition[0],!0);else{var d=function e(t){var n=t.getAttribute("data-x"),i=t.getAttribute("data-y");return n&&i?[n,i]:t.parentNode?e(t.parentNode):void 0}(e.target);if(d){var h=d[0];u=d[1],_jexcel.current.edition&&(_jexcel.current.edition[2]==h&&_jexcel.current.edition[3]==u||_jexcel.current.closeEditor(_jexcel.current.edition[0],!0)),_jexcel.current.edition||(e.shiftKey?_jexcel.current.updateSelectionFromCoords(_jexcel.current.selectedCell[0],_jexcel.current.selectedCell[1],h,u):_jexcel.current.updateSelectionFromCoords(h,u)),_jexcel.current.selectedHeader=null,_jexcel.current.selectedRow=null}}}else _jexcel.current.selectedRow=!1;e.target.classList.contains("jexcel_page")&&("<"==e.target.innerText?_jexcel.current.page(0):">"==e.target.innerText?_jexcel.current.page(e.target.getAttribute("title")-1):_jexcel.current.page(e.target.innerText-1))}_jexcel.current.edition?_jexcel.isMouseAction=!1:_jexcel.isMouseAction=!0}else _jexcel.isMouseAction=!1},_jexcel.mouseUpControls=function(e){if(_jexcel.current)if(_jexcel.current.resizing){if(_jexcel.current.resizing.column){var t=_jexcel.current.colgroup[_jexcel.current.resizing.column].getAttribute("width"),n=_jexcel.current.getSelectedColumns();if(n.length>1){for(var i=[],r=0;r<n.length;r++)i.push(parseInt(_jexcel.current.colgroup[n[r]].getAttribute("width")));i[n.indexOf(parseInt(_jexcel.current.resizing.column))]=_jexcel.current.resizing.width,_jexcel.current.setWidth(n,t,i)}else _jexcel.current.setWidth(_jexcel.current.resizing.column,t,_jexcel.current.resizing.width);_jexcel.current.headers[_jexcel.current.resizing.column].classList.remove("resizing");for(var o=0;o<_jexcel.current.records.length;o++)_jexcel.current.records[o][_jexcel.current.resizing.column]&&_jexcel.current.records[o][_jexcel.current.resizing.column].classList.remove("resizing")}else{_jexcel.current.rows[_jexcel.current.resizing.row].children[0].classList.remove("resizing");var a=_jexcel.current.rows[_jexcel.current.resizing.row].getAttribute("height");_jexcel.current.setHeight(_jexcel.current.resizing.row,a,_jexcel.current.resizing.height),_jexcel.current.resizing.element.classList.remove("resizing")}_jexcel.current.resizing=null}else if(_jexcel.current.dragging){if(_jexcel.current.dragging){if(_jexcel.current.dragging.column){var s=e.target.getAttribute("data-x");for(_jexcel.current.headers[_jexcel.current.dragging.column].classList.remove("dragging"),o=0;o<_jexcel.current.rows.length;o++)_jexcel.current.records[o][_jexcel.current.dragging.column]&&_jexcel.current.records[o][_jexcel.current.dragging.column].classList.remove("dragging");for(r=0;r<_jexcel.current.headers.length;r++)_jexcel.current.headers[r].classList.remove("dragging-left"),_jexcel.current.headers[r].classList.remove("dragging-right");s&&_jexcel.current.dragging.column!=_jexcel.current.dragging.destination&&_jexcel.current.moveColumn(_jexcel.current.dragging.column,_jexcel.current.dragging.destination)}else{if(_jexcel.current.dragging.element.nextSibling){var l=parseInt(_jexcel.current.dragging.element.nextSibling.getAttribute("data-y"));_jexcel.current.dragging.row<l&&(l-=1)}else l=parseInt(_jexcel.current.dragging.element.previousSibling.getAttribute("data-y"));_jexcel.current.dragging.row!=_jexcel.current.dragging.destination&&_jexcel.current.moveRow(_jexcel.current.dragging.row,l,!0),_jexcel.current.dragging.element.classList.remove("dragging")}_jexcel.current.dragging=null}}else _jexcel.current.selectedCorner&&(_jexcel.current.selectedCorner=!1,_jexcel.current.selection.length>0&&(_jexcel.current.copyData(_jexcel.current.selection[0],_jexcel.current.selection[_jexcel.current.selection.length-1]),_jexcel.current.removeCopySelection()));_jexcel.timeControl&&(clearTimeout(_jexcel.timeControl),_jexcel.timeControl=null),_jexcel.isMouseAction=!1},_jexcel.mouseMoveControls=function(e){if((e=e||window.event).buttons)var t=e.buttons;else t=e.button?e.button:e.which;if(t||(_jexcel.isMouseAction=!1),_jexcel.current)if(1==_jexcel.isMouseAction){if(_jexcel.current.resizing)if(_jexcel.current.resizing.column){var n=e.pageX-_jexcel.current.resizing.mousePosition;if(_jexcel.current.resizing.width+n>0){var i=_jexcel.current.resizing.width+n;_jexcel.current.colgroup[_jexcel.current.resizing.column].setAttribute("width",i),_jexcel.current.updateCornerPosition()}}else{var r=e.pageY-_jexcel.current.resizing.mousePosition;if(_jexcel.current.resizing.height+r>0){var o=_jexcel.current.resizing.height+r;_jexcel.current.rows[_jexcel.current.resizing.row].setAttribute("height",o),_jexcel.current.updateCornerPosition()}}}else{var a=e.target.getAttribute("data-x"),s=e.target.getAttribute("data-y"),l=e.target.getBoundingClientRect();_jexcel.current.cursor&&(_jexcel.current.cursor.style.cursor="",_jexcel.current.cursor=null),e.target.parentNode.parentNode&&e.target.parentNode.parentNode.className&&(e.target.parentNode.parentNode.classList.contains("resizable")&&(e.target&&a&&!s&&l.width-(e.clientX-l.left)<6?(_jexcel.current.cursor=e.target,_jexcel.current.cursor.style.cursor="col-resize"):e.target&&!a&&s&&l.height-(e.clientY-l.top)<6&&(_jexcel.current.cursor=e.target,_jexcel.current.cursor.style.cursor="row-resize")),e.target.parentNode.parentNode.classList.contains("draggable")&&(e.target&&!a&&s&&l.width-(e.clientX-l.left)<6||e.target&&a&&!s&&l.height-(e.clientY-l.top)<6)&&(_jexcel.current.cursor=e.target,_jexcel.current.cursor.style.cursor="move"))}},_jexcel.mouseOverControls=function(e){if((e=e||window.event).buttons)var t=e.buttons;else t=e.button?e.button:e.which;if(t||(_jexcel.isMouseAction=!1),_jexcel.current&&1==_jexcel.isMouseAction){var n=_jexcel.getElement(e.target);if(n[0]){if(_jexcel.current!=n[0].jexcel&&_jexcel.current)return!1;var i=e.target.getAttribute("data-x"),r=e.target.getAttribute("data-y");if(_jexcel.current.dragging){if(_jexcel.current.dragging.column){if(i)if(_jexcel.current.isColMerged(i).length)console.error("Jspreadsheet: This column is part of a merged cell.");else{for(var o=0;o<_jexcel.current.headers.length;o++)_jexcel.current.headers[o].classList.remove("dragging-left"),_jexcel.current.headers[o].classList.remove("dragging-right");_jexcel.current.dragging.column==i?_jexcel.current.dragging.destination=parseInt(i):e.target.clientWidth/2>e.offsetX?(_jexcel.current.dragging.column<i?_jexcel.current.dragging.destination=parseInt(i)-1:_jexcel.current.dragging.destination=parseInt(i),_jexcel.current.headers[i].classList.add("dragging-left")):(_jexcel.current.dragging.column<i?_jexcel.current.dragging.destination=parseInt(i):_jexcel.current.dragging.destination=parseInt(i)+1,_jexcel.current.headers[i].classList.add("dragging-right"))}}else if(r)if(_jexcel.current.isRowMerged(r).length)console.error("Jspreadsheet: This row is part of a merged cell.");else{var a=e.target.clientHeight/2>e.offsetY?e.target.parentNode.nextSibling:e.target.parentNode;_jexcel.current.dragging.element!=a&&(e.target.parentNode.parentNode.insertBefore(_jexcel.current.dragging.element,a),_jexcel.current.dragging.destination=Array.prototype.indexOf.call(_jexcel.current.dragging.element.parentNode.children,_jexcel.current.dragging.element))}}else if(_jexcel.current.resizing);else{if(1==n[1]&&_jexcel.current.selectedHeader){i=e.target.getAttribute("data-x");var s=_jexcel.current.selectedHeader,l=i;_jexcel.current.updateSelectionFromCoords(s,0,l,_jexcel.current.options.data.length-1)}2==n[1]&&(e.target.classList.contains("jexcel_row")?_jexcel.current.selectedRow&&(s=_jexcel.current.selectedRow,l=r,_jexcel.current.updateSelectionFromCoords(0,s,_jexcel.current.options.data[0].length-1,l)):_jexcel.current.edition||i&&r&&(_jexcel.current.selectedCorner?_jexcel.current.updateCopySelection(i,r):_jexcel.current.selectedCell&&_jexcel.current.updateSelectionFromCoords(_jexcel.current.selectedCell[0],_jexcel.current.selectedCell[1],i,r)))}}}_jexcel.timeControl&&(clearTimeout(_jexcel.timeControl),_jexcel.timeControl=null)},_jexcel.doubleClickControls=function(e){if(_jexcel.current)if(e.target.classList.contains("jexcel_corner")){if(_jexcel.current.highlighted.length>0){var t=_jexcel.current.highlighted[0].getAttribute("data-x"),n=parseInt(_jexcel.current.highlighted[_jexcel.current.highlighted.length-1].getAttribute("data-y"))+1,i=_jexcel.current.highlighted[_jexcel.current.highlighted.length-1].getAttribute("data-x"),r=_jexcel.current.records.length-1;_jexcel.current.copyData(_jexcel.current.records[n][t],_jexcel.current.records[r][i])}}else if(e.target.classList.contains("jexcel_column_filter")){var o=e.target.getAttribute("data-x");_jexcel.current.openFilter(o)}else{var a=_jexcel.getElement(e.target);if(1==a[1]&&1==_jexcel.current.options.columnSorting&&(o=e.target.getAttribute("data-x"))&&_jexcel.current.orderBy(o),2==a[1]&&1==_jexcel.current.options.editable&&!_jexcel.current.edition){var s=function e(t){if(t.parentNode){var n=t.getAttribute("data-x"),i=t.getAttribute("data-y");return n&&i?t:e(t.parentNode)}}(e.target);s&&s.classList.contains("highlight")&&_jexcel.current.openEditor(s)}}},_jexcel.copyControls=function(e){_jexcel.current&&_jexcel.copyControls.enabled&&(_jexcel.current.edition||_jexcel.current.copy(!0))},_jexcel.cutControls=function(e){_jexcel.current&&(_jexcel.current.edition||(_jexcel.current.copy(!0),1==_jexcel.current.options.editable&&_jexcel.current.setValue(_jexcel.current.highlighted,"")))},_jexcel.pasteControls=function(e){_jexcel.current&&_jexcel.current.selectedCell&&(_jexcel.current.edition||1==_jexcel.current.options.editable&&(e&&e.clipboardData?(_jexcel.current.paste(_jexcel.current.selectedCell[0],_jexcel.current.selectedCell[1],e.clipboardData.getData("text")),e.preventDefault()):window.clipboardData&&_jexcel.current.paste(_jexcel.current.selectedCell[0],_jexcel.current.selectedCell[1],window.clipboardData.getData("text"))))},_jexcel.contextMenuControls=function(e){if("buttons"in(e=e||window.event)?e.buttons:e.which||e.button,_jexcel.current)if(_jexcel.current.edition)e.preventDefault();else if(_jexcel.current.options.contextMenu&&(_jexcel.current.contextMenu.contextmenu.close(),_jexcel.current)){var t=e.target.getAttribute("data-x"),n=e.target.getAttribute("data-y");if(t||n){(t<parseInt(_jexcel.current.selectedCell[0])||t>parseInt(_jexcel.current.selectedCell[2])||n<parseInt(_jexcel.current.selectedCell[1])||n>parseInt(_jexcel.current.selectedCell[3]))&&_jexcel.current.updateSelectionFromCoords(t,n,t,n);var i=_jexcel.current.options.contextMenu(_jexcel.current,t,n,e);_jexcel.current.contextMenu.contextmenu.open(e,i),e.preventDefault()}}},_jexcel.touchStartControls=function(e){var t=_jexcel.getElement(e.target);if(t[0]?_jexcel.current!=t[0].jexcel&&(_jexcel.current&&_jexcel.current.resetSelection(),_jexcel.current=t[0].jexcel):_jexcel.current&&(_jexcel.current.resetSelection(),_jexcel.current=null),_jexcel.current&&!_jexcel.current.edition){var n=e.target.getAttribute("data-x"),i=e.target.getAttribute("data-y");n&&i&&(_jexcel.current.updateSelectionFromCoords(n,i),_jexcel.timeControl=setTimeout((function(){"color"==_jexcel.current.options.columns[n].type?_jexcel.tmpElement=null:_jexcel.tmpElement=e.target,_jexcel.current.openEditor(e.target,!1,e)}),500))}},_jexcel.touchEndControls=function(e){_jexcel.timeControl&&(clearTimeout(_jexcel.timeControl),_jexcel.timeControl=null,_jexcel.tmpElement&&"INPUT"==_jexcel.tmpElement.children[0].tagName&&_jexcel.tmpElement.children[0].focus(),_jexcel.tmpElement=null)},_jexcel.tabs=function(e,t){var n=[];if(e.classList.contains("jexcel_tabs"))r=e.children[0],o=e.children[1];else{e.innerHTML="",e.classList.add("jexcel_tabs"),e.jexcel=[];var i=document.createElement("div"),r=e.appendChild(i),o=(i=document.createElement("div"),e.appendChild(i))}for(var a=[],s=[],l=0;l<t.length;l++){a[l]=document.createElement("div"),a[l].classList.add("jexcel_tab");var c=_jexcel(a[l],t[l]);o.appendChild(a[l]),n[l]=e.jexcel.push(c),s[l]=document.createElement("div"),s[l].classList.add("jexcel_tab_link"),s[l].setAttribute("data-spreadsheet",e.jexcel.length-1),s[l].innerHTML=t[l].sheetName,s[l].onclick=function(){for(var e=0;e<r.children.length;e++)r.children[e].classList.remove("selected"),o.children[e].style.display="none";var t=this.getAttribute("data-spreadsheet");o.children[t].style.display="block",r.children[t].classList.add("selected")},r.appendChild(s[l])}for(var u=0;u<r.children.length;u++)r.children[u].classList.remove("selected"),o.children[u].style.display="none";return r.children[r.children.length-1].classList.add("selected"),o.children[r.children.length-1].style.display="block",n},_jexcel.createTabs=_jexcel.tabs,_jexcel.fromSpreadsheet=function(e,t){var n,i=function(e){var t=[];return e.SheetNames.forEach((function(n){var i={rows:[],columns:[],data:[],style:{}};if(i.sheetName=n,(h=e.Sheets[n]["!cols"])&&h.length)for(var r=0;r<h.length;r++)i.columns[r]={},h[r]&&h[r].wpx&&(i.columns[r].width=h[r].wpx+"px");if((h=e.Sheets[n]["!rows"])&&h.length)for(r=0;r<h.length;r++)h[r]&&h[r].hpx&&(i.rows[r]={},i.rows[r].height=h[r].hpx+"px");if((h=e.Sheets[n]["!merges"])&&h.length>0)for(i.mergeCells=[],r=0;r<h.length;r++){var o=h[r].s.c,a=h[r].s.r,s=h[r].e.c,l=h[r].e.r,c=_jexcel.getColumnNameFromId([o,a]);i.mergeCells[c]=[s-o+1,l-a+1]}var u=0,d=0,h=Object.keys(e.Sheets[n]);for(r=0;r<h.length;r++)if("!"!=h[r].substr(0,1)){var p=e.Sheets[n][h[r]],f=_jexcel.getIdFromColumnName(h[r],!0);i.data[f[1]]||(i.data[f[1]]=[]),i.data[f[1]][f[0]]=p.f?"="+p.f:p.w,u<f[0]&&(u=f[0]),d<f[1]&&(d=f[1]),p.style&&Object.keys(p.style).length>0&&(i.style[h[r]]=p.style),p.s&&p.s.fgColor&&(i.style[h[r]]&&(i.style[h[r]]+=";"),i.style[h[r]]+="background-color:#"+p.s.fgColor.rgb)}for(var A=i.columns,m=0;m<=d;m++)for(r=0;r<=u;r++)i.data[m]||(i.data[m]=[]),i.data[m][r]||A<r&&(i.data[m][r]="");t.push(i)})),t};(n=new XMLHttpRequest).open("GET",e,!0),"undefined"!=typeof Uint8Array?(n.responseType="arraybuffer",n.onload=function(e){var r=n.response,o=new Uint8Array(r),a=XLSX.read(o,{type:"array",cellFormula:!0,cellStyles:!0});t(i(a))}):(n.setRequestHeader("Accept-Charset","x-user-defined"),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=convertResponseBodyToText(n.responseBody),r=XLSX.read(e,{type:"binary",cellFormula:!0,cellStyles:!0});t(i(r))}}),n.send()},_jexcel.validLetter=function(e){return e.match(/([\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC-\u0400-\u04FF']+)/g)?1:0},_jexcel.injectArray=function(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))},_jexcel.getColumnName=function(e){var t="";return e>701?(t+=String.fromCharCode(64+parseInt(e/676)),t+=String.fromCharCode(64+parseInt(e%676/26))):e>25&&(t+=String.fromCharCode(64+parseInt(e/26))),t+=String.fromCharCode(65+e%26)},_jexcel.getIdFromColumnName=function(e,t){var n=/^[a-zA-Z]+/.exec(e);if(n){for(var i=0,r=0;r<n[0].length;r++)i+=parseInt(n[0].charCodeAt(r)-64)*Math.pow(26,n[0].length-1-r);--i<0&&(i=0);var o=parseInt(/[0-9]+$/.exec(e));o>0&&o--,e=1==t?[i,o]:i+"-"+o}return e},_jexcel.getColumnNameFromId=function(e){return Array.isArray(e)||(e=e.split("-")),_jexcel.getColumnName(parseInt(e[0]))+(parseInt(e[1])+1)},_jexcel.getElement=function(e){var t=0,n=0;return function e(i){i.className&&i.classList.contains("jexcel_container")&&(n=i),"THEAD"==i.tagName?t=1:"TBODY"==i.tagName&&(t=2),i.parentNode&&(n||e(i.parentNode))}(e),[n,t]},_jexcel.doubleDigitFormat=function(e){return 1==(e=""+e).length&&(e="0"+e),e},_jexcel.createFromTable=function(e,t){if("TABLE"==e.tagName){t||(t={}),t.columns=[],t.data=[];var n=e.querySelectorAll("colgroup > col");if(n.length)for(var i=0;i<n.length;i++){if(!(r=n[i].style.width))var r=n[i].getAttribute("width");r&&(t.columns[i]||(t.columns[i]={}),t.columns[i].width=r)}var o=function(e){var n=e.getBoundingClientRect(),r=n.width>50?n.width:50;t.columns[i]||(t.columns[i]={}),e.getAttribute("data-celltype")?t.columns[i].type=e.getAttribute("data-celltype"):t.columns[i].type="text",t.columns[i].width=r+"px",t.columns[i].title=e.innerHTML,t.columns[i].align=e.style.textAlign||"center",(n=e.getAttribute("name"))&&(t.columns[i].name=n),(n=e.getAttribute("id"))&&(t.columns[i].id=n)},a=[],s=e.querySelectorAll(":scope > thead > tr");if(s.length){for(var l=0;l<s.length-1;l++){var c=[];for(i=0;i<s[l].children.length;i++){var u={title:s[l].children[i].innerText,colspan:s[l].children[i].getAttribute("colspan")||1};c.push(u)}a.push(c)}for(s=s[s.length-1].children,i=0;i<s.length;i++)o(s[i])}var d=0,h={},p={},f={},A={},m=e.querySelectorAll(":scope > tr, :scope > tbody > tr");for(l=0;l<m.length;l++)if(t.data[d]=[],1!=t.parseTableFirstRowAsHeader||s.length||0!=l){for(i=0;i<m[l].children.length;i++){if(g=m[l].children[i].getAttribute("data-formula"))"="!=g.substr(0,1)&&(g="="+g);else var g=m[l].children[i].innerHTML;t.data[d].push(g);var v=_jexcel.getColumnNameFromId([i,l]),b=m[l].children[i].getAttribute("class");b&&(A[v]=b);var y=parseInt(m[l].children[i].getAttribute("colspan"))||0,x=parseInt(m[l].children[i].getAttribute("rowspan"))||0;(y||x)&&(h[v]=[y||1,x||1]),m[l].children[i].style&&"none"==m[l].children[i].style.display&&(m[l].children[i].style.display="");var w=m[l].children[i].getAttribute("style");w&&(f[v]=w),m[l].children[i].classList.contains("styleBold")&&(f[v]?f[v]+="; font-weight:bold;":f[v]="font-weight:bold;")}m[l].style&&m[l].style.height&&(p[l]={height:m[l].style.height}),d++}else for(var i=0;i<m[l].children.length;i++)o(m[l].children[i]);if(Object.keys(a).length>0&&(t.nestedHeaders=a),Object.keys(f).length>0&&(t.style=f),Object.keys(h).length>0&&(t.mergeCells=h),Object.keys(p).length>0&&(t.rows=p),Object.keys(A).length>0&&(t.classes=A),(m=e.querySelectorAll("tfoot tr")).length){var _=[];for(l=0;l<m.length;l++){var j=[];for(i=0;i<m[l].children.length;i++)j.push(m[l].children[i].innerText);_.push(j)}Object.keys(_).length>0&&(t.footers=_)}if(1==t.parseTableAutoCellType){var C=[];for(i=0;i<t.columns.length;i++){var E=!0,B=!0;for(C[i]=[],l=0;l<t.data.length;l++)g=t.data[l][i],C[i][g]||(C[i][g]=0),C[i][g]++,g.length>25&&(E=!1),10==g.length&&"-"==g.substr(4,1)&&"-"==g.substr(7,1)||(B=!1);var k=Object.keys(C[i]).length;B?t.columns[i].type="calendar":1==E&&k>1&&k<=parseInt(.1*t.data.length)&&(t.columns[i].type="dropdown",t.columns[i].source=Object.keys(C[i]))}}return t}console.log("Element is not a table")},"undefined"!=typeof jQuery&&function(e){e.fn.jspreadsheet=e.fn.jexcel=function(t){var n=e(this).get(0);return n.jexcel?Array.isArray(n.jexcel)?n.jexcel[t][arguments[1]].apply(this,Array.prototype.slice.call(arguments,2)):n.jexcel[t].apply(this,Array.prototype.slice.call(arguments,1)):_jexcel(e(this).get(0),arguments[0])}}(jQuery);var error=function(){var e={};return e.nil=new Error("#NULL!"),e.div0=new Error("#DIV/0!"),e.value=new Error("#VALUE!"),e.ref=new Error("#REF!"),e.name=new Error("#NAME?"),e.num=new Error("#NUM!"),e.na=new Error("#N/A"),e.error=new Error("#ERROR!"),e.data=new Error("#GETTING_DATA"),e}(),utils=function(){var e={flattenShallow:function(e){return e&&e.reduce?e.reduce((function(e,t){var n=Array.isArray(e),i=Array.isArray(t);return n&&i?e.concat(t):n?(e.push(t),e):i?[e].concat(t):[e,t]})):e},isFlat:function(e){if(!e)return!1;for(var t=0;t<e.length;++t)if(Array.isArray(e[t]))return!1;return!0},flatten:function(){for(var t=e.argsToArray.apply(null,arguments);!e.isFlat(t);)t=e.flattenShallow(t);return t},argsToArray:function(t){var n=[];return e.arrayEach(t,(function(e){n.push(e)})),n},numbers:function(){var e=this.flatten.apply(null,arguments);return e.filter((function(e){return"number"==typeof e}))},cleanFloat:function(e){return Math.round(1e14*e)/1e14},parseBool:function(e){if("boolean"==typeof e)return e;if(e instanceof Error)return e;if("number"==typeof e)return 0!==e;if("string"==typeof e){var t=e.toUpperCase();if("TRUE"===t)return!0;if("FALSE"===t)return!1}return e instanceof Date&&!isNaN(e)||error.value},parseNumber:function(e){return void 0===e||""===e||isNaN(e)?error.value:parseFloat(e)},parseNumberArray:function(t){var n,i;if(!t||0===(n=t.length))return error.value;for(;n--;){if((i=e.parseNumber(t[n]))===error.value)return i;t[n]=i}return t},parseMatrix:function(t){var n;if(!t||0===t.length)return error.value;for(var i=0;i<t.length;i++)if(n=e.parseNumberArray(t[i]),t[i]=n,n instanceof Error)return n;return t}},t=new Date(Date.UTC(1900,0,1));return e.parseDate=function(e){if(!isNaN(e)){if(e instanceof Date)return new Date(e);var n=parseInt(e,10);return n<0?error.num:n<=60?new Date(t.getTime()+864e5*(n-1)):new Date(t.getTime()+864e5*(n-2))}return"string"!=typeof e||(e=new Date(e),isNaN(e))?error.value:e},e.parseDateArray=function(e){for(var t,n=e.length;n--;){if((t=this.parseDate(e[n]))===error.value)return t;e[n]=t}return e},e.anyIsError=function(){for(var e=arguments.length;e--;)if(arguments[e]instanceof Error)return!0;return!1},e.arrayValuesToNumbers=function(e){for(var t,n=e.length;n--;)if("number"!=typeof(t=e[n]))if(!0!==t)if(!1!==t){if("string"==typeof t){var i=this.parseNumber(t);i instanceof Error?e[n]=0:e[n]=i}}else e[n]=0;else e[n]=1;return e},e.rest=function(e,t){return t=t||1,e&&"function"==typeof e.slice?e.slice(t):e},e.initial=function(e,t){return t=t||1,e&&"function"==typeof e.slice?e.slice(0,e.length-t):e},e.arrayEach=function(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e},e.transpose=function(e){return e?e[0].map((function(t,n){return e.map((function(e){return e[n]}))})):error.value},e}();_jexcel.methods={},_jexcel.methods.datetime=function(){var e={},t=new Date(1900,0,1),n=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]];function i(e){return(e-t)/864e5+(e>-22038912e5?2:1)}return e.DATE=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:e<0||t<0||n<0?error.num:new Date(e,t-1,n)},e.DATEVALUE=function(e){if("string"!=typeof e)return error.value;var n=Date.parse(e);return isNaN(n)?error.value:n<=-22038912e5?(n-t)/864e5+1:(n-t)/864e5+2},e.DAY=function(e){var t=utils.parseDate(e);return t instanceof Error?t:t.getDate()},e.DAYS=function(e,t){return e=utils.parseDate(e),t=utils.parseDate(t),e instanceof Error?e:t instanceof Error?t:i(e)-i(t)},e.DAYS360=function(e,t,n){},e.EDATE=function(e,t){return(e=utils.parseDate(e))instanceof Error?e:isNaN(t)?error.value:(t=parseInt(t,10),e.setMonth(e.getMonth()+t),i(e))},e.EOMONTH=function(e,t){return(e=utils.parseDate(e))instanceof Error?e:isNaN(t)?error.value:(t=parseInt(t,10),i(new Date(e.getFullYear(),e.getMonth()+t+1,0)))},e.HOUR=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getHours()},e.INTERVAL=function(e){if("number"!=typeof e&&"string"!=typeof e)return error.value;e=parseInt(e,10);var t=Math.floor(e/94608e4);e%=94608e4;var n=Math.floor(e/2592e3);e%=2592e3;var i=Math.floor(e/86400);e%=86400;var r=Math.floor(e/3600);e%=3600;var o=Math.floor(e/60),a=e%=60;return"P"+(t=t>0?t+"Y":"")+(n=n>0?n+"M":"")+(i=i>0?i+"D":"")+"T"+(r=r>0?r+"H":"")+(o=o>0?o+"M":"")+(a=a>0?a+"S":"")},e.ISOWEEKNUM=function(e){if((e=utils.parseDate(e))instanceof Error)return e;e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)},e.MINUTE=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getMinutes()},e.MONTH=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getMonth()+1},e.NETWORKDAYS=function(e,t,n){},e.NETWORKDAYS.INTL=function(e,t,n,i){},e.NOW=function(){return new Date},e.SECOND=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getSeconds()},e.TIME=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:e<0||t<0||n<0?error.num:(3600*e+60*t+n)/86400},e.TIMEVALUE=function(e){return(e=utils.parseDate(e))instanceof Error?e:(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400},e.TODAY=function(){return new Date},e.WEEKDAY=function(e,t){if((e=utils.parseDate(e))instanceof Error)return e;void 0===t&&(t=1);var i=e.getDay();return n[t][i]},e.WEEKNUM=function(e,t){},e.WORKDAY=function(e,t,n){},e.WORKDAY.INTL=function(e,t,n,i){},e.YEAR=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getFullYear()},e.YEARFRAC=function(e,t,n){},e}(),_jexcel.methods.database=function(){var exports={};function compact(e){if(!e)return e;for(var t=[],n=0;n<e.length;++n)e[n]&&t.push(e[n]);return t}function findResultIndex(database,criterias){for(var matches={},i=1;i<database[0].length;++i)matches[i]=!0;var maxCriteriaLength=criterias[0].length;for(i=1;i<criterias.length;++i)criterias[i].length>maxCriteriaLength&&(maxCriteriaLength=criterias[i].length);for(var k=1;k<database.length;++k)for(var l=1;l<database[k].length;++l){for(var currentCriteriaResult=!1,hasMatchingCriteria=!1,j=0;j<criterias.length;++j){var criteria=criterias[j];if(!(criteria.length<maxCriteriaLength)){var criteriaField=criteria[0];if(database[k][0]===criteriaField){hasMatchingCriteria=!0;for(var p=1;p<criteria.length;++p)currentCriteriaResult=currentCriteriaResult||eval(database[k][l]+criteria[p])}}}hasMatchingCriteria&&(matches[l]=matches[l]&&currentCriteriaResult)}for(var result=[],n=0;n<database[0].length;++n)matches[n]&&result.push(n-1);return result}return exports.FINDFIELD=function(e,t){for(var n=null,i=0;i<e.length;i++)if(e[i][0]===t){n=i;break}return null==n?error.value:n},exports.DAVERAGE=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var o=exports.FINDFIELD(e,t);r=utils.rest(e[o])}else r=utils.rest(e[t]);for(var a=0,s=0;s<i.length;s++)a+=r[i[s]];return 0===i.length?error.div0:a/i.length},exports.DCOUNT=function(e,t,n){},exports.DCOUNTA=function(e,t,n){},exports.DGET=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var o=exports.FINDFIELD(e,t);r=utils.rest(e[o])}else r=utils.rest(e[t]);return 0===i.length?error.value:i.length>1?error.num:r[i[0]]},exports.DMAX=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var o=exports.FINDFIELD(e,t);r=utils.rest(e[o])}else r=utils.rest(e[t]);for(var a=r[i[0]],s=1;s<i.length;s++)a<r[i[s]]&&(a=r[i[s]]);return a},exports.DMIN=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var o=exports.FINDFIELD(e,t);r=utils.rest(e[o])}else r=utils.rest(e[t]);for(var a=r[i[0]],s=1;s<i.length;s++)a>r[i[s]]&&(a=r[i[s]]);return a},exports.DPRODUCT=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var o=exports.FINDFIELD(e,t);r=utils.rest(e[o])}else r=utils.rest(e[t]);for(var a=[],s=0;s<i.length;s++)a[s]=r[i[s]];a=compact(a);var l=1;for(s=0;s<a.length;s++)l*=a[s];return l},exports.DSTDEV=function(e,t,n){},exports.DSTDEVP=function(e,t,n){},exports.DSUM=function(e,t,n){},exports.DVAR=function(e,t,n){},exports.DVARP=function(e,t,n){},exports.MATCH=function(e,t,n){if(!e&&!t)return error.na;if(2===arguments.length&&(n=1),!(t instanceof Array))return error.na;if(-1!==n&&0!==n&&1!==n)return error.na;for(var i,r,o=0;o<t.length;o++)if(1===n){if(t[o]===e)return o+1;t[o]<e&&(r?t[o]>r&&(i=o+1,r=t[o]):(i=o+1,r=t[o]))}else if(0===n){if("string"==typeof e){if(e=e.replace(/\?/g,"."),t[o].toLowerCase().match(e.toLowerCase()))return o+1}else if(t[o]===e)return o+1}else if(-1===n){if(t[o]===e)return o+1;t[o]>e&&(r?t[o]<r&&(i=o+1,r=t[o]):(i=o+1,r=t[o]))}return i||error.na},exports}(),_jexcel.methods.engineering=function(){var e={};function t(e){return/^[01]{1,10}$/.test(e)}return e.BESSELI=function(e,t){},e.BESSELJ=function(e,t){},e.BESSELK=function(e,t){},e.BESSELY=function(e,t){},e.BIN2DEC=function(e){if(!t(e))return error.num;var n=parseInt(e,2),i=e.toString();return 10===i.length&&"1"===i.substring(0,1)?parseInt(i.substring(1),2)-512:n},e.BIN2HEX=function(e,n){if(!t(e))return error.num;var i=e.toString();if(10===i.length&&"1"===i.substring(0,1))return(0xfffffffe00+parseInt(i.substring(1),2)).toString(16);var r=parseInt(e,2).toString(16);return void 0===n?r:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=r.length?REPT("0",n-r.length)+r:error.num},e.BIN2OCT=function(e,n){if(!t(e))return error.num;var i=e.toString();if(10===i.length&&"1"===i.substring(0,1))return(1073741312+parseInt(i.substring(1),2)).toString(8);var r=parseInt(e,2).toString(8);return void 0===n?r:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=r.length?REPT("0",n-r.length)+r:error.num},e.BITAND=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||t<0||Math.floor(e)!==e||Math.floor(t)!==t||e>0xffffffffffff||t>0xffffffffffff?error.num:e&t},e.BITLSHIFT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||Math.floor(e)!==e||e>0xffffffffffff||Math.abs(t)>53?error.num:t>=0?e<<t:e>>-t},e.BITOR=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||t<0||Math.floor(e)!==e||Math.floor(t)!==t||e>0xffffffffffff||t>0xffffffffffff?error.num:e|t},e.BITRSHIFT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||Math.floor(e)!==e||e>0xffffffffffff||Math.abs(t)>53?error.num:t>=0?e>>t:e<<-t},e.BITXOR=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||t<0||Math.floor(e)!==e||Math.floor(t)!==t||e>0xffffffffffff||t>0xffffffffffff?error.num:e^t},e.COMPLEX=function(e,t,n){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return e;if("i"!==(n=void 0===n?"i":n)&&"j"!==n)return error.value;if(0===e&&0===t)return 0;if(0===e)return 1===t?n:t.toString()+n;if(0===t)return e.toString();var i=t>0?"+":"";return e.toString()+i+(1===t?n:t.toString()+n)},e.CONVERT=function(e,t,n){if((e=utils.parseNumber(e))instanceof Error)return e;for(var i,r=[["a.u. of action","?",null,"action",!1,!1,105457168181818e-48],["a.u. of charge","e",null,"electric_charge",!1,!1,160217653141414e-33],["a.u. of energy","Eh",null,"energy",!1,!1,435974417757576e-32],["a.u. of length","a?",null,"length",!1,!1,529177210818182e-25],["a.u. of mass","m?",null,"mass",!1,!1,910938261616162e-45],["a.u. of time","?/Eh",null,"time",!1,!1,241888432650516e-31],["admiralty knot","admkn",null,"speed",!1,!0,.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["ångström","Å",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,149597870691667e-25],["bar","bar",null,"pressure",!1,!1,1e5],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic ångström","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,846786664623715e-61],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",!1,!0,.764554857984],["cup","cup",null,"volume",!1,!0,.0002365882365],["dalton","Da",["u"],"mass",!1,!1,166053886282828e-41],["day","d",["day"],"time",!1,!0,86400],["degree","°",null,"angle",!1,!1,.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,1e-5],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,295735295625e-16],["foot","ft",null,"length",!1,!0,.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,.01],["gallon","gal",null,"volume",!1,!0,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,647989e-10],["gram","g",null,"mass",!1,!0,.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,1e4],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519.538],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,5e-6],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,105457168181818e-48],["n.u. of mass","m?",null,"mass",!1,!1,910938261616162e-45],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,128808866778687e-35],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["œrsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","Ω",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdestärke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,1e-4],["pica (1/6 inch)","pica",null,"length",!1,!0,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,.1],["pond","pond",null,"force",!1,!0,.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,.45359237],["quart","qt",null,"volume",!1,!0,.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,484813681109536e-20],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square ångström","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,.09290304],["square inch","in2",["in^2"],"area",!1,!0,64516e-8],["square light-year","ly2",["ly^2"],"area",!1,!0,895054210748189e17],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,1792111111111e-17],["square yard","yd2",["yd^2"],"area",!1,!0,.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,1e-4],["stokes","St",null,"kinematic_viscosity",!1,!1,1e-4],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,147868e-10],["teaspoon","tsp",null,"volume",!1,!0,492892e-11],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1e3],["U.K. pint","uk_pt",null,"volume",!1,!0,.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,.9144],["year","yr",null,"time",!1,!0,31557600]],o={Yi:["yobi",80,12089258196146292e8,"Yi","yotta"],Zi:["zebi",70,11805916207174113e5,"Zi","zetta"],Ei:["exbi",60,0x1000000000000000,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]},a={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]},s=null,l=null,c=t,u=n,d=1,h=1,p=0;p<r.length;p++)i=null===r[p][2]?[]:r[p][2],(r[p][1]===c||i.indexOf(c)>=0)&&(s=r[p]),(r[p][1]===u||i.indexOf(u)>=0)&&(l=r[p]);if(null===s){var f=o[t.substring(0,2)],A=a[t.substring(0,1)];"da"===t.substring(0,2)&&(A=["dekao",10,"da"]),f?(d=f[2],c=t.substring(2)):A&&(d=A[1],c=t.substring(A[2].length));for(var m=0;m<r.length;m++)i=null===r[m][2]?[]:r[m][2],(r[m][1]===c||i.indexOf(c)>=0)&&(s=r[m])}if(null===l){var g=o[n.substring(0,2)],v=a[n.substring(0,1)];"da"===n.substring(0,2)&&(v=["dekao",10,"da"]),g?(h=g[2],u=n.substring(2)):v&&(h=v[1],u=n.substring(v[2].length));for(var b=0;b<r.length;b++)i=null===r[b][2]?[]:r[b][2],(r[b][1]===u||i.indexOf(u)>=0)&&(l=r[b])}return null===s||null===l||s[3]!==l[3]?error.na:e*s[6]*d/(l[6]*h)},e.DEC2BIN=function(e,t){if((e=utils.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,3}$/.test(e)||e<-512||e>511)return error.num;if(e<0)return"1"+REPT("0",9-(512+e).toString(2).length)+(512+e).toString(2);var n=parseInt(e,10).toString(2);return void 0===t?n:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=n.length?REPT("0",t-n.length)+n:error.num},e.DEC2HEX=function(e,t){if((e=utils.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,12}$/.test(e)||e<-549755813888||e>549755813887)return error.num;if(e<0)return(1099511627776+e).toString(16);var n=parseInt(e,10).toString(16);return void 0===t?n:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=n.length?REPT("0",t-n.length)+n:error.num},e.DEC2OCT=function(e,t){if((e=utils.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,9}$/.test(e)||e<-536870912||e>536870911)return error.num;if(e<0)return(1073741824+e).toString(8);var n=parseInt(e,10).toString(8);return void 0===t?n:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=n.length?REPT("0",t-n.length)+n:error.num},e.DELTA=function(e,t){return t=void 0===t?0:t,e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e===t?1:0},e.ERF=function(e,t){},e.ERF.PRECISE=function(){},e.ERFC=function(e){},e.ERFC.PRECISE=function(){},e.GESTEP=function(e,t){return t=t||0,e=utils.parseNumber(e),utils.anyIsError(t,e)?e:e>=t?1:0},e.HEX2BIN=function(e,t){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return error.num;var n=10===e.length&&"f"===e.substring(0,1).toLowerCase(),i=n?parseInt(e,16)-1099511627776:parseInt(e,16);if(i<-512||i>511)return error.num;if(n)return"1"+REPT("0",9-(512+i).toString(2).length)+(512+i).toString(2);var r=i.toString(2);return void 0===t?r:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=r.length?REPT("0",t-r.length)+r:error.num},e.HEX2DEC=function(e){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return error.num;var t=parseInt(e,16);return t>=549755813888?t-1099511627776:t},e.HEX2OCT=function(e,t){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return error.num;var n=parseInt(e,16);if(n>536870911&&n<0xffe0000000)return error.num;if(n>=0xffe0000000)return(n-0xffc0000000).toString(8);var i=n.toString(8);return void 0===t?i:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=i.length?REPT("0",t-i.length)+i:error.num},e.IMABS=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:Math.sqrt(Math.pow(n,2)+Math.pow(i,2))},e.IMAGINARY=function(e){if(void 0===e||!0===e||!1===e)return error.value;if(0===e||"0"===e)return 0;if(["i","j"].indexOf(e)>=0)return 1;var t=(e=e.replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j")).indexOf("+"),n=e.indexOf("-");0===t&&(t=e.indexOf("+",1)),0===n&&(n=e.indexOf("-",1));var i=e.substring(e.length-1,e.length),r="i"===i||"j"===i;return t>=0||n>=0?r?t>=0?isNaN(e.substring(0,t))||isNaN(e.substring(t+1,e.length-1))?error.num:Number(e.substring(t+1,e.length-1)):isNaN(e.substring(0,n))||isNaN(e.substring(n+1,e.length-1))?error.num:-Number(e.substring(n+1,e.length-1)):error.num:r?isNaN(e.substring(0,e.length-1))?error.num:e.substring(0,e.length-1):isNaN(e)?error.num:0},e.IMARGUMENT=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:0===n&&0===i?error.div0:0===n&&i>0?Math.PI/2:0===n&&i<0?-Math.PI/2:0===i&&n>0?0:0===i&&n<0?-Math.PI:n>0?Math.atan(i/n):n<0&&i>=0?Math.atan(i/n)+Math.PI:Math.atan(i/n)-Math.PI},e.IMCONJUGATE=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",0!==i?e.COMPLEX(n,-i,r):t},e.IMCOS=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.cos(n)*(Math.exp(i)+Math.exp(-i))/2,-Math.sin(n)*(Math.exp(i)-Math.exp(-i))/2,r)},e.IMCOSH=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.cos(i)*(Math.exp(n)+Math.exp(-n))/2,Math.sin(i)*(Math.exp(n)-Math.exp(-n))/2,r)},e.IMCOT=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:e.IMDIV(e.IMCOS(t),e.IMSIN(t))},e.IMDIV=function(t,n){var i=e.IMREAL(t),r=e.IMAGINARY(t),o=e.IMREAL(n),a=e.IMAGINARY(n);if(utils.anyIsError(i,r,o,a))return error.value;var s=t.substring(t.length-1),l=n.substring(n.length-1),c="i";if(("j"===s||"j"===l)&&(c="j"),0===o&&0===a)return error.num;var u=o*o+a*a;return e.COMPLEX((i*o+r*a)/u,(r*o-i*a)/u,c)},e.IMEXP=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);r="i"===r||"j"===r?r:"i";var o=Math.exp(n);return e.COMPLEX(o*Math.cos(i),o*Math.sin(i),r)},e.IMLN=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+i*i)),Math.atan(i/n),r)},e.IMLOG10=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+i*i))/Math.log(10),Math.atan(i/n)/Math.log(10),r)},e.IMLOG2=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+i*i))/Math.log(2),Math.atan(i/n)/Math.log(2),r)},e.IMPOWER=function(t,n){n=utils.parseNumber(n);var i=e.IMREAL(t),r=e.IMAGINARY(t);if(utils.anyIsError(n,i,r))return error.value;var o=t.substring(t.length-1);o="i"===o||"j"===o?o:"i";var a=Math.pow(e.IMABS(t),n),s=e.IMARGUMENT(t);return e.COMPLEX(a*Math.cos(n*s),a*Math.sin(n*s),o)},e.IMPRODUCT=function(){for(var t=arguments[0],n=1;n<arguments.length;n++){var i=e.IMREAL(t),r=e.IMAGINARY(t),o=e.IMREAL(arguments[n]),a=e.IMAGINARY(arguments[n]);if(utils.anyIsError(i,r,o,a))return error.value;t=e.COMPLEX(i*o-r*a,i*a+r*o)}return t},e.IMREAL=function(e){if(void 0===e||!0===e||!1===e)return error.value;if(0===e||"0"===e)return 0;if(["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(e)>=0)return 0;var t=e.indexOf("+"),n=e.indexOf("-");0===t&&(t=e.indexOf("+",1)),0===n&&(n=e.indexOf("-",1));var i=e.substring(e.length-1,e.length),r="i"===i||"j"===i;return t>=0||n>=0?r?t>=0?isNaN(e.substring(0,t))||isNaN(e.substring(t+1,e.length-1))?error.num:Number(e.substring(0,t)):isNaN(e.substring(0,n))||isNaN(e.substring(n+1,e.length-1))?error.num:Number(e.substring(0,n)):error.num:r?isNaN(e.substring(0,e.length-1))?error.num:0:isNaN(e)?error.num:e},e.IMSEC=function(t){if(!0===t||!1===t)return error.value;var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:e.IMDIV("1",e.IMCOS(t))},e.IMSECH=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:e.IMDIV("1",e.IMCOSH(t))},e.IMSIN=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.sin(n)*(Math.exp(i)+Math.exp(-i))/2,Math.cos(n)*(Math.exp(i)-Math.exp(-i))/2,r)},e.IMSINH=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.cos(i)*(Math.exp(n)-Math.exp(-n))/2,Math.sin(i)*(Math.exp(n)+Math.exp(-n))/2,r)},e.IMSQRT=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);r="i"===r||"j"===r?r:"i";var o=Math.sqrt(e.IMABS(t)),a=e.IMARGUMENT(t);return e.COMPLEX(o*Math.cos(a/2),o*Math.sin(a/2),r)},e.IMCSC=function(t){if(!0===t||!1===t)return error.value;var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.num:e.IMDIV("1",e.IMSIN(t))},e.IMCSCH=function(t){if(!0===t||!1===t)return error.value;var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.num:e.IMDIV("1",e.IMSINH(t))},e.IMSUB=function(e,t){var n=this.IMREAL(e),i=this.IMAGINARY(e),r=this.IMREAL(t),o=this.IMAGINARY(t);if(utils.anyIsError(n,i,r,o))return error.value;var a=e.substring(e.length-1),s=t.substring(t.length-1),l="i";return("j"===a||"j"===s)&&(l="j"),this.COMPLEX(n-r,i-o,l)},e.IMSUM=function(){for(var e=utils.flatten(arguments),t=e[0],n=1;n<e.length;n++){var i=this.IMREAL(t),r=this.IMAGINARY(t),o=this.IMREAL(e[n]),a=this.IMAGINARY(e[n]);if(utils.anyIsError(i,r,o,a))return error.value;t=this.COMPLEX(i+o,r+a)}return t},e.IMTAN=function(t){if(!0===t||!1===t)return error.value;var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:this.IMDIV(this.IMSIN(t),this.IMCOS(t))},e.OCT2BIN=function(e,t){if(!/^[0-7]{1,10}$/.test(e))return error.num;var n=10===e.length&&"7"===e.substring(0,1),i=n?parseInt(e,8)-1073741824:parseInt(e,8);if(i<-512||i>511)return error.num;if(n)return"1"+REPT("0",9-(512+i).toString(2).length)+(512+i).toString(2);var r=i.toString(2);return void 0===t?r:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=r.length?REPT("0",t-r.length)+r:error.num},e.OCT2DEC=function(e){if(!/^[0-7]{1,10}$/.test(e))return error.num;var t=parseInt(e,8);return t>=536870912?t-1073741824:t},e.OCT2HEX=function(e,t){if(!/^[0-7]{1,10}$/.test(e))return error.num;var n=parseInt(e,8);if(n>=536870912)return"ff"+(n+3221225472).toString(16);var i=n.toString(16);return void 0===t?i:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=i.length?REPT("0",t-i.length)+i:error.num},e}(),_jexcel.methods.financial=function(){var e={};function t(e){return e&&e.getTime&&!isNaN(e.getTime())}function n(e){return e instanceof Date?e:new Date(e)}return e.ACCRINT=function(e,i,r,o,a,s,l){return e=n(e),i=n(i),r=n(r),t(e)&&t(i)&&t(r)?o<=0||a<=0||-1===[1,2,4].indexOf(s)||-1===[0,1,2,3,4].indexOf(l)||r<=e?"#NUM!":(l=l||0,(a=a||0)*o*YEARFRAC(e,r,l)):"#VALUE!"},e.ACCRINTM=null,e.AMORDEGRC=null,e.AMORLINC=null,e.COUPDAYBS=null,e.COUPDAYS=null,e.COUPDAYSNC=null,e.COUPNCD=null,e.COUPNUM=null,e.COUPPCD=null,e.CUMIPMT=function(t,n,i,r,o,a){if(t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(t,n,i))return error.value;if(t<=0||n<=0||i<=0)return error.num;if(r<1||o<1||r>o)return error.num;if(0!==a&&1!==a)return error.num;var s=e.PMT(t,n,i,0,a),l=0;1===r&&0===a&&(l=-i,r++);for(var c=r;c<=o;c++)l+=1===a?e.FV(t,c-2,s,i,1)-s:e.FV(t,c-1,s,i,0);return l*=t},e.CUMPRINC=function(t,n,i,r,o,a){if(t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(t,n,i))return error.value;if(t<=0||n<=0||i<=0)return error.num;if(r<1||o<1||r>o)return error.num;if(0!==a&&1!==a)return error.num;var s=e.PMT(t,n,i,0,a),l=0;1===r&&(l=0===a?s+i*t:s,r++);for(var c=r;c<=o;c++)l+=a>0?s-(e.FV(t,c-2,s,i,1)-s)*t:s-e.FV(t,c-1,s,i,0)*t;return l},e.DB=function(e,t,n,i,r){if(r=void 0===r?12:r,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;if(e<0||t<0||n<0||i<0)return error.num;if(-1===[1,2,3,4,5,6,7,8,9,10,11,12].indexOf(r))return error.num;if(i>n)return error.num;if(t>=e)return 0;for(var o=(1-Math.pow(t/e,1/n)).toFixed(3),a=e*o*r/12,s=a,l=0,c=i===n?n-1:i,u=2;u<=c;u++)s+=l=(e-s)*o;return 1===i?a:i===n?(e-s)*o:l},e.DDB=function(e,t,n,i,r){if(r=void 0===r?2:r,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;if(e<0||t<0||n<0||i<0||r<=0)return error.num;if(i>n)return error.num;if(t>=e)return 0;for(var o=0,a=0,s=1;s<=i;s++)o+=a=Math.min(r/n*(e-o),e-t-o);return a},e.DISC=null,e.DOLLARDE=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;if(t<0)return error.num;if(t>=0&&t<1)return error.div0;t=parseInt(t,10);var n=parseInt(e,10);n+=e%1*Math.pow(10,Math.ceil(Math.log(t)/Math.LN10))/t;var i=Math.pow(10,Math.ceil(Math.log(t)/Math.LN2)+1);return n=Math.round(n*i)/i},e.DOLLARFR=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;if(t<0)return error.num;if(t>=0&&t<1)return error.div0;t=parseInt(t,10);var n=parseInt(e,10);return n+=e%1*Math.pow(10,-Math.ceil(Math.log(t)/Math.LN10))*t},e.DURATION=null,e.EFFECT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<=0||t<1?error.num:(t=parseInt(t,10),Math.pow(1+e/t,t)-1)},e.FV=function(e,t,n,i,r){if(i=i||0,r=r||0,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;var o;if(0===e)o=i+n*t;else{var a=Math.pow(1+e,t);o=1===r?i*a+n*(1+e)*(a-1)/e:i*a+n*(a-1)/e}return-o},e.FVSCHEDULE=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;for(var n=t.length,i=e,r=0;r<n;r++)i*=1+t[r];return i},e.INTRATE=null,e.IPMT=function(t,n,i,r,o,a){if(o=o||0,a=a||0,t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),o=utils.parseNumber(o),a=utils.parseNumber(a),utils.anyIsError(t,n,i,r,o,a))return error.value;var s=e.PMT(t,i,r,o,a);return(1===n?1===a?0:-r:1===a?e.FV(t,n-2,s,r,1)-s:e.FV(t,n-1,s,r,0))*t},e.IRR=function(e,t){if(t=t||0,e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;for(var n=function(e,t,n){for(var i=n+1,r=e[0],o=1;o<e.length;o++)r+=e[o]/Math.pow(i,(t[o]-t[0])/365);return r},i=function(e,t,n){for(var i=n+1,r=0,o=1;o<e.length;o++){var a=(t[o]-t[0])/365;r-=a*e[o]/Math.pow(i,a+1)}return r},r=[],o=!1,a=!1,s=0;s<e.length;s++)r[s]=0===s?0:r[s-1]+365,e[s]>0&&(o=!0),e[s]<0&&(a=!0);if(!o||!a)return error.num;var l,c,u,d=t=void 0===t?.1:t,h=!0;do{l=d-(u=n(e,r,d))/i(e,r,d),c=Math.abs(l-d),d=l,h=c>1e-10&&Math.abs(u)>1e-10}while(h);return d},e.ISPMT=function(e,t,n,i){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(e,t,n,i)?error.value:i*e*(t/n-1)},e.MDURATION=null,e.MIRR=function(t,n,i){if(t=utils.parseNumberArray(utils.flatten(t)),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(t,n,i))return error.value;for(var r=t.length,o=[],a=[],s=0;s<r;s++)t[s]<0?o.push(t[s]):a.push(t[s]);var l=-e.NPV(i,a)*Math.pow(1+i,r-1),c=e.NPV(n,o)*(1+n);return Math.pow(l/c,1/(r-1))-1},e.NOMINAL=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<=0||t<1?error.num:(t=parseInt(t,10),(Math.pow(e+1,1/t)-1)*t)},e.NPER=function(e,t,n,i,r){if(r=void 0===r?0:r,i=void 0===i?0:i,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;var o=t*(1+e*r)-i*e,a=n*e+t*(1+e*r);return Math.log(o/a)/Math.log(1+e)},e.NPV=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t=e[0],n=0,i=1;i<e.length;i++)n+=e[i]/Math.pow(1+t,i);return n},e.ODDFPRICE=null,e.ODDFYIELD=null,e.ODDLPRICE=null,e.ODDLYIELD=null,e.PDURATION=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:e<=0?error.num:(Math.log(n)-Math.log(t))/Math.log(1+e)},e.PMT=function(e,t,n,i,r){if(i=i||0,r=r||0,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;var o;if(0===e)o=(n+i)/t;else{var a=Math.pow(1+e,t);o=1===r?(i*e/(a-1)+n*e/(1-1/a))/(1+e):i*e/(a-1)+n*e/(1-1/a)}return-o},e.PPMT=function(t,n,i,r,o,a){return o=o||0,a=a||0,t=utils.parseNumber(t),i=utils.parseNumber(i),r=utils.parseNumber(r),o=utils.parseNumber(o),a=utils.parseNumber(a),utils.anyIsError(t,i,r,o,a)?error.value:e.PMT(t,i,r,o,a)-e.IPMT(t,n,i,r,o,a)},e.PRICE=null,e.PRICEDISC=null,e.PRICEMAT=null,e.PV=function(e,t,n,i,r){return i=i||0,r=r||0,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r)?error.value:0===e?-n*t-i:((1-Math.pow(1+e,t))/e*n*(1+e*r)-i)/Math.pow(1+e,t)},e.RATE=function(e,t,n,i,r,o){if(o=void 0===o?.01:o,i=void 0===i?0:i,r=void 0===r?0:r,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),o=utils.parseNumber(o),utils.anyIsError(e,t,n,i,r,o))return error.value;for(var a=0,s=!1,l=o;a<100&&!s;){var c=Math.pow(l+1,e),u=Math.pow(l+1,e-1),d=l-(i+c*n+t*(c-1)*(l*r+1)/l)/(e*u*n-t*(c-1)*(l*r+1)/Math.pow(l,2)+(e*t*u*(l*r+1)/l+t*(c-1)*r/l));Math.abs(d-l)<1e-6&&(s=!0),a++,l=d}return s?l:Number.NaN+l},e.RECEIVED=null,e.RRI=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:0===e||0===t?error.num:Math.pow(n/t,1/e)-1},e.SLN=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:0===n?error.num:(e-t)/n},e.SYD=function(e,t,n,i){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(e,t,n,i)?error.value:0===n||i<1||i>n?error.num:(e-t)*(n-(i=parseInt(i,10))+1)*2/(n*(n+1))},e.TBILLEQ=function(e,t,n){return e=utils.parseDate(e),t=utils.parseDate(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:n<=0||e>t||t-e>31536e6?error.num:365*n/(360-n*DAYS360(e,t,!1))},e.TBILLPRICE=function(e,t,n){return e=utils.parseDate(e),t=utils.parseDate(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:n<=0||e>t||t-e>31536e6?error.num:100*(1-n*DAYS360(e,t,!1)/360)},e.TBILLYIELD=function(e,t,n){return e=utils.parseDate(e),t=utils.parseDate(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:n<=0||e>t||t-e>31536e6?error.num:360*(100-n)/(n*DAYS360(e,t,!1))},e.VDB=null,e.XIRR=function(e,t,n){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseDateArray(utils.flatten(t)),n=utils.parseNumber(n),utils.anyIsError(e,t,n))return error.value;for(var i=function(e,t,n){for(var i=n+1,r=e[0],o=1;o<e.length;o++)r+=e[o]/Math.pow(i,DAYS(t[o],t[0])/365);return r},r=function(e,t,n){for(var i=n+1,r=0,o=1;o<e.length;o++){var a=DAYS(t[o],t[0])/365;r-=a*e[o]/Math.pow(i,a+1)}return r},o=!1,a=!1,s=0;s<e.length;s++)e[s]>0&&(o=!0),e[s]<0&&(a=!0);if(!o||!a)return error.num;var l,c,u,d=n=n||.1,h=!0;do{l=d-(u=i(e,t,d))/r(e,t,d),c=Math.abs(l-d),d=l,h=c>1e-10&&Math.abs(u)>1e-10}while(h);return d},e.XNPV=function(e,t,n){if(e=utils.parseNumber(e),t=utils.parseNumberArray(utils.flatten(t)),n=utils.parseDateArray(utils.flatten(n)),utils.anyIsError(e,t,n))return error.value;for(var i=0,r=0;r<t.length;r++)i+=t[r]/Math.pow(1+e,DAYS(n[r],n[0])/365);return i},e.YIELD=null,e.YIELDDISC=null,e.YIELDMAT=null,e}(),_jexcel.methods.information=function(){var e={CELL:null,ERROR:{}};return e.ERROR.TYPE=function(e){switch(e){case error.nil:return 1;case error.div0:return 2;case error.value:return 3;case error.ref:return 4;case error.name:return 5;case error.num:return 6;case error.na:return 7;case error.data:return 8}return error.na},e.INFO=null,e.ISBLANK=function(e){return null===e},e.ISBINARY=function(e){return/^[01]{1,10}$/.test(e)},e.ISERR=function(e){return[error.value,error.ref,error.div0,error.num,error.name,error.nil].indexOf(e)>=0||"number"==typeof e&&(isNaN(e)||!isFinite(e))},e.ISERROR=function(t){return e.ISERR(t)||t===error.na},e.ISEVEN=function(e){return!(1&Math.floor(Math.abs(e)))},e.ISFORMULA=null,e.ISLOGICAL=function(e){return!0===e||!1===e},e.ISNA=function(e){return e===error.na},e.ISNONTEXT=function(e){return"string"!=typeof e},e.ISNUMBER=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},e.ISODD=function(e){return!!(1&Math.floor(Math.abs(e)))},e.ISREF=null,e.ISTEXT=function(e){return"string"==typeof e},e.N=function(e){return this.ISNUMBER(e)?e:e instanceof Date?e.getTime():!0===e?1:!1===e?0:this.ISERROR(e)?e:0},e.NA=function(){return error.na},e.SHEET=null,e.SHEETS=null,e.TYPE=function(e){return this.ISNUMBER(e)?1:this.ISTEXT(e)?2:this.ISLOGICAL(e)?4:this.ISERROR(e)?16:Array.isArray(e)?64:void 0},e}(),_jexcel.methods.logical=function(){var e={AND:function(){for(var e=utils.flatten(arguments),t=!0,n=0;n<e.length;n++)e[n]||(t=!1);return t},CHOOSE:function(){if(arguments.length<2)return error.na;var e=arguments[0];return e<1||e>254||arguments.length<e+1?error.value:arguments[e]},FALSE:function(){return!1},IF:function(e,t,n){return e?t:n},IFERROR:function(e,t){return ISERROR(e)?t:e},IFNA:function(e,t){return e===error.na?t:e},NOT:function(e){return!e},OR:function(){for(var e=utils.flatten(arguments),t=!1,n=0;n<e.length;n++)e[n]&&(t=!0);return t},TRUE:function(){return!0},XOR:function(){for(var e=utils.flatten(arguments),t=0,n=0;n<e.length;n++)e[n]&&t++;return!!(1&Math.floor(Math.abs(t)))},SWITCH:function(){var e;if(arguments.length>0){var t=arguments[0],n=arguments.length-1,i=Math.floor(n/2),r=!1,o=n%2==0?null:arguments[arguments.length-1];if(i)for(var a=0;a<i;a++)if(t===arguments[2*a+1]){e=arguments[2*a+2],r=!0;break}!r&&o&&(e=o)}return e}};return e}(),_jexcel.methods.math=function(){var exports={ABS:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.abs(utils.parseNumber(e))},ACOS:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.acos(e)},ACOSH:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log(e+Math.sqrt(e*e-1))},ACOT:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.atan(1/e)},ACOTH:function(e){return(e=utils.parseNumber(e))instanceof Error?e:.5*Math.log((e+1)/(e-1))},AGGREGATE:null,ARABIC:function(e){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(e))return error.value;var t=0;return e.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,(function(e){t+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[e]})),t},ASIN:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.asin(e)},ASINH:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log(e+Math.sqrt(e*e+1))},ATAN:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.atan(e)},ATAN2:function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:Math.atan2(e,t)},ATANH:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log((1+e)/(1-e))/2},BASE:function(e,t,n){if(n=n||0,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n))return error.value;n=void 0===n?0:n;var i=e.toString(t);return new Array(Math.max(n+1-i.length,0)).join("0")+i},CEILING:function(e,t,n){return t=void 0===t?1:t,n=void 0===n?0:n,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:0===t?0:(t=Math.abs(t),e>=0?Math.ceil(e/t)*t:0===n?-1*Math.floor(Math.abs(e)/t)*t:-1*Math.ceil(Math.abs(e)/t)*t)}};exports.CEILING.MATH=exports.CEILING,exports.CEILING.PRECISE=exports.CEILING,exports.COMBIN=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:exports.FACT(e)/(exports.FACT(t)*exports.FACT(e-t))},exports.COMBINA=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:0===e&&0===t?1:exports.COMBIN(e+t-1,e-1)},exports.COS=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.cos(e)},exports.COSH=function(e){return(e=utils.parseNumber(e))instanceof Error?e:(Math.exp(e)+Math.exp(-e))/2},exports.COT=function(e){return(e=utils.parseNumber(e))instanceof Error?e:1/Math.tan(e)},exports.COTH=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.exp(2*e);return(t+1)/(t-1)},exports.CSC=function(e){return(e=utils.parseNumber(e))instanceof Error?e:1/Math.sin(e)},exports.CSCH=function(e){return(e=utils.parseNumber(e))instanceof Error?e:2/(Math.exp(e)-Math.exp(-e))},exports.DECIMAL=function(e,t){return arguments.length<1?error.value:parseInt(e,t)},exports.DEGREES=function(e){return(e=utils.parseNumber(e))instanceof Error?e:180*e/Math.PI},exports.EVEN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:exports.CEILING(e,-2,-1)},exports.EXP=Math.exp;var MEMOIZED_FACT=[];return exports.FACT=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.floor(e);return 0===t||1===t?1:(MEMOIZED_FACT[t]>0||(MEMOIZED_FACT[t]=exports.FACT(t-1)*t),MEMOIZED_FACT[t])},exports.FACTDOUBLE=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.floor(e);return t<=0?1:t*exports.FACTDOUBLE(t-2)},exports.FLOOR=function(e,t,n){return t=void 0===t?1:t,n=void 0===n?0:n,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:0===t?0:(t=Math.abs(t),e>=0?Math.floor(e/t)*t:0===n?-1*Math.ceil(Math.abs(e)/t)*t:-1*Math.floor(Math.abs(e)/t)*t)},exports.FLOOR.MATH=exports.FLOOR,exports.GCD=null,exports.INT=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.floor(e)},exports.LCM=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t,n,i,r,o=1;void 0!==(i=e.pop());)for(;i>1;){if(i%2){for(t=3,n=Math.floor(Math.sqrt(i));t<=n&&i%t;t+=2);r=t<=n?t:i}else r=2;for(i/=r,o*=r,t=e.length;t;e[--t]%r==0&&1==(e[t]/=r)&&e.splice(t,1));}return o},exports.LN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log(e)},exports.LOG=function(e,t){return e=utils.parseNumber(e),t=void 0===t?10:utils.parseNumber(t),utils.anyIsError(e,t)?error.value:Math.log(e)/Math.log(t)},exports.LOG10=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log(e)/Math.log(10)},exports.MDETERM=null,exports.MINVERSE=null,exports.MMULT=null,exports.MOD=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;if(0===t)return error.div0;var n=Math.abs(e%t);return t>0?n:-n},exports.MROUND=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e*t<0?error.num:Math.round(e/t)*t},exports.MULTINOMIAL=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t=0,n=1,i=0;i<e.length;i++)t+=e[i],n*=exports.FACT(e[i]);return exports.FACT(t)/n},exports.MUNIT=null,exports.ODD=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.ceil(Math.abs(e));return t=1&t?t:t+1,e>0?t:-t},exports.PI=function(){return Math.PI},exports.POWER=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;var n=Math.pow(e,t);return isNaN(n)?error.num:n},exports.PRODUCT=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t=1,n=0;n<e.length;n++)t*=e[n];return t},exports.QUOTIENT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:parseInt(e/t,10)},exports.RADIANS=function(e){return(e=utils.parseNumber(e))instanceof Error?e:e*Math.PI/180},exports.RAND=function(){return Math.random()},exports.RANDBETWEEN=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e+Math.ceil((t-e+1)*Math.random())-1},exports.ROMAN=null,exports.ROUND=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:Math.round(e*Math.pow(10,t))/Math.pow(10,t)},exports.ROUNDDOWN=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:(e>0?1:-1)*Math.floor(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)},exports.ROUNDUP=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:(e>0?1:-1)*Math.ceil(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)},exports.SEC=function(e){return(e=utils.parseNumber(e))instanceof Error?e:1/Math.cos(e)},exports.SECH=function(e){return(e=utils.parseNumber(e))instanceof Error?e:2/(Math.exp(e)+Math.exp(-e))},exports.SERIESSUM=function(e,t,n,i){if(e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumberArray(i),utils.anyIsError(e,t,n,i))return error.value;for(var r=i[0]*Math.pow(e,t),o=1;o<i.length;o++)r+=i[o]*Math.pow(e,t+o*n);return r},exports.SIGN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:e<0?-1:0===e?0:1},exports.SIN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.sin(e)},exports.SINH=function(e){return(e=utils.parseNumber(e))instanceof Error?e:(Math.exp(e)-Math.exp(-e))/2},exports.SQRT=function(e){return(e=utils.parseNumber(e))instanceof Error?e:e<0?error.num:Math.sqrt(e)},exports.SQRTPI=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.sqrt(e*Math.PI)},exports.SUBTOTAL=null,exports.ADD=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e+t)},exports.MINUS=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e-t)},exports.DIVIDE=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:0===t?error.div0:e/t)},exports.MULTIPLY=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e*t)},exports.GTE=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.error:e>=t)},exports.LT=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.error:e<t)},exports.LTE=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.error:e<=t)},exports.EQ=function(e,t){return 2!==arguments.length?error.na:e===t},exports.NE=function(e,t){return 2!==arguments.length?error.na:e!==t},exports.POW=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.error:exports.POWER(e,t))},exports.SUM=function(){for(var e=0,t=Object.keys(arguments),n=0;n<t.length;++n){var i=arguments[t[n]];if("number"==typeof i)e+=i;else if("string"==typeof i){var r=parseFloat(i);!isNaN(r)&&(e+=r)}else Array.isArray(i)&&(e+=exports.SUM.apply(null,i))}return e},exports.SUMIF=function(range,criteria){if(range=utils.parseNumberArray(utils.flatten(range)),range instanceof Error)return range;for(var result=0,i=0;i<range.length;i++)result+=eval(range[i]+criteria)?range[i]:0;return result},exports.SUMIFS=function(){var args=utils.argsToArray(arguments),range=utils.parseNumberArray(utils.flatten(args.shift()));if(range instanceof Error)return range;for(var criteria=args,n_range_elements=range.length,n_criterias=criteria.length,result=0,i=0;i<n_range_elements;i++){for(var el=range[i],condition="",c=0;c<n_criterias;c++)condition+=el+criteria[c],c!==n_criterias-1&&(condition+="&&");eval(condition)&&(result+=el)}return result},exports.SUMPRODUCT=null,exports.SUMSQ=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t=0,n=e.length,i=0;i<n;i++)t+=ISNUMBER(e[i])?e[i]*e[i]:0;return t},exports.SUMX2MY2=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;for(var n=0,i=0;i<e.length;i++)n+=e[i]*e[i]-t[i]*t[i];return n},exports.SUMX2PY2=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;var n=0;e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t));for(var i=0;i<e.length;i++)n+=e[i]*e[i]+t[i]*t[i];return n},exports.SUMXMY2=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;var n=0;e=utils.flatten(e),t=utils.flatten(t);for(var i=0;i<e.length;i++)n+=Math.pow(e[i]-t[i],2);return n},exports.TAN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.tan(e)},exports.TANH=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.exp(2*e);return(t-1)/(t+1)},exports.TRUNC=function(e,t){return t=void 0===t?0:t,e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:(e>0?1:-1)*Math.floor(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)},exports}(),_jexcel.methods.misc=function(){var e={UNIQUE:function(){for(var e=[],t=0;t<arguments.length;++t){for(var n=!1,i=arguments[t],r=0;r<e.length&&!(n=e[r]===i);++r);n||e.push(i)}return e}};return e.FLATTEN=utils.flatten,e.ARGS2ARRAY=function(){return Array.prototype.slice.call(arguments,0)},e.REFERENCE=function(e,t){try{for(var n=t.split("."),i=e,r=0;r<n.length;++r){var o=n[r];if("]"===o[o.length-1]){var a=o.indexOf("["),s=o.substring(a+1,o.length-1);i=i[o.substring(0,a)][s]}else i=i[o]}return i}catch(e){}},e.JOIN=function(e,t){return e.join(t)},e.NUMBERS=function(){var e=utils.flatten(arguments);return e.filter((function(e){return"number"==typeof e}))},e.NUMERAL=null,e}(),_jexcel.methods.text=function(){var e={ASC:null,BAHTTEXT:null,CHAR:function(e){return(e=utils.parseNumber(e))instanceof Error?e:String.fromCharCode(e)},CLEAN:function(e){return(e=e||"").replace(/[\0-\x1F]/g,"")},CODE:function(e){return(e=e||"").charCodeAt(0)},CONCATENATE:function(){for(var e=utils.flatten(arguments),t=0;(t=e.indexOf(!0))>-1;)e[t]="TRUE";for(var n=0;(n=e.indexOf(!1))>-1;)e[n]="FALSE";return e.join("")},DBCS:null,DOLLAR:null,EXACT:function(e,t){return e===t},FIND:function(e,t,n){return n=void 0===n?0:n,t?t.indexOf(e,n-1)+1:null},FIXED:null,HTML2TEXT:function(e){var t="";return e&&(e instanceof Array?e.forEach((function(e){""!==t&&(t+="\n"),t+=e.replace(/<(?:.|\n)*?>/gm,"")})):t=e.replace(/<(?:.|\n)*?>/gm,"")),t},LEFT:function(e,t){return t=void 0===t?1:t,(t=utils.parseNumber(t))instanceof Error||"string"!=typeof e?error.value:e?e.substring(0,t):null},LEN:function(e){return 0===arguments.length?error.error:"string"==typeof e?e?e.length:0:e.length?e.length:error.value},LOWER:function(e){return"string"!=typeof e?error.value:e?e.toLowerCase():e},MID:function(e,t,n){if(t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(t,n)||"string"!=typeof e)return n;var i=t-1,r=i+n;return e.substring(i,r)},NUMBERVALUE:null,PRONETIC:null,PROPER:function(e){return void 0===e||0===e.length?error.value:(!0===e&&(e="TRUE"),!1===e&&(e="FALSE"),isNaN(e)&&"number"==typeof e?error.value:("number"==typeof e&&(e=""+e),e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))))},REGEXEXTRACT:function(e,t){var n=e.match(new RegExp(t));return n?n[n.length>1?n.length-1:0]:null},REGEXMATCH:function(e,t,n){var i=e.match(new RegExp(t));return n?i:!!i},REGEXREPLACE:function(e,t,n){return e.replace(new RegExp(t),n)},REPLACE:function(e,t,n,i){return t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(t,n)||"string"!=typeof e||"string"!=typeof i?error.value:e.substr(0,t-1)+i+e.substr(t-1+n)},REPT:function(e,t){return(t=utils.parseNumber(t))instanceof Error?t:new Array(t+1).join(e)},RIGHT:function(e,t){return t=void 0===t?1:t,(t=utils.parseNumber(t))instanceof Error?t:e?e.substring(e.length-t):null},SEARCH:function(e,t,n){var i;return"string"!=typeof e||"string"!=typeof t?error.value:(n=void 0===n?0:n,0===(i=t.toLowerCase().indexOf(e.toLowerCase(),n-1)+1)?error.value:i)},SPLIT:function(e,t){return e.split(t)},SUBSTITUTE:function(e,t,n,i){if(!(e&&t&&n))return e;if(void 0===i)return e.replace(new RegExp(t,"g"),n);for(var r=0,o=0;e.indexOf(t,r)>0;)if(r=e.indexOf(t,r+1),++o===i)return e.substring(0,r)+n+e.substring(r+t.length)},T:function(e){return"string"==typeof e?e:""},TEXT:null,TRIM:function(e){return"string"!=typeof e?error.value:e.replace(/ +/g," ").trim()}};return e.UNICHAR=e.CHAR,e.UNICODE=e.CODE,e.UPPER=function(e){return"string"!=typeof e?error.value:e.toUpperCase()},e.VALUE=null,e}(),_jexcel.methods.stats=function(){var exports={},SQRT2PI=2.5066282746310002;return exports.AVEDEV=null,exports.AVERAGE=function(){for(var e=utils.numbers(utils.flatten(arguments)),t=e.length,n=0,i=0,r=0;r<t;r++)n+=e[r],i+=1;return n/i},exports.AVERAGEA=function(){for(var e=utils.flatten(arguments),t=e.length,n=0,i=0,r=0;r<t;r++){var o=e[r];"number"==typeof o&&(n+=o),!0===o&&n++,null!==o&&i++}return n/i},exports.AVERAGEIF=function(range,criteria,average_range){if(average_range=average_range||range,range=utils.flatten(range),average_range=utils.parseNumberArray(utils.flatten(average_range)),average_range instanceof Error)return average_range;for(var average_count=0,result=0,i=0;i<range.length;i++)eval(range[i]+criteria)&&(result+=average_range[i],average_count++);return result/average_count},exports.AVERAGEIFS=null,exports.COUNT=function(){return utils.numbers(utils.flatten(arguments)).length},exports.COUNTA=function(){var e=utils.flatten(arguments);return e.length-exports.COUNTBLANK(e)},exports.COUNTIN=function(e,t){for(var n=0,i=0;i<e.length;i++)e[i]===t&&n++;return n},exports.COUNTBLANK=function(){for(var e,t=utils.flatten(arguments),n=0,i=0;i<t.length;i++)null!==(e=t[i])&&""!==e||n++;return n},exports.COUNTIF=function(range,criteria){range=utils.flatten(range),/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var matches=0,i=0;i<range.length;i++)"string"!=typeof range[i]?eval(range[i]+criteria)&&matches++:eval('"'+range[i]+'"'+criteria)&&matches++;return matches},exports.COUNTIFS=function(){for(var args=utils.argsToArray(arguments),results=new Array(utils.flatten(args[0]).length),i=0;i<results.length;i++)results[i]=!0;for(i=0;i<args.length;i+=2){var range=utils.flatten(args[i]),criteria=args[i+1];/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var j=0;j<range.length;j++)"string"!=typeof range[j]?results[j]=results[j]&&eval(range[j]+criteria):results[j]=results[j]&&eval('"'+range[j]+'"'+criteria)}var result=0;for(i=0;i<results.length;i++)results[i]&&result++;return result},exports.COUNTUNIQUE=function(){return UNIQUE.apply(null,utils.flatten(arguments)).length},exports.FISHER=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log((1+e)/(1-e))/2},exports.FISHERINV=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.exp(2*e);return(t-1)/(t+1)},exports.FREQUENCY=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;for(var n=e.length,i=t.length,r=[],o=0;o<=i;o++){r[o]=0;for(var a=0;a<n;a++)0===o?e[a]<=t[0]&&(r[0]+=1):o<i?e[a]>t[o-1]&&e[a]<=t[o]&&(r[o]+=1):o===i&&e[a]>t[i-1]&&(r[i]+=1)}return r},exports.LARGE=function(e,t){return e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t)?e:e.sort((function(e,t){return t-e}))[t-1]},exports.MAX=function(){var e=utils.numbers(utils.flatten(arguments));return 0===e.length?0:Math.max.apply(Math,e)},exports.MAXA=function(){var e=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===e.length?0:Math.max.apply(Math,e)},exports.MIN=function(){var e=utils.numbers(utils.flatten(arguments));return 0===e.length?0:Math.min.apply(Math,e)},exports.MINA=function(){var e=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===e.length?0:Math.min.apply(Math,e)},exports.MODE={},exports.MODE.MULT=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t,n=e.length,i={},r=[],o=0,a=0;a<n;a++)i[t=e[a]]=i[t]?i[t]+1:1,i[t]>o&&(o=i[t],r=[]),i[t]===o&&(r[r.length]=t);return r},exports.MODE.SNGL=function(){var e=utils.parseNumberArray(utils.flatten(arguments));return e instanceof Error?e:exports.MODE.MULT(e).sort((function(e,t){return e-t}))[0]},exports.PERCENTILE={},exports.PERCENTILE.EXC=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;var n=(e=e.sort((function(e,t){return e-t}))).length;if(t<1/(n+1)||t>1-1/(n+1))return error.num;var i=t*(n+1)-1,r=Math.floor(i);return utils.cleanFloat(i===r?e[i]:e[r]+(i-r)*(e[r+1]-e[r]))},exports.PERCENTILE.INC=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;var n=t*((e=e.sort((function(e,t){return e-t}))).length-1),i=Math.floor(n);return utils.cleanFloat(n===i?e[n]:e[i]+(n-i)*(e[i+1]-e[i]))},exports.PERCENTRANK={},exports.PERCENTRANK.EXC=function(e,t,n){if(n=void 0===n?3:n,e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n))return error.value;e=e.sort((function(e,t){return e-t}));for(var i=UNIQUE.apply(null,e),r=e.length,o=i.length,a=Math.pow(10,n),s=0,l=!1,c=0;!l&&c<o;)t===i[c]?(s=(e.indexOf(i[c])+1)/(r+1),l=!0):t>=i[c]&&(t<i[c+1]||c===o-1)&&(s=(e.indexOf(i[c])+1+(t-i[c])/(i[c+1]-i[c]))/(r+1),l=!0),c++;return Math.floor(s*a)/a},exports.PERCENTRANK.INC=function(e,t,n){if(n=void 0===n?3:n,e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n))return error.value;e=e.sort((function(e,t){return e-t}));for(var i=UNIQUE.apply(null,e),r=e.length,o=i.length,a=Math.pow(10,n),s=0,l=!1,c=0;!l&&c<o;)t===i[c]?(s=e.indexOf(i[c])/(r-1),l=!0):t>=i[c]&&(t<i[c+1]||c===o-1)&&(s=(e.indexOf(i[c])+(t-i[c])/(i[c+1]-i[c]))/(r-1),l=!0),c++;return Math.floor(s*a)/a},exports.PERMUT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:FACT(e)/FACT(e-t)},exports.PERMUTATIONA=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:Math.pow(e,t)},exports.PHI=function(e){return(e=utils.parseNumber(e))instanceof Error?error.value:Math.exp(-.5*e*e)/SQRT2PI},exports.PROB=function(e,t,n,i){if(void 0===n)return 0;if(i=void 0===i?n:i,e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(e,t,n,i))return error.value;if(n===i)return e.indexOf(n)>=0?t[e.indexOf(n)]:0;for(var r=e.sort((function(e,t){return e-t})),o=r.length,a=0,s=0;s<o;s++)r[s]>=n&&r[s]<=i&&(a+=t[e.indexOf(r[s])]);return a},exports.QUARTILE={},exports.QUARTILE.EXC=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;switch(t){case 1:return exports.PERCENTILE.EXC(e,.25);case 2:return exports.PERCENTILE.EXC(e,.5);case 3:return exports.PERCENTILE.EXC(e,.75);default:return error.num}},exports.QUARTILE.INC=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;switch(t){case 1:return exports.PERCENTILE.INC(e,.25);case 2:return exports.PERCENTILE.INC(e,.5);case 3:return exports.PERCENTILE.INC(e,.75);default:return error.num}},exports.RANK={},exports.RANK.AVG=function(e,t,n){if(e=utils.parseNumber(e),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;for(var i=(n=n||!1)?function(e,t){return e-t}:function(e,t){return t-e},r=(t=(t=utils.flatten(t)).sort(i)).length,o=0,a=0;a<r;a++)t[a]===e&&o++;return o>1?(2*t.indexOf(e)+o+1)/2:t.indexOf(e)+1},exports.RANK.EQ=function(e,t,n){if(e=utils.parseNumber(e),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;var i=(n=n||!1)?function(e,t){return e-t}:function(e,t){return t-e};return(t=t.sort(i)).indexOf(e)+1},exports.RSQ=function(e,t){return e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t)?error.value:Math.pow(exports.PEARSON(e,t),2)},exports.SMALL=function(e,t){return e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t)?e:e.sort((function(e,t){return e-t}))[t-1]},exports.STANDARDIZE=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:(e-t)/n},exports.STDEV={},exports.STDEV.P=function(){var e=exports.VAR.P.apply(this,arguments);return Math.sqrt(e)},exports.STDEV.S=function(){var e=exports.VAR.S.apply(this,arguments);return Math.sqrt(e)},exports.STDEVA=function(){var e=exports.VARA.apply(this,arguments);return Math.sqrt(e)},exports.STDEVPA=function(){var e=exports.VARPA.apply(this,arguments);return Math.sqrt(e)},exports.VAR={},exports.VAR.P=function(){for(var e=utils.numbers(utils.flatten(arguments)),t=e.length,n=0,i=exports.AVERAGE(e),r=0;r<t;r++)n+=Math.pow(e[r]-i,2);return n/t},exports.VAR.S=function(){for(var e=utils.numbers(utils.flatten(arguments)),t=e.length,n=0,i=exports.AVERAGE(e),r=0;r<t;r++)n+=Math.pow(e[r]-i,2);return n/(t-1)},exports.VARA=function(){for(var e=utils.flatten(arguments),t=e.length,n=0,i=0,r=exports.AVERAGEA(e),o=0;o<t;o++){var a=e[o];n+="number"==typeof a?Math.pow(a-r,2):!0===a?Math.pow(1-r,2):Math.pow(0-r,2),null!==a&&i++}return n/(i-1)},exports.VARPA=function(){for(var e=utils.flatten(arguments),t=e.length,n=0,i=0,r=exports.AVERAGEA(e),o=0;o<t;o++){var a=e[o];n+="number"==typeof a?Math.pow(a-r,2):!0===a?Math.pow(1-r,2):Math.pow(0-r,2),null!==a&&i++}return n/i},exports.WEIBULL={},exports.WEIBULL.DIST=function(e,t,n,i){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:i?1-Math.exp(-Math.pow(e/n,t)):Math.pow(e,t-1)*Math.exp(-Math.pow(e/n,t))*t/Math.pow(n,t)},exports.Z={},exports.Z.TEST=function(e,t,n){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;n=n||exports.STDEV.S(e);var i=e.length;return 1-exports.NORM.S.DIST((exports.AVERAGE(e)-t)/(n/Math.sqrt(i)),!0)},exports}(),_jexcel.methods.utils=function(){var e={PROGRESS:function(e,t){return'<div style="width:'+(e||"0")+"%;height:4px;background-color:"+(t||"red")+';margin-top:1px;"></div>'},RATING:function(e){for(var t='<div class="jrating">',n=0;n<5;n++)t+=n<e?'<div class="jrating-selected"></div>':"<div></div>";return t+="</div>"}};return e}();for(var i=0;i<Object.keys(_jexcel.methods).length;i++)for(var methods=_jexcel.methods[Object.keys(_jexcel.methods)[i]],j=0;j<Object.keys(methods).length;j++)"function"==typeof methods[Object.keys(methods)[j]]?window[Object.keys(methods)[j]]=methods[Object.keys(methods)[j]]:window[Object.keys(methods)[j]]=function(){return Object.keys(methods)[j]+"Not implemented"};return _jexcel},module.exports=factory()},function(e,t,n){var i;i=function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":
/*!******************************!*\
        !*** ./src/react-webcam.tsx ***!
        \******************************/
/*! exports provided: default */
function(e,t,n){"use strict";n.r(t);var i,r=n(
/*! react */
"react"),o=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function l(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!=typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,i){t.call(navigator,e,n,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.unmounted=!1,n.state={hasUserMedia:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;l()?e.hasUserMedia||this.requestUserMedia():t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(l()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),i=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),r=e.minScreenshotWidth!==t.minScreenshotWidth,o=e.minScreenshotHeight!==t.minScreenshotHeight;(i||r||o)&&(this.canvas=null,this.ctx=null),(n||i)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(e){return e.stop()})),e.getAudioTracks().map((function(e){return e.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var i=this.getCanvas(e);return i&&i.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var i=this.video.videoWidth,r=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var o=i/r;r=(i=n.minScreenshotWidth||this.video.clientWidth)/o,n.minScreenshotHeight&&r<n.minScreenshotHeight&&(i=(r=n.minScreenshotHeight)*o)}this.canvas=document.createElement("canvas"),this.canvas.width=(null==e?void 0:e.width)||i,this.canvas.height=(null==e?void 0:e.height)||r,this.ctx=this.canvas.getContext("2d")}var a=this.ctx,s=this.canvas;return a&&s&&(n.mirrored&&(a.translate(s.width,0),a.scale(-1,1)),a.imageSmoothingEnabled=n.imageSmoothing,a.drawImage(this.video,0,0,(null==e?void 0:e.width)||s.width,(null==e?void 0:e.height)||s.height),n.mirrored&&(a.scale(-1,1),a.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,i=function(i,r){var o={video:void 0===r||r};n.audio&&(o.audio=void 0===i||i),navigator.mediaDevices.getUserMedia(o).then((function(n){e.unmounted?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)i(n.audioConstraints,n.videoConstraints);else{var r=function(e){return{optional:[{sourceId:e}]}},o=function(e){var t=e.deviceId;return"string"==typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"==typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,a=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(a=e.id)}));var s=o(n.audioConstraints);s&&(t=s);var l=o(n.videoConstraints);l&&(a=l),i(r(t),r(a))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(e){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,i=n.audio,o=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),l=n.style,c=void 0===l?{}:l,u=s(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),d=o?a(a({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c;return r.createElement("video",a({autoPlay:!0,src:t.src,muted:i,playsInline:!0,ref:function(t){e.video=t},style:d},u))},t.defaultProps={audio:!0,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=c},react:
/*!**************************************************************************************!*\
        !*** external {"root":"React","commonjs2":"react","commonjs":"react","amd":"react"} ***!
        \**************************************************************************************/
/*! no static exports found */
function(t,n){t.exports=e}}).default},e.exports=i(n(1))},function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=n(1)},function(e,t){e.exports=n(42)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(0),r=n.n(i),o=n(1),a=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){var e,n;c(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return A(p(n=d(this,(e=h(t)).call.apply(e,[this].concat(o)))),"rootEl",r.a.createRef()),A(p(n),"imageEditorInst",null),n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){this.imageEditorInst=new a.a(this.rootEl.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props)),this.bindEventHandlers(this.props)}},{key:"componentWillUnmount",value:function(){this.unbindEventHandlers(),this.imageEditorInst.destroy(),this.imageEditorInst=null}},{key:"shouldComponentUpdate",value:function(e){return this.bindEventHandlers(this.props,e),!1}},{key:"getInstance",value:function(){return this.imageEditorInst}},{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"bindEventHandlers",value:function(e,t){var n=this;Object.keys(e).filter(this.isEventHandlerKeys).forEach((function(i){var r=i[2].toLowerCase()+i.slice(3);t&&t[i]!==e[i]&&n.imageEditorInst.off(r),n.imageEditorInst.on(r,e[i])}))}},{key:"unbindEventHandlers",value:function(){var e=this;Object.keys(this.props).filter(this.isEventHandlerKeys).forEach((function(t){var n=t[2].toLowerCase()+t.slice(3);e.imageEditorInst.off(n)}))}},{key:"isEventHandlerKeys",value:function(e){return/on[A-Z][a-zA-Z]+/.test(e)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.rootEl})}}])&&u(n.prototype,i),t}(r.a.Component)}])},function(e,t,n){
/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */
e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l="undefined"!=typeof window&&void 0!==window.document,c=l?window:{},u=!(!l||!c.document.documentElement)&&"ontouchstart"in c.document.documentElement,d=!!l&&"PointerEvent"in c,h="".concat("cropper","-crop"),p="".concat("cropper","-disabled"),f="".concat("cropper","-hidden"),A="".concat("cropper","-hide"),m="".concat("cropper","-invisible"),g="".concat("cropper","-modal"),v="".concat("cropper","-move"),b="".concat("cropper","Action"),y="".concat("cropper","Preview"),x=u?"touchstart":"mousedown",w=u?"touchmove":"mousemove",_=u?"touchend touchcancel":"mouseup",j=d?"pointerdown":x,C=d?"pointermove":w,E=d?"pointerup pointercancel":_,B=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,k=/^data:/,S=/^data:image\/jpeg;base64,/,O=/^img|canvas$/i,M={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},T=Number.isNaN||c.isNaN;function F(e){return"number"==typeof e&&!T(e)}var N=function(e){return e>0&&e<1/0};function I(e){return void 0===e}function L(e){return"object"===n(e)&&null!==e}var D=Object.prototype.hasOwnProperty;function U(e){if(!L(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&D.call(n,"isPrototypeOf")}catch(e){return!1}}function P(e){return"function"==typeof e}var H=Array.prototype.slice;function R(e){return Array.from?Array.from(e):H.call(e)}function Q(e,t){return e&&P(t)&&(Array.isArray(e)||F(e.length)?R(e).forEach((function(n,i){t.call(e,n,i,e)})):L(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var z=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return L(e)&&n.length>0&&n.forEach((function(t){L(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},V=/\.\d*(?:0|9){12}\d*$/;function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return V.test(e)?Math.round(e*t)/t:e}var W=/^width|height|left|top|marginLeft|marginTop$/;function X(e,t){var n=e.style;Q(t,(function(e,t){W.test(t)&&F(e)&&(e="".concat(e,"px")),n[t]=e}))}function Y(e,t){if(t)if(F(e.length))Q(e,(function(e){Y(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function G(e,t){t&&(F(e.length)?Q(e,(function(e){G(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function q(e,t,n){t&&(F(e.length)?Q(e,(function(e){q(e,t,n)})):n?Y(e,t):G(e,t))}var J=/([a-z\d])([A-Z])/g;function Z(e){return e.replace(J,"$1-$2").toLowerCase()}function $(e,t){return L(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Z(t)))}function ee(e,t,n){L(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Z(t)),n)}var te=/\s\s*/,ne=function(){var e=!1;if(l){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});c.addEventListener("test",n,i),c.removeEventListener("test",n,i)}return e}();function ie(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;t.trim().split(te).forEach((function(t){if(!ne){var o=e.listeners;o&&o[t]&&o[t][n]&&(r=o[t][n],delete o[t][n],0===Object.keys(o[t]).length&&delete o[t],0===Object.keys(o).length&&delete e.listeners)}e.removeEventListener(t,r,i)}))}function re(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;t.trim().split(te).forEach((function(t){if(i.once&&!ne){var o=e.listeners,a=void 0===o?{}:o;r=function(){delete a[t][n],e.removeEventListener(t,r,i);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];n.apply(e,s)},a[t]||(a[t]={}),a[t][n]&&e.removeEventListener(t,a[t][n],i),a[t][n]=r,e.listeners=a}e.addEventListener(t,r,i)}))}function oe(e,t,n){var i;return P(Event)&&P(CustomEvent)?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function ae(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var se=c.location,le=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ce(e){var t=e.match(le);return null!==t&&(t[1]!==se.protocol||t[2]!==se.hostname||t[3]!==se.port)}function ue(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function de(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,r=e.translateX,o=e.translateY,a=[];F(r)&&0!==r&&a.push("translateX(".concat(r,"px)")),F(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),F(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),F(n)&&1!==n&&a.push("scaleX(".concat(n,")")),F(i)&&1!==i&&a.push("scaleY(".concat(i,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function he(e,n){var i=e.pageX,r=e.pageY,o={endX:i,endY:r};return n?o:t({startX:i,startY:r},o)}function pe(e){var t=e.aspectRatio,n=e.height,i=e.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=N(i),a=N(n);if(o&&a){var s=n*t;"contain"===r&&s>i||"cover"===r&&s<i?n=i/t:i=n*t}else o?n=i/t:a&&(i=n*t);return{width:i,height:n}}function fe(e,t,n,i){var r=t.aspectRatio,o=t.naturalWidth,s=t.naturalHeight,l=t.rotate,c=void 0===l?0:l,u=t.scaleX,d=void 0===u?1:u,h=t.scaleY,p=void 0===h?1:h,f=n.aspectRatio,A=n.naturalWidth,m=n.naturalHeight,g=i.fillColor,v=void 0===g?"transparent":g,b=i.imageSmoothingEnabled,y=void 0===b||b,x=i.imageSmoothingQuality,w=void 0===x?"low":x,_=i.maxWidth,j=void 0===_?1/0:_,C=i.maxHeight,E=void 0===C?1/0:C,B=i.minWidth,k=void 0===B?0:B,S=i.minHeight,O=void 0===S?0:S,M=document.createElement("canvas"),T=M.getContext("2d"),F=pe({aspectRatio:f,width:j,height:E}),N=pe({aspectRatio:f,width:k,height:O},"cover"),I=Math.min(F.width,Math.max(N.width,A)),L=Math.min(F.height,Math.max(N.height,m)),D=pe({aspectRatio:r,width:j,height:E}),U=pe({aspectRatio:r,width:k,height:O},"cover"),P=Math.min(D.width,Math.max(U.width,o)),H=Math.min(D.height,Math.max(U.height,s)),R=[-P/2,-H/2,P,H];return M.width=K(I),M.height=K(L),T.fillStyle=v,T.fillRect(0,0,I,L),T.save(),T.translate(I/2,L/2),T.rotate(c*Math.PI/180),T.scale(d,p),T.imageSmoothingEnabled=y,T.imageSmoothingQuality=w,T.drawImage.apply(T,[e].concat(a(R.map((function(e){return Math.floor(K(e))}))))),T.restore(),M}var Ae=String.fromCharCode,me=/^data:.*,/;function ge(e){var t,n=new DataView(e);try{var i,r,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){r=s;break}s+=1}if(r){var l=r+10;if("Exif"===function(e,t,n){var i="";n+=t;for(var r=t;r<n;r+=1)i+=Ae(e.getUint8(r));return i}(n,r+4,4)){var c=n.getUint16(l);if(((i=18761===c)||19789===c)&&42===n.getUint16(l+2,i)){var u=n.getUint32(l+4,i);u>=8&&(o=l+u)}}}if(o){var d,h,p=n.getUint16(o,i);for(h=0;h<p;h+=1)if(d=o+12*h+2,274===n.getUint16(d,i)){d+=8,t=n.getUint16(d,i),n.setUint16(d,1,i);break}}}catch(e){t=1}return t}var ve={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,i=this.cropper,r=Number(t.minContainerWidth),o=Number(t.minContainerHeight);Y(i,f),G(e,f);var a={width:Math.max(n.offsetWidth,r>=0?r:200),height:Math.max(n.offsetHeight,o>=0?o:100)};this.containerData=a,X(i,{width:a.width,height:a.height}),Y(e,f),G(i,f)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,i=Math.abs(t.rotate)%180==90,r=i?t.naturalHeight:t.naturalWidth,o=i?t.naturalWidth:t.naturalHeight,a=r/o,s=e.width,l=e.height;e.height*a>e.width?3===n?s=e.height*a:l=e.width/a:3===n?l=e.width/a:s=e.height*a;var c={aspectRatio:a,naturalWidth:r,naturalHeight:o,width:s,height:l};this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=z({},c)},limitCanvas:function(e,t){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,a=n.viewMode,s=r.aspectRatio,l=this.cropped&&o;if(e){var c=Number(n.minCanvasWidth)||0,u=Number(n.minCanvasHeight)||0;a>1?(c=Math.max(c,i.width),u=Math.max(u,i.height),3===a&&(u*s>c?c=u*s:u=c/s)):a>0&&(c?c=Math.max(c,l?o.width:0):u?u=Math.max(u,l?o.height:0):l&&(c=o.width,(u=o.height)*s>c?c=u*s:u=c/s));var d=pe({aspectRatio:s,width:c,height:u});c=d.width,u=d.height,r.minWidth=c,r.minHeight=u,r.maxWidth=1/0,r.maxHeight=1/0}if(t)if(a>(l?0:1)){var h=i.width-r.width,p=i.height-r.height;r.minLeft=Math.min(0,h),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,h),r.maxTop=Math.max(0,p),l&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,2===a&&(r.width>=i.width&&(r.minLeft=Math.min(0,h),r.maxLeft=Math.max(0,h)),r.height>=i.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvasData,i=this.imageData;if(t){var r=function(e){var t=e.width,n=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:t};var r=i%90*Math.PI/180,o=Math.sin(r),a=Math.cos(r),s=t*a+n*o,l=t*o+n*a;return i>90?{width:l,height:s}:{width:s,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=r.width,a=r.height,s=n.width*(o/n.naturalWidth),l=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=o/a,n.naturalWidth=o,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,X(this.canvas,z({width:n.width,height:n.height},de({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,i=n.naturalWidth*(t.width/t.naturalWidth),r=n.naturalHeight*(t.height/t.naturalHeight);z(n,{width:i,height:r,left:(t.width-i)/2,top:(t.height-r)/2}),X(this.image,z({width:n.width,height:n.height},de(z({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,r={width:t.width,height:t.height};n&&(t.height*n>t.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=t.left+(t.width-r.width)/2,r.top=t.top+(t.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=z({},r)},limitCropBox:function(e,t){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,a=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,u=a?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,d=a?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d*s>u?d=u/s:u=d*s),o.minWidth=Math.min(l,u),o.minHeight=Math.min(c,d),o.maxWidth=u,o.maxHeight=d}t&&(a?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(i.width,r.left+r.width)-o.width,o.maxTop=Math.min(i.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&ee(this.face,b,n.width>=t.width&&n.height>=t.height?"move":"all"),X(this.cropBox,z({width:n.width,height:n.height},de({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),oe(this.element,"crop",this.getData())}},be={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,i=t?this.crossOriginUrl:this.url,r=e.alt||"The image to preview",o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=i,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,n){var a=n;"string"==typeof n?a=e.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,Q(a,(function(e){var n=document.createElement("img");ee(e,y,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.alt=r,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){Q(this.previews,(function(e){var t=$(e,y);X(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(L(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Z(t)))}(e,y)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,i=n.width,r=n.height,o=e.width,a=e.height,s=n.left-t.left-e.left,l=n.top-t.top-e.top;this.cropped&&!this.disabled&&(X(this.viewBoxImage,z({width:o,height:a},de(z({translateX:-s,translateY:-l},e)))),Q(this.previews,(function(t){var n=$(t,y),c=n.width,u=n.height,d=c,h=u,p=1;i&&(h=r*(p=c/i)),r&&h>u&&(d=i*(p=u/r),h=u),X(t,{width:d,height:h}),X(t.getElementsByTagName("img")[0],z({width:o*p,height:a*p},de(z({translateX:-s*p,translateY:-l*p},e))))})))}},ye={bind:function(){var e=this.element,t=this.options,n=this.cropper;P(t.cropstart)&&re(e,"cropstart",t.cropstart),P(t.cropmove)&&re(e,"cropmove",t.cropmove),P(t.cropend)&&re(e,"cropend",t.cropend),P(t.crop)&&re(e,"crop",t.crop),P(t.zoom)&&re(e,"zoom",t.zoom),re(n,j,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&re(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&re(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),re(e.ownerDocument,C,this.onCropMove=this.cropMove.bind(this)),re(e.ownerDocument,E,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&re(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;P(t.cropstart)&&ie(e,"cropstart",t.cropstart),P(t.cropmove)&&ie(e,"cropmove",t.cropmove),P(t.cropend)&&ie(e,"cropend",t.cropend),P(t.crop)&&ie(e,"crop",t.crop),P(t.zoom)&&ie(e,"zoom",t.zoom),ie(n,j,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ie(n,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ie(n,"dblclick",this.onDblclick),ie(e.ownerDocument,C,this.onCropMove),ie(e.ownerDocument,E,this.onCropEnd),t.responsive&&ie(window,"resize",this.onResize)}},xe={resize:function(){if(!this.disabled){var e,t,n=this.options,i=this.container,r=this.containerData,o=i.offsetWidth/r.width,a=i.offsetHeight/r.height,s=Math.abs(o-1)>Math.abs(a-1)?o:a;1!==s&&(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(Q(e,(function(t,n){e[n]=t*s}))),this.setCropBoxData(Q(t,(function(e,n){t[n]=e*s})))))}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t=h,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(F(t)&&1!==t||F(n)&&0!==n||e.ctrlKey))){var i,r=this.options,o=this.pointers;e.changedTouches?Q(e.changedTouches,(function(e){o[e.identifier]=he(e)})):o[e.pointerId||0]=he(e),i=Object.keys(o).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":$(e.target,b),B.test(i)&&!1!==oe(this.element,"cropstart",{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,"crop"===i&&(this.cropping=!0,Y(this.dragBox,g)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==oe(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?Q(e.changedTouches,(function(e){z(n[e.identifier]||{},he(e,!0))})):z(n[e.pointerId||0]||{},he(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?Q(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,q(this.dragBox,g,this.cropped&&this.options.modal)),oe(this.element,"cropend",{originalEvent:e,action:t}))}}},we={change:function(e){var n,i=this.options,r=this.canvasData,o=this.containerData,a=this.cropBoxData,s=this.pointers,l=this.action,c=i.aspectRatio,u=a.left,d=a.top,h=a.width,p=a.height,A=u+h,m=d+p,g=0,v=0,b=o.width,y=o.height,x=!0;!c&&e.shiftKey&&(c=h&&p?h/p:1),this.limited&&(g=a.minLeft,v=a.minTop,b=g+Math.min(o.width,r.width,r.left+r.width),y=v+Math.min(o.height,r.height,r.top+r.height));var w=s[Object.keys(s)[0]],_={x:w.endX-w.startX,y:w.endY-w.startY},j=function(e){switch(e){case"e":A+_.x>b&&(_.x=b-A);break;case"w":u+_.x<g&&(_.x=g-u);break;case"n":d+_.y<v&&(_.y=v-d);break;case"s":m+_.y>y&&(_.y=y-m)}};switch(l){case"all":u+=_.x,d+=_.y;break;case"e":if(_.x>=0&&(A>=b||c&&(d<=v||m>=y))){x=!1;break}j("e"),(h+=_.x)<0&&(l="w",u-=h=-h),c&&(p=h/c,d+=(a.height-p)/2);break;case"n":if(_.y<=0&&(d<=v||c&&(u<=g||A>=b))){x=!1;break}j("n"),p-=_.y,d+=_.y,p<0&&(l="s",d-=p=-p),c&&(h=p*c,u+=(a.width-h)/2);break;case"w":if(_.x<=0&&(u<=g||c&&(d<=v||m>=y))){x=!1;break}j("w"),h-=_.x,u+=_.x,h<0&&(l="e",u-=h=-h),c&&(p=h/c,d+=(a.height-p)/2);break;case"s":if(_.y>=0&&(m>=y||c&&(u<=g||A>=b))){x=!1;break}j("s"),(p+=_.y)<0&&(l="n",d-=p=-p),c&&(h=p*c,u+=(a.width-h)/2);break;case"ne":if(c){if(_.y<=0&&(d<=v||A>=b)){x=!1;break}j("n"),p-=_.y,d+=_.y,h=p*c}else j("n"),j("e"),_.x>=0?A<b?h+=_.x:_.y<=0&&d<=v&&(x=!1):h+=_.x,_.y<=0?d>v&&(p-=_.y,d+=_.y):(p-=_.y,d+=_.y);h<0&&p<0?(l="sw",d-=p=-p,u-=h=-h):h<0?(l="nw",u-=h=-h):p<0&&(l="se",d-=p=-p);break;case"nw":if(c){if(_.y<=0&&(d<=v||u<=g)){x=!1;break}j("n"),p-=_.y,d+=_.y,h=p*c,u+=a.width-h}else j("n"),j("w"),_.x<=0?u>g?(h-=_.x,u+=_.x):_.y<=0&&d<=v&&(x=!1):(h-=_.x,u+=_.x),_.y<=0?d>v&&(p-=_.y,d+=_.y):(p-=_.y,d+=_.y);h<0&&p<0?(l="se",d-=p=-p,u-=h=-h):h<0?(l="ne",u-=h=-h):p<0&&(l="sw",d-=p=-p);break;case"sw":if(c){if(_.x<=0&&(u<=g||m>=y)){x=!1;break}j("w"),h-=_.x,u+=_.x,p=h/c}else j("s"),j("w"),_.x<=0?u>g?(h-=_.x,u+=_.x):_.y>=0&&m>=y&&(x=!1):(h-=_.x,u+=_.x),_.y>=0?m<y&&(p+=_.y):p+=_.y;h<0&&p<0?(l="ne",d-=p=-p,u-=h=-h):h<0?(l="se",u-=h=-h):p<0&&(l="nw",d-=p=-p);break;case"se":if(c){if(_.x>=0&&(A>=b||m>=y)){x=!1;break}j("e"),p=(h+=_.x)/c}else j("s"),j("e"),_.x>=0?A<b?h+=_.x:_.y>=0&&m>=y&&(x=!1):h+=_.x,_.y>=0?m<y&&(p+=_.y):p+=_.y;h<0&&p<0?(l="nw",d-=p=-p,u-=h=-h):h<0?(l="sw",u-=h=-h):p<0&&(l="ne",d-=p=-p);break;case"move":this.move(_.x,_.y),x=!1;break;case"zoom":this.zoom(function(e){var n=t({},e),i=0;return Q(e,(function(e,t){delete n[t],Q(n,(function(t){var n=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+r*r),l=(Math.sqrt(o*o+a*a)-s)/s;Math.abs(l)>Math.abs(i)&&(i=l)}))})),i}(s),e),x=!1;break;case"crop":if(!_.x||!_.y){x=!1;break}n=ae(this.cropper),u=w.startX-n.left,d=w.startY-n.top,h=a.minWidth,p=a.minHeight,_.x>0?l=_.y>0?"se":"ne":_.x<0&&(u-=h,l=_.y>0?"sw":"nw"),_.y<0&&(d-=p),this.cropped||(G(this.cropBox,f),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(a.width=h,a.height=p,a.left=u,a.top=d,this.action=l,this.renderCropBox()),Q(s,(function(e){e.startX=e.endX,e.startY=e.endY}))}},_e={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Y(this.dragBox,g),G(this.cropBox,f),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=z({},this.initialImageData),this.canvasData=z({},this.initialCanvasData),this.cropBoxData=z({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(z(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),G(this.dragBox,g),Y(this.cropBox,f)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Q(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,G(this.cropper,p)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Y(this.cropper,p)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=n.left,r=n.top;return this.moveTo(I(e)?e:i+Number(e),I(t)?t:r+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(F(e)&&(n.left=e,i=!0),F(t)&&(n.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var i=this.options,r=this.canvasData,o=r.width,a=r.height,s=r.naturalWidth,l=r.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var c=s*e,u=l*e;if(!1===oe(this.element,"zoom",{ratio:e,oldRatio:o/s,originalEvent:n}))return this;if(n){var d=this.pointers,h=ae(this.cropper),p=d&&Object.keys(d).length?function(e){var t=0,n=0,i=0;return Q(e,(function(e){var r=e.startX,o=e.startY;t+=r,n+=o,i+=1})),{pageX:t/=i,pageY:n/=i}}(d):{pageX:n.pageX,pageY:n.pageY};r.left-=(c-o)*((p.pageX-h.left-r.left)/o),r.top-=(u-a)*((p.pageY-h.top-r.top)/a)}else U(t)&&F(t.x)&&F(t.y)?(r.left-=(c-o)*((t.x-r.left)/o),r.top-=(u-a)*((t.y-r.top)/a)):(r.left-=(c-o)/2,r.top-=(u-a)/2);r.width=c,r.height=u,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return F(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,F(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(F(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(F(e)&&(n.scaleX=e,i=!0),F(t)&&(n.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.imageData,r=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){e={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height};var a=i.width/i.naturalWidth;if(Q(e,(function(t,n){e[n]=t/a})),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=i.rotate||0),n.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&U(e)){var o=!1;t.rotatable&&F(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,o=!0),t.scalable&&(F(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,o=!0),F(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;F(e.x)&&(r.left=e.x*a+i.left),F(e.y)&&(r.top=e.y*a+i.top),F(e.width)&&(r.width=e.width*a),F(e.height)&&(r.height=e.height*a),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?z({},this.containerData):{}},getImageData:function(){return this.sized?z({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&Q(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&U(e)&&(F(e.left)&&(t.left=e.left),F(e.top)&&(t.top=e.top),F(e.width)?(t.width=e.width,t.height=e.width/n):F(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,i=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&U(e)&&(F(e.left)&&(i.left=e.left),F(e.top)&&(i.top=e.top),F(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),F(e.height)&&e.height!==i.height&&(n=!0,i.height=e.height),r&&(t?i.height=i.width/r:n&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=fe(this.image,this.imageData,t,e);if(!this.cropped)return n;var i=this.getData(),r=i.x,o=i.y,s=i.width,l=i.height,c=n.width/Math.floor(t.naturalWidth);1!==c&&(r*=c,o*=c,s*=c,l*=c);var u=s/l,d=pe({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),h=pe({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=pe({aspectRatio:u,width:e.width||(1!==c?n.width:s),height:e.height||(1!==c?n.height:l)}),f=p.width,A=p.height;f=Math.min(d.width,Math.max(h.width,f)),A=Math.min(d.height,Math.max(h.height,A));var m=document.createElement("canvas"),g=m.getContext("2d");m.width=K(f),m.height=K(A),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,f,A);var v=e.imageSmoothingEnabled,b=void 0===v||v,y=e.imageSmoothingQuality;g.imageSmoothingEnabled=b,y&&(g.imageSmoothingQuality=y);var x,w,_,j,C,E,B=n.width,k=n.height,S=r,O=o;S<=-s||S>B?(S=0,x=0,_=0,C=0):S<=0?(_=-S,S=0,C=x=Math.min(B,s+S)):S<=B&&(_=0,C=x=Math.min(s,B-S)),x<=0||O<=-l||O>k?(O=0,w=0,j=0,E=0):O<=0?(j=-O,O=0,E=w=Math.min(k,l+O)):O<=k&&(j=0,E=w=Math.min(l,k-O));var M=[S,O,x,w];if(C>0&&E>0){var T=f/s;M.push(_*T,j*T,C*T,E*T)}return g.drawImage.apply(g,[n].concat(a(M.map((function(e){return Math.floor(K(e))}))))),m},setAspectRatio:function(e){var t=this.options;return this.disabled||I(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r="crop"===e,o=t.movable&&"move"===e;e=r||o?e:"none",t.dragMode=e,ee(n,b,e),q(n,h,r),q(n,v,o),t.cropBoxMovable||(ee(i,b,e),q(i,h,r),q(i,v,o))}return this}},je=c.Cropper,Ce=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,e),!t||!O.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=z({},M,U(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var t,n,o;return t=e,o=[{key:"noConflict",value:function(){return window.Cropper=je,e}},{key:"setDefaults",value:function(e){z(M,U(e)&&e)}}],(n=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(k.test(e))S.test(e)?this.read((r=e.replace(me,""),o=atob(r),a=new ArrayBuffer(o.length),Q(s=new Uint8Array(a),(function(e,t){s[t]=o.charCodeAt(t)})),a)):this.clone();else{var r,o,a,s,l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){"image/jpeg"!==l.getResponseHeader("content-type")&&l.abort()},l.onload=function(){t.read(l.response)},l.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&ce(e)&&n.crossOrigin&&(e=ue(e)),l.open("GET",e,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===n.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,i=ge(e),r=0,o=1,a=1;if(i>1){this.url=function(e,t){for(var n=[],i=new Uint8Array(e);i.length>0;)n.push(Ae.apply(null,R(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,"image/jpeg");var s=function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(i);r=s.rotate,o=s.scaleX,a=s.scaleY}t.rotatable&&(n.rotate=r),t.scalable&&(n.scaleX=o,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,i=t;this.options.checkCrossOrigin&&ce(t)&&(n||(n="anonymous"),i=ue(t)),this.crossOrigin=n,this.crossOriginUrl=i;var r=document.createElement("img");n&&(r.crossOrigin=n),r.src=i||t,r.alt=e.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),Y(r,A),e.parentNode.insertBefore(r,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent),i=function(t,n){z(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=z({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var r=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){i(r.width,r.height),n||o.removeChild(r)},r.src=t.src,n||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,i=e.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=r.querySelector(".".concat("cropper","-container")),a=o.querySelector(".".concat("cropper","-canvas")),s=o.querySelector(".".concat("cropper","-drag-box")),l=o.querySelector(".".concat("cropper","-crop-box")),c=l.querySelector(".".concat("cropper","-face"));this.container=i,this.cropper=o,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=o.querySelector(".".concat("cropper","-view-box")),this.face=c,a.appendChild(n),Y(e,f),i.insertBefore(o,e.nextSibling),this.isImg||G(n,A),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Y(l,f),t.guides||Y(l.getElementsByClassName("".concat("cropper","-dashed")),f),t.center||Y(l.getElementsByClassName("".concat("cropper","-center")),f),t.background&&Y(o,"".concat("cropper","-bg")),t.highlight||Y(c,m),t.cropBoxMovable&&(Y(c,v),ee(c,b,"all")),t.cropBoxResizable||(Y(l.getElementsByClassName("".concat("cropper","-line")),f),Y(l.getElementsByClassName("".concat("cropper","-point")),f)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),P(t.ready)&&re(e,"ready",t.ready,{once:!0}),oe(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),G(this.element,f))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&r(t.prototype,n),o&&r(t,o),e}();return z(Ce.prototype,ve,be,ye,xe,we,_e),Ce}()},function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),a=new _(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return C()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=y(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};f[r]=function(){return this};var A=Object.getPrototypeOf,m=A&&A(A(j([])));m&&m!==t&&n.call(m,r)&&(f=m);var g=p.prototype=d.prototype=Object.create(f);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var i;this._invoke=function(r,o){function a(){return new t((function(i,a){!function i(r,o,a,s){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=g.constructor=p,p.constructor=h,h.displayName=s(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),s(g,a,"Generator"),g[r]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){"app"===window.gradio_mode?n.p="":"website"===window.gradio_mode?n.p="/gradio_static/":n.p="https://gradio.s3-us-west-2.amazonaws.com/2.7.4/"},function(e,t,n){"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(6),r=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;r=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A={};function m(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||f}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=v.prototype=new g;b.constructor=v,i(b,m.prototype),b.isPureReactComponent=!0;var y={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!w.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:y.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function B(e,t,n,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case o:l=!0}}if(l)return a=a(l=e),e=""===i?"."+E(l,0):i,Array.isArray(a)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),B(a,t,n,"",(function(e){return e}))):null!=a&&(j(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=i+E(s=e[c],c);l+=B(s,t,n,u,a)}else if("function"==typeof(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),c=0;!(s=e.next()).done;)l+=B(s=s.value,t,n,u=i+E(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function k(e,t,n){if(null==e)return e;var i=[],r=0;return B(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function M(){var e=O.current;if(null===e)throw Error(p(321));return e}var T={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error(p(143));return e}},t.Component=m,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=y.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!w.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:r,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(1),r=n(6),o=n(18);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},A={};function m(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!p.call(A,e)||!p.call(f,e)&&(h.test(e)?A[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,_=60106,j=60107,C=60108,E=60114,B=60109,k=60110,S=60112,O=60113,M=60120,T=60115,F=60116,N=60121,I=60128,L=60129,D=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var P=Symbol.for;w=P("react.element"),_=P("react.portal"),j=P("react.fragment"),C=P("react.strict_mode"),E=P("react.profiler"),B=P("react.provider"),k=P("react.context"),S=P("react.forward_ref"),O=P("react.suspense"),M=P("react.suspense_list"),T=P("react.memo"),F=P("react.lazy"),N=P("react.block"),P("react.scope"),I=P("react.opaque.id"),L=P("react.debug_trace_mode"),D=P("react.offscreen"),U=P("react.legacy_hidden")}var H,R="function"==typeof Symbol&&Symbol.iterator;function Q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}function z(e){if(void 0===H)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var V=!1;function K(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(e){if(e&&i&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s])return"\n"+r[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case j:return"Fragment";case _:return"Portal";case E:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case T:return X(e.type);case N:return X(e._render);case F:t=e._payload,e=e._init;try{return X(e(t))}catch(e){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),i=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ae,me=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((Ae=Ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ye(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var we=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Be=null,ke=null;function Se(e){if(e=Zi(e)){if("function"!=typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=er(t),Ee(e.stateNode,e.type,t))}}function Oe(e){Be?ke?ke.push(e):ke=[e]:Be=e}function Me(){if(Be){var e=Be,t=ke;if(ke=Be=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Fe(e,t,n,i,r){return e(t,n,i,r)}function Ne(){}var Ie=Te,Le=!1,De=!1;function Ue(){null===Be&&null===ke||(Ne(),Me())}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var i=er(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var He=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){He=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(e){He=!1}function Qe(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ze=!1,Ve=null,Ke=!1,We=null,Xe={onError:function(e){ze=!0,Ve=e}};function Ye(e,t,n,i,r,o,a,s,l){ze=!1,Ve=null,Qe.apply(Xe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ge(e)!==e)throw Error(a(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Je(r),e;if(o===i)return Je(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function $e(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,it,rt=!1,ot=[],at=null,st=null,lt=null,ct=new Map,ut=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,i,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[i]}}function ft(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function At(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,i,r,o),null!==t&&(null!==(t=Zi(t))&&tt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function mt(e){var t=Ji(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zi(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(rt=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zi(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==lt&&gt(lt)&&(lt=null),ct.forEach(vt),ut.forEach(vt)}function yt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function xt(e){function t(t){return yt(t,e)}if(0<ot.length){yt(ot[0],e);for(var n=1;n<ot.length;n++){var i=ot[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==at&&yt(at,e),null!==st&&yt(st,e),null!==lt&&yt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(i=dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},jt={},Ct={};function Et(e){if(jt[e])return jt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return jt[e]=n[t];return e}d&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Bt=Et("animationend"),kt=Et("animationiteration"),St=Et("animationstart"),Ot=Et("transitionend"),Mt=new Map,Tt=new Map,Ft=["abort","abort",Bt,"animationEnd",kt,"animationIteration",St,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),Tt.set(i,t),Mt.set(i,r),c(r,[i])}}(0,o.unstable_now)();var It=8;function Lt(e){if(0!=(1&e))return It=15,1;if(0!=(2&e))return It=14,2;if(0!=(4&e))return It=13,4;var t=24&e;return 0!==t?(It=12,t):0!=(32&e)?(It=11,32):0!==(t=192&e)?(It=10,t):0!=(256&e)?(It=9,256):0!==(t=3584&e)?(It=8,t):0!=(4096&e)?(It=7,4096):0!==(t=4186112&e)?(It=6,t):0!==(t=62914560&e)?(It=5,t):67108864&e?(It=4,67108864):0!=(134217728&e)?(It=3,134217728):0!==(t=805306368&e)?(It=2,t):0!=(1073741824&e)?(It=1,1073741824):(It=8,e)}function Dt(e,t){var n=e.pendingLanes;if(0===n)return It=0;var i=0,r=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)i=o,r=It=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(i=Lt(l),r=It):0!==(s&=o)&&(i=Lt(s),r=It)}else 0!==(o=n&~a)?(i=Lt(o),r=It):0!==s&&(i=Lt(s),r=It);if(0===i)return 0;if(i=n&((0>(i=31-zt(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0==(t&a)){if(Lt(t),r<=It)return t;It=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-zt(t)),i|=e[n],t&=~r;return i}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Pt(10,t):e;case 10:return 0===(e=Ht(192&~t))?Pt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function Rt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qt(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Kt|0)|0},Vt=Math.log,Kt=Math.LN2;var Wt=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority,Yt=!0;function Gt(e,t,n,i){Le||Ne();var r=Jt,o=Le;Le=!0;try{Fe(r,e,t,n,i)}finally{(Le=o)||Ue()}}function qt(e,t,n,i){Xt(Wt,Jt.bind(null,e,t,n,i))}function Jt(e,t,n,i){var r;if(Yt)if((r=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,i),ot.push(e);else{var o=Zt(e,t,n,i);if(null===o)r&&ft(e,i);else{if(r){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,i),void ot.push(e);if(function(e,t,n,i,r){switch(t){case"focusin":return at=At(at,e,t,n,i,r),!0;case"dragenter":return st=At(st,e,t,n,i,r),!0;case"mouseover":return lt=At(lt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return ct.set(o,At(ct.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,ut.set(o,At(ut.get(o)||null,e,t,n,i,r)),!0}return!1}(o,e,t,n,i))return;ft(e,i)}Oi(e,t,i,null,n)}}}function Zt(e,t,n,i){var r=Ce(i);if(null!==(r=Ji(r))){var o=Ge(r);if(null===o)r=null;else{var a=o.tag;if(13===a){if(null!==(r=qe(o)))return r;r=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Oi(e,t,i,r,n),null}var $t=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,i=n.length,r="value"in $t?$t.value:$t.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return tn=r.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?on:an,this.isPropagationStopped=an,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=r({},dn,{view:0,detail:0}),fn=sn(pn),An=r({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(An),gn=sn(r({},An,{dataTransfer:0})),vn=sn(r({},pn,{relatedTarget:0})),bn=sn(r({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=sn(r({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=sn(r({},dn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function En(){return Cn}var Bn=sn(r({},pn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=sn(r({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=sn(r({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=sn(r({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=sn(r({},An,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],Fn=d&&"CompositionEvent"in window,Nn=null;d&&"documentMode"in document&&(Nn=document.documentMode);var In=d&&"TextEvent"in window&&!Nn,Ln=d&&(!Fn||Nn&&8<Nn&&11>=Nn),Dn=String.fromCharCode(32),Un=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qn[e.type]:"textarea"===t}function Vn(e,t,n,i){Oe(i),0<(t=Ti(t,"onChange")).length&&(n=new hn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Xn(e){ji(e,0)}function Yn(e){if(J($i(e)))return e}function Gn(e,t){if("change"===e)return t}var qn=!1;if(d){var Jn;if(d){var Zn="oninput"in document;if(!Zn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Zn="function"==typeof $n.oninput}Jn=Zn}else Jn=!1;qn=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){Kn&&(Kn.detachEvent("onpropertychange",ti),Wn=Kn=null)}function ti(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];if(Vn(t,Wn,e,Ce(e)),e=Xn,Le)e(t);else{Le=!0;try{Te(e,t)}finally{Le=!1,Ue()}}}}function ni(e,t,n){"focusin"===e?(ei(),Wn=n,(Kn=t).attachEvent("onpropertychange",ti)):"focusout"===e&&ei()}function ii(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ri(e,t){if("click"===e)return Yn(t)}function oi(e,t){if("input"===e||"change"===e)return Yn(t)}var ai="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},si=Object.prototype.hasOwnProperty;function li(e,t){if(ai(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!si.call(t,n[i])||!ai(e[n[i]],t[n[i]]))return!1;return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pi=d&&"documentMode"in document&&11>=document.documentMode,fi=null,Ai=null,mi=null,gi=!1;function vi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gi||null==fi||fi!==Z(i)||("selectionStart"in(i=fi)&&hi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},mi&&li(mi,i)||(mi=i,0<(i=Ti(Ai,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fi)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Ft,2);for(var bi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),yi=0;yi<bi.length;yi++)Tt.set(bi[yi],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wi=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function _i(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,s,l,c){if(Ye.apply(this,arguments),ze){if(!ze)throw Error(a(198));var u=Ve;ze=!1,Ve=null,Ke||(Ke=!0,We=u)}}(i,t,void 0,e),e.currentTarget=null}function ji(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;_i(r,s,c),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;_i(r,s,c),o=l}}}if(Ke)throw e=We,Ke=!1,We=null,e}function Ci(e,t){var n=tr(t),i=e+"__bubble";n.has(i)||(Si(t,e,2,!1),n.add(i))}var Ei="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){e[Ei]||(e[Ei]=!0,s.forEach((function(t){wi.has(t)||ki(t,!1,e,null),ki(t,!0,e,null)})))}function ki(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==i&&!t&&wi.has(e)){if("scroll"!==e)return;r|=2,o=i}var a=tr(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(r|=4),Si(o,e,r,t),a.add(s))}function Si(e,t,n,i){var r=Tt.get(t);switch(void 0===r?2:r){case 0:r=Gt;break;case 1:r=qt;break;default:r=Jt}n=r.bind(null,t,n,e),r=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Oi(e,t,n,i,r){var o=i;if(0==(1&t)&&0==(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=Ji(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}!function(e,t,n){if(De)return e(t,n);De=!0;try{Ie(e,t,n)}finally{De=!1,Ue()}}((function(){var i=o,r=Ce(n),a=[];e:{var s=Mt.get(e);if(void 0!==s){var l=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Bn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sn;break;case Bt:case kt:case St:l=bn;break;case Ot:l=On;break;case"scroll":l=fn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=i;null!==f;){var A=(p=f).stateNode;if(5===p.tag&&null!==A&&(p=A,null!==h&&(null!=(A=Pe(f,h))&&u.push(Mi(f,A,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,r),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Ji(c)&&!c[Gi])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?Ji(c):null)&&(c!==(d=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=mn,A="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=kn,A="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:$i(l),p=null==c?s:$i(c),(s=new u(A,f+"leave",l,n,r)).target=d,s.relatedTarget=p,A=null,Ji(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,A=u),d=A,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Fi(p))f++;for(p=0,A=h;A;A=Fi(A))p++;for(;0<f-p;)u=Fi(u),f--;for(;0<p-f;)h=Fi(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Fi(u),h=Fi(h)}u=null}else u=null;null!==l&&Ni(a,s,l,u,!1),null!==c&&null!==d&&Ni(a,d,c,u,!0)}if("select"===(l=(s=i?$i(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Gn;else if(zn(s))if(qn)m=oi;else{m=ii;var g=ni}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ri);switch(m&&(m=m(e,i))?Vn(a,m,n,r):(g&&g(e,s,i),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&re(s,"number",s.value)),g=i?$i(i):window,e){case"focusin":(zn(g)||"true"===g.contentEditable)&&(fi=g,Ai=i,mi=null);break;case"focusout":mi=Ai=fi=null;break;case"mousedown":gi=!0;break;case"contextmenu":case"mouseup":case"dragend":gi=!1,vi(a,n,r);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":vi(a,n,r)}var v;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Rn?Pn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Rn&&(v=nn()):(en="value"in($t=r)?$t.value:$t.textContent,Rn=!0)),0<(g=Ti(i,b)).length&&(b=new xn(b,e,null,n,r),a.push({event:b,listeners:g}),v?b.data=v:null!==(v=Hn(n))&&(b.data=v))),(v=In?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Un=!0,Dn);case"textInput":return(e=t.data)===Dn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Fn&&Pn(e,t)?(e=nn(),tn=en=$t=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(i=Ti(i,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=v))}ji(a,t)}))}function Mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ti(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Pe(e,n))&&i.unshift(Mi(e,o,r)),null!=(o=Pe(e,t))&&i.push(Mi(e,o,r))),e=e.return}return i}function Fi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ni(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Pe(n,o))&&a.unshift(Mi(n,l,s)):r||null!=(l=Pe(n,o))&&a.push(Mi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ii(){}var Li=null,Di=null;function Ui(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Pi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hi="function"==typeof setTimeout?setTimeout:void 0,Ri="function"==typeof clearTimeout?clearTimeout:void 0;function Qi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function zi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Vi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ki=0;var Wi=Math.random().toString(36).slice(2),Xi="__reactFiber$"+Wi,Yi="__reactProps$"+Wi,Gi="__reactContainer$"+Wi,qi="__reactEvents$"+Wi;function Ji(e){var t=e[Xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gi]||n[Xi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Vi(e);null!==e;){if(n=e[Xi])return n;e=Vi(e)}return t}n=(e=n).parentNode}return null}function Zi(e){return!(e=e[Xi]||e[Gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function $i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function er(e){return e[Yi]||null}function tr(e){var t=e[qi];return void 0===t&&(t=e[qi]=new Set),t}var nr=[],ir=-1;function rr(e){return{current:e}}function or(e){0>ir||(e.current=nr[ir],nr[ir]=null,ir--)}function ar(e,t){ir++,nr[ir]=e.current,e.current=t}var sr={},lr=rr(sr),cr=rr(!1),ur=sr;function dr(e,t){var n=e.type.contextTypes;if(!n)return sr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function hr(e){return null!=(e=e.childContextTypes)}function pr(){or(cr),or(lr)}function fr(e,t,n){if(lr.current!==sr)throw Error(a(168));ar(lr,t),ar(cr,n)}function Ar(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,X(t)||"Unknown",o));return r({},n,i)}function mr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,ur=lr.current,ar(lr,e),ar(cr,cr.current),!0}function gr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Ar(e,t,ur),i.__reactInternalMemoizedMergedChildContext=e,or(cr),or(lr),ar(lr,e)):or(cr),ar(cr,n)}var vr=null,br=null,yr=o.unstable_runWithPriority,xr=o.unstable_scheduleCallback,wr=o.unstable_cancelCallback,_r=o.unstable_shouldYield,jr=o.unstable_requestPaint,Cr=o.unstable_now,Er=o.unstable_getCurrentPriorityLevel,Br=o.unstable_ImmediatePriority,kr=o.unstable_UserBlockingPriority,Sr=o.unstable_NormalPriority,Or=o.unstable_LowPriority,Mr=o.unstable_IdlePriority,Tr={},Fr=void 0!==jr?jr:function(){},Nr=null,Ir=null,Lr=!1,Dr=Cr(),Ur=1e4>Dr?Cr:function(){return Cr()-Dr};function Pr(){switch(Er()){case Br:return 99;case kr:return 98;case Sr:return 97;case Or:return 96;case Mr:return 95;default:throw Error(a(332))}}function Hr(e){switch(e){case 99:return Br;case 98:return kr;case 97:return Sr;case 96:return Or;case 95:return Mr;default:throw Error(a(332))}}function Rr(e,t){return e=Hr(e),yr(e,t)}function Qr(e,t,n){return e=Hr(e),xr(e,t,n)}function zr(){if(null!==Ir){var e=Ir;Ir=null,wr(e)}Vr()}function Vr(){if(!Lr&&null!==Nr){Lr=!0;var e=0;try{var t=Nr;Rr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Nr=null}catch(t){throw null!==Nr&&(Nr=Nr.slice(e+1)),xr(Br,zr),t}finally{Lr=!1}}}var Kr=x.ReactCurrentBatchConfig;function Wr(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xr=rr(null),Yr=null,Gr=null,qr=null;function Jr(){qr=Gr=Yr=null}function Zr(e){var t=Xr.current;or(Xr),e.type._context._currentValue=t}function $r(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function eo(e,t){Yr=e,qr=Gr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ta=!0),e.firstContext=null)}function to(e,t){if(qr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(qr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Gr){if(null===Yr)throw Error(a(308));Gr=t,Yr.dependencies={lanes:0,firstContext:t,responders:null}}else Gr=Gr.next=t;return e._currentValue}var no=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function so(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,i){var o=e.updateQueue;no=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,d=u=c=null;;){l=a.lane;var p=a.eventTime;if((i&l)===l){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,A=a;switch(l=t,p=n,A.tag){case 1:if("function"==typeof(f=A.payload)){h=f.call(p,h,l);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=A.payload)?f.call(p,h,l):f))break e;h=r({},h,l);break e;case 2:no=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=p,c=h):d=d.next=p,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Ns|=s,e.lanes=s,e.memoizedState=h}}function co(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var uo=(new i.Component).refs;function ho(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ol(),r=al(e),o=oo(i,r);o.payload=t,null!=n&&(o.callback=n),ao(e,o),sl(e,r,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ol(),r=al(e),o=oo(i,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ao(e,o),sl(e,r,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ol(),i=al(e),r=oo(n,i);r.tag=2,null!=t&&(r.callback=t),ao(e,r),sl(e,i,n)}};function fo(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function Ao(e,t,n){var i=!1,r=sr,o=t.contextType;return"object"==typeof o&&null!==o?o=to(o):(r=hr(t)?ur:lr.current,o=(i=null!=(i=t.contextTypes))?dr(e,r):sr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=uo,io(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=to(o):(o=hr(t)?ur:lr.current,r.context=dr(e,o)),lo(e,n,r,i),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&po.enqueueReplaceState(r,r.state,null),lo(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4)}var vo=Array.isArray;function bo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===uo&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function yo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=zl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=bo(e,t,n),i.return=e,i):((i=Hl(n.type,n.key,n.props,null,e.mode,i)).ref=bo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Rl(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Hl(t.type,t.key,t.props,null,e.mode,n)).ref=bo(e,null,t),n.return=e,n;case _:return(t=Vl(t,e.mode,n)).return=e,t}if(vo(t)||Q(t))return(t=Rl(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?n.type===j?d(e,t,n.props.children,i,r):c(e,t,n,i):null;case _:return n.key===r?u(e,t,n,i):null}if(vo(n)||Q(n))return null!==r?null:d(e,t,n,i,null);yo(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case w:return e=e.get(null===i.key?n:i.key)||null,i.type===j?d(t,e,i.props.children,r,i.key):c(t,e,i,r);case _:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(vo(i)||Q(i))return d(t,e=e.get(n)||null,i,r,null);yo(t,i)}return null}function A(r,a,s,l){for(var c=null,u=null,d=a,A=a=0,m=null;null!==d&&A<s.length;A++){d.index>A?(m=d,d=null):m=d.sibling;var g=p(r,d,s[A],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(r,d),a=o(g,a,A),null===u?c=g:u.sibling=g,u=g,d=m}if(A===s.length)return n(r,d),c;if(null===d){for(;A<s.length;A++)null!==(d=h(r,s[A],l))&&(a=o(d,a,A),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(r,d);A<s.length;A++)null!==(m=f(d,r,A,s[A],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?A:m.key),a=o(m,a,A),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(r,e)})),c}function m(r,s,l,c){var u=Q(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,A=s,m=s=0,g=null,v=l.next();null!==A&&!v.done;m++,v=l.next()){A.index>m?(g=A,A=null):g=A.sibling;var b=p(r,A,v.value,c);if(null===b){null===A&&(A=g);break}e&&A&&null===b.alternate&&t(r,A),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,A=g}if(v.done)return n(r,A),u;if(null===A){for(;!v.done;m++,v=l.next())null!==(v=h(r,v.value,c))&&(s=o(v,s,m),null===d?u=v:d.sibling=v,d=v);return u}for(A=i(r,A);!v.done;m++,v=l.next())null!==(v=f(A,r,m,v.value,c))&&(e&&null!==v.alternate&&A.delete(null===v.key?m:v.key),s=o(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&A.forEach((function(e){return t(r,e)})),u}return function(e,i,o,l){var c="object"==typeof o&&null!==o&&o.type===j&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case w:e:{for(u=o.key,c=i;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===j){n(e,c.sibling),(i=r(c,o.props.children)).return=e,e=i;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(i=r(c,o.props)).ref=bo(e,c,o),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===j?((i=Rl(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Hl(o.type,o.key,o.props,null,e.mode,l)).ref=bo(e,i,o),l.return=e,e=l)}return s(e);case _:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Vl(o,e.mode,l)).return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=zl(o,e.mode,l)).return=e,e=i),s(e);if(vo(o))return A(e,i,o,l);if(Q(o))return m(e,i,o,l);if(u&&yo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(e.type)||"Component"))}return n(e,i)}}var wo=xo(!0),_o=xo(!1),jo={},Co=rr(jo),Eo=rr(jo),Bo=rr(jo);function ko(e){if(e===jo)throw Error(a(174));return e}function So(e,t){switch(ar(Bo,t),ar(Eo,e),ar(Co,jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}or(Co),ar(Co,t)}function Oo(){or(Co),or(Eo),or(Bo)}function Mo(e){ko(Bo.current);var t=ko(Co.current),n=fe(t,e.type);t!==n&&(ar(Eo,e),ar(Co,n))}function To(e){Eo.current===e&&(or(Co),or(Eo))}var Fo=rr(0);function No(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Io=null,Lo=null,Do=!1;function Uo(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Po(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ho(e){if(Do){var t=Lo;if(t){var n=t;if(!Po(e,t)){if(!(t=zi(n.nextSibling))||!Po(e,t))return e.flags=-1025&e.flags|2,Do=!1,void(Io=e);Uo(Io,n)}Io=e,Lo=zi(t.firstChild)}else e.flags=-1025&e.flags|2,Do=!1,Io=e}}function Ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Io=e}function Qo(e){if(e!==Io)return!1;if(!Do)return Ro(e),Do=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Pi(t,e.memoizedProps))for(t=Lo;t;)Uo(e,t),t=zi(t.nextSibling);if(Ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Lo=zi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Lo=null}}else Lo=Io?zi(e.stateNode.nextSibling):null;return!0}function zo(){Lo=Io=null,Do=!1}var Vo=[];function Ko(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var Wo=x.ReactCurrentDispatcher,Xo=x.ReactCurrentBatchConfig,Yo=0,Go=null,qo=null,Jo=null,Zo=!1,$o=!1;function ea(){throw Error(a(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function na(e,t,n,i,r,o){if(Yo=o,Go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wo.current=null===e||null===e.memoizedState?ka:Sa,e=n(i,r),$o){o=0;do{if($o=!1,!(25>o))throw Error(a(301));o+=1,Jo=qo=null,t.updateQueue=null,Wo.current=Oa,e=n(i,r)}while($o)}if(Wo.current=Ba,t=null!==qo&&null!==qo.next,Yo=0,Jo=qo=Go=null,Zo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Go.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function ra(){if(null===qo){var e=Go.alternate;e=null!==e?e.memoizedState:null}else e=qo.next;var t=null===Jo?Go.memoizedState:Jo.next;if(null!==t)Jo=t,qo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(qo=e).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===Jo?Go.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function oa(e,t){return"function"==typeof t?t(e):t}function aa(e){var t=ra(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=qo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=o=null,c=r;do{var u=c.lane;if((Yo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===e?c.eagerState:e(i,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=i):l=l.next=d,Go.lanes|=u,Ns|=u}c=c.next}while(null!==c&&c!==r);null===l?o=i:l.next=s,ai(i,t.memoizedState)||(Ta=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function sa(e){var t=ra(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);ai(o,t.memoizedState)||(Ta=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function la(e,t,n){var i=t._getVersion;i=i(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===i:(e=e.mutableReadLanes,(e=(Yo&e)===e)&&(t._workInProgressVersionPrimary=i,Vo.push(t))),e)return n(t._source);throw Vo.push(t),Error(a(350))}function ca(e,t,n,i){var r=Es;if(null===r)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Wo.current,c=l.useState((function(){return la(r,t,n)})),u=c[1],d=c[0];c=Jo;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,A=h.source;h=h.subscribe;var m=Go;return e.memoizedState={refs:p,source:t,subscribe:i},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!ai(s,e)){e=n(t._source),ai(d,e)||(u(e),e=al(m),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var i=r.entanglements,a=e;0<a;){var l=31-zt(a),c=1<<l;i[l]|=e,a&=~c}}}),[n,t,i]),l.useEffect((function(){return i(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var i=al(m);r.mutableReadLanes|=i&r.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,i]),ai(f,n)&&ai(A,t)&&ai(h,i)||((e={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:d}).dispatch=u=Ea.bind(null,Go,e),c.queue=e,c.baseQueue=null,d=la(r,t,n),c.memoizedState=c.baseState=d),d}function ua(e,t,n){return ca(ra(),e,t,n)}function da(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e}).dispatch=Ea.bind(null,Go,e),[t.memoizedState,e]}function ha(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Go.updateQueue)?(t={lastEffect:null},Go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function fa(){return ra().memoizedState}function Aa(e,t,n,i){var r=ia();Go.flags|=e,r.memoizedState=ha(1|t,n,void 0,void 0===i?null:i)}function ma(e,t,n,i){var r=ra();i=void 0===i?null:i;var o=void 0;if(null!==qo){var a=qo.memoizedState;if(o=a.destroy,null!==i&&ta(i,a.deps))return void ha(t,n,o,i)}Go.flags|=e,r.memoizedState=ha(1|t,n,o,i)}function ga(e,t){return Aa(516,4,e,t)}function va(e,t){return ma(516,4,e,t)}function ba(e,t){return ma(4,2,e,t)}function ya(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,ya.bind(null,t,e),n)}function wa(){}function _a(e,t){var n=ra();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ta(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ja(e,t){var n=ra();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ta(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=Pr();Rr(98>n?98:n,(function(){e(!0)})),Rr(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Ea(e,t,n){var i=ol(),r=al(e),o={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Go||null!==a&&a===Go)$o=Zo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,ai(l,s))return}catch(e){}sl(e,r,i)}}var Ba={readContext:to,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useOpaqueIdentifier:ea,unstable_isNewReconciler:!1},ka={readContext:to,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:to,useEffect:ga,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Aa(4,2,ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ia();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ea.bind(null,Go,e),[i.memoizedState,e]},useRef:pa,useState:da,useDebugValue:wa,useDeferredValue:function(e){var t=da(e),n=t[0],i=t[1];return ga((function(){var t=Xo.transition;Xo.transition=1;try{i(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return pa(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=ia();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ca(i,e,t,n)},useOpaqueIdentifier:function(){if(Do){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ki++).toString(36))),Error(a(355))})),n=da(t)[1];return 0==(2&Go.mode)&&(Go.flags|=516,ha(5,(function(){n("r:"+(Ki++).toString(36))}),void 0,null)),t}return da(t="r:"+(Ki++).toString(36)),t},unstable_isNewReconciler:!1},Sa={readContext:to,useCallback:_a,useContext:to,useEffect:va,useImperativeHandle:xa,useLayoutEffect:ba,useMemo:ja,useReducer:aa,useRef:fa,useState:function(){return aa(oa)},useDebugValue:wa,useDeferredValue:function(e){var t=aa(oa),n=t[0],i=t[1];return va((function(){var t=Xo.transition;Xo.transition=1;try{i(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=aa(oa)[0];return[fa().current,e]},useMutableSource:ua,useOpaqueIdentifier:function(){return aa(oa)[0]},unstable_isNewReconciler:!1},Oa={readContext:to,useCallback:_a,useContext:to,useEffect:va,useImperativeHandle:xa,useLayoutEffect:ba,useMemo:ja,useReducer:sa,useRef:fa,useState:function(){return sa(oa)},useDebugValue:wa,useDeferredValue:function(e){var t=sa(oa),n=t[0],i=t[1];return va((function(){var t=Xo.transition;Xo.transition=1;try{i(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=sa(oa)[0];return[fa().current,e]},useMutableSource:ua,useOpaqueIdentifier:function(){return sa(oa)[0]},unstable_isNewReconciler:!1},Ma=x.ReactCurrentOwner,Ta=!1;function Fa(e,t,n,i){t.child=null===e?_o(t,null,n,i):wo(t,e.child,n,i)}function Na(e,t,n,i,r){n=n.render;var o=t.ref;return eo(t,r),i=na(e,t,n,i,o,r),null===e||Ta?(t.flags|=1,Fa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,es(e,t,r))}function Ia(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Ul(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hl(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,i,r,o))}return a=e.child,0==(r&o)&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:li)(r,i)&&e.ref===t.ref)?es(e,t,o):(t.flags|=1,(e=Pl(a,i)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,i,r,o){if(null!==e&&li(e.memoizedProps,i)&&e.ref===t.ref){if(Ta=!1,0==(o&r))return t.lanes=e.lanes,es(e,t,o);0!=(16384&e.flags)&&(Ta=!0)}return Pa(e,t,n,i,o)}function Da(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Al(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Al(t,e),null;t.memoizedState={baseLanes:0},Al(t,null!==o?o.baseLanes:n)}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Al(t,i);return Fa(e,t,r,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Pa(e,t,n,i,r){var o=hr(n)?ur:lr.current;return o=dr(t,o),eo(t,r),n=na(e,t,n,i,o,r),null===e||Ta?(t.flags|=1,Fa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,es(e,t,r))}function Ha(e,t,n,i,r){if(hr(n)){var o=!0;mr(t)}else o=!1;if(eo(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ao(t,n,i),go(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=to(c):c=dr(t,c=hr(n)?ur:lr.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&mo(t,a,i,c),no=!1;var h=t.memoizedState;a.state=h,lo(t,i,a,r),l=t.memoizedState,s!==i||h!==l||cr.current||no?("function"==typeof u&&(ho(t,n,u,i),l=t.memoizedState),(s=no||fo(t,n,s,i,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"==typeof a.componentDidMount&&(t.flags|=4),i=!1)}else{a=t.stateNode,ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wr(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=to(l):l=dr(t,l=hr(n)?ur:lr.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,a,i,l),no=!1,h=t.memoizedState,a.state=h,lo(t,i,a,r);var f=t.memoizedState;s!==d||h!==f||cr.current||no?("function"==typeof p&&(ho(t,n,p,i),f=t.memoizedState),(c=no||fo(t,n,c,i,h,f,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),i=!1)}return Ra(e,t,n,i,o,r)}function Ra(e,t,n,i,r,o){Ua(e,t);var a=0!=(64&t.flags);if(!i&&!a)return r&&gr(t,n,!1),es(e,t,o);i=t.stateNode,Ma.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=i.state,r&&gr(t,n,!0),t.child}function Qa(e){var t=e.stateNode;t.pendingContext?fr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&fr(0,t.context,!1),So(e,t.containerInfo)}var za,Va,Ka,Wa={dehydrated:null,retryLane:0};function Xa(e,t,n){var i,r=t.pendingProps,o=Fo.current,a=!1;return(i=0!=(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!=(2&o)),i?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(o|=1),ar(Fo,1&o),null===e?(void 0!==r.fallback&&Ho(t),e=r.children,o=r.fallback,a?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wa,e):"number"==typeof r.unstable_expectedLoadTime?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wa,t.lanes=33554432,e):((n=Ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(r=qa(e,t,r.children,r.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Wa,r):(n=Ga(e,t,r.children,n),t.memoizedState=null,n))}function Ya(e,t,n,i){var r=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&r)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ql(t,r,0,null),n=Rl(n,r,i,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ga(e,t,n,i){var r=e.child;return e=r.sibling,n=Pl(r,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function qa(e,t,n,i,r){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Pl(a,s),null!==e?i=Pl(e,i):(i=Rl(i,o,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function Ja(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),$r(e.return,t)}function Za(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.lastEffect=o)}function $a(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Fa(e,t,i.children,n),0!=(2&(i=Fo.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ja(e,n);else if(19===e.tag)Ja(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ar(Fo,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===No(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Za(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===No(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Za(t,!0,n,null,o,t.lastEffect);break;case"together":Za(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function es(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ns|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ts(e,t){if(!Do)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ns(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return hr(t.type)&&pr(),null;case 3:return Oo(),or(cr),or(lr),Ko(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Qo(t)?t.flags|=4:i.hydrate||(t.flags|=256)),null;case 5:To(t);var o=ko(Bo.current);if(n=t.type,null!==e&&null!=t.stateNode)Va(e,t,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=ko(Co.current),Qo(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Xi]=t,i[Yi]=s,n){case"dialog":Ci("cancel",i),Ci("close",i);break;case"iframe":case"object":case"embed":Ci("load",i);break;case"video":case"audio":for(e=0;e<xi.length;e++)Ci(xi[e],i);break;case"source":Ci("error",i);break;case"img":case"image":case"link":Ci("error",i),Ci("load",i);break;case"details":Ci("toggle",i);break;case"input":ee(i,s),Ci("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ci("invalid",i);break;case"textarea":le(i,s),Ci("invalid",i)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?i.textContent!==o&&(e=["children",o]):"number"==typeof o&&i.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ci("scroll",i));switch(n){case"input":q(i),ie(i,s,!0);break;case"textarea":q(i),ue(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Ii)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=pe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),"select"===n&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[Xi]=t,e[Yi]=i,za(e,t),t.stateNode=e,c=je(n,i),n){case"dialog":Ci("cancel",e),Ci("close",e),o=i;break;case"iframe":case"object":case"embed":Ci("load",e),o=i;break;case"video":case"audio":for(o=0;o<xi.length;o++)Ci(xi[o],e);o=i;break;case"source":Ci("error",e),o=i;break;case"img":case"image":case"link":Ci("error",e),Ci("load",e),o=i;break;case"details":Ci("toggle",e),o=i;break;case"input":ee(e,i),o=$(e,i),Ci("invalid",e);break;case"option":o=oe(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=r({},i,{value:void 0}),Ci("invalid",e);break;case"textarea":le(e,i),o=se(e,i),Ci("invalid",e);break;default:o=i}_e(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&me(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ci("scroll",e):null!=d&&y(e,s,d,c))}switch(n){case"input":q(e),ie(e,i,!1);break;case"textarea":q(e),ue(e);break;case"option":null!=i.value&&e.setAttribute("value",""+Y(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ae(e,!!i.multiple,s,!1):null!=i.defaultValue&&ae(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ii)}Ui(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ka(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));n=ko(Bo.current),ko(Co.current),Qo(t)?(i=t.stateNode,n=t.memoizedProps,i[Xi]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Xi]=t,t.stateNode=i)}return null;case 13:return or(Fo),i=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Qo(t):n=null!==e.memoizedState,i&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===Es||0==(134217727&Ns)&&0==(134217727&Is)||dl(Es,ks))),(i||n)&&(t.flags|=4),null);case 4:return Oo(),null===e&&Bi(t.stateNode.containerInfo),null;case 10:return Zr(t),null;case 17:return hr(t.type)&&pr(),null;case 19:if(or(Fo),null===(i=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=i.rendering))if(s)ts(i,!1);else{if(0!==Ms||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=No(e))){for(t.flags|=64,ts(i,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ar(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==i.tail&&Ur()>Ps&&(t.flags|=64,s=!0,ts(i,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=No(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ts(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!Do)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Ur()-i.renderingStartTime>Ps&&1073741824!==n&&(t.flags|=64,s=!0,ts(i,!1),t.lanes=33554432);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Ur(),n.sibling=null,t=Fo.current,ar(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return ml(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function is(e){switch(e.tag){case 1:hr(e.type)&&pr();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oo(),or(cr),or(lr),Ko(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return To(e),null;case 13:return or(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return or(Fo),null;case 4:return Oo(),null;case 10:return Zr(e),null;case 23:case 24:return ml(),null;default:return null}}function rs(e,t){try{var n="",i=t;do{n+=W(i),i=i.return}while(i);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function os(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,ko(Co.current);var a,s=null;switch(n){case"input":o=$(e,o),i=$(e,i),s=[];break;case"option":o=oe(e,o),i=oe(e,i),s=[];break;case"select":o=r({},o,{value:void 0}),i=r({},i,{value:void 0}),s=[];break;case"textarea":o=se(e,o),i=se(e,i),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(e.onclick=Ii)}for(d in _e(n,i),n=null,o)if(!i.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var u=i[d];if(c=null!=o?o[d]:void 0,i.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Ci("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===I?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ka=function(e,t,n,i){n!==i&&(t.flags|=4)};var as="function"==typeof WeakMap?WeakMap:Map;function ss(e,t,n){(n=oo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){zs||(zs=!0,Vs=i),os(0,t)},n}function ls(e,t,n){(n=oo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return os(0,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Ks?Ks=new Set([this]):Ks.add(this),os(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cs="function"==typeof WeakSet?WeakSet:Set;function us(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fl(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Qi(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;i=r.next,0!=(4&(r=r.tag))&&0!=(1&r)&&(Ol(n,e),Sl(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Wr(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&co(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}co(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ui(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function ps(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=null!=r&&r.hasOwnProperty("display")?r.display:null,i.style.display=ye("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fs(e,t){if(br&&"function"==typeof br.onCommitFiberUnmount)try{br.onCommitFiberUnmount(vr,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,r=i.destroy;if(i=i.tag,void 0!==r)if(0!=(4&i))Ol(t,n);else{i=t;try{r()}catch(e){Fl(i,e)}}n=n.next}while(n!==e)}break;case 1:if(us(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fl(t,e)}break;case 5:us(t);break;case 4:vs(e,t)}}function As(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=Ii));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function vs(e,t){for(var n,i,r=t,o=!1;;){if(!o){o=r.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===r.tag||6===r.tag){e:for(var s=e,l=r,c=l;;)if(fs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(s=n,l=r.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(fs(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3==(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Yi]=i,"input"===e&&"radio"===i.type&&null!=i.name&&te(n,i),je(e,r),t=je(e,i),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?xe(n,l):"dangerouslySetInnerHTML"===s?me(n,l):"children"===s?ge(n,l):y(n,s,l,t)}switch(e){case"input":ne(n,i);break;case"textarea":ce(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(o=i.value)?ae(n,!!i.multiple,o,!1):e!==!!i.multiple&&(null!=i.defaultValue?ae(n,!!i.multiple,i.defaultValue,!0):ae(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ur(),ps(t.child,!0)),void ys(t);case 19:return void ys(t);case 17:return;case 23:case 24:return void ps(t,null!==t.memoizedState)}throw Error(a(163))}function ys(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cs),t.forEach((function(t){var i=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ws=Math.ceil,_s=x.ReactCurrentDispatcher,js=x.ReactCurrentOwner,Cs=0,Es=null,Bs=null,ks=0,Ss=0,Os=rr(0),Ms=0,Ts=null,Fs=0,Ns=0,Is=0,Ls=0,Ds=null,Us=0,Ps=1/0;function Hs(){Ps=Ur()+500}var Rs,Qs=null,zs=!1,Vs=null,Ks=null,Ws=!1,Xs=null,Ys=90,Gs=[],qs=[],Js=null,Zs=0,$s=null,el=-1,tl=0,nl=0,il=null,rl=!1;function ol(){return 0!=(48&Cs)?Ur():-1!==el?el:el=Ur()}function al(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Pr()?1:2;if(0===tl&&(tl=Fs),0!==Kr.transition){0!==nl&&(nl=null!==Ds?Ds.pendingLanes:0),e=tl;var t=4186112&~nl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Pr(),0!=(4&Cs)&&98===e?e=Pt(12,tl):e=Pt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),tl),e}function sl(e,t,n){if(50<Zs)throw Zs=0,$s=null,Error(a(185));if(null===(e=ll(e,t)))return null;Qt(e,t,n),e===Es&&(Is|=t,4===Ms&&dl(e,ks));var i=Pr();1===t?0!=(8&Cs)&&0==(48&Cs)?hl(e):(cl(e,n),0===Cs&&(Hs(),zr())):(0==(4&Cs)||98!==i&&99!==i||(null===Js?Js=new Set([e]):Js.add(e)),cl(e,n)),Ds=e}function ll(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cl(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-zt(s),c=1<<l,u=o[l];if(-1===u){if(0==(c&i)||0!=(c&r)){u=t,Lt(c);var d=It;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(i=Dt(e,e===Es?ks:0),t=It,0===i)null!==n&&(n!==Tr&&wr(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Tr&&wr(n)}15===t?(n=hl.bind(null,e),null===Nr?(Nr=[n],Ir=xr(Br,Vr)):Nr.push(n),n=Tr):14===t?n=Qr(99,hl.bind(null,e)):n=Qr(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),ul.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ul(e){if(el=-1,nl=tl=0,0!=(48&Cs))throw Error(a(327));var t=e.callbackNode;if(kl()&&e.callbackNode!==t)return null;var n=Dt(e,e===Es?ks:0);if(0===n)return null;var i=n,r=Cs;Cs|=16;var o=bl();for(Es===e&&ks===i||(Hs(),gl(e,i));;)try{wl();break}catch(t){vl(e,t)}if(Jr(),_s.current=o,Cs=r,null!==Bs?i=0:(Es=null,ks=0,i=Ms),0!=(Fs&Is))gl(e,0);else if(0!==i){if(2===i&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Qi(e.containerInfo)),0!==(n=Ut(e))&&(i=yl(e,n))),1===i)throw t=Ts,gl(e,0),dl(e,n),cl(e,Ur()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(a(345));case 2:Cl(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(i=Us+500-Ur())){if(0!==Dt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){ol(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Hi(Cl.bind(null,e),i);break}Cl(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(i=e.eventTimes,r=-1;0<n;){var s=31-zt(n);o=1<<s,(s=i[s])>r&&(r=s),n&=~o}if(n=r,10<(n=(120>(n=Ur()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ws(n/1960))-n)){e.timeoutHandle=Hi(Cl.bind(null,e),n);break}Cl(e);break;case 5:Cl(e);break;default:throw Error(a(329))}}return cl(e,Ur()),e.callbackNode===t?ul.bind(null,e):null}function dl(e,t){for(t&=~Ls,t&=~Is,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),i=1<<n;e[n]=-1,t&=~i}}function hl(e){if(0!=(48&Cs))throw Error(a(327));if(kl(),e===Es&&0!=(e.expiredLanes&ks)){var t=ks,n=yl(e,t);0!=(Fs&Is)&&(n=yl(e,t=Dt(e,t)))}else n=yl(e,t=Dt(e,0));if(0!==e.tag&&2===n&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Qi(e.containerInfo)),0!==(t=Ut(e))&&(n=yl(e,t))),1===n)throw n=Ts,gl(e,0),dl(e,t),cl(e,Ur()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e),cl(e,Ur()),null}function pl(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Hs(),zr())}}function fl(e,t){var n=Cs;Cs&=-2,Cs|=8;try{return e(t)}finally{0===(Cs=n)&&(Hs(),zr())}}function Al(e,t){ar(Os,Ss),Ss|=t,Fs|=t}function ml(){Ss=Os.current,or(Os)}function gl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ri(n)),null!==Bs)for(n=Bs.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&pr();break;case 3:Oo(),or(cr),or(lr),Ko();break;case 5:To(i);break;case 4:Oo();break;case 13:case 19:or(Fo);break;case 10:Zr(i);break;case 23:case 24:ml()}n=n.return}Es=e,Bs=Pl(e.current,null),ks=Ss=Fs=t,Ms=0,Ts=null,Ls=Is=Ns=0}function vl(e,t){for(;;){var n=Bs;try{if(Jr(),Wo.current=Ba,Zo){for(var i=Go.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}Zo=!1}if(Yo=0,Jo=qo=Go=null,$o=!1,js.current=null,null===n||null===n.return){Ms=1,Ts=t,Bs=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=ks,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Fo.current),h=a;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var A=h.memoizedProps;p=void 0!==A.fallback&&(!0!==A.unstable_avoidThisFallback||!d)}}if(p){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=oo(-1,1);v.tag=2,ao(s,v)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new as,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var y=Nl.bind(null,o,c,s);c.then(y,y)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),l=rs(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,so(h,ss(0,o,t));break e;case 1:o=l;var x=h.type,w=h.stateNode;if(0==(64&h.flags)&&("function"==typeof x.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Ks||!Ks.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,so(h,ls(h,o,t));break e}}h=h.return}while(null!==h)}jl(n)}catch(e){t=e,Bs===n&&null!==n&&(Bs=n=n.return);continue}break}}function bl(){var e=_s.current;return _s.current=Ba,null===e?Ba:e}function yl(e,t){var n=Cs;Cs|=16;var i=bl();for(Es===e&&ks===t||gl(e,t);;)try{xl();break}catch(t){vl(e,t)}if(Jr(),Cs=n,_s.current=i,null!==Bs)throw Error(a(261));return Es=null,ks=0,Ms}function xl(){for(;null!==Bs;)_l(Bs)}function wl(){for(;null!==Bs&&!_r();)_l(Bs)}function _l(e){var t=Rs(e.alternate,e,Ss);e.memoizedProps=e.pendingProps,null===t?jl(e):Bs=t,js.current=null}function jl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ns(n,t,Ss)))return void(Bs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ss)||0==(4&n.mode)){for(var i=0,r=n.child;null!==r;)i|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=i}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=is(t)))return n.flags&=2047,void(Bs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Bs=t);Bs=t=e}while(null!==t);0===Ms&&(Ms=5)}function Cl(e){var t=Pr();return Rr(99,El.bind(null,e,t)),null}function El(e,t){do{kl()}while(null!==Xs);if(0!=(48&Cs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var i=n.lanes|n.childLanes,r=i,o=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-zt(o),u=1<<c;r[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==Js&&0==(24&i)&&Js.has(e)&&Js.delete(e),e===Es&&(Bs=Es=null,ks=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(r=Cs,Cs|=32,js.current=null,Li=Yt,hi(s=di())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,h=-1,p=-1,f=0,A=0,m=s,g=null;t:for(;;){for(var v;m!==l||0!==o&&3!==m.nodeType||(h=d+o),m!==c||0!==u&&3!==m.nodeType||(p=d+u),3===m.nodeType&&(d+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===s)break t;if(g===l&&++f===o&&(h=d),g===c&&++A===u&&(p=d),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}l=-1===h||-1===p?null:{start:h,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Di={focusedElem:s,selectionRange:l},Yt=!1,il=null,rl=!1,Qs=i;do{try{Bl()}catch(e){if(null===Qs)throw Error(a(330));Fl(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);il=null,Qs=i;do{try{for(s=e;null!==Qs;){var b=Qs.flags;if(16&b&&ge(Qs.stateNode,""),128&b){var y=Qs.alternate;if(null!==y){var x=y.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:gs(Qs),Qs.flags&=-3;break;case 6:gs(Qs),Qs.flags&=-3,bs(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,bs(Qs.alternate,Qs);break;case 4:bs(Qs.alternate,Qs);break;case 8:vs(s,l=Qs);var w=l.alternate;As(l),null!==w&&As(w)}Qs=Qs.nextEffect}}catch(e){if(null===Qs)throw Error(a(330));Fl(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);if(x=Di,y=di(),b=x.focusedElem,s=x.selectionRange,y!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&hi(b)&&(y=s.start,void 0===(x=s.end)&&(x=y),"selectionStart"in b?(b.selectionStart=y,b.selectionEnd=Math.min(x,b.value.length)):(x=(y=b.ownerDocument||document)&&y.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!x.extend&&w>s&&(l=s,s=w,w=l),l=ui(b,w),o=ui(b,s),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((y=y.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),w>s?(x.addRange(y),x.extend(o.node,o.offset)):(y.setEnd(o.node,o.offset),x.addRange(y))))),y=[];for(x=b;x=x.parentNode;)1===x.nodeType&&y.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<y.length;b++)(x=y[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Yt=!!Li,Di=Li=null,e.current=n,Qs=i;do{try{for(b=e;null!==Qs;){var _=Qs.flags;if(36&_&&hs(b,Qs.alternate,Qs),128&_){y=void 0;var j=Qs.ref;if(null!==j){var C=Qs.stateNode;switch(Qs.tag){case 5:y=C;break;default:y=C}"function"==typeof j?j(y):j.current=y}}Qs=Qs.nextEffect}}catch(e){if(null===Qs)throw Error(a(330));Fl(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Fr(),Cs=r}else e.current=n;if(Ws)Ws=!1,Xs=e,Ys=t;else for(Qs=i;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((_=Qs).sibling=null,_.stateNode=null),Qs=t;if(0===(i=e.pendingLanes)&&(Ks=null),1===i?e===$s?Zs++:(Zs=0,$s=e):Zs=0,n=n.stateNode,br&&"function"==typeof br.onCommitFiberRoot)try{br.onCommitFiberRoot(vr,n,void 0,64==(64&n.current.flags))}catch(e){}if(cl(e,Ur()),zs)throw zs=!1,e=Vs,Vs=null,e;return 0!=(8&Cs)||zr(),null}function Bl(){for(;null!==Qs;){var e=Qs.alternate;rl||null===il||(0!=(8&Qs.flags)?$e(Qs,il)&&(rl=!0):13===Qs.tag&&xs(e,Qs)&&$e(Qs,il)&&(rl=!0));var t=Qs.flags;0!=(256&t)&&ds(e,Qs),0==(512&t)||Ws||(Ws=!0,Qr(97,(function(){return kl(),null}))),Qs=Qs.nextEffect}}function kl(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Rr(e,Ml)}return!1}function Sl(e,t){Gs.push(t,e),Ws||(Ws=!0,Qr(97,(function(){return kl(),null})))}function Ol(e,t){qs.push(t,e),Ws||(Ws=!0,Qr(97,(function(){return kl(),null})))}function Ml(){if(null===Xs)return!1;var e=Xs;if(Xs=null,0!=(48&Cs))throw Error(a(331));var t=Cs;Cs|=32;var n=qs;qs=[];for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1],s=r.destroy;if(r.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Fl(o,e)}}for(n=Gs,Gs=[],i=0;i<n.length;i+=2){r=n[i],o=n[i+1];try{var l=r.create;r.destroy=l()}catch(e){if(null===o)throw Error(a(330));Fl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Cs=t,zr(),!0}function Tl(e,t,n){ao(e,t=ss(0,t=rs(n,t),1)),t=ol(),null!==(e=ll(e,1))&&(Qt(e,1,t),cl(e,t))}function Fl(e,t){if(3===e.tag)Tl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Tl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ks||!Ks.has(i))){var r=ls(n,e=rs(t,e),1);if(ao(n,r),r=ol(),null!==(n=ll(n,1)))Qt(n,1,r),cl(n,r);else if("function"==typeof i.componentDidCatch&&(null===Ks||!Ks.has(i)))try{i.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Nl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ol(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(ks&n)===n&&(4===Ms||3===Ms&&(62914560&ks)===ks&&500>Ur()-Us?gl(e,0):Ls|=n),cl(e,t)}function Il(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Pr()?1:2:(0===tl&&(tl=Fs),0===(t=Ht(62914560&~tl))&&(t=4194304))),n=ol(),null!==(e=ll(e,t))&&(Qt(e,t,n),cl(e,n))}function Ll(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,i){return new Ll(e,t,n,i)}function Ul(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,i,r,o){var s=2;if(i=e,"function"==typeof e)Ul(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case j:return Rl(n.children,r,o,t);case L:s=8,r|=16;break;case C:s=8,r|=1;break;case E:return(e=Dl(12,n,t,8|r)).elementType=E,e.type=E,e.lanes=o,e;case O:return(e=Dl(13,n,t,r)).type=O,e.elementType=O,e.lanes=o,e;case M:return(e=Dl(19,n,t,r)).elementType=M,e.lanes=o,e;case D:return Ql(n,r,o,t);case U:return(e=Dl(24,n,t,r)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case B:s=10;break e;case k:s=9;break e;case S:s=11;break e;case T:s=14;break e;case F:s=16,i=null;break e;case N:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Rl(e,t,n,i){return(e=Dl(7,e,i,t)).lanes=n,e}function Ql(e,t,n,i){return(e=Dl(23,e,i,t)).elementType=D,e.lanes=n,e}function zl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Rt(0),this.expirationTimes=Rt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.mutableSourceEagerHydrationData=null}function Wl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Xl(e,t,n,i){var r=t.current,o=ol(),s=al(r);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(hr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(hr(c)){n=Ar(n,c,l);break e}}n=l}else n=sr;return null===t.context?t.context=n:t.pendingContext=n,(t=oo(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),ao(r,t),sl(r,s,o),s}function Yl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}function Jl(e,t,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(e,t,null!=n&&!0===n.hydrate),t=Dl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Gi]=n.current,Bi(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var r=(t=i[e])._getVersion;r=r(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=n}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof r){var s=r;r=function(){var e=Yl(a);s.call(e)}}Xl(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Jl(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"==typeof r){var l=r;r=function(){var e=Yl(a);l.call(e)}}fl((function(){Xl(t,a,e,r)}))}return Yl(a)}function ec(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(a(200));return Wl(e,t,null,n)}Rs=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||cr.current)Ta=!0;else{if(0==(n&i)){switch(Ta=!1,t.tag){case 3:Qa(t),zo();break;case 5:Mo(t);break;case 1:hr(t.type)&&mr(t);break;case 4:So(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var r=t.type._context;ar(Xr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Xa(e,t,n):(ar(Fo,1&Fo.current),null!==(t=es(e,t,n))?t.sibling:null);ar(Fo,1&Fo.current);break;case 19:if(i=0!=(n&t.childLanes),0!=(64&e.flags)){if(i)return $a(e,t,n);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),ar(Fo,Fo.current),i)break;return null;case 23:case 24:return t.lanes=0,Da(e,t,n)}return es(e,t,n)}Ta=0!=(16384&e.flags)}else Ta=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=dr(t,lr.current),eo(t,n),r=na(null,t,i,e,r,n),t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,hr(i)){var o=!0;mr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,io(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&ho(t,i,s,e),r.updater=po,t.stateNode=r,r._reactInternals=t,go(t,i,e,n),t=Ra(null,t,i,!0,o,n)}else t.tag=0,Fa(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Ul(e)?1:0;if(null!=e){if((e=e.$$typeof)===S)return 11;if(e===T)return 14}return 2}(r),e=Wr(r,e),o){case 0:t=Pa(null,t,r,e,n);break e;case 1:t=Ha(null,t,r,e,n);break e;case 11:t=Na(null,t,r,e,n);break e;case 14:t=Ia(null,t,r,Wr(r.type,e),i,n);break e}throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Pa(e,t,i,r=t.elementType===i?r:Wr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ha(e,t,i,r=t.elementType===i?r:Wr(i,r),n);case 3:if(Qa(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ro(e,t),lo(t,i,null,n),(i=t.memoizedState.element)===r)zo(),t=es(e,t,n);else{if((o=(r=t.stateNode).hydrate)&&(Lo=zi(t.stateNode.containerInfo.firstChild),Io=t,o=Do=!0),o){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(o=e[r])._workInProgressVersionPrimary=e[r+1],Vo.push(o);for(n=_o(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,i,n),zo();t=t.child}return t;case 5:return Mo(t),null===e&&Ho(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,Pi(i,r)?s=null:null!==o&&Pi(i,o)&&(t.flags|=16),Ua(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Xa(e,t,n);case 4:return So(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=wo(t,null,i,n):Fa(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Na(e,t,i,r=t.elementType===i?r:Wr(i,r),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(ar(Xr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=ai(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!cr.current){t=es(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===l.tag&&((u=oo(-1,n&-n)).tag=2,ao(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),$r(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,eo(t,n),i=i(r=to(r,o.unstable_observedBits)),t.flags|=1,Fa(e,t,i,n),t.child;case 14:return o=Wr(r=t.type,t.pendingProps),Ia(e,t,r,o=Wr(r.type,o),i,n);case 15:return La(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Wr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,hr(i)?(e=!0,mr(t)):e=!1,eo(t,n),Ao(t,i,r),go(t,i,r,n),Ra(null,t,i,!0,e,n);case 19:return $a(e,t,n);case 23:case 24:return Da(e,t,n)}throw Error(a(156,t.tag))},Jl.prototype.render=function(e){Xl(e,this._internalRoot,null,null)},Jl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xl(null,e,null,(function(){t[Gi]=null}))},et=function(e){13===e.tag&&(sl(e,4,ol()),ql(e,4))},tt=function(e){13===e.tag&&(sl(e,67108864,ol()),ql(e,67108864))},nt=function(e){if(13===e.tag){var t=ol(),n=al(e);sl(e,n,t),ql(e,n)}},it=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=er(i);if(!r)throw Error(a(90));J(i),ne(i,r)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Te=pl,Fe=function(e,t,n,i,r){var o=Cs;Cs|=4;try{return Rr(98,e.bind(null,t,n,i,r))}finally{0===(Cs=o)&&(Hs(),zr())}},Ne=function(){0==(49&Cs)&&(function(){if(null!==Js){var e=Js;Js=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cl(e,Ur())}))}zr()}(),kl())},Ie=function(e,t){var n=Cs;Cs|=2;try{return e(t)}finally{0===(Cs=n)&&(Hs(),zr())}};var tc={Events:[Zi,$i,er,Oe,Me,kl,{current:!1}]},nc={findFiberByHostInstance:Ji,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{vr=rc.inject(ic),br=rc}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=ec,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Cs;if(0!=(48&n))return e(t);Cs|=1;try{if(e)return Rr(99,e.bind(null,t))}finally{Cs=n,zr()}},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(a(200));return $l(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zl(t))throw Error(a(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){$l(null,null,e,!1,(function(){e._reactRootContainer=null,e[Gi]=null}))})),!0)},t.unstable_batchedUpdates=pl,t.unstable_createPortal=function(e,t){return ec(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $l(e,t,n,!1,i)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(19)},function(e,t,n){"use strict";
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i,r,o,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,d=null,h=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(t){throw setTimeout(e,0),t}};i=function(e){null!==u?setTimeout(i,0,e):(u=e,setTimeout(h,0))},r=function(e,t){d=setTimeout(e,t)},o=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var A=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof A&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,b=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();y=e+b;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(e){throw w.postMessage(null),e}}else m=!1},i=function(e){g=e,m||(m=!0,w.postMessage(null))},r=function(e,n){v=p((function(){e(t.unstable_now())}),n)},o=function(){f(v),v=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<E(r,t)))break e;e[i]=t,e[n]=r,n=i}}function j(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>E(a,n))void 0!==l&&0>E(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==l&&0>E(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var B=[],k=[],S=1,O=null,M=3,T=!1,F=!1,N=!1;function I(e){for(var t=j(k);null!==t;){if(null===t.callback)C(k);else{if(!(t.startTime<=e))break;C(k),t.sortIndex=t.expirationTime,_(B,t)}t=j(k)}}function L(e){if(N=!1,I(e),!F)if(null!==j(B))F=!0,i(D);else{var t=j(k);null!==t&&r(L,t.startTime-e)}}function D(e,n){F=!1,N&&(N=!1,o()),T=!0;var i=M;try{for(I(n),O=j(B);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=O.callback;if("function"==typeof a){O.callback=null,M=O.priorityLevel;var s=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?O.callback=s:O===j(B)&&C(B),I(n)}else C(B);O=j(B)}if(null!==O)var l=!0;else{var c=j(k);null!==c&&r(L,c.startTime-n),l=!1}return l}finally{O=null,M=i,T=!1}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){F||T||(F=!0,i(D))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return j(B)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:S++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,_(k,e),null===j(B)&&e===j(k)&&(N?o():N=!0,r(L,a-s))):(e.sortIndex=l,_(B,e),F||T||(F=!0,i(D))),e},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},function(e,t,n){"use strict";
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */n(6);var i=n(1),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;r=o("react.element"),t.Fragment=o("react.fragment")}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(22));function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a={nFrequencyBars:255,onAnalysed:null},s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.config=Object.assign({},a,n),this.audioContext=t,this.audioInput=null,this.realAudioInput=null,this.inputPoint=null,this.audioRecorder=null,this.rafID=null,this.analyserContext=null,this.recIndex=0,this.stream=null,this.updateAnalysers=this.updateAnalysers.bind(this)}return i(e,[{key:"init",value:function(e){var t=this;return new Promise((function(n){t.inputPoint=t.audioContext.createGain(),t.stream=e,t.realAudioInput=t.audioContext.createMediaStreamSource(e),t.audioInput=t.realAudioInput,t.audioInput.connect(t.inputPoint),t.analyserNode=t.audioContext.createAnalyser(),t.analyserNode.fftSize=2048,t.inputPoint.connect(t.analyserNode),t.audioRecorder=new r.default(t.inputPoint);var i=t.audioContext.createGain();i.gain.value=0,t.inputPoint.connect(i),i.connect(t.audioContext.destination),t.updateAnalysers(),n()}))}},{key:"start",value:function(){var e=this;return new Promise((function(t,n){e.audioRecorder?(e.audioRecorder.clear(),e.audioRecorder.record(),t(e.stream)):n("Not currently recording")}))}},{key:"stop",value:function(){var e=this;return new Promise((function(t){e.audioRecorder.stop(),e.audioRecorder.getBuffer((function(n){e.audioRecorder.exportWAV((function(e){return t({buffer:n,blob:e})}))}))}))}},{key:"updateAnalysers",value:function(){if(this.config.onAnalysed){requestAnimationFrame(this.updateAnalysers);var e=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(e);for(var t=new Array(255),n=0,i=void 0,r=0;r<255;r+=1)0!==(i=Math.floor(e[r])-Math.floor(e[r])%5)&&(n=r),t[r]=i;this.config.onAnalysed({data:t,lineTo:n})}}},{key:"setOnAnalysed",value:function(e){this.config.onAnalysed=e}}]),e}();s.download=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio";r.default.forceDownload(e,t+".wav")},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(23));var o={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},a=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=Object.assign({},o,n),this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},this.context=t.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(e){if(i.recording){for(var t=[],n=0;n<i.config.numChannels;n++)t.push(e.inputBuffer.getChannelData(n));i.worker.postMessage({command:"record",buffer:t})}},t.connect(this.node),this.node.connect(this.context.destination);this.worker=new r.default((function(){var e=0,t=[],n=void 0,i=void 0;function r(){for(var e=0;e<i;e++)t[e]=[]}function o(e,t){for(var n=new Float32Array(t),i=0,r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n}function a(e,t,n){for(var i=0;i<n.length;i+=1)e.setUint8(t+i,n.charCodeAt(i))}this.onmessage=function(s){switch(s.data.command){case"init":!function(e){n=e.sampleRate,i=e.numChannels,r()}(s.data.config);break;case"record":!function(n){for(var r=0;r<i;r++)t[r].push(n[r]);e+=n[0].length}(s.data.buffer);break;case"exportWAV":!function(r){for(var s=[],l=0;l<i;l++)s.push(o(t[l],e));var c=void 0;c=2===i?function(e,t){var n=e.length+t.length,i=new Float32Array(n),r=0,o=0;for(;r<n;)i[r++]=e[o],i[r++]=t[o],o++;return i}(s[0],s[1]):s[0];var u=(h=c,p=new ArrayBuffer(44+2*h.length),f=new DataView(p),a(f,0,"RIFF"),f.setUint32(4,36+2*h.length,!0),a(f,8,"WAVE"),a(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,i,!0),f.setUint32(24,n,!0),f.setUint32(28,4*n,!0),f.setUint16(32,2*i,!0),f.setUint16(34,16,!0),a(f,36,"data"),f.setUint32(40,2*h.length,!0),function(e,t,n){for(var i=0;i<n.length;i++,t+=2){var r=Math.max(-1,Math.min(1,n[i]));e.setInt16(t,r<0?32768*r:32767*r,!0)}}(f,44,h),f),d=new Blob([u],{type:r});var h,p,f;this.postMessage({command:"exportWAV",data:d})}(s.data.type);break;case"getBuffer":!function(){for(var n=[],r=0;r<i;r++)n.push(o(t[r],e));this.postMessage({command:"getBuffer",data:n})}();break;case"clear":e=0,t=[],r()}}}),{}),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(e){var t=i.callbacks[e.data.command].pop();"function"==typeof t&&t(e.data.data)}}return i(e,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(e){if(!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(e),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(e,t){if(t=t||this.config.mimeType,!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(e),this.worker.postMessage({command:"exportWAV",type:t})}}]),e}();a.forceDownload=function(e,t){var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var i=window.URL.createObjectURL(e);n.href=i,n.download=t,n.click(),window.URL.revokeObjectURL(i),document.body.removeChild(n)},t.default=a},function(e,t,n){(function(t){var n=!!(t===t.window&&t.URL&&t.Blob&&t.Worker);function i(e,i){var r,o=this;if(i=i||{},n)return r=e.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new t.Worker(t.URL.createObjectURL(new t.Blob([r],{type:"text/javascript"})));this.self=i,this.self.postMessage=function(e){setTimeout((function(){o.onmessage({data:e})}),0)},setTimeout(e.bind(i,i),0)}i.prototype.postMessage=function(e){var t=this;setTimeout((function(){t.self.onmessage({data:e})}),0)},e.exports=i}).call(this,n(7))},function(e,t,n){"use strict";
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var i,r,o,a=n(25),s=n(27).extname,l=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=l.exec(e),n=t&&a[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!c.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var i=t.charset(n);i&&(n+="; charset="+i.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=l.exec(e),i=n&&t.extensions[n[1].toLowerCase()];if(!i||!i.length)return!1;return i[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=s("x."+e).toLowerCase().substr(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),i=t.extensions,r=t.types,o=["nginx","apache",void 0,"iana"],Object.keys(a).forEach((function(e){var t=a[e],n=t.extensions;if(n&&n.length){i[e]=n;for(var s=0;s<n.length;s++){var l=n[s];if(r[l]){var c=o.indexOf(a[r[l]].source),u=o.indexOf(t.source);if("application/octet-stream"!==r[l]&&(c>u||c===u&&"application/"===r[l].substr(0,12)))continue}r[l]=e}}}))},function(e,t,n){
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */
e.exports=n(26)},function(e){e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(28))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function A(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=A,r.addListener=A,r.once=A,r.off=A,r.removeListener=A,r.removeAllListeners=A,r.emit=A,r.prependListener=A,r.prependOnceListener=A,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){},function(e,t,n){e.exports=function(){"use strict";var e,t,n=function(e){var t={},i=function e(t,n){return!(!t[n.type]||t[n.type]!=n)||!!t.parentNode&&e(t.parentNode,n)};return t.init=function(){var e=null;document.addEventListener("mousedown",(function(t){if(t.changedTouches&&t.changedTouches[0])var n=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY;else n=t.clientX,i=t.clientY;if(t.target&&t.target.shadowRoot)var r=t.target.shadowRoot;else r=document;e=r.elementFromPoint(n,i)})),document.addEventListener("click",(function(t){!function(e){if(n.current.length>0)for(var t=0;t<n.current.length;t++)n.current[t]&&!i(e,n.current[t])&&n.current[t].close()}(e)})),t.version="4.9.28"},t.setExtensions=function(e){if("object"==typeof e)for(var n=Object.keys(e),i=0;i<n.length;i++)t[n[i]]=e[n[i]]},t.tracking=function(e,t){if(1==t)n.current=n.current.filter((function(e){return null!==e})),setTimeout((function(){n.current.push(e)}),0);else{var i=n.current.indexOf(e);i>=0&&(n.current[i]=null)}},t.path=function(e,t){if((e=e.split(".")).length){for(var n=this,i=null;e.length>1;)if(i=e.shift(),n.hasOwnProperty(i))n=n[i];else{if(void 0===t)return;n[i]={},n=n[i]}if(i=e.shift(),void 0!==t)return n[i]=t,!0;if(n)return n[i]}return!1},t.setDictionary=function(e){if(0==(i=Object.keys(t.dictionary)).length)t.dictionary=e;else for(var i=Object.keys(e),r=0;r<i.length;r++)t.dictionary[i[r]]=e[i[r]];var o=null;for(r=0;r<n.calendar.weekdays.length;r++)o=n.translate(n.calendar.weekdays[r]),n.calendar.weekdays[r]&&(n.calendar.weekdays[r]=o,n.calendar.weekdaysShort[r]=o.substr(0,3));for(r=0;r<n.calendar.months.length;r++)(o=n.translate(n.calendar.months[r]))&&(n.calendar.months[r]=o,n.calendar.monthsShort[r]=o.substr(0,3))},t.dictionary={},t.translate=function(e){return t.dictionary[e]||e},t.current=[],t}();"undefined"!=typeof document&&n.init(),n.ajax=function(e,t){if(Array.isArray(e)){var i={instance:[],complete:t};if(e.length>0)for(var r=0;r<e.length;r++)e[r].multiple=i,i.instance.push(n.ajax(e[r]));return i}if(e.data||(e.data={}),e.type&&(e.method=e.type),e.method||(e.method="GET"),e.dataType||(e.dataType="json"),e.data){var o=function e(t,n){var i=[],r=Object.keys(t);if(r.length)for(var o=0;o<r.length;o++){if(n)var a=n+"["+r[o]+"]";else a=r[o];if(t[a]instanceof FileList)i[a]=t[r[o]];else if("object"==typeof t[r[o]])for(var s=e(t[r[o]],a),l=Object.keys(s),c=0;c<l.length;c++)i[l[c]]=s[l[c]];else i[a]=t[r[o]]}return i}(e.data),a=Object.keys(o);if("GET"==e.method){if(a.length){var s=[];for(r=0;r<a.length;r++)s.push(a[r]+"="+encodeURIComponent(o[a[r]]));e.url.indexOf("?")<0&&(e.url+="?"),e.url+=s.join("&")}}else for(s=new FormData,r=0;r<a.length;r++)if(o[a[r]]instanceof FileList){if(o[a[r]].length)for(var l=0;l<o[a[r]].length;l++)s.append(a[r],o[a[r]][l],o[a[r]][l].name)}else s.append(a[r],o[a[r]])}var c=new XMLHttpRequest;return c.open(e.method,e.url,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.contentType&&c.setRequestHeader("Content-Type",e.contentType),"POST"==e.method?c.setRequestHeader("Accept","application/json"):"blob"==e.dataType?c.responseType="blob":e.contentType||("json"==e.dataType?c.setRequestHeader("Content-Type","text/json"):"html"==e.dataType&&c.setRequestHeader("Content-Type","text/html")),1!=e.cache&&(c.setRequestHeader("pragma","no-cache"),c.setRequestHeader("cache-control","no-cache")),1==e.withCredentials&&(c.withCredentials=!0),"function"==typeof e.beforeSend&&e.beforeSend(c),c.onload=function(){if(200===c.status)if("json"==e.dataType)try{var t=JSON.parse(c.responseText);e.success&&"function"==typeof e.success&&e.success(t)}catch(n){e.error&&"function"==typeof e.error&&e.error(n,t)}else t="blob"==e.dataType?c.response:c.responseText,e.success&&"function"==typeof e.success&&e.success(t);else e.error&&"function"==typeof e.error&&e.error(c.responseText,c.status);if(n.ajax.queue&&n.ajax.queue.length>0&&n.ajax.send(n.ajax.queue.shift()),n.ajax.requests&&n.ajax.requests.length){var i=n.ajax.requests.indexOf(c);n.ajax.requests.splice(i,1),n.ajax.requests.length||e.complete&&"function"==typeof e.complete&&e.complete(t),e.group&&n.ajax.oncomplete&&"function"==typeof n.ajax.oncomplete[e.group]&&(n.ajax.pending(e.group)||(n.ajax.oncomplete[e.group](),n.ajax.oncomplete[e.group]=null)),e.multiple&&e.multiple.instance&&(i=e.multiple.instance.indexOf(c),e.multiple.instance.splice(i,1),e.multiple.instance.length||e.multiple.complete&&"function"==typeof e.multiple.complete&&e.multiple.complete(t))}},c.options=e,c.data=s,1==e.queue&&n.ajax.requests.length>0?n.ajax.queue.push(c):n.ajax.send(c),c},n.ajax.send=function(e){e.data?Array.isArray(e.data)?e.send(e.data.join("&")):e.send(e.data):e.send(),n.ajax.requests.push(e)},n.ajax.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},n.ajax.pending=function(e){var t=0,i=n.ajax.requests;if(i&&i.length)for(var r=0;r<i.length;r++)e&&e!=i[r].options.group||t++;return t},n.ajax.oncomplete={},n.ajax.requests=[],n.ajax.queue=[],n.alert=function(e){n.getWindowWidth()<800&&n.dialog?n.dialog.open({title:"Alert",message:e}):alert(e)},n.animation={},n.animation.slideLeft=function(e,t,n){1==t?(e.classList.add("slide-left-in"),setTimeout((function(){e.classList.remove("slide-left-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-left-out"),setTimeout((function(){e.classList.remove("slide-left-out"),"function"==typeof n&&n()}),400))},n.animation.slideRight=function(e,t,n){1==t?(e.classList.add("slide-right-in"),setTimeout((function(){e.classList.remove("slide-right-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-right-out"),setTimeout((function(){e.classList.remove("slide-right-out"),"function"==typeof n&&n()}),400))},n.animation.slideTop=function(e,t,n){1==t?(e.classList.add("slide-top-in"),setTimeout((function(){e.classList.remove("slide-top-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-top-out"),setTimeout((function(){e.classList.remove("slide-top-out"),"function"==typeof n&&n()}),400))},n.animation.slideBottom=function(e,t,n){1==t?(e.classList.add("slide-bottom-in"),setTimeout((function(){e.classList.remove("slide-bottom-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-bottom-out"),setTimeout((function(){e.classList.remove("slide-bottom-out"),"function"==typeof n&&n()}),100))},n.animation.fadeIn=function(e,t){e.style.display="",e.classList.add("fade-in"),setTimeout((function(){e.classList.remove("fade-in"),"function"==typeof t&&t()}),2e3)},n.animation.fadeOut=function(e,t){e.classList.add("fade-out"),setTimeout((function(){e.style.display="none",e.classList.remove("fade-out"),"function"==typeof t&&t()}),1e3)},n.calendar=function(e,t){if(e.calendar)return e.calendar.setOptions(t,!0);var i={type:"calendar",options:{},date:null,setOptions:function(t,r){for(var o={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:n.calendar.monthsShort,monthsFull:n.calendar.months,weekdays:n.calendar.weekdays,weekdays_short:n.calendar.weekdays,textDone:n.translate("Done"),textReset:n.translate("Reset"),textUpdate:n.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null},a=0;a<o.weekdays_short.length;a++)o.weekdays_short[a]=o.weekdays_short[a].substr(0,1);for(var s in o)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:void 0!==i.options[s]&&!0!==r||(i.options[s]=o[s]);if(0==i.options.resetButton?l.style.display="none":l.style.display="",i.options.readonly?e.setAttribute("readonly","readonly"):e.removeAttribute("readonly"),i.options.placeholder?e.setAttribute("placeholder",i.options.placeholder):e.removeAttribute("placeholder"),n.isNumeric(i.options.value)&&i.options.value>0&&(i.options.value=n.calendar.numToDate(i.options.value),i.options.dataType="numeric"),l.innerHTML=i.options.textReset,c.innerHTML=i.options.textDone,b.innerHTML=i.options.textUpdate,e.setAttribute("data-mask",i.options.format.toLowerCase()),!i.options.value&&i.options.today)var u=n.calendar.now();else u=i.options.value;return u&&(i.options.value=null,i.setValue(u)),i},open:function(t){if(!s.classList.contains("jcalendar-focus")&&!s.classList.contains("jcalendar-inline")){if(n.calendar.current=i,n.tracking(i,!0),i.getDays(),"year-month-picker"==i.options.type&&i.getMonths(),i.options.time&&(y.value=i.date[3],x.value=i.date[4]),s.classList.add("jcalendar-focus"),n.getWindowWidth()<800||i.options.fullscreen)s.classList.add("jcalendar-fullsize"),n.animation.slideBottom(d,1);else{s.classList.remove("jcalendar-fullsize");var r=e.getBoundingClientRect(),o=d.getBoundingClientRect();if(i.options.position)u.style.position="fixed",window.innerHeight<r.bottom+o.height?u.style.top=r.top-(o.height+2)+"px":u.style.top=r.top+r.height+2+"px",u.style.left=r.left+"px";else if(window.innerHeight<r.bottom+o.height?((a=-1*(r.height+o.height+2))+r.top<0&&(a=-1*(r.top+r.height)),u.style.top=a+"px"):u.style.top="2px",window.innerWidth<r.left+o.width){var a=window.innerWidth-(r.left+o.width+20);u.style.left=a+"px"}else u.style.left="0px"}"function"==typeof i.options.onopen&&i.options.onopen(e)}},close:function(t,r){if(s.classList.contains("jcalendar-focus")){if(!1!==r){var o=s.querySelector(".jcalendar-selected");if("string"==typeof r)var a=r;else a=!o||o.classList.contains("jcalendar-disabled")?i.options.value:i.getValue();i.setValue(a)}t||"function"!=typeof i.options.onclose||i.options.onclose(e),s.classList.remove("jcalendar-focus"),n.tracking(i,!1),n.calendar.current=null}return i.options.value},prev:function(){"years"==i.options.mode?(i.date[0]=i.date[0]-12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])-1,i.getMonths()):(i.date[1]<2?(i.date[0]=i.date[0]-1,i.date[1]=12):i.date[1]=i.date[1]-1,i.getDays())},next:function(){"years"==i.options.mode?(i.date[0]=parseInt(i.date[0])+12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])+1,i.getMonths()):(i.date[1]>11?(i.date[0]=parseInt(i.date[0])+1,i.date[1]=1):i.date[1]=parseInt(i.date[1])+1,i.getDays())},setToday:function(){var e=(new Date).toISOString().substr(0,10);return i.setValue(e),e},setValue:function(t){t||(t=""+t);var n=t,r=i.options.value;if(r!=n){if(n){i.setLabel(n,i.options),(a=n.split(" "))[1]||(a[1]="00:00:00");var o=a[1].split(":"),a=a[0].split("-"),s=parseInt(a[0]),l=parseInt(a[1]),c=parseInt(a[2]),u=parseInt(o[0]),d=parseInt(o[1]);i.date=[s,l,c,u,d,0],t=i.setLabel(n,i.options)}else{i.date=null;var t=""}i.options.value=n,"function"==typeof i.options.onchange&&i.options.onchange(e,n,r),e.value!=t&&(e.value=t,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value}))}i.getDays()},getValue:function(){return i.date?i.options.time?n.two(i.date[0])+"-"+n.two(i.date[1])+"-"+n.two(i.date[2])+" "+n.two(i.date[3])+":"+n.two(i.date[4])+":"+n.two(0):n.two(i.date[0])+"-"+n.two(i.date[1])+"-"+n.two(i.date[2])+" "+n.two(0)+":"+n.two(0)+":"+n.two(0):""},update:function(e,t){if(e.classList.contains("jcalendar-disabled"));else{var n=s.querySelector(".jcalendar-selected");n&&n.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected"),e.classList.contains("jcalendar-set-month")?i.date[1]=t:i.date[2]=e.innerText,i.options.time?(i.date[3]=y.value,i.date[4]=x.value):i.close()}a()},reset:function(){i.setValue(""),i.date=null,i.close(!1,!1)},getDays:function(){i.options.mode="days";var e=new Date,t=i.date&&n.isNumeric(i.date[0])?i.date[0]:parseInt(e.getFullYear()),r=i.date&&n.isNumeric(i.date[1])?i.date[1]:parseInt(e.getMonth())+1,o=i.date&&n.isNumeric(i.date[2])?i.date[2]:parseInt(e.getDate()),s=i.date&&n.isNumeric(i.date[3])?i.date[3]:parseInt(e.getHours()),l=i.date&&n.isNumeric(i.date[4])?i.date[4]:parseInt(e.getMinutes());i.date=[t,r,o,s,l,0],h.innerHTML=t,p.innerHTML=i.options.months[r-1];var c=e.getMonth()==r-1&&e.getFullYear()==t,u=e.getDate(),d=(e=new Date(t,r,0,0,0)).getDate(),f=(e=new Date(t,r-1,0,0,0)).getDay()+1;f-=v=i.options.startingDay||0,A.innerHTML="",(x=document.createElement("tr")).setAttribute("align","center"),A.appendChild(x);for(var m=0;m<7;m++)(_=document.createElement("td")).classList.add("jcalendar-weekday"),_.innerHTML=i.options.weekdays_short[v],x.appendChild(_),++v>6&&(v=0);for(var v=0,b=0,y=0;y<6;y++){var x;(x=document.createElement("tr")).setAttribute("align","center");var w=!0;for(m=0;m<7;m++){var _;if((_=document.createElement("td")).classList.add("jcalendar-set-day"),v>=f&&v<f+d){b++,_.innerHTML=b,b==o&&_.classList.add("jcalendar-selected"),c&&u==b&&(_.style.fontWeight="bold");var j=n.calendar.now(new Date(t,r-1,b),!0);if(i.options.validRange){if(!i.options.validRange[0]||j>=i.options.validRange[0])var C=!0;else C=!1;if(!i.options.validRange[1]||j<=i.options.validRange[1])var E=!0;else E=!1;C&&E||_.classList.add("jcalendar-disabled")}w=!1}x.appendChild(_),v++}0==w&&A.appendChild(x)}i.options.time?g.style.display="":g.style.display="none",a()},getMonths:function(){i.options.mode="months";var e=i.options.months,t=(i.options.value,new Date),r=parseInt(t.getFullYear()),o=parseInt(t.getMonth())+1,s=i.date&&n.isNumeric(i.date[0])?i.date[0]:r,l=i.date&&n.isNumeric(i.date[1])?i.date[1]:o;h.innerHTML=i.date[0],p.innerHTML=e[l-1];var c=document.createElement("table");c.setAttribute("width","100%");for(var u=null,d=0;d<12;d++){d%4||((u=document.createElement("tr")).setAttribute("align","center"),c.appendChild(u));var f=document.createElement("td");if(f.classList.add("jcalendar-set-month"),f.setAttribute("data-value",d+1),f.innerText=e[d],i.options.validRange){var m=s+"-"+n.two(d+1);if(!i.options.validRange[0]||m>=i.options.validRange[0].substr(0,7))var g=!0;else g=!1;if(!i.options.validRange[1]||m<=i.options.validRange[1].substr(0,7))var v=!0;else v=!1;g&&v||f.classList.add("jcalendar-disabled")}d+1==l&&f.classList.add("jcalendar-selected"),r==s&&d+1==o&&(f.style.fontWeight="bold"),u.appendChild(f)}A.innerHTML='<tr><td colspan="7"></td></tr>',A.children[0].children[0].appendChild(c),a()},getYears:function(){i.options.mode="years";for(var e=new Date,t=e.getFullYear(),r=i.date&&n.isNumeric(i.date[0])?i.date[0]:parseInt(e.getFullYear()),o=[],s=0;s<25;s++)o[s]=parseInt(i.date[0])+(s-12);var l=document.createElement("table");for(l.setAttribute("width","100%"),s=0;s<25;s++){if(!(s%5)){var c=document.createElement("tr");c.setAttribute("align","center"),l.appendChild(c)}var u=document.createElement("td");u.classList.add("jcalendar-set-year"),u.innerText=o[s],r==o[s]&&u.classList.add("jcalendar-selected"),t==o[s]&&(u.style.fontWeight="bold"),c.appendChild(u)}A.innerHTML='<tr><td colspan="7"></td></tr>',A.firstChild.firstChild.appendChild(l),a()},setLabel:function(e,t){return n.calendar.getDateString(e,t)},fromFormatted:function(e,t){return n.calendar.extractDateFromString(e,t)}},r=function(e){if(n.findElement(e.target,"jcalendar-container")){var t=e.target.className;if("jcalendar-prev"==t)i.prev();else if("jcalendar-next"==t)i.next();else if("jcalendar-month"==t)i.getMonths();else if("jcalendar-year"==t)i.getYears();else if("jcalendar-set-year"==t)i.date[0]=e.target.innerText,"year-month-picker"==i.options.type?i.getMonths():i.getDays();else if(e.target.classList.contains("jcalendar-set-month")){var r=parseInt(e.target.getAttribute("data-value"));"year-month-picker"==i.options.type?i.update(e.target,r):(i.date[1]=r,i.getDays())}else"jcalendar-confirm"==t||"jcalendar-update"==t||"jcalendar-close"==t?i.close():"jcalendar-backdrop"==t?i.close(!1,!1):"jcalendar-reset"==t?i.reset():e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&i.update(e.target)}else i.close()},o=function(e){if(e.target.value&&e.target.value.length>3){var t=n.calendar.extractDateFromString(e.target.value,i.options.format);t&&i.setValue(t)}},a=function(){var t=s.querySelector(".jcalendar-selected");t&&t.classList.contains("jcalendar-disabled")?(b.setAttribute("disabled","disabled"),y.setAttribute("disabled","disabled"),x.setAttribute("disabled","disabled")):(b.removeAttribute("disabled"),y.removeAttribute("disabled"),x.removeAttribute("disabled")),"function"==typeof i.options.onupdate&&i.options.onupdate(e,i.getValue())},s=null,l=null,c=null,u=null,d=null,h=null,p=null,f=null,A=null,m=null,g=null,v=null,b=null,y=null,x=null;return function(){"INPUT"==e.tagName&&e.value&&(t.value=e.value),(l=document.createElement("div")).className="jcalendar-reset",(c=document.createElement("div")).className="jcalendar-confirm",(m=document.createElement("div")).className="jcalendar-controls",m.style.borderBottom="1px solid #ddd",m.appendChild(l),m.appendChild(c),(u=document.createElement("div")).className="jcalendar-container",(d=document.createElement("div")).className="jcalendar-content",u.appendChild(d),"DIV"==e.tagName?(s=e).classList.add("jcalendar-inline"):(d.appendChild(m),(s=document.createElement("div")).className="jcalendar"),s.classList.add("jcalendar-container"),s.appendChild(u);var a=document.createElement("div");a.className="jcalendar-table",d.appendChild(a);var w=document.createElement("td");w.setAttribute("colspan","2"),w.className="jcalendar-prev",(h=document.createElement("span")).className="jcalendar-year",(p=document.createElement("span")).className="jcalendar-month";var _=document.createElement("td");_.className="jcalendar-header",_.setAttribute("colspan","3"),_.appendChild(p),_.appendChild(h);var j=document.createElement("td");j.setAttribute("colspan","2"),j.className="jcalendar-next";var C=document.createElement("thead"),E=document.createElement("tr");E.appendChild(w),E.appendChild(_),E.appendChild(j),C.appendChild(E),f=document.createElement("table"),A=document.createElement("tbody"),f.setAttribute("cellpadding","0"),f.setAttribute("cellspacing","0"),f.appendChild(C),f.appendChild(A),a.appendChild(f),(y=document.createElement("select")).className="jcalendar-select",y.onchange=function(){i.date[3]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(e,i.getValue())};for(var B=0;B<24;B++)(k=document.createElement("option")).value=B,k.innerHTML=n.two(B),y.appendChild(k);for((x=document.createElement("select")).className="jcalendar-select",x.onchange=function(){i.date[4]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(e,i.getValue())},B=0;B<60;B++){var k;(k=document.createElement("option")).value=B,k.innerHTML=n.two(B),x.appendChild(k)}var S=document.createElement("div");S.className="jcalendar-controls",(g=document.createElement("div")).className="jcalendar-time",g.style.maxWidth="140px",g.appendChild(y),g.appendChild(x),(b=document.createElement("button")).setAttribute("type","button"),b.className="jcalendar-update",(v=document.createElement("div")).style.flexGrow="10",v.appendChild(b),S.appendChild(g),"INPUT"==e.tagName&&S.appendChild(v),d.appendChild(S);var O=document.createElement("div");O.className="jcalendar-backdrop",s.appendChild(O),e.addEventListener("keyup",o),s.addEventListener("swipeleft",(function(e){n.animation.slideLeft(f,0,(function(){i.next(),n.animation.slideRight(f,1)})),e.preventDefault(),e.stopPropagation()})),s.addEventListener("swiperight",(function(e){n.animation.slideRight(f,0,(function(){i.prev(),n.animation.slideLeft(f,1)})),e.preventDefault(),e.stopPropagation()})),e.onmouseup=function(){i.open()},"ontouchend"in document.documentElement==1?s.addEventListener("touchend",r):s.addEventListener("mouseup",r),n.calendar.hasEvents||(n.calendar.hasEvents=!0,document.addEventListener("keydown",n.calendar.keydown)),i.setOptions(t),"INPUT"==e.tagName?(e.parentNode.insertBefore(s,e.nextSibling),e.setAttribute("autocomplete","off"),e.classList.add("jcalendar-input"),e.value=i.setLabel(i.getValue(),i.options)):(i.getDays(),i.options.time&&(y.value=i.date[3],x.value=i.date[4])),1==i.options.opened&&i.open(),e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},e.calendar=s.calendar=i}(),i},n.calendar.keydown=function(e){var t=null;(t=n.calendar.current)&&(13==e.which?t.close(!1,!0):27==e.which&&t.close(!1,!1))},n.calendar.prettify=function(e,t){t||(t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"});var n=new Date,i=new Date(e),r=parseInt((n-i)/1e3/60);if(String.prototype.format=function(e){return this.replace("{0}",e)},0==r)var o=t.justNow;else o=r<90?t.xMinutesAgo.format(r):r<1440?t.xHoursAgo.format(Math.round(r/60)):r<20160?t.xDaysAgo.format(Math.round(r/1440)):r<43200?t.xWeeksAgo.format(Math.round(r/10080)):r<1036800?t.xMonthsAgo.format(Math.round(r/43200)):t.xYearsAgo.format(Math.round(r/525600));return o},n.calendar.prettifyAll=function(){for(var e=document.querySelectorAll(".prettydate"),t=0;t<e.length;t++)e[t].getAttribute("data-date")?e[t].innerHTML=n.calendar.prettify(e[t].getAttribute("data-date")):e[t].innerHTML&&(e[t].setAttribute("data-date",e[t].innerHTML),e[t].innerHTML=n.calendar.prettify(e[t].innerHTML))},n.calendar.now=function(e,t){if(Array.isArray(e))var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5];else e||(e=new Date),i=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),a=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return 1==t?n.two(i)+"-"+n.two(r)+"-"+n.two(o):n.two(i)+"-"+n.two(r)+"-"+n.two(o)+" "+n.two(a)+":"+n.two(s)+":"+n.two(l)},n.calendar.toArray=function(e){var t=(n=e.split(-1!==e.indexOf("T")?"T":" "))[1],n=n[0].split("-"),i=parseInt(n[0]),r=parseInt(n[1]),o=parseInt(n[2]);if(t){t=t.split(":");var a=parseInt(t[0]),s=parseInt(t[1])}else a=0,s=0;return[i,r,o,a,s,0]},n.calendar.extractDateFromString=function(e,t){if(e>0&&Number(e)==e){var i=new Date(Math.round(86400*(e-25569)*1e3));return i.getFullYear()+"-"+n.two(i.getMonth())+"-"+n.two(i.getDate())+" 00:00:00"}var r=n.mask(e,{mask:t},!0);return r.date[0]&&r.date[1]?(r.date[2]||(r.date[2]=1),r.date[0]+"-"+n.two(r.date[1])+"-"+n.two(r.date[2])+" "+n.two(r.date[3])+":"+n.two(r.date[4])+":"+n.two(r.date[5])):""},n.calendar.dateToNum=function(e,t){e=new Date(e),t||(t="1899-12-30 "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()),t=new Date(t);var n=e.getTime()-t.getTime();return Math.round(n/864e5)},n.calendar.numToDate=function(e){var t=new Date(Math.round(86400*(e-25569)*1e3));return t.getFullYear()+"-"+n.two(t.getMonth()+1)+"-"+n.two(t.getDate())+" 00:00:00"},n.calendar.getDateString=function(e,t){if(t||(t={}),t&&"object"==typeof t)var i=t.format;else i=t;if(i||(i="YYYY-MM-DD"),"number"==typeof e&&i.indexOf("[h]")>=0){var r=parseFloat(24*Number(e));if(i.indexOf("mm")>=0){if((d=(""+r).split("."))[1]){var o=60*parseFloat("0."+d[1]);o=parseFloat(o.toFixed(2))}else o=0;r=parseInt(d[0])+":"+n.two(o)}return r}e instanceof Date?e=n.calendar.now(e):e&&n.isNumeric(e)&&(e=n.calendar.numToDate(e));for(var a=new RegExp(["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."].join("|"),"gi"),s=i.match(a),l=0;l<s.length;l++)"MM"==s[l].toUpperCase()&&(s[l-1]&&s[l-1].toUpperCase().indexOf("H")>=0||s[l-2]&&s[l-2].toUpperCase().indexOf("H")>=0||s[l+1]&&s[l+1].toUpperCase().indexOf("S")>=0||s[l+2]&&s[l+2].toUpperCase().indexOf("S")>=0)&&(s[l]="mi");var c={tokens:s};if(e){var u=-1!==(o=""+e).indexOf("T")?"T":" ",d=0,h=0,p=0;if((o=o.split(u))[1]&&(h=(d=o[1].split(":"))[1]?d[1]:0,p=d[2]?d[2]:0,d=d[0]?d[0]:0),(o=o[0].split("-"))[0]&&o[1]&&o[2]&&o[0]>0&&o[1]>0&&o[1]<13&&o[2]>0&&o[2]<32){c.data=[o[0],o[1],o[2],d,h,p],c.value=[];var f=new Date(c.data[0],c.data[1]-1,c.data[2],c.data[3],c.data[4],c.data[5]),A=function(e){var t=this.tokens[e],i=t.toUpperCase(),r=null;"YYYY"===i?r=this.data[0]:"YYY"===i?r=this.data[0].substring(1,4):"YY"===i?r=this.data[0].substring(2,4):"Y"===i?r=this.data[0].substring(3,4):"MON"===t?r=n.calendar.months[f.getMonth()].substr(0,3).toUpperCase():"mon"===t?r=n.calendar.months[f.getMonth()].substr(0,3).toLowerCase():"MONTH"===t?r=n.calendar.months[f.getMonth()].toUpperCase():"month"===t?r=n.calendar.months[f.getMonth()].toLowerCase():"MMMMM"===i?r=n.calendar.months[f.getMonth()].substr(0,1):"MMMM"===i||"Month"===t?r=n.calendar.months[f.getMonth()]:"MMM"===i||"Mon"==t?r=n.calendar.months[f.getMonth()].substr(0,3):"MM"===i?r=n.two(this.data[1]):"M"===i?r=f.getMonth()+1:"DAY"===t?r=n.calendar.weekdays[f.getDay()].toUpperCase():"day"===t?r=n.calendar.weekdays[f.getDay()].toLowerCase():"DDDD"===i||"Day"==t?r=n.calendar.weekdays[f.getDay()]:"DDD"===i?r=n.calendar.weekdays[f.getDay()].substr(0,3):"DD"===i?r=n.two(this.data[2]):"D"===i?r=this.data[2]:"Q"===i?r=Math.floor((f.getMonth()+3)/3):"HH24"===i||"HH"===i?r=n.two(this.data[3]):"HH12"===i?r=this.data[3]>12?n.two(this.data[3]-12):n.two(this.data[3]):"H"===i?r=this.data[3]:"MI"===i?r=n.two(this.data[4]):"SS"===i?r=n.two(this.data[5]):"MS"===i?r=f.getMilliseconds():"AM/PM"===i?r=this.data[3]>=12?"PM":"AM":"WD"===i&&(r=n.calendar.weekdays[f.getDay()]),this.value[e]=null===r?this.tokens[e]:r};for(l=0;l<c.tokens.length;l++)A.call(c,l);e=c.value.join("")}else e=""}return e},n.calendar.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n.calendar.months=["January","February","March","April","May","June","July","August","September","October","November","December"],n.calendar.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n.calendar.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n.color=function(e,t){if(e.color)return e.color.setOptions(t,!0);var i={type:"color",options:{}},r=null,o=null,a=null,s=null,l=null,c=null,u=null;i.setOptions=function(t,r){var o={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(var a in t||(t={}),t&&!t.palette&&(t.palette=n.palette()),o)t&&t.hasOwnProperty(a)?i.options[a]=t[a]:void 0!==i.options[a]&&!0!==r||(i.options[a]=o[a]);return s&&(s.innerHTML=i.options.resetLabel),l&&(l.innerHTML=i.options.doneLabel),i.options.palette&&u&&u.updateContent(0,m()),"string"==typeof i.options.value&&(e.value=i.options.value),i.options.placeholder?e.setAttribute("placeholder",i.options.placeholder):e.getAttribute("placeholder")&&e.removeAttribute("placeholder"),i},i.open=function(){if(!r.classList.contains("jcolor-focus")){n.tracking(i,!0),r.classList.add("jcolor-focus");var t=a.getBoundingClientRect();if(n.getWindowWidth()<800||1==i.options.fullscreen)a.style.top="",a.classList.add("jcolor-fullscreen"),n.animation.slideBottom(a,1),o.style.display="block";else{a.classList.contains("jcolor-fullscreen")&&(a.classList.remove("jcolor-fullscreen"),o.style.display="");var s=e.getBoundingClientRect();i.options.position?(a.style.position="fixed",window.innerHeight<s.bottom+t.height?a.style.top=s.top-(t.height+2)+"px":a.style.top=s.top+s.height+2+"px",a.style.left=s.left+"px"):window.innerHeight<s.bottom+t.height?a.style.top=-1*(t.height+s.height+2)+"px":a.style.top="2px"}if("function"==typeof i.options.onopen&&i.options.onopen(e),u.setBorder(u.getActive()),i.options.value){var l=A(i.options.value);_.forEach((function(e,t){e.value=l[t],e.dispatchEvent(new Event("input"))}))}}},i.close=function(t){return r.classList.contains("jcolor-focus")&&(r.classList.remove("jcolor-focus"),o.style.display="",t||"function"!=typeof i.options.onclose||i.options.onclose(e),n.tracking(i,!1)),i.options.value},i.setValue=function(t){if(t||(t=""),t!=i.options.value){i.options.value=t,w=t;var n=r.querySelector(".jcolor-selected");n&&n.classList.remove("jcolor-selected"),i.values[t]&&i.values[t].classList.add("jcolor-selected"),"function"==typeof i.options.onchange&&i.options.onchange(e,t),e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value})),1==i.options.closeOnChange&&i.close()}},i.getValue=function(){return i.options.value};var d=!1,h=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},p=function(e,t,n){return"#"+h(e)+h(t)+h(n)},f=function(e){return parseInt("0x"+e)},A=function(e){return[f(e.substr(1,2)),f(e.substr(3,2)),f(e.substr(5,2))]},m=function(){var e=document.createElement("div");e.className="jcolor-grid",i.values=[];var t=document.createElement("table");t.setAttribute("cellpadding","7"),t.setAttribute("cellspacing","0");for(var n=0;n<i.options.palette.length;n++){for(var r=document.createElement("tr"),o=0;o<i.options.palette[n].length;o++){var a=document.createElement("td"),s=i.options.palette[n][o];s.length<7&&"#"!==s.substr(0,1)&&(s="#"+s),a.style.backgroundColor=s,a.setAttribute("data-value",s),a.innerHTML="",r.appendChild(a),i.options.value==s&&a.classList.add("jcolor-selected"),i.values[s]=a}t.appendChild(r)}return e.appendChild(t),e.addEventListener("mousedown",(function(e){if("TD"==e.target.tagName){var t=e.target.getAttribute("data-value");t&&i.setValue(t)}})),e},g=document.createElement("canvas");g.width=200,g.height=160;var v=g.getContext("2d"),b=function(){var e=c.firstChild.getBoundingClientRect();g.width=e.width-14,y()},y=function(){var e=v.createLinearGradient(0,0,g.width,0);e.addColorStop(0,"rgb(255,0,0)"),e.addColorStop(.15,"rgb(255,0,255)"),e.addColorStop(.33,"rgb(0,0,255)"),e.addColorStop(.49,"rgb(0,255,255)"),e.addColorStop(.67,"rgb(0,255,0)"),e.addColorStop(.84,"rgb(255,255,0)"),e.addColorStop(1,"rgb(255,0,0)"),v.fillStyle=e,v.fillRect(0,0,g.width,g.height),(e=v.createLinearGradient(0,0,0,g.height)).addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(.5,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),v.fillStyle=e,v.fillRect(0,0,g.width,g.height)},x=function(){var e=document.createElement("div");e.className="jcolor-hsl";var t=document.createElement("div");t.className="jcolor-point";var n=document.createElement("div");n.appendChild(g),n.appendChild(t),e.appendChild(n);var i=function(n,i,r){if(1===n){var o=e.getBoundingClientRect(),a=i-o.left,s=r-o.top;a<0&&(a=0),s<0&&(s=0),a>o.width&&(a=o.width),s>o.height&&(s=o.height),t.style.left=a+"px",t.style.top=s+"px";var l=v.getImageData(a,s,1,1).data;w=p(l[0],l[1],l[2])}};return e.addEventListener("mousedown",(function(e){i(e.buttons,e.clientX,e.clientY)})),e.addEventListener("mousemove",(function(e){i(e.buttons,e.clientX,e.clientY)})),e.addEventListener("touchmove",(function(e){i(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)})),e},w="",_=[],j=function(){var e=document.createElement("div");e.className="jcolor-sliders";var t=document.createElement("div"),n=function(e){var n=document.createElement("div");n.className="jcolor-sliders-input-container";var i=document.createElement("label");i.innerText=e;var r=document.createElement("div");r.className="jcolor-sliders-input-subcontainer";var o=document.createElement("input");o.type="range",o.min=0,o.max=255,o.value=0,n.appendChild(i),r.appendChild(o);var a=document.createElement("div");return a.innerText=o.value,o.addEventListener("input",(function(){a.innerText=o.value})),r.appendChild(a),n.appendChild(r),t.appendChild(n),o};_=[n("Red"),n("Green"),n("Blue")],e.appendChild(t);var i=document.createElement("div");i.className="jcolor-sliders-final-color";var r=document.createElement("div");return r.style.visibility="hidden",r.innerText="a",i.appendChild(r),_.forEach((function(e){e.addEventListener("input",(function(){var e;e=p(parseInt(_[0].value),parseInt(_[1].value),parseInt(_[2].value)),r.innerText=e,r.style.color=e,r.style.removeProperty("visibility"),w=e,function(){if(""!==w)for(var e=0;e<_.length;e++){var t=A(w);t[e]=0;var n="linear-gradient(90deg, rgb(";n+=t.join(", "),n+="), rgb(",t[e]=255,n+=t.join(", "),n+="))",_[e].style.backgroundImage=n}}()}))})),e.appendChild(i),e};return function(){i.setOptions(t),"INPUT"==e.tagName&&(e.classList.add("jcolor-input"),e.readOnly=!0),(r=document.createElement("div")).className="jcolor",(o=document.createElement("div")).className="jcolor-backdrop",r.appendChild(o),(a=document.createElement("div")).className="jcolor-content";var h=document.createElement("div");h.className="jcolor-controls",a.appendChild(h),(s=document.createElement("div")).className="jcolor-reset",s.innerHTML=i.options.resetLabel,s.onclick=function(e){i.setValue(""),i.close()},h.appendChild(s),(l=document.createElement("div")).className="jcolor-close",l.innerHTML=i.options.doneLabel,l.onclick=function(e){u.getActive()>0&&i.setValue(w),i.close()},h.appendChild(l),c=document.createElement("div"),a.appendChild(c),u=n.tabs(c,{animation:!0,data:[{title:"Grid",contentElement:m()},{title:"Spectrum",contentElement:x()},{title:"Sliders",contentElement:j()}],onchange:function(e,t,n){if(1===n)b();else{var r=""!==w?w:i.getValue();if(2===n&&r){var o=A(r);_.forEach((function(e,t){e.value=o[t],e.dispatchEvent(new Event("input"))}))}}},palette:"modern"}),r.appendChild(a),"INPUT"==e.tagName?e.parentNode.insertBefore(r,e.nextSibling):e.appendChild(r),e.addEventListener("mouseup",(function(e){i.open()})),o.addEventListener("mousedown",(function(e){d=!0})),o.addEventListener("mouseup",(function(e){d&&(i.close(),d=!1)})),window.addEventListener("resize",(function(){r.classList.contains("jcolor-focus")&&1==u.getActive()&&b()})),1==i.options.opened&&i.open(),e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},e.color=i,r.color=i}(),i},n.contextmenu=function(e,t){var i={options:{}},r={items:null,onclick:null};for(var o in r)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:i.options[o]=r[o];function a(e){if(!e.type||"line"!=e.type&&"divisor"!=e.type){c=document.createElement("div");var t=document.createElement("a");if(t.innerHTML=e.title,e.tooltip&&c.setAttribute("title",e.tooltip),e.icon&&c.setAttribute("data-icon",e.icon),e.id&&(c.id=e.id),e.disabled?c.className="jcontextmenu-disabled":e.onclick&&(c.method=e.onclick,c.addEventListener("mousedown",(function(e){e.preventDefault()})),c.addEventListener("mouseup",(function(e){this.method(this,e)}))),c.appendChild(t),e.submenu){var n=document.createElement("span");n.innerHTML="&#9658;",c.appendChild(n),c.classList.add("jcontexthassubmenu");var i=document.createElement("div");i.classList.add("jcontextmenu"),i.setAttribute("tabindex","900");for(var r=e.submenu,o=0;o<r.length;o++){var s=a(r[o]);i.appendChild(s)}c.appendChild(i)}else if(e.shortcut){var l=document.createElement("span");l.innerHTML=e.shortcut,c.appendChild(l)}}else var c=document.createElement("hr");return c}return e.classList.add("jcontextmenu"),e.setAttribute("tabindex","900"),i.open=function(t,n){if(n&&(i.options.items=n,i.create(n)),i.options.items&&i.options.items.length>0||e.children.length){if(t.target)var r=t.clientX,o=t.clientY;else r=t.x,o=t.y;e.classList.add("jcontextmenu-focus"),e.focus();var a=e.getBoundingClientRect();if(window.innerHeight<o+a.height){var s=o-a.height;s<0&&(s=0),e.style.top=s+"px"}else e.style.top=o+"px";window.innerWidth<r+a.width?r-a.width>0?e.style.left=r-a.width+"px":e.style.left="10px":e.style.left=r+"px"}},i.close=function(){e.classList.contains("jcontextmenu-focus")&&e.classList.remove("jcontextmenu-focus")},i.create=function(t){e.innerHTML="";var r=function(){var e=document.createElement("div");e.classList.add("header"),e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}));var t=document.createElement("a");t.classList.add("title"),t.innerHTML=n.translate("Menu"),e.appendChild(t);var r=document.createElement("a");return r.classList.add("close"),r.innerHTML=n.translate("close"),r.addEventListener("click",(function(e){i.close()})),e.appendChild(r),e}();e.appendChild(r);for(var o=0;o<t.length;o++){var s=a(t[o]);e.appendChild(s)}},"function"==typeof i.options.onclick&&e.addEventListener("click",(function(e){i.options.onclick(i,e)})),i.options.items&&i.create(i.options.items),e.addEventListener("blur",(function(e){i.close()})),n.contextmenu.hasEvents||(window.addEventListener("mousewheel",(function(){i.close()})),document.addEventListener("contextmenu",(function(e){var t=n.contextmenu.getElement(e.target);if(t){var i=document.querySelector("#"+t);i?(i.contextmenu.open(e),e.preventDefault()):console.error("JSUITES: Contextmenu id not found")}})),n.contextmenu.hasEvents=!0),e.contextmenu=i,i},n.contextmenu.getElement=function(e){var t=0;return function e(n){n.parentNode&&n.getAttribute("aria-contextmenu-id")?t=n.getAttribute("aria-contextmenu-id"):n.parentNode&&e(n.parentNode)}(e),t},n.dropdown=function(e,t){if(e.dropdown)return e.dropdown.setOptions(t,!0);var i={type:"dropdown",options:{}},r=function(t,n){t&&t.length&&(!1!==i.options.sortResults&&("function"==typeof i.options.sortResults?t.sort(i.options.sortResults):t.sort(o)),i.setData(t),"function"==typeof i.options.onload&&i.options.onload(e,i,t,n)),n&&s(n),null==n&&(i.options.value=""),e.value=i.options.value,1==i.options.opened&&i.open()},o=function(e,t){var n,i;return"string"==typeof e?n=e:e.text?n=e.text:e.name&&(n=e.name),"string"==typeof t?i=t:t.text?i=t.text:t.name&&(i=t.name),"string"==typeof n||"string"==typeof i?("string"!=typeof n&&(n=""+n),"string"!=typeof i&&(i=""+i),n.localeCompare(i)):n-i},a=function(){i.value={};for(var e=0;e<i.items.length;e++)1==i.items[e].selected&&(i.items[e].element&&i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=null);i.options.value=""},s=function(e){if(a(),null!==e)if(e){Array.isArray(e)||(e=(""+e).split(";"));for(var t=0;t<e.length;t++)i.value[e[t]]=""}else void 0!==i.value[""]&&(i.value[""]="");for(t=0;t<i.items.length;t++)void 0!==i.value[l(t)]&&(i.items[t].element&&i.items[t].element.classList.add("jdropdown-selected"),i.items[t].selected=!0,i.value[l(t)]=c(t));i.options.value=Object.keys(i.value).join(";"),i.header.value=i.getText()},l=function(e,t){if(i.options.format)n="id";else var n="value";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},c=function(e,t){if(i.options.format)n="name";else var n="text";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},u=function(){return Object.keys(i.value)},d=function(){for(var e=[],t=Object.keys(i.value),n=0;n<t.length;n++)e.push(i.value[t[n]]);return e};i.setOptions=function(t,o){t||(t={});var a={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,sortResults:!1,autofocus:!1};for(var s in a)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:void 0!==i.options[s]&&!0!==o||(i.options[s]=a[s]);return 1!=i.options.remoteSearch&&"searchbar"!==i.options.type||(i.options.autocomplete=!0),1==i.options.newOptions?i.header.classList.add("jdropdown-add"):i.header.classList.remove("jdropdown-add"),1==i.options.autocomplete?i.header.removeAttribute("readonly"):i.header.setAttribute("readonly","readonly"),i.options.placeholder?i.header.setAttribute("placeholder",i.options.placeholder):i.header.removeAttribute("placeholder"),e.classList.remove("jdropdown-searchbar"),e.classList.remove("jdropdown-picker"),e.classList.remove("jdropdown-list"),"searchbar"==i.options.type?e.classList.add("jdropdown-searchbar"):"list"==i.options.type?e.classList.add("jdropdown-list"):"picker"==i.options.type?e.classList.add("jdropdown-picker"):n.getWindowWidth()<800?i.options.autocomplete?(e.classList.add("jdropdown-searchbar"),i.options.type="searchbar"):(e.classList.add("jdropdown-picker"),i.options.type="picker"):(i.options.width?(e.style.width=i.options.width,e.style.minWidth=i.options.width):(e.style.removeProperty("width"),e.style.removeProperty("min-width")),e.classList.add("jdropdown-default"),i.options.type="default"),"searchbar"==i.options.type?h.appendChild(A):p.insertBefore(A,p.firstChild),i.options.url&&!t.data?n.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){e&&r(e,i.options.value)}}):r(i.options.data,i.options.value),i};var h=null,p=null,f=null,A=null,m=null,g=null,v=null;i.getUrl=function(){return i.options.url},i.setUrl=function(e,t){i.options.url=e,n.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){i.setData(e),"function"==typeof t&&t(i)}})},i.setId=function(e,t){if(i.options.format)n="id";else var n="value";"object"==typeof e?e[n]=t:i.items[e].data[n]=t},i.add=function(e,t){if(!e){var r=1==i.options.autocomplete?i.header.value:"";if(!(e=prompt(n.translate("Add A New Option"),r)))return!1}if(t||(t=n.guid()),i.options.format)o={id:t,name:e};else var o={value:t,text:e};if("function"==typeof i.options.onbeforeinsert){var a=i.options.onbeforeinsert(i,o);if(!1===a)return!1;a&&(o=a)}i.options.data.push(o);var s=i.createItem(o);return f.appendChild(s.element),"function"==typeof i.options.oninsert&&i.options.oninsert(i,o,s),"none"==f.style.display&&(f.style.display=""),i.results&&i.results.push(s),o},i.createItem=function(e,t,n){i.options.format?(e.id||void 0===e.value||(e.id=e.value),e.name||void 0===e.text||(e.name=e.text)):(e.value||void 0===e.id||(e.value=e.id),e.text||void 0===e.name||(e.text=e.name));var r={};if(r.element=document.createElement("div"),r.element.className="jdropdown-item",r.element.indexValue=i.items.length,r.data=e,t&&(r.group=t),e.id&&r.element.setAttribute("id",e.id),1==e.disabled&&r.element.setAttribute("data-disabled",!0),e.tooltip&&r.element.setAttribute("title",e.tooltip),e.image){var o=document.createElement("img");o.className="jdropdown-image",o.src=e.image,e.title||o.classList.add("jdropdown-image-small"),r.element.appendChild(o)}else if(e.icon){var a=document.createElement("span");a.className="jdropdown-icon material-icons",a.innerText=e.icon,e.title||a.classList.add("jdropdown-icon-small"),e.color&&(a.style.color=e.color),r.element.appendChild(a)}else if(e.color){var s=document.createElement("div");s.className="jdropdown-color",s.style.backgroundColor=e.color,r.element.appendChild(s)}if(i.options.format)l=e.name;else var l=e.text;var c=document.createElement("div");if(c.className="jdropdown-description",c.innerHTML=l||"&nbsp;",e.title){var u=document.createElement("div");u.className="jdropdown-title",u.innerText=e.title,c.appendChild(u)}if(i.options.format)d=e.id;else var d=e.value;return i.value[d]&&(r.element.classList.add("jdropdown-selected"),r.selected=!0),i.items.push(r),r.element.appendChild(c),r},i.appendData=function(e){if(e.length){for(var t=[],n=[],r=0;r<e.length;r++)e[r].group?(n[e[r].group]||(n[e[r].group]=[]),n[e[r].group].push(r)):t.push(r);var o=0,a=Object.keys(n);if(a.length>0)for(r=0;r<a.length;r++){var s=document.createElement("div");s.className="jdropdown-group";var l=document.createElement("div");l.className="jdropdown-group-name",l.innerHTML=a[r];var c=document.createElement("i");c.className="jdropdown-group-arrow jdropdown-group-arrow-down",l.appendChild(c);var u=document.createElement("div");u.className="jdropdown-group-items";for(var d=0;d<n[a[r]].length;d++){var h=i.createItem(e[n[a[r]][d]],s,a[r]);(0==i.options.lazyLoading||o<200)&&(u.appendChild(h.element),o++)}s.appendChild(l),s.appendChild(u),i.groups.push(s),u.children.length>0&&f.appendChild(s)}if(t.length)for(r=0;r<t.length;r++)h=i.createItem(e[t[r]]),(0==i.options.lazyLoading||o<200)&&(f.appendChild(h.element),o++)}},i.setData=function(e){if(e.length){for(var t=0;t<e.length;t++)"object"!=typeof e[t]&&(i.options.format?e[t]={id:e[t],name:e[t]}:e[t]={value:e[t],text:e[t]});a(),f.innerHTML="",i.header.value="",i.items=[],i.appendData(e),i.options.data=e}},i.getData=function(){return i.options.data},i.getPosition=function(e){for(var t=0;t<i.items.length;t++)if(l(t)==e)return t;return!1},i.getText=function(e){var t=d();return e?t:t.join("; ")},i.getValue=function(e){var t=u();return e?t:t.join(";")};var b=function(t){"function"==typeof i.options.onchange&&i.options.onchange(e,i,t,i.options.value),e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value}))};i.setValue=function(e){var t=i.getValue();Array.isArray(e)&&(e=e.join(";")),t!==e&&(s(e),b(t))},i.resetSelected=function(){i.setValue(null)},i.selectIndex=function(e,t){if(e=parseInt(e),i.items&&i.items[e]&&(!0===t||!0!==i.items[e].data.disabled))if(i.setCursor(e,!1),i.options.multiple){var n=i.options.value;i.items[e].selected?(i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=!1,delete i.value[l(e)]):(i.items[e].element.classList.add("jdropdown-selected"),i.items[e].selected=!0,i.value[l(e)]=c(e)),i.options.value=Object.keys(i.value).join(";"),0==i.options.autocomplete&&(i.header.value=d().join("; ")),b(n)}else i.items[e].selected?i.setValue(null):i.setValue(l(e)),i.close()},i.selectItem=function(e){i.selectIndex(e.indexValue)};var y=function(e,t){for(var n=0;n<t.length;n++)if(i.options.format){if(t[n].id==e)return!0}else if(t[n].value==e)return!0;return!1};return i.find=function(e){if(i.search==e.trim())return!1;if(i.search=e,i.setCursor(),i.groups.length)for(var t=0;t<i.groups.length;t++)i.groups[t].lastChild.innerHTML="";if(f.innerHTML="",1==i.options.remoteSearch){i.results=null;var r=i.options.url+(i.options.url.indexOf("?")>0?"&":"?")+"q="+e;n.ajax({url:r,method:"GET",dataType:"json",success:function(e){i.items=[];var t=Object.keys(i.value);if(t.length)for(var n=0;n<t.length;n++)y(t[n],e)||(i.options.format?e.unshift({id:t[n],name:i.value[t[n]]}):e.unshift({value:t[n],text:i.value[t[n]]}));i.appendData(e),e.length?f.style.display="":f.style.display="none"}})}else{e=new RegExp(e,"gi");var o=[];for(t=0;t<i.items.length;t++){var a=c(t),s=i.items[t].data.title||"",l=i.items[t].data.group||"",u=i.items[t].data.synonym||"";u&&(u=u.join(" ")),(null==e||1==i.items[t].selected||a.match(e)||s.match(e)||l.match(e)||u.match(e))&&o.push(i.items[t])}if(o.length){f.style.display="",i.results=o;var d=o.length||0;for(1==i.options.lazyLoading&&d>200&&(d=200),t=0;t<d;t++)i.results[t].group?(i.results[t].group.parentNode||f.appendChild(i.results[t].group),i.results[t].group.lastChild.appendChild(i.results[t].element)):f.appendChild(i.results[t].element)}else f.style.display="none",i.results=null}1==i.options.autofocus&&i.first()},i.open=function(){if(!e.classList.contains("jdropdown-focus")){n.dropdown.current=i,n.tracking(i,!0),e.classList.add("jdropdown-focus"),n.getWindowWidth()<800&&(null!=i.options.type&&"picker"!=i.options.type||n.animation.slideBottom(p,1)),1==i.options.autocomplete&&(i.header.value=i.search,i.header.focus());var t=u();if(t[0]){var r=i.getPosition(t[0]);!1!==r&&i.setCursor(r)}if(!i.options.type||"default"==i.options.type){var o=e.getBoundingClientRect(),a=p.getBoundingClientRect();i.options.position?(p.style.position="fixed",window.innerHeight<o.bottom+a.height?(p.style.top="",p.style.bottom=window.innerHeight-o.top+1+"px"):(p.style.top=o.bottom+"px",p.style.bottom=""),p.style.left=o.left+"px"):window.innerHeight<o.bottom+a.height?(p.style.top="",p.style.bottom=o.height+1+"px"):(p.style.top="",p.style.bottom=""),p.style.minWidth=o.width+"px",i.options.maxWidth&&(p.style.maxWidth=i.options.maxWidth),i.items.length||1!=i.options.autocomplete?f.style.display="":f.style.display="none"}}"function"==typeof i.options.onopen&&i.options.onopen(e)},i.close=function(t){return e.classList.contains("jdropdown-focus")&&(i.header.value=i.getText(),i.setCursor(),t||"function"!=typeof i.options.onclose||i.options.onclose(e),i.header.blur&&i.header.blur(),e.classList.remove("jdropdown-focus"),n.tracking(i,!1),n.dropdown.current=null),i.getValue()},i.setCursor=function(e,t){if(null!=i.currentIndex&&i.items&&i.items[i.currentIndex]&&i.items[i.currentIndex].element.classList.remove("jdropdown-cursor"),null==e)i.currentIndex=null;else if(e=parseInt(e),i.items[e].element.parentNode&&(i.items[e].element.classList.add("jdropdown-cursor"),i.currentIndex=e,!1!==t&&i.items[i.currentIndex].element)){f.scrollTop;var n=i.items[i.currentIndex].element;f.scrollTop=n.offsetTop-n.scrollTop+n.clientTop-95}},i.resetCursor=i.setCursor,i.updateCursor=i.setCursor,i.reset=function(){i.setCursor(),i.setValue(null)},i.first=function(){!0===i.options.lazyLoading&&i.loadFirst();var e=f.querySelectorAll(".jdropdown-item");if(e.length){var t=e[0].indexValue;i.setCursor(t)}},i.last=function(){!0===i.options.lazyLoading&&i.loadLast();var e=f.querySelectorAll(".jdropdown-item");if(e.length){var t=e[e.length-1].indexValue;i.setCursor(t)}},i.next=function(e){var t=null;if(e){if(1==e.length){var n=i.currentIndex||-1;e=e.toLowerCase();var r=null,o=null,a=f.querySelectorAll(".jdropdown-item");if(a.length){for(var s=0;s<a.length;s++)if(a[s].indexValue>n&&(r=i.items[a[s].indexValue])&&(o=r.element.innerText[0])&&e==(o=o.toLowerCase())){t=a[s].indexValue;break}i.setCursor(t)}}}else if(null==i.currentIndex||null==i.currentIndex)i.first();else{var l=i.items[i.currentIndex].element,c=l.nextElementSibling;c?(c.classList.contains("jdropdown-group")&&(c=c.lastChild.firstChild),t=c.indexValue):l.parentNode.classList.contains("jdropdown-group-items")&&((c=l.parentNode.parentNode.nextElementSibling)&&(c.classList.contains("jdropdown-group")?c=c.lastChild.firstChild:c.classList.contains("jdropdown-item")?t=c.indexValue:c=null),c&&(t=c.indexValue)),null!==t&&i.setCursor(t)}},i.prev=function(){var e=null;if(null===i.currentIndex)i.first();else{var t=i.items[i.currentIndex].element,n=t.previousElementSibling;n?(n.classList.contains("jdropdown-group")&&(n=n.lastChild.lastChild),e=n.indexValue):t.parentNode.classList.contains("jdropdown-group-items")&&((n=t.parentNode.parentNode.previousElementSibling)&&(n.classList.contains("jdropdown-group")?n=n.lastChild.lastChild:n.classList.contains("jdropdown-item")?e=n.indexValue:n=null),n&&(e=n.indexValue))}null!==e&&i.setCursor(e)},i.loadFirst=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length||0;1==i.options.lazyLoading&&t>200&&(t=200),f.innerHTML="";for(var n=0;n<t;n++)e[n].group?(e[n].group.parentNode||f.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):f.appendChild(e[n].element);f.scrollTop=0},i.loadLast=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length;if(t>200){t-=200,f.innerHTML="";for(var n=t;n<e.length;n++)e[n].group?(e[n].group.parentNode||f.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):f.appendChild(e[n].element);f.scrollTop=f.scrollHeight}},i.loadUp=function(){var e=!1;if(i.results)var t=i.results;else t=i.items;var n=f.querySelectorAll(".jdropdown-item")[0].indexValue;n=i.items[n];var r=t.indexOf(n)-1;if(r>0){for(var o=0;r>0&&t[r]&&o<200;)t[r].group?(t[r].group.parentNode||f.insertBefore(t[r].group,f.firstChild),t[r].group.lastChild.insertBefore(t[r].element,t[r].group.lastChild.firstChild)):f.insertBefore(t[r].element,f.firstChild),r--,o++;e=!0}return e},i.loadDown=function(){var e=!1;if(i.results)var t=i.results;else t=i.items;var n=f.querySelectorAll(".jdropdown-item"),r=n[n.length-1].indexValue;r=i.items[r];var o=t.indexOf(r)+1;if(o<t.length){for(var a=0;o<t.length&&t[o]&&a<200;)t[o].group?(t[o].group.parentNode||f.appendChild(t[o].group),t[o].group.lastChild.appendChild(t[o].element)):f.appendChild(t[o].element),o++,a++;e=!0}return e},function(){if(t||(t={}),"SELECT"==e.tagName){var r=n.dropdown.extractFromDom(e,t);e=r.el,t=r.options}!t.placeholder&&e.getAttribute("placeholder")&&(t.placeholder=e.getAttribute("placeholder")),i.value={},i.items=[],i.groups=[],i.search="",i.results=null,e.classList.add("jdropdown"),(h=document.createElement("div")).className="jdropdown-container-header",i.header=document.createElement("input"),i.header.className="jdropdown-header",i.header.type="text",i.header.setAttribute("autocomplete","off"),i.header.onfocus=function(){"function"==typeof i.options.onfocus&&i.options.onfocus(e)},i.header.onblur=function(){"function"==typeof i.options.onblur&&i.options.onblur(e)},i.header.onkeyup=function(t){1!=i.options.autocomplete||v?i.options.autocomplete||i.next(t.key):(i.search!=i.header.value.trim()&&(v=setTimeout((function(){i.find(i.header.value.trim()),v=null}),400)),e.classList.contains("jdropdown-focus")||i.open())},n.dropdown.hasEvents||(n.dropdown.hasEvents=!0,document.addEventListener("keydown",n.dropdown.keydown)),(p=document.createElement("div")).className="jdropdown-container",(f=document.createElement("div")).className="jdropdown-content",(A=document.createElement("div")).className="jdropdown-close",A.innerHTML="Done",(m=document.createElement("div")).className="jdropdown-reset",m.innerHTML="x",m.onclick=function(){i.reset(),i.close()},(g=document.createElement("div")).className="jdropdown-backdrop",h.appendChild(i.header),p.appendChild(f),e.appendChild(h),e.appendChild(p),e.appendChild(g),i.setOptions(t),"ontouchsend"in document.documentElement==1?e.addEventListener("touchsend",n.dropdown.mouseup):e.addEventListener("mouseup",n.dropdown.mouseup),1==i.options.lazyLoading&&n.lazyLoading(f,{loadUp:i.loadUp,loadDown:i.loadDown}),f.onwheel=function(e){e.stopPropagation()},e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue(!!i.options.multiple);i.setValue(e)},e.dropdown=i}(),i},n.dropdown.keydown=function(e){var t=null;if(t=n.dropdown.current)if(13==e.which||9==e.which)t.header.value&&null==t.currentIndex&&t.options.newOptions?t.add():(null==t.currentIndex&&1==t.options.autocomplete&&""!=t.header.value&&t.find(t.header.value),t.selectIndex(t.currentIndex));else if(38==e.which)null==t.currentIndex?t.first():t.currentIndex>0&&t.prev(),e.preventDefault();else if(40==e.which)null==t.currentIndex?t.first():t.currentIndex+1<t.items.length&&t.next(),e.preventDefault();else if(36==e.which)t.first(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(35==e.which)t.last(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(27==e.which)t.close();else if(33==e.which){if(null==t.currentIndex)t.first();else if(t.currentIndex>0)for(var i=0;i<7;i++)t.prev();e.preventDefault()}else if(34==e.which){if(null==t.currentIndex)t.first();else if(t.currentIndex+1<t.items.length)for(i=0;i<7;i++)t.next();e.preventDefault()}},n.dropdown.mouseup=function(e){var t=n.findElement(e.target,"jdropdown");if(t){var i=t.dropdown;if(e.target.classList.contains("jdropdown-header"))if(t.classList.contains("jdropdown-focus")&&t.classList.contains("jdropdown-default")){var r=t.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0]){var o=e.changedTouches[0].clientX;e.changedTouches[0].clientY}else o=e.clientX,e.clientY;r.width-(o-r.left)<30?e.target.classList.contains("jdropdown-add")?i.add():i.close():0==i.options.autocomplete&&i.close()}else i.open();else if(e.target.classList.contains("jdropdown-group-name")){var a=e.target.nextSibling.children;if("none"!=e.target.nextSibling.style.display)for(var s=0;s<a.length;s++)"none"!=a[s].style.display&&i.selectItem(a[s])}else e.target.classList.contains("jdropdown-group-arrow")?e.target.classList.contains("jdropdown-group-arrow-down")?(e.target.classList.remove("jdropdown-group-arrow-down"),e.target.classList.add("jdropdown-group-arrow-up"),e.target.parentNode.nextSibling.style.display="none"):(e.target.classList.remove("jdropdown-group-arrow-up"),e.target.classList.add("jdropdown-group-arrow-down"),e.target.parentNode.nextSibling.style.display=""):e.target.classList.contains("jdropdown-item")?i.selectItem(e.target):e.target.classList.contains("jdropdown-image")||e.target.classList.contains("jdropdown-description")?i.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-title")?i.selectItem(e.target.parentNode.parentNode):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&i.close()}},n.dropdown.extractFromDom=function(e,t){var n=e;if(t||(t={}),!e.getAttribute("multiple")||t&&null!=t.multiple||(t.multiple=!0),!e.getAttribute("placeholder")||t&&null!=t.placeholder||(t.placeholder=e.getAttribute("placeholder")),!e.getAttribute("data-autocomplete")||t&&null!=t.autocomplete||(t.autocomplete=!0),t&&null!=t.width||(t.width=e.offsetWidth),!e.value||t&&null!=t.value||(t.value=e.value),!t||null==t.data){t.data=[];for(var i=0;i<e.children.length;i++)if("OPTGROUP"==e.children[i].tagName)for(var r=0;r<e.children[i].children.length;r++)t.data.push({value:e.children[i].children[r].value,text:e.children[i].children[r].innerHTML,group:e.children[i].getAttribute("label")});else t.data.push({value:e.children[i].value,text:e.children[i].innerHTML})}t&&null!=t.onchange||(t.onchange=function(e,i,r,o){1==t.multiple?obj.items[i].classList.contains("jdropdown-selected")?n.options[i].setAttribute("selected","selected"):n.options[i].removeAttribute("selected"):n.value=o});var o=document.createElement("div");return e.parentNode.insertBefore(o,e),e.style.display="none",{el:e=o,options:t}},n.editor=function(e,t){var i={type:"editor",options:{}},r={value:null,snippet:null,toolbar:null,remoteParser:null,placeholder:null,parseURL:!1,filterPaste:!0,dropZone:!1,dropAsSnippet:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,border:!0,padding:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null};for(var o in r)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:i.options[o]=r[o];var a=null,s=null,l=[];e.innerHTML="",i.el=e,"function"==typeof i.options.onclick&&(e.onclick=function(t){i.options.onclick(e,i,t)}),e.classList.add("jeditor-container"),1==i.options.padding&&e.classList.add("jeditor-padding"),0==i.options.border&&(e.style.border="0px");var c=document.createElement("div");c.className="jsnippet",c.setAttribute("contenteditable",!1);var u=document.createElement("div");u.className="jeditor-toolbar";var d=document.createElement("div");if(d.setAttribute("contenteditable",!0),d.setAttribute("spellcheck",!1),d.className="jeditor",i.options.placeholder&&d.setAttribute("data-placeholder",i.options.placeholder),(i.options.maxHeight||i.options.height)&&(d.style.overflowY="auto",i.options.maxHeight&&(d.style.maxHeight=i.options.maxHeight),i.options.height&&(d.style.height=i.options.height)),i.options.value)var h=i.options.value;else h=e.innerHTML?e.innerHTML:"";h||(h="");var p=function(t){"function"==typeof i.options.onchange&&i.options.onchange(e,i,t),i.options.value=i.getData(),e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value}))},f=function(e){var t,n;window.getSelection&&(t=window.getSelection()).rangeCount&&((n=t.getRangeAt(0)).toString(),n.deleteContents(),n.insertNode(e),n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n))},A=function(){var e=null;if(e=c.children[0]){e.classList.contains("jslider-grid")||e.classList.add("jslider-grid");var t=e.children.length;e.setAttribute("data-number",t>4?4:t),t>4?e.setAttribute("data-total",t-4):e.removeAttribute("data-total")}},m=function(e){c.innerHTML="";for(var t=["image","title","description","host","url"],n=0;n<t.length;n++){var i=document.createElement("div");if(i.className="jsnippet-"+t[n],i.setAttribute("data-k",t[n]),c.appendChild(i),e[t[n]])if("image"==t[n]){Array.isArray(e.image)||(e.image=[e.image]);for(var r=0;r<e.image.length;r++){var o=document.createElement("img");o.src=e.image[r],i.appendChild(o)}}else i.innerHTML=e[t[n]]}d.appendChild(document.createElement("br")),d.appendChild(c)},g=function(){clearTimeout(a),a=setTimeout((function(){if(!d.querySelector(".jsnippet")){var e=d.innerHTML.replace(/\n/g," "),t=document.createElement("div");t.innerHTML=e;var r=t.innerText,o=n.editor.detectUrl(r);if(o)if("jpg"==o[0].substr(-3)||"png"==o[0].substr(-3)||"gif"==o[0].substr(-3))i.addImage(o[0],!0);else{var a=n.editor.youtubeParser(o[0]);i.parseWebsite(o[0],a)}}}),1e3)};i.parseContent=function(){g()},i.parseWebsite=function(e,t){if(i.options.remoteParser){t&&(e="https://www.youtube.com/watch?v="+t);var r={title:"",description:"",image:"",host:e.split("/")[2],url:e};n.ajax({url:i.options.remoteParser+encodeURI(e.trim()),method:"GET",dataType:"json",success:function(e){e.title&&(r.title=e.title),e.description&&(r.description=e.description),e.host&&(r.host=e.host),e.url&&(r.url=e.url),m(r),e.image?i.addImage(e.image,!0):e["og:image"]&&i.addImage(e["og:image"],!0)}})}else console.log("The remoteParser is not defined")},i.setData=function(e){d.innerHTML=e,i.options.focus&&n.editor.setCursor(d,!0),l=[]},i.getFiles=function(){for(var e=d.querySelectorAll(".jfile"),t=[],n=0;n<e.length;n++)l[e[n].src]&&t.push(l[e[n].src]);return t},i.getText=function(){return d.innerText},i.getData=function(e){if(e){if(a={content:""},c.innerHTML){a.snippet={};for(var t=0;t<c.children.length;t++){var n=c.children[t].getAttribute("data-k");if(n)if("image"==n){a.snippet.image||(a.snippet.image=[]);for(var i=0;i<c.children[t].children.length;i++)a.snippet.image.push(c.children[t].children[i].getAttribute("src"))}else a.snippet[n]=c.children[t].innerHTML}}var r=Object.keys(l);if(r.length)for(a.files=[],t=0;t<r.length;t++)a.files.push(l[r[t]]);var o=d.innerHTML;o=(o=(o=o.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),a.content=o.trim()}else var a=d.innerHTML;return a},i.reset=function(){d.innerHTML="",c.innerHTML="",l=[]},i.addPdf=function(e){if("data"!=e.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60,t.height=60;var n=new Image;t.getContext("2d").drawImage(n,0,0,t.width,t.height),t.toBlob((function(t){var n=document.createElement("img");n.src=window.URL.createObjectURL(t),n.title=e.name,n.className="jfile pdf",l[n.src]={file:n.src,extension:"pdf",content:e.result},f(n)}))}},i.addImage=function(e,t){if(e||(e=""),"data"==e.substr(0,4)||i.options.remoteParser){if("data"==e.substr(0,4))n=(n=(n=e.split(";"))[0].split("/"))[1];else{var n=e.substr(e.lastIndexOf(".")+1);e=i.options.remoteParser+e}var r=new Image;r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0,e.width,e.height),e.toBlob((function(r){var o,a=document.createElement("img");a.src=window.URL.createObjectURL(r),a.classList.add("jfile"),a.setAttribute("tabindex","900"),l[a.src]={file:a.src,extension:n,content:e.toDataURL()},i.options.dropAsSnippet||t?(o=a,c.innerHTML||m({}),c.children[0].appendChild(o),A(),l[a.src].snippet=!0):f(a),p()}))},r.src=e}else console.error("remoteParser not defined in your initialization")},i.addFile=function(e){for(var t=[],n=0;n<e.length;n++)if(e[n].size>i.options.maxFileSize)alert("The file is too big");else{var r=e[n].type.split("/");(r="image"==r[0]?1:"pdf"==r[1]?2:0)?(t[n]=new FileReader,t[n].index=n,t[n].type=r,t[n].name=e[n].name,t[n].date=e[n].lastModified,t[n].size=e[n].size,t[n].addEventListener("load",(function(e){2==e.target.type?1==i.options.acceptFiles&&i.addPdf(e.target):i.addImage(e.target.result)}),!1),t[n].readAsDataURL(e[n])):alert("The extension is not allowed")}},i.destroy=function(){d.removeEventListener("mouseup",v),d.removeEventListener("mousedown",b),d.removeEventListener("mousemove",y),d.removeEventListener("keyup",x),d.removeEventListener("keydown",w),d.removeEventListener("dragstart",k),d.removeEventListener("dragenter",S),d.removeEventListener("dragover",O),d.removeEventListener("drop",M),d.removeEventListener("paste",B),"function"==typeof i.options.onblur&&d.removeEventListener("blur",T),"function"==typeof i.options.onfocus&&d.removeEventListener("focus",F),e.editor=null,e.classList.remove("jeditor-container"),u.remove(),c.remove(),d.remove()};var v=function(e){s&&s.e&&s.e.classList.remove("resizing"),s=!1},b=function(e){var t=function(t){var n=t.getBoundingClientRect();n.width-(e.clientX-n.left)<40&&e.clientY-n.top<40&&(t.innerHTML="",t.remove())};if("IMG"==e.target.tagName)if(e.target.style.cursor){var n=e.target.getBoundingClientRect();s={e:e.target,x:e.clientX,y:e.clientY,w:n.width,h:n.height,d:e.target.style.cursor},e.target.width||(e.target.width=n.width+"px"),e.target.height||(e.target.height=n.height+"px");var i=window.getSelection();if(i.rangeCount)for(var r=0;r<i.rangeCount;r++)i.removeRange(i.getRangeAt(r));e.target.classList.add("resizing")}else s=!0;else e.target.classList.contains("jsnippet")?t(e.target):e.target.parentNode.classList.contains("jsnippet")&&t(e.target.parentNode),s=!0},y=function(e){if("IMG"==e.target.tagName&&!e.target.parentNode.classList.contains("jsnippet-image")&&1==i.options.allowImageResize&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&s&&s.d){if("e-resize"==s.d||"ne-resize"==s.d||"se-resize"==s.d)if(s.e.width=s.w+(e.clientX-s.x),e.shiftKey){var n=(e.clientX-s.x)*(s.h/s.w);s.e.height=s.h+n}else n=null;n||"s-resize"!=s.d&&"se-resize"!=s.d&&"sw-resize"!=s.d||e.shiftKey||(s.e.height=s.h+(e.clientY-s.y))}},x=function(t){d.innerHTML||(d.innerHTML="<div><br></div>"),"function"==typeof i.options.onkeyup&&i.options.onkeyup(e,i,t)},w=function(t){1==i.options.parseURL&&g(),"function"==typeof i.options.onkeydown&&i.options.onkeydown(e,i,t),"Delete"==t.key&&"IMG"==t.target.tagName&&t.target.parentNode.classList.contains("jsnippet-image")&&(t.target.remove(),A())},_=[HTMLUnknownElement,HTMLAudioElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTextAreaElement,HTMLInputElement,HTMLScriptElement],j=["width","height","align","border","src","tabindex"],C=["color","font-weight","font-size","background","background-color","margin"],E=function(e){e&&(e=e.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""));var t=(new DOMParser).parseFromString(e,"text/html");!function e(t){if(t.attributes&&t.attributes.length){var n=null,r=t.getAttribute("style");if(r){n=[];for(var o=r.split(";"),a=0;a<o.length;a++){var s=o[a].trim().split(":");if(C.indexOf(s[0].trim())>=0){var l=s.shift();s=s.join(":"),n.push(l+":"+s)}}}"IMG"==t.tagName.toUpperCase()&&(i.options.acceptImages&&t.src?(t.setAttribute("tabindex","900"),i.addImage(t.src)):t.parentNode.removeChild(t));var c=[],u=t.attributes.length-1;if(u>0){for(var d=u;d>=0;d--)c.push(t.attributes[d].name);c.forEach((function(e){-1==j.indexOf(e)&&t.removeAttribute(e)}))}t.style="",n&&n.length&&t.setAttribute("style",n.join(";"))}if(t.children.length)for(d=0;d<t.children.length;d++)e(t.children[d]);_.indexOf(t.constructor)>=0&&t.remove()}(t);var n=document.createElement("span");return n.innerHTML=t.firstChild.innerHTML,n},B=function(e){if(1==i.options.filterPaste){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/html"),n=(e.originalEvent||e).clipboardData.getData("text/plain"),r=(e.originalEvent||e).clipboardData.files;else window.clipboardData&&(t=window.clipboardData.getData("Html"),n=window.clipboardData.getData("Text"),r=window.clipboardData.files);if(r.length)i.addFile(r);else if(t){var o=E(t);document.execCommand("insertHtml",!1,o.innerHTML)}else t=n.split("\r\n"),e.target.innerText?(t=t.map((function(e){return"<div>"+e+"</div>"})),document.execCommand("insertHtml",!1,t.join(""))):t.map((function(e){var t=document.createElement("div");t.innerText=e,d.appendChild(t)}));e.preventDefault()}},k=function(e){s&&s.e&&e.preventDefault()},S=function(t){s||0==i.options.dropZone||(e.classList.add("jeditor-dragging"),t.preventDefault())},O=function(t){s||0==i.options.dropZone||(a&&clearTimeout(a),a=setTimeout((function(){e.classList.remove("jeditor-dragging")}),100),t.preventDefault())},M=function(t){if(s||0==i.options.dropZone);else{var n=null;document.caretRangeFromPoint?n=document.caretRangeFromPoint(t.clientX,t.clientY):t.rangeParent&&(n=document.createRange()).setStart(t.rangeParent,t.rangeOffset);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),r.anchorNode.parentNode.focus();var o=(t.originalEvent||t).dataTransfer.getData("text/html"),a=(t.originalEvent||t).dataTransfer.getData("text/plain"),l=(t.originalEvent||t).dataTransfer.files;l.length?i.addFile(l):a&&function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll("img");if(n.length)for(var r=0;r<n.length;r++)i.addImage(n[r].src)}(o),e.classList.remove("jeditor-dragging"),t.preventDefault()}},T=function(t){"function"==typeof i.options.onblur&&i.options.onblur(e,i,t),p(t)},F=function(t){"function"==typeof i.options.onfocus&&i.options.onfocus(e,i,t)};return d.addEventListener("mouseup",v),d.addEventListener("mousedown",b),d.addEventListener("mousemove",y),d.addEventListener("keyup",x),d.addEventListener("keydown",w),d.addEventListener("dragstart",k),d.addEventListener("dragenter",S),d.addEventListener("dragover",O),d.addEventListener("drop",M),d.addEventListener("paste",B),d.addEventListener("focus",F),d.addEventListener("blur",T),"function"==typeof i.options.onload&&i.options.onload(e,i,d),d.innerHTML=h,e.appendChild(d),i.options.snippet&&m(i.options.snippet),null==i.options.toolbar&&(i.options.toolbar=n.editor.getDefaultToolbar()),i.options.toolbar&&(e.appendChild(u),n.toolbar(u,{container:!0,responsive:!0,items:i.options.toolbar})),i.options.focus&&n.editor.setCursor(d,"initial"==i.options.focus),e.change=i.setData,e.val=function(t){if(void 0===t){var n="true"!==e.getAttribute("data-html");return i.getData(n)}i.setData(t)},e.editor=i,i},n.editor.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n=window.getSelection(),i=n.getRangeAt(0);if(1==t)var r=i.startContainer,o=0;else o=(r=i.endContainer).length;i.setStart(r,o),i.setEnd(r,o),n.removeAllRanges(),n.addRange(i)},n.editor.getDomain=function(e){return e.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]},n.editor.detectUrl=function(e){var t=e.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi);return t&&"www"==t[0].substr(0,3)&&(t[0]="http://"+t[0]),t},n.editor.youtubeParser=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return!(!t||11!=t[7].length)&&t[7]},n.editor.getDefaultToolbar=function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]},n.form=function(e,t){var i={options:{}},r={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(e,t){n.alert(t)}};for(var o in r)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:i.options[o]=r[o];return i.options.validations||(i.options.validations={}),i.options.submitButton||(i.options.submitButton=e.querySelector("input[type=submit]")),i.options.submitButton&&i.options.url&&(i.options.submitButton.onclick=function(){i.save()}),i.options.validations.email||(i.options.validations.email=n.validations.email),i.options.validations.length||(i.options.validations.length=n.validations.length),i.options.validations.required||(i.options.validations.required=n.validations.required),i.setUrl=function(e){i.options.url=e},i.load=function(){n.ajax({url:i.options.url,method:"GET",dataType:"json",queue:!0,success:function(t){if("function"==typeof i.options.onbeforeload){var r=i.options.onbeforeload(e,t);r&&(t=r)}n.form.setElements(e,t),"function"==typeof i.options.onload&&i.options.onload(e,t)}})},i.save=function(){var t=i.validate();if(t)i.options.onerror(e,t);else{var r=n.form.getElements(e,!0);if("function"==typeof i.options.onbeforesave&&!1===(r=i.options.onbeforesave(e,r)))return;n.ajax({url:i.options.url,method:"POST",dataType:"json",data:r,success:function(t){"function"==typeof i.options.onsave&&i.options.onsave(e,r,t)}})}},i.remove=function(){if("function"==typeof i.options.onbeforeremove&&!1===i.options.onbeforeremove(e,i))return!1;n.ajax({url:i.options.url,method:"DELETE",dataType:"json",success:function(t){"function"==typeof i.options.onremove&&i.options.onremove(e,i,t),i.reset()}})},i.validateElement=function(t){var r=!1,o=n.form.getValue(t),a=t.getAttribute("data-validation");return"function"!=typeof i.options.validations[a]||i.options.validations[a](o,t)?t.classList.contains("error")&&function(t){var n=!1;t.classList.remove("error"),t.removeAttribute("title");for(var r=e.querySelectorAll("input, select, textarea, div[name]"),o=0;o<r.length;o++)r[o].getAttribute("data-validation")&&r[o].classList.contains("error")&&(n=!0);i.options.submitButton&&(n?i.options.submitButton.setAttribute("disabled",!0):i.options.submitButton.removeAttribute("disabled"))}(t):r=function(e){e.classList.add("error"),i.options.submitButton&&i.options.submitButton.setAttribute("disabled",!0);var t=e.getAttribute("data-error")||"There is an error in the form";return e.setAttribute("title",t),t}(t),r},i.reset=function(){for(var t=e.querySelectorAll("input, select, textarea, div[name]"),n=0;n<t.length;n++)t[n].getAttribute("name")&&("checkbox"==t[n].type||"radio"==t[n].type?t[n].checked=!1:"function"==typeof t[n].val?t[n].val(""):t[n].value="")},i.validate=function(){for(var t=[],n=e.querySelectorAll("input, select, textarea, div[name]"),r=0;r<n.length;r++)if(n[r].getAttribute("data-validation")){var o=i.validateElement(n[r]);o&&t.push(o)}return t.length>0&&t.join("<br>")},i.getError=function(){return!!i.validation()},i.setHash=function(){return i.getHash(n.form.getElements(e))},i.getHash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},i.isChanged=function(){var e=i.setHash();return i.options.currentHash!=e},i.resetTracker=function(){i.options.currentHash=i.setHash(),i.options.ignore=!1},i.setIgnore=function(e){i.options.ignore=!!e},setTimeout((function(){i.options.currentHash=i.setHash()}),1e3),e.addEventListener("keyup",(function(e){e.target.getAttribute("data-validation")&&i.validateElement(e.target)})),n.form.hasEvents||(window.addEventListener("beforeunload",(function(e){if(i.isChanged()&&0==i.options.ignore){var t=i.options.message?i.options.message:"o/";return t?(void 0===e&&(e=window.event),e&&(e.returnValue=t),t):void 0}})),n.form.hasEvents=!0),e.form=i,i},n.form.getValue=function(e){var t=null;if("checkbox"==e.type)1==e.checked&&(t=e.value||!0);else if("radio"==e.type)1==e.checked&&(t=e.value);else if("file"==e.type)t=e.files;else if("select"==e.tagName&&1==e.multiple){t=[];for(var n=e.querySelectorAll("options[selected]"),i=0;i<n.length;i++)t.push(n[i].value)}else t="function"==typeof e.val?e.val():e.value||"";return t},n.form.getElements=function(e,t){for(var i={},r=null,o=e.querySelectorAll("input, select, textarea, div[name]"),a=0;a<o.length;a++)(r=o[a].getAttribute("name"))&&(i[r]=n.form.getValue(o[a])||"");return 1==t?i:JSON.stringify(i)},n.form.setElements=function(e,t){for(var i=null,r=null,o=e.querySelectorAll("input, select, textarea, div[name]"),a=0;a<o.length;a++){var s=o[a].getAttribute("type");if(i=o[a].getAttribute("name")){if(r=null,(i=i.replace(new RegExp(/\[(.*?)\]/gi),".$1")).match(/\./)){var l=n.path.call(t,i)||"";void 0!==l&&(r=l)}else void 0!==t[i]&&(r=t[i]);null!==r&&("checkbox"==s||"radio"==s?o[a].checked=!!r:"file"==s||("function"==typeof o[a].val?o[a].val(r):o[a].value=r))}}},n.tracker=n.form,n.focus=function(e){if(e.innerText.length){var t=document.createRange(),n=window.getSelection(),i=e.childNodes[e.childNodes.length-1];t.setStart(i,i.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t),e.scrollLeft=e.scrollWidth}},n.isNumeric=function(e){return!isNaN(e)&&null!==e&&""!==e},n.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},n.getNode=function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},n.hash=function(e){var t,n,i=0;if(0===e.length)return i;for(t=0;t<e.length;t++)(n=e.charCodeAt(t))>32&&(i=(i<<5)-i+n,i|=0);return i},n.randomColor=function(e){var t=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var i,r,o=[];for(r=0;r<3;r++)i=parseInt(t.substr(2*r,2),16),i=Math.round(Math.min(Math.max(0,i+-.25*i),255)).toString(16),o.push(("00"+i).substr(i.length));return 1==e?"#"+n.two(o[0].toString(16))+n.two(o[1].toString(16))+n.two(o[2].toString(16)):o},n.getWindowWidth=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||i.clientWidth},n.getWindowHeight=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||i.clientHeight},n.getPosition=function(e){if(e.changedTouches&&e.changedTouches[0])var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[t,n]},n.click=function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}},n.findElement=function(e,t){var n=!1;return function e(i){i&&!n&&("function"==typeof t?n=t(i):"string"==typeof t&&i.classList&&i.classList.contains(t)&&(n=i)),i.parentNode&&!n&&e(i.parentNode)}(e),n},n.two=function(e){return 1==(e=""+e).length&&(e="0"+e),e},n.sha512=function(e){function t(e,t){this.highOrder=e,this.lowOrder=t}var n,i,r,o,a,s,l,c,u,d,h=[new t(1779033703,4089235720),new t(3144134277,2227873595),new t(1013904242,4271175723),new t(2773480762,1595750129),new t(1359893119,2917565137),new t(2600822924,725511199),new t(528734635,4215389547),new t(1541459225,327033209)],p=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)],f=new Array(64);function A(e,n){var i,r,o;return i=(65535&e.lowOrder)+(65535&n.lowOrder),o=(65535&(r=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i>>>16)))<<16|65535&i,i=(65535&e.highOrder)+(65535&n.highOrder)+(r>>>16),new t((65535&(r=(e.highOrder>>>16)+(n.highOrder>>>16)+(i>>>16)))<<16|65535&i,o)}function m(e,n,i,r){var o,a,s;return o=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&r.lowOrder),s=(65535&(a=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(r.lowOrder>>>16)+(o>>>16)))<<16|65535&o,o=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&r.highOrder)+(a>>>16),new t((65535&(a=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(r.highOrder>>>16)+(o>>>16)))<<16|65535&o,s)}function g(e,n,i,r,o){var a,s,l;return a=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&r.lowOrder)+(65535&o.lowOrder),l=(65535&(s=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(r.lowOrder>>>16)+(o.lowOrder>>>16)+(a>>>16)))<<16|65535&a,a=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&r.highOrder)+(65535&o.highOrder)+(s>>>16),new t((65535&(s=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(r.highOrder>>>16)+(o.highOrder>>>16)+(a>>>16)))<<16|65535&a,l)}function v(e,n,i){return new t(e.highOrder&n.highOrder^e.highOrder&i.highOrder^n.highOrder&i.highOrder,e.lowOrder&n.lowOrder^e.lowOrder&i.lowOrder^n.lowOrder&i.lowOrder)}function b(e,n,i){return new t(e.highOrder&n.highOrder^~e.highOrder&i.highOrder,e.lowOrder&n.lowOrder^~e.lowOrder&i.lowOrder)}function y(e,n){return n<=32?new t(e.highOrder>>>n|e.lowOrder<<32-n,e.lowOrder>>>n|e.highOrder<<32-n):new t(e.lowOrder>>>n|e.highOrder<<32-n,e.highOrder>>>n|e.lowOrder<<32-n)}function x(e){var n=y(e,28),i=y(e,34),r=y(e,39);return new t(n.highOrder^i.highOrder^r.highOrder,n.lowOrder^i.lowOrder^r.lowOrder)}function w(e){var n=y(e,14),i=y(e,18),r=y(e,41);return new t(n.highOrder^i.highOrder^r.highOrder,n.lowOrder^i.lowOrder^r.lowOrder)}function _(e){var n=y(e,1),i=y(e,8),r=j(e,7);return new t(n.highOrder^i.highOrder^r.highOrder,n.lowOrder^i.lowOrder^r.lowOrder)}function j(e,n){return n<=32?new t(e.highOrder>>>n,e.lowOrder>>>n|e.highOrder<<32-n):new t(0,e.highOrder<<32-n)}var C,E,B,k,S=8*(e=function(e){return unescape(encodeURIComponent(e))}(e)).length;(e=function(e){for(var t=[],n=8*e.length,i=0;i<n;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}(e))[S>>5]|=128<<24-S%32,e[31+(S+128>>10<<5)]=S;for(var O=0;O<e.length;O+=32){n=h[0],i=h[1],r=h[2],o=h[3],a=h[4],s=h[5],l=h[6],c=h[7];for(var M=0;M<80;M++)f[M]=M<16?new t(e[2*M+O],e[2*M+O+1]):m((C=f[M-2],E=void 0,B=void 0,k=void 0,E=y(C,19),B=y(C,61),k=j(C,6),new t(E.highOrder^B.highOrder^k.highOrder,E.lowOrder^B.lowOrder^k.lowOrder)),f[M-7],_(f[M-15]),f[M-16]),u=g(c,w(a),b(a,s,l),p[M],f[M]),d=A(x(n),v(n,i,r)),c=l,l=s,s=a,a=A(o,u),o=r,r=i,i=n,n=A(u,d);h[0]=A(n,h[0]),h[1]=A(i,h[1]),h[2]=A(r,h[2]),h[3]=A(o,h[3]),h[4]=A(a,h[4]),h[5]=A(s,h[5]),h[6]=A(l,h[6]),h[7]=A(c,h[7])}var T=[];for(O=0;O<h.length;O++)T.push(h[O].highOrder),T.push(h[O].lowOrder);return function(e){for(var t,n="",i=4*e.length,r=0;r<i;r+=1)t=e[r>>2]>>8*(3-r%4),n+="0123456789abcdef".charAt(t>>4&15)+"0123456789abcdef".charAt(15&t);return n}(T)},n.login||(n.login={},n.login.sha512=n.sha512),n.image=n.upload=function(e,t){var i={options:{}},r={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed"}};for(var o in r)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:i.options[o]=r[o];1==i.options.multiple&&e.setAttribute("data-multiple",!0),e.content=[],e.classList.add("jupload"),1==i.options.input&&e.classList.add("input"),i.add=function(t){if(0==i.options.multiple&&(e.content=[],e.innerText=""),"image"==i.options.type){var r=document.createElement("img");r.setAttribute("src",t.file),r.setAttribute("tabindex",-1),e.getAttribute("name")||(r.className="jfile",r.content=t),e.appendChild(r)}else{if(t.name)var o=t.name;else o=t.file;var a=document.createElement("div");a.innerText=o||i.options.type,a.classList.add("jupload-item"),a.setAttribute("tabindex",-1),e.appendChild(a)}t.content&&(t.file=n.guid()),e.content.push(t),"function"==typeof i.options.onchange&&i.options.onchange(e,t)},i.addFromFile=function(e){if(e.type.split("/")[0]==i.options.type){var t=new FileReader;t.addEventListener("load",(function(t){var n={file:t.srcElement.result,extension:e.name.substr(e.name.lastIndexOf(".")+1),name:e.name,size:e.size,lastmodified:e.lastModified,content:t.srcElement.result};i.add(n)})),t.readAsDataURL(e)}else alert(i.options.text.extensionNotAllowed)},i.addFromUrl=function(e){if("data"==e.substr(0,4)||i.options.remoteParser)if("data"==e.substr(0,4))if((r=(r=e.split(";"))[0].split("/"))[0].replace("data:","")==i.options.type){var t={file:e,name:"",extension:r[1],content:e};i.add(t)}else alert(i.options.text.extensionNotAllowed);else{var r=e.substr(e.lastIndexOf(".")+1);e=i.options.remoteParser+e,n.ajax({url:e,type:"GET",dataType:"blob",success:function(e){}})}else console.error("remoteParser not defined in your initialization")};var a=i.options.type+"/"+i.options.extension,s=document.createElement("input");s.type="file",s.setAttribute("accept",a),s.onchange=function(){for(var e=0;e<this.files.length;e++)i.addFromFile(this.files[e])},1==i.options.multiple&&s.setAttribute("multiple",!0);var l=null;return e.addEventListener("click",(function(t){l=null,e.children.length&&t.target!==e?t.target.parentNode==e&&(l=t.target):n.click(s)})),e.addEventListener("dblclick",(function(e){n.click(s)})),e.addEventListener("dragenter",(function(t){e.style.border="1px dashed #000"})),e.addEventListener("dragleave",(function(t){e.style.border="1px solid #eee"})),e.addEventListener("dragstop",(function(t){e.style.border="1px solid #eee"})),e.addEventListener("dragover",(function(e){e.preventDefault()})),e.addEventListener("keydown",(function(t){if(l&&46==t.which){var n=Array.prototype.indexOf.call(e.children,l);n>=0&&(e.content.splice(n,1),l.remove(),l=null)}})),e.addEventListener("drop",(function(t){t.preventDefault(),t.stopPropagation();var n=(t.originalEvent||t).dataTransfer.getData("text/html");if((t.originalEvent||t).dataTransfer.files.length)for(var r=0;r<t.dataTransfer.files.length;r++)i.addFromFile(t.dataTransfer.files[r]);else if(n){0==i.options.multiple&&(e.innerText="");var o=document.createElement("div");o.innerHTML=n;var a=o.querySelectorAll("img");if(a.length)for(r=0;r<a.length;r++)i.addFromUrl(a[r].src)}return e.style.border="1px solid #eee",!1})),e.val=function(t){if(void 0===t)return e.content&&e.content.length?e.content:null;if(e.innerText="",e.content=[],t)if(Array.isArray(t))for(var n=0;n<t.length;n++)"string"==typeof t[n]?i.add({file:t[n]}):i.add(t[n]);else"string"==typeof t&&i.add({file:t})},e.upload=e.image=i,i},n.image.create=function(e){var t=document.createElement("img");return t.setAttribute("src",e.file),t.className="jfile",t.setAttribute("tabindex",-1),t.content=e,t},n.lazyLoading=function(e,t){t.loadUp&&"function"==typeof t.loadUp||(t.loadUp=function(){return!1}),t.loadDown&&"function"==typeof t.loadDown||(t.loadDown=function(){return!1}),t.timer||(t.timer=100);var n=null,i=function(i){if(null==n){var r=!1,o=e.scrollTop;e.scrollTop+2*e.clientHeight>=e.scrollHeight?t.loadDown()&&(o==e.scrollTop&&(e.scrollTop=e.scrollTop-e.clientHeight),r=!0):e.scrollTop<=e.clientHeight&&t.loadUp()&&(o==e.scrollTop&&(e.scrollTop=e.scrollTop+e.clientHeight),r=!0),n=setTimeout((function(){n=null}),t.timer),r&&"function"==typeof t.onupdate&&t.onupdate()}};return e.onscroll=function(e){i()},e.onwheel=function(e){i()},{}},n.loading=function(){var e={},t=null;return e.show=function(){t||((t=document.createElement("div")).className="jloading"),document.body.appendChild(t)},e.hide=function(){t&&t.parentNode&&document.body.removeChild(t)},e}(),n.mask=function(){var e={currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","HH24","HH12","HH","\\[H\\]","H","AM/PM","PM","AM","MI","SS","MS","MONTH","MON","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},t=function(){if(-1!==this.mask.toLowerCase().indexOf("[h]")){var e=0;this.date[4]&&(e=parseFloat(this.date[4]/60));var t=parseInt(this.date[3])+e;t/=24}else this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]?(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),t=n.two(this.date[0])+"-"+n.two(this.date[1])+"-"+n.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(t+=" "+n.two(this.date[3])+":"+n.two(this.date[4])+":"+n.two(this.date[5]))):t=n.two(this.date[3])+":"+n.two(this.date[4])+":"+n.two(this.date[5]);return t},i=function(e){return null===e||""===e||void 0===e},r=function(e){return"currency"===e||"percentage"===e||"numeric"===e},o=function(e){if(e&&Number(e)==e)return".";if(this.options.decimal)return this.options.decimal;if(this.locale){var t=Intl.NumberFormat(this.locale).format(1.1);return this.options.decimal=t[1]}return e||(e=this.mask),(t=new RegExp("0{1}(.{1})0+","ig").exec(e))&&t[1]&&1==t[1].length?(this.options.decimal=t[1],t[1]):((t=new RegExp("#{1}(.{1})#+","ig").exec(e))&&t[1]&&1==t[1].length?","===t[1]?this.options.decimal=".":this.options.decimal=",":this.options.decimal="1.1".toLocaleString().substring(1,2),this.options.decimal?this.options.decimal:null)},a=function(e,t){return""==e?"":(t||(t=o.call(this)),(e=(""+e).split(t))[0]=e[0].match(/[\-0-9]+/g,""),e[0]&&(e[0]=e[0].join("")),e[0]||e[1]?(void 0!==e[1]&&(e[1]=e[1].match(/[0-9]+/g,""),e[1]?e[1]=e[1].join(""):e[1]=""),e):"")},s=function(e){if(""==e)return"";var t=o.call(this),n=this.options;if(""==(e=a.call(this,e)))return"";if(e[0]){var i=parseFloat(e.join("."));"percent"==n.style&&(i/=100)}else i=null;var r=new Intl.NumberFormat(this.locale,n).format(i);if(void 0!==(r=r.split(t))[1]){var s=r[1].replace(/[0-9]*/g,"");s&&(r[2]=s)}return void 0!==e[1]?r[1]=t+e[1]:r[1]="",r.join("")},l=function(e){var t=d.call(e);if(t){o.call(this);var n=s.call(this,t),i=n.length-t.length,r=u.call(e)+i;d.call(e,n,r,!0)}},c=function(e){var t=a.call(this,e);return t?parseFloat(t.join(".")):null},u=function(e,t){if(void 0===e){if("DIV"==this.tagName){var n=0;return(s=window.getSelection())&&0!==s.rangeCount&&((r=(a=s.getRangeAt(0)).cloneRange()).selectNodeContents(this),r.setEnd(a.endContainer,a.endOffset),n=r.toString().length),n}return this.selectionStart}var i=d.call(this);if(t){for(var r=null,o=0;o<i.length;o++)(i[o].match(/[\-0-9]/g)||"."==i[o]||","==i[o])&&(r=o);null===r&&(r=i.indexOf(" ")),e>=r&&(e=r+1)}if(e>i.length&&(e=i.length),e)if("DIV"==this.tagName){var a,s=window.getSelection();(a=document.createRange()).setStart(this.childNodes[0],e),s.removeAllRanges(),s.addRange(a)}else this.selectionStart=e,this.selectionEnd=e},d=function(e,t,n){if("DIV"==this.tagName){if(void 0===e)return this.innerText;this.innerText!==e&&(this.innerText=e,t&&u.call(this,t,n))}else{if(void 0===e)return this.value;this.value!==e&&(this.value=e,t&&u.call(this,t,n))}},h=n.calendar.weekdays,p=n.calendar.weekdaysShort,f=n.calendar.months,A=n.calendar.monthsShort,m={YEAR:function(e,t){var n=""+(new Date).getFullYear();void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&parseInt(e)<=10&&this.values[this.index].length<t&&(this.values[this.index]+=e),this.values[this.index].length==t&&(2==t?n=n.substr(0,2)+this.values[this.index]:3==t?n=n.substr(0,1)+this.values[this.index]:4==t&&(n=this.values[this.index]),this.date[0]=n,this.index++)},YYYY:function(e){m.YEAR.call(this,e,4)},YYY:function(e){m.YEAR.call(this,e,3)},YY:function(e){m.YEAR.call(this,e,2)},FIND:function(e,t){i(this.values[this.index])&&(this.values[this.index]="");for(var n=0,r=0,o=(this.values[this.index]+e).toLowerCase(),a=0;a<t.length;a++)0==t[a].toLowerCase().indexOf(o)&&(n=a,r++);if(r>1)this.values[this.index]+=e;else if(1==r){var s=t[n].length-this.values[this.index].length-1;return this.position+=s,this.values[this.index]=t[n],this.index++,n}},MMM:function(e){var t=m.FIND.call(this,e,A);void 0!==t&&(this.date[1]=t+1)},MMMM:function(e){var t=m.FIND.call(this,e,f);void 0!==t&&(this.date[1]=t+1)},MMMMM:function(e){i(this.values[this.index])&&(this.values[this.index]="");for(var t=(this.values[this.index]+e).toLowerCase(),n=0;n<f.length;n++)if(0==f[n][0].toLowerCase().indexOf(t)){this.values[this.index]=f[n][0],this.date[1]=n+1,this.index++;break}},MM:function(e){i(this.values[this.index])?parseInt(e)>1&&parseInt(e)<10?(this.date[1]=this.values[this.index]="0"+e,this.index++):parseInt(e)<2&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&parseInt(e)>0&&parseInt(e)<10)&&(this.date[1]=this.values[this.index]+=e,this.index++)},M:function(e){var t=!1;if(parseInt(e)>=0&&parseInt(e)<10?i(this.values[this.index])?(this.values[this.index]=e,e>1&&(this.date[1]=this.values[this.index],this.index++)):1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&parseInt(e)>0?(this.date[1]=this.values[this.index]+=e,this.index++):t=!0:t=!0,1==t){var n=parseInt(this.values[this.index]);n>0&&n<12&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},D:function(e){var t=!1;if(parseInt(e)>=0&&parseInt(e)<10?i(this.values[this.index])?(this.values[this.index]=e,parseInt(e)>3&&(this.date[2]=this.values[this.index],this.index++)):3==this.values[this.index]&&parseInt(e)<2||1==this.values[this.index]||2==this.values[this.index]||0==this.values[this.index]&&parseInt(e)>0?(this.date[2]=this.values[this.index]+=e,this.index++):t=!0:t=!0,1==t){var n=parseInt(this.values[this.index]);n>0&&n<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},DD:function(e){i(this.values[this.index])?parseInt(e)>3&&parseInt(e)<10?(this.date[2]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(3==this.values[this.index]&&parseInt(e)<2||(1==this.values[this.index]||2==this.values[this.index])&&parseInt(e)<10||0==this.values[this.index]&&parseInt(e)>0&&parseInt(e)<10)&&(this.date[2]=this.values[this.index]+=e,this.index++)},DDD:function(e){m.FIND.call(this,e,p)},DDDD:function(e){m.FIND.call(this,e,h)},HH12:function(e,t){i(this.values[this.index])?parseInt(e)>1&&parseInt(e)<10?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||this.values[this.index]<1&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++)},HH24:function(e,t){parseInt(e)>=0&&parseInt(e)<10&&(null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>2&&parseInt(e)<10?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(2==this.values[this.index]&&parseInt(e)<4||this.values[this.index]<2&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++))},HH:function(e){m.HH24.call(this,e,1)},H:function(e){m.HH24.call(this,e,0)},"\\[H\\]":function(e){null==this.values[this.index]&&(this.values[this.index]=""),e.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=e:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(e,t){null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>5&&parseInt(e)<10?(this.date[t]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):parseInt(e)<10&&(this.date[t]=this.values[this.index]+=e,this.index++)},MI:function(e){m.N60.call(this,e,4)},SS:function(e){m.N60.call(this,e,5)},"AM/PM":function(e){this.values[this.index]="",e&&(this.date[3]>12?this.values[this.index]="PM":this.values[this.index]="AM"),this.index++},WD:function(e){void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&parseInt(e)<7&&(this.values[this.index]=e),1==this.value[this.index].length&&this.index++},"0{1}(.{1}0+)?":function(e){var t=o.call(this),n=!1;i(this.values[this.index])?this.values[this.index]="":"-"==this.values[this.index]&&(n=!0);var r=a.call(this,this.values[this.index],t);r&&(this.values[this.index]=r.join(t)),parseInt(e)>=0&&parseInt(e)<10?"0"==this.values[this.index]&&e!=t||(this.values[this.index]+=e):t&&e==t?-1==this.values[this.index].indexOf(t)&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=e):"-"==e&&(n=!0),!0===n&&"-"!==this.values[this.index][0]&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?%":function(e){m["0{1}(.{1}0+)?"].call(this,e),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&-1==this.values[this.index].indexOf("%")&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(e){m["0{1}(.{1}0+)?"].call(this,e);var t=o.call(this),n=this.tokens[this.index].substr(1,1),i="-"===this.values[this.index][0],r=a.call(this,this.values[this.index],t);if(""!==r){var s=r[0].match(/[0-9]/g);if(s){for(var l=[],c=0,u=(s=s.join("")).length-1;u>=0;u--)l.push(s[u]),++c%3||l.push(n);l=l.reverse(),r[0]=l.join(""),r[0].substr(0,1)==n&&(r[0]=r[0].substr(1))}else r[0]="";this.values[this.index]=r.join(t),i&&(this.values[this.index]="-"+this.values[this.index])}},0:function(e){e.match(/[0-9]/g)&&(this.values[this.index]=e,this.index++)},"[0-9a-zA-Z$]+":function(e){i(this.values[this.index])&&(this.values[this.index]="");var t=this.tokens[this.index];t[this.values[this.index].length]==e?(this.values[this.index]+=e,this.values[this.index]==t&&this.index++):(this.values[this.index]=t,this.index++,e.match(/[\-0-9]/g)&&this.position--)},A:function(e){e.match(/[a-zA-Z]/gi)&&(this.values[this.index]=e,this.index++)},".":function(e){m["[0-9a-zA-Z$]+"].call(this,e)}},g=function(t){if("general"==this.type)var n=[].concat(e.general);else n=[].concat(e.currency,e.datetime,e.percentage,e.numeric,e.general);var i=new RegExp(n.join("|"),"gi");return t.match(i)},v=function(t){if(this.type)n="general"==this.type?["general"]:"datetime"==this.type?["numeric","datetime","general"]:["currency","percentage","numeric","general"];else var n=Object.keys(e);for(var i=0;i<n.length;i++)for(var r=n[i],o=0;o<e[r].length;o++){var a=new RegExp(e[r][o],"gi");if(t.match(a))return{type:r,method:e[r][o]}}},b=function(e){for(var t=[],n=0;n<e.length;n++){var i=v.call(this,e[n]);i?t.push(i.method):t.push(null)}for(n=0;n<t.length;n++)"MM"==t[n]&&(t[n-1]&&t[n-1].indexOf("H")>=0||t[n-2]&&t[n-2].indexOf("H")>=0||t[n+1]&&t[n+1].indexOf("S")>=0||t[n+2]&&t[n+2].indexOf("S")>=0)&&(t[n]="MI");return t},y=function(e){var t=v.call(this,e);if(t)var n=t.type;if(n){for(var i=0,o=g.call(this,e),a=0;a<o.length;a++)(t=v.call(this,o[a]))&&r(t.type)&&i++;i>1&&(n="general")}return n},x=function(){"function"==typeof m[this.methods[this.index]]?(m[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)},w=function(e,i,a){var h=null,p={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if("object"==typeof e){if(p.input=e.target,p.value=d.call(e.target),p.caret=u.call(e.target),(h=e.target.getAttribute("data-mask"))&&(p.mask=h),(h=e.target.getAttribute("data-type"))&&(p.type=h),e.target.mask?(e.target.mask.options&&(p.options=e.target.mask.options),e.target.mask.locale&&(p.locale=e.target.mask.locale)):(h=e.target.getAttribute("data-locale"))&&(p.locale=h,p.mask&&(p.options.style=p.mask)),e.target.attributes&&e.target.attributes.length)for(var f=0;f<e.target.attributes.length;f++){var A=e.target.attributes[f].name,m=e.target.attributes[f].value;"data"==A.substr(0,4)&&(p.options[A.substr(5)]=m)}}else{if("string"==typeof i)p.mask=i;else for(A=Object.keys(i),f=0;f<A.length;f++)p[A[f]]=i[A[f]];"number"==typeof e&&(o.call(p,p.mask),e=(""+e).replace(".",p.options.decimal)),p.value=e,p.input&&(d.call(p.input,e),n.focus(p.input),p.caret=u.call(p.input))}if("="!=(""+p.value)[0]&&(p.mask||p.locale)){if(p.mask){if(p.mask=p.mask.replace("[-]",""),-1!==p.mask.indexOf("##")){var w=p.mask.split(";");w[0]&&(w[0]=w[0].replace("*",""),w[0]=w[0].replace(/_/g,""),w[0]=w[0].replace(/-/g,""),w[0]=w[0].replace("(",""),w[0]=w[0].replace(")",""),w[0]=w[0].replace("##0.###","##0.000"),w[0]=w[0].replace("##0.##","##0.00"),w[0]=w[0].replace("##0.#","##0.0")),p.mask=w[0]}p.type||(p.type=y.call(p,p.mask)),p.tokens=g.call(p,p.mask)}if("object"!=typeof e||!e.inputType||"insertText"==e.inputType||"insertFromPaste"==e.inputType)if(p.locale)if(p.input)l.call(p,p.input);else var _=s.call(p,p.value);else{for(p.methods=b.call(p,p.tokens);p.position<p.value.length&&void 0!==p.tokens[p.index];)x.call(p);if(r(p.type)){for(;void 0!==p.tokens[p.index];)(h=v.call(p,p.tokens[p.index]))&&"general"==h.type&&(p.values[p.index]=p.tokens[p.index]),p.index++;var j=!0}else j=!1;if(_=p.values.join(""),p.input){if((h=_.length-p.value.length)>0)var C=p.caret+h;else C=p.caret;d.call(p.input,_,C,j)}}if(p.input){var E=null;r(p.type)?(p.number=c.call(p,d.call(p.input)),E="percentage"==p.type?p.number/100:p.number):"datetime"==p.type&&(E=t.call(p),p.date[0]&&p.date[1]&&p.date[2]&&p.input.setAttribute("data-completed",!0)),E&&p.input.setAttribute("data-value",E)}if(void 0!==_)return a?p:_}};return w.prepare=function(e,t){return t||(t={}),g.call(t,e)},w.apply=function(e){var t=d.call(e.target);1==e.key.length&&(t+=e.key),d.call(e.target,w(t,e.target.getAttribute("data-mask")))},w.run=function(e,t,n){return w(e,{mask:t,decimal:n})},w.extract=function(e,r,a){if(i(e))return e;if("object"!=typeof r)return d;r.options||(r.options={}),!r.mask&&r.format&&(r.mask=r.format),o.call(r,r.mask);var s=null;if("percent"==r.type||"percent"==r.options.style?s="percentage":r.mask&&(s=y.call(r,r.mask)),"datetime"===s){if(e instanceof Date)var l=n.calendar.getDateString(d,r.mask);var u=w(e,r,!0),d=t.call(u);u.date[0]&&u.date[1]&&u.date[2]&&!(u.date[3]||u.date[4]||u.date[5])&&(l=n.calendar.now(u.date),d=n.calendar.dateToNum(l))}else d=c.call(r,e),"percentage"==s&&(d/=100),u=r;return u.value=d,a?u:d},w.render=function(e,t,r){if(i(e))return e;if("object"!=typeof t)return e;t.options||(t.options={}),!t.mask&&t.format&&(t.mask=t.format);var a=null;"percent"==t.type||"percent"==t.options.style?a="percentage":t.mask?a=y.call(t,t.mask):e instanceof Date&&(a="datetime");var s=!1;if("datetime"==a||"calendar"==t.type)(l=n.calendar.getDateString(e,t.mask))&&(e=l),t.mask&&r&&(s=!0);else if("percentage"==a&&(e*=100),"number"==typeof e){var l=null;if(t.mask&&r){var c=new RegExp("0{1}(.{1})0+","ig");(u=t.mask.match(c))&&u[0]?(u=u[0].length-2,l=e.toFixed(u)):l=e.toFixed(0)}else if(t.locale&&r){var u=(""+e).split(".");if(t.options){void 0===u[1]&&(u[1]="");var d=u[1].length;if(t.options.minimumFractionDigits>d)for(var h=0;h<t.options.minimumFractionDigits-d;h++)u[1]+="0"}l=u[1].length?u.join("."):u[0],d=u[1].length,t.options&&t.options.maximumFractionDigits<d&&(l=parseFloat(l).toFixed(t.options.maximumFractionDigits))}else l=(""+ +e).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,(function(e,t,n,i,r){return r<0?t+"0."+Array(1-r-n.length).join(0)+n+i:t+n+i+Array(r-i.length+1).join(0)}));null!==l&&(e=l,o.call(t,t.mask),t.options.decimal&&(e=e.replace(".",t.options.decimal)))}else t.mask&&r&&(s=!0);if(s){var p=t.mask.length-e.length;if(p>0)for(h=0;h<p;h++)e+=" "}return e=w(e,t)},w.set=function(e,t){if(t){e.setAttribute("data-mask",t);var n=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}},"undefined"!=typeof document&&document.addEventListener("input",(function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&w(e)})),w}(),n.modal=function(e,t){var i={options:{}},r={url:null,onopen:null,onclose:null,closed:!1,width:null,height:null,title:null,padding:null,backdrop:!0};for(var o in r)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:i.options[o]=r[o];!i.options.title&&e.getAttribute("title")&&(i.options.title=e.getAttribute("title"));for(var a=document.createElement("div");e.children[0];)a.appendChild(e.children[0]);for(i.content=document.createElement("div"),i.content.className="jmodal_content",i.content.innerHTML=e.innerHTML;a.children[0];)i.content.appendChild(a.children[0]);if(i.container=document.createElement("div"),i.container.className="jmodal",i.container.appendChild(i.content),i.options.padding&&(i.content.style.padding=i.options.padding),i.options.width&&(i.container.style.width=i.options.width),i.options.height&&(i.container.style.height=i.options.height),i.options.title?i.container.setAttribute("title",i.options.title):i.container.classList.add("no-title"),e.innerHTML="",e.style.display="none",e.appendChild(i.container),i.options.backdrop){var s=document.createElement("div");s.className="jmodal_backdrop",s.onclick=function(){i.close()},e.appendChild(s)}if(i.open=function(){e.style.display="block";var t=i.container.getBoundingClientRect();n.getWindowWidth()<t.width?(i.container.style.top="",i.container.style.left="",i.container.classList.add("jmodal_fullscreen"),n.animation.slideBottom(i.container,1)):i.options.backdrop&&(s.style.display="block"),"function"==typeof i.options.onopen&&i.options.onopen(e,i)},i.resetPosition=function(){i.container.style.top="",i.container.style.left=""},i.isOpen=function(){return"none"!=e.style.display},i.close=function(){e.style.display="none",i.options.backdrop&&(s.style.display=""),i.container.classList.remove("jmodal_fullscreen"),"function"==typeof i.options.onclose&&i.options.onclose(e,i)},!n.modal.hasEvents){var l=null;document.addEventListener("keydown",(function(e){if(27==e.which)for(var t=document.querySelectorAll(".jmodal"),n=0;n<t.length;n++)t[n].parentNode.modal.close()})),document.addEventListener("mouseup",(function(e){l&&(l.element.style.cursor="auto",l=null)})),document.addEventListener("mousedown",(function(e){var t=n.findElement(e.target,"jmodal");if(t){var i=t.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var r=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY;else r=e.clientX,o=e.clientY;i.width-(r-i.left)<50&&o-i.top<50?t.parentNode.modal.close():e.target.getAttribute("title")&&o-i.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),l={left:i.left,top:i.top,x:e.clientX,y:e.clientY,width:i.width,height:i.height,element:t})}})),document.addEventListener("mousemove",(function(e){if(l){if((e=e||window.event).buttons)var t=e.buttons;else t=e.button?e.button:e.which;t?(l.element.style.top=l.top+(e.clientY-l.y)+l.height/2+"px",l.element.style.left=l.left+(e.clientX-l.x)+l.width/2+"px",l.element.style.cursor="move"):l.element.style.cursor="auto"}})),n.modal.hasEvents=!0}return i.options.url?n.ajax({url:i.options.url,method:"GET",dataType:"text/html",success:function(e){i.content.innerHTML=e,i.options.closed||i.open()}}):i.options.closed||i.open(),e.modal=i,i},n.notification=function(e){var t={options:{}},i={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var r in i)e&&e.hasOwnProperty(r)?t.options[r]=e[r]:t.options[r]=i[r];var o=document.createElement("div");o.className="jnotification",t.options.error&&o.classList.add("jnotification-error");var a=document.createElement("div");a.className="jnotification-container",o.appendChild(a);var s=document.createElement("div");s.className="jnotification-header",a.appendChild(s);var l=document.createElement("div");if(l.className="jnotification-image",s.appendChild(l),t.options.icon){var c=document.createElement("img");c.src=t.options.icon,l.appendChild(c)}var u=document.createElement("div");if(u.className="jnotification-name",u.innerHTML=t.options.name,s.appendChild(u),1==t.options.closeable){var d=document.createElement("div");d.className="jnotification-close",d.onclick=function(){t.hide()},s.appendChild(d)}var h=document.createElement("div");h.className="jnotification-date",s.appendChild(h);var p=document.createElement("div");if(p.className="jnotification-content",a.appendChild(p),t.options.title){var f=document.createElement("div");f.className="jnotification-title",f.innerHTML=t.options.title,p.appendChild(f)}var A=document.createElement("div");if(A.className="jnotification-message",A.innerHTML=t.options.message,p.appendChild(A),t.show=function(){document.body.appendChild(o),n.getWindowWidth()>800?n.animation.fadeIn(o):n.animation.slideTop(o,1)},t.hide=function(){n.getWindowWidth()>800?n.animation.fadeOut(o,(function(){o.parentNode&&(o.parentNode.removeChild(o),m&&clearTimeout(m))})):n.animation.slideTop(o,0,(function(){o.parentNode&&(o.parentNode.removeChild(o),m&&clearTimeout(m))}))},t.show(),1==t.options.autoHide)var m=setTimeout((function(){t.hide()}),t.options.timeout);return n.getWindowWidth()<800&&o.addEventListener("swipeup",(function(e){t.hide(),e.preventDefault(),e.stopPropagation()})),t},n.notification.isVisible=function(){var e=document.querySelector(".jnotification");return!(!e||!e.parentNode)},n.palette=(e={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"]]},(t=function(t){return e[t]?e[t]:e.material}).get=function(t){return e[t]?e[t]:e},t.set=function(t,n){e[t]=n},t),n.picker=function(e,t){if(e.picker)return e.picker.setOptions(t,!0);var i={type:"picker",options:{}},r=null,o=null;return i.setOptions=function(e,t){var n={value:0,data:null,render:null,onchange:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,content:!1,columns:null,height:null};for(var a in e&&e.options&&(e.data=e.options),n)e&&e.hasOwnProperty(a)?i.options[a]=e[a]:void 0!==i.options[a]&&!0!==t||(i.options[a]=n[a]);return!1===i.options.header?r.style.display="none":r.style.display="",i.options.width?r.style.width=parseInt(i.options.width)+"px":r.style.width="",i.options.height?(o.style.maxHeight=i.options.height+"px",o.style.overflow="scroll"):o.style.overflow="",i.options.columns>0&&(o.classList.add("jpicker-columns"),o.style.width=i.options.width?i.options.width:36*i.options.columns+"px"),isNaN(i.options.value)&&(i.options.value="0"),function(){o.innerHTML="";for(var e=Object.keys(i.options.data),t=0;t<e.length;t++){var n=document.createElement("div");n.classList.add("jpicker-item"),n.k=e[t],n.v=i.options.data[e[t]],n.innerHTML=i.getLabel(e[t]),o.appendChild(n)}}(),i.setValue(i.options.value),i},i.getValue=function(){return i.options.value},i.setValue=function(t){i.setLabel(t),i.options.value=String(t),e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value})),"generic"!==o.children[t].getAttribute("type")&&i.close()},i.getLabel=function(e){var t=i.options.data[e]||null;return"function"==typeof i.options.render&&(t=i.options.render(t)),t},i.setLabel=function(e){if(i.options.content)var t='<i class="material-icons">'+i.options.content+"</i>";else t=i.getLabel(e);r.innerHTML=t},i.open=function(){if(!e.classList.contains("jpicker-focus")){n.tracking(i,!0),e.classList.add("jpicker-focus"),e.focus();var t=r.getBoundingClientRect(),a=o.getBoundingClientRect();window.innerHeight<t.bottom+a.height?o.style.marginTop=-1*(a.height+4)+"px":o.style.marginTop=t.height+2+"px",!0===i.options.right&&(o.style.marginLeft=-1*a.width+24+"px"),"function"==typeof i.options.onopen&&i.options.onopen(e,i)}},i.close=function(){e.classList.contains("jpicker-focus")&&(e.classList.remove("jpicker-focus"),n.tracking(i,!1),"function"==typeof i.options.onclose&&i.options.onclose(e,i))},e.classList.add("jpicker"),e.setAttribute("tabindex","900"),e.onmousedown=function(t){e.classList.contains("jpicker-focus")||i.open()},(r=document.createElement("div")).classList.add("jpicker-header"),(o=document.createElement("div")).classList.add("jpicker-content"),o.onclick=function(t){var r=n.findElement(t.target,"jpicker-item");r&&r.parentNode===o&&(i.setValue(r.k),"function"==typeof i.options.onchange&&i.options.onchange.call(i,e,i,r.v,r.v,r.k))},e.appendChild(r),e.appendChild(o),e.value=t.value||0,i.setOptions(t),"function"==typeof i.options.onload&&i.options.onload(e,i),e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},e.picker=i,i},n.progressbar=function(e,t){var n={options:{}},i={value:0,onchange:null,width:null};for(var r in i)t&&t.hasOwnProperty(r)?n.options[r]=t[r]:n.options[r]=i[r];e.classList.add("jprogressbar"),e.setAttribute("tabindex",1),e.setAttribute("data-value",n.options.value);var o=document.createElement("div");o.style.width=n.options.value+"%",o.style.color="#fff",e.appendChild(o),n.options.width&&(e.style.width=n.options.width),n.setValue=function(t){t=parseInt(t),n.options.value=t,o.style.width=t+"%",e.setAttribute("data-value",t+"%"),e.style.color=t<6?"#000":"#fff",n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value}))},n.getValue=function(){return n.options.value};var a=function(t){if(t.which){var i=e.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var r=t.changedTouches[0].clientX;t.changedTouches[0].clientY}else r=t.clientX,t.clientY;n.setValue(Math.round((r-i.left)/i.width*100))}};return"touchstart"in document.documentElement==1?(e.addEventListener("touchstart",a),e.addEventListener("touchend",a)):(e.addEventListener("mousedown",a),e.addEventListener("mousemove",a)),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.progressbar=n,n},n.rating=function(e,t){if(e.rating)return e.rating.setOptions(t,!0);var n={options:{},setOptions:function(t,i){var r={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var o in r)t&&t.hasOwnProperty(o)?n.options[o]=t[o]:void 0!==n.options[o]&&!0!==i||(n.options[o]=r[o]);e.innerHTML="";for(var a=0;a<n.options.number;a++){var s=document.createElement("div");s.setAttribute("data-index",a+1),s.setAttribute("title",n.options.tooltip[a]),e.appendChild(s)}if(n.options.value)for(a=0;a<n.options.number;a++)a<n.options.value&&e.children[a].classList.add("jrating-selected");return n},setValue:function(t){for(var i=0;i<n.options.number;i++)i<t?e.children[i].classList.add("jrating-selected"):(e.children[i].classList.remove("jrating-over"),e.children[i].classList.remove("jrating-selected"));n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value}))},getValue:function(){return n.options.value}};return n.setOptions(t),e.classList.add("jrating"),e.addEventListener("click",(function(e){var t=e.target.getAttribute("data-index");null!=t&&(t==n.options.value?n.setValue(0):n.setValue(t))})),e.addEventListener("mouseover",(function(t){for(var i=t.target.getAttribute("data-index"),r=0;r<n.options.number;r++)r<i?e.children[r].classList.add("jrating-over"):e.children[r].classList.remove("jrating-over")})),e.addEventListener("mouseout",(function(t){for(var i=0;i<n.options.number;i++)e.children[i].classList.remove("jrating-over")})),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.rating=n,n},n.search=function(e,t){if(e.search)return e.search;var i=null,r=function(t){if(l.innerHTML="",t.length){e.style.display="block";for(var n=t.length<11?t.length:10,i=0;i<n;i++){if("string"==typeof t[i])var r=t[i],o=t[i];else!(r=t[i].text)&&t[i].name&&(r=t[i].name),!(o=t[i].value)&&t[i].id&&(o=t[i].id);var a=document.createElement("div");a.setAttribute("data-value",o),a.setAttribute("data-text",r),a.className="jsearch_item",t[i].id&&a.setAttribute("id",t[i].id),s.options.forceSelect&&0==i&&a.classList.add("selected");var c=document.createElement("img");t[i].image?c.src=t[i].image:c.style.display="none",a.appendChild(c);var u=document.createElement("div");u.innerHTML=r,a.appendChild(u),l.appendChild(a)}}else e.style.display=""},o=function(e){if(e!=s.terms)if(s.terms=e,i=s.options.forceSelect?0:null,Array.isArray(s.options.data)){var t=s.options.data.filter((function(t){return function(t){if("string"==typeof t){if((""+t).toLowerCase().search(e.toLowerCase())>=0)return!0}else for(var n in t)if((""+t[n]).toLowerCase().search(e.toLowerCase())>=0)return!0;return!1}(t)}));r(t)}else n.ajax({url:s.options.data+e,method:"GET",dataType:"json",success:function(e){r(e)}})},a=null,s=function(e){a&&clearTimeout(a),a=setTimeout((function(){o(e)}),500)};null===t.forceSelect&&(t.forceSelect=!0),s.options={data:t.data||null,input:t.input||null,onselect:t.onselect||null,forceSelect:t.forceSelect},s.selectIndex=function(e){var t=e.getAttribute("id"),n=e.getAttribute("data-text"),i=e.getAttribute("data-value");"function"==typeof s.options.onselect&&s.options.onselect(s,n,i,t),s.close()},s.open=function(){e.style.display="block"},s.close=function(){a&&clearTimeout(a),s.terms="",l.innerHTML="",e.style.display=""},s.isOpened=function(){return!!e.style.display},s.keydown=function(e){s.isOpened()&&("Enter"==e.key?null!==i&&l.children[i]?(s.selectIndex(l.children[i]),e.preventDefault()):s.close():"ArrowUp"===e.key?(null!==i&&l.children[0]&&(l.children[i].classList.remove("selected"),s.options.forceSelect||0!==i?(i=Math.max(0,i-1),l.children[i].classList.add("selected")):i=null),e.preventDefault()):"ArrowDown"===e.key&&(null==i?i=-1:l.children[i].classList.remove("selected"),i<9&&l.children[i+1]&&i++,l.children[i].classList.add("selected"),e.preventDefault()))},s.keyup=function(e){if(s.options.input)s(s.options.input.value);else{var t=n.getNode();t&&s(t.innerText)}},s.options.input&&(s.options.input.addEventListener("keyup",s.keyup),s.options.input.addEventListener("keydown",s.keydown));var l=document.createElement("div");return l.classList.add("jsearch_container"),l.onmousedown=function(e){if(e.target.classList.contains("jsearch_item"))var t=e.target;else t=e.target.parentNode;s.selectIndex(t),e.preventDefault()},e.appendChild(l),e.classList.add("jsearch"),e.search=s,s},n.slider=function(e,t){var n={options:{},currentImage:null};if(t&&(n.options=t),e.setAttribute("tabindex","900"),n.options.items=[],!e.classList.contains("jslider")){if(e.classList.add("jslider"),e.classList.add("unselectable"),n.options.height&&(e.style.minHeight=n.options.height),n.options.width&&(e.style.width=n.options.width),n.options.grid){e.classList.add("jslider-grid");var i=e.children.length;i>4&&e.setAttribute("data-total",i-4),e.setAttribute("data-number",i>4?4:i)}var r=document.createElement("div");if(r.classList.add("jslider-counter"),e.children.length>0)for(var o=0;o<e.children.length;o++){n.options.items.push(e.children[o]);var a=document.createElement("div");a.onclick=function(){var e=Array.prototype.slice.call(r.children).indexOf(this);n.show(n.currentImage=n.options.items[e])},r.appendChild(a)}var s=document.createElement("div");s.className="jslider-caption";var l=document.createElement("div"),c=document.createElement("div");c.className="jslider-close",c.innerHTML="",c.onclick=function(){n.close()},l.appendChild(s),l.appendChild(c)}n.updateCounter=function(e){for(var t=0;t<r.children.length;t++)if(r.children[t].classList.contains("jslider-counter-focus")){r.children[t].classList.remove("jslider-counter-focus");break}r.children[e].classList.add("jslider-counter-focus")},n.show=function(t){t||(t=e.children[0]),e.classList.add("jslider-focus"),e.classList.remove("jslider-grid"),e.appendChild(l),e.appendChild(r);var i=n.options.items.indexOf(t);n.updateCounter(i);for(var o=0;o<e.children.length;o++)e.children[o].style.display="";t.style.display="block",t.previousElementSibling?e.classList.add("jslider-left"):e.classList.remove("jslider-left"),t.nextElementSibling&&"IMG"==t.nextElementSibling.tagName?e.classList.add("jslider-right"):e.classList.remove("jslider-right"),n.currentImage=t,n.currentImage.offsetHeight>n.currentImage.offsetWidth&&n.currentImage.classList.add("jslider-vertical"),l.children[0].innerText=n.currentImage.getAttribute("title")},n.open=function(){n.show(),"function"==typeof n.options.onopen&&n.options.onopen(e)},n.close=function(){e.classList.remove("jslider-focus"),e.classList.remove("jslider-left"),e.classList.remove("jslider-right"),n.options.grid&&e.classList.add("jslider-grid");for(var t=0;t<e.children.length;t++)e.children[t].style.display="";r.remove(),l.remove(),n.currentImage=null,"function"==typeof n.options.onclose&&n.options.onclose(e)},n.reset=function(){e.innerHTML=""},n.next=function(){var e=n.currentImage.nextElementSibling;e&&"IMG"===e.tagName&&n.show(n.currentImage.nextElementSibling)},n.prev=function(){n.currentImage.previousElementSibling&&n.show(n.currentImage.previousElementSibling)};var u=function(e){if("IMG"==e.target.tagName)n.show(e.target);else if(!e.target.classList.contains("jslider-close")&&!e.target.parentNode.classList.contains("jslider-counter")&&!e.target.classList.contains("jslider-counter")){var t=e.offsetX||e.changedTouches[0].clientX;e.target.clientWidth-t<40?n.next():t<40&&n.prev()}};return"ontouchend"in document.documentElement==1?e.addEventListener("touchend",u):e.addEventListener("mouseup",u),e.addEventListener("swipeleft",(function(e){n.next(),e.preventDefault(),e.stopPropagation()})),e.addEventListener("swiperight",(function(e){n.prev(),e.preventDefault(),e.stopPropagation()})),e.addEventListener("keydown",(function(e){27==e.which&&n.close()})),e.slider=n,n},n.sorting=function(e,t){var n={options:{}},i={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},r=null;for(var o in i)t&&t.hasOwnProperty(o)?n.options[o]=t[o]:n.options[o]=i[o];e.classList.add("jsorting"),e.addEventListener("dragstart",(function(t){var i=Array.prototype.indexOf.call(t.target.parentNode.children,t.target);r={element:t.target,o:i,d:i},t.target.style.opacity="0.25","function"==typeof n.options.ondragstart&&n.options.ondragstart(e,t.target,t)})),e.addEventListener("dragover",(function(e){if(e.preventDefault(),a(e.target)&&r&&"true"==e.target.getAttribute("draggable")&&r.element!=e.target){if(n.options.direction)t=e.target.clientWidth/2>e.offsetX;else var t=e.target.clientHeight/2>e.offsetY;t?e.target.parentNode.insertBefore(r.element,e.target):e.target.parentNode.insertBefore(r.element,e.target.nextSibling),r.d=Array.prototype.indexOf.call(e.target.parentNode.children,r.element)}})),e.addEventListener("dragleave",(function(e){e.preventDefault()})),e.addEventListener("dragend",(function(t){t.preventDefault(),r&&("function"==typeof n.options.ondragend&&n.options.ondragend(e,r.element,t),r.o<r.d?t.target.parentNode.insertBefore(r.element,t.target.parentNode.children[r.o]):t.target.parentNode.insertBefore(r.element,t.target.parentNode.children[r.o].nextSibling),r.element.style.opacity="",r=null)})),e.addEventListener("drop",(function(t){t.preventDefault(),r&&r.o!=r.d&&"function"==typeof n.options.ondrop&&n.options.ondrop(e,r.o,r.d,r.element,t.target,t),r.element.style.opacity="",r=null}));for(var a=function(e){var t=!1;return function e(n){n.className&&n.classList.contains("jsorting")&&(t=!0),t||e(n.parentNode)}(e),t},s=0;s<e.children.length;s++)e.children[s].hasAttribute("draggable")||e.children[s].setAttribute("draggable","true");return e.val=function(){for(var t=null,n=[],i=0;i<e.children.length;i++)(t=e.children[i].getAttribute("data-id"))&&n.push(t);return n},e},n.tabs=function(e,t){var i={options:{}},r={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(var o in r)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:i.options[o]=r[o];e.classList.add("jtabs");var a=null,s=null,l=null,c=function(e){if(i.options.animation){var t=i.headers.children[e].getBoundingClientRect();"modern"==i.options.palette?(l.style.width=t.width-4+"px",l.style.left=i.headers.children[e].offsetLeft+2+"px"):(l.style.width=t.width+"px",l.style.left=i.headers.children[e].offsetLeft+"px"),"bottom"==i.options.position?l.style.top="0px":l.style.bottom="0px"}},u=function(e){"function"==typeof i.headers.scrollTo?i.headers.scrollTo({left:e,behavior:"smooth"}):i.headers.scrollLeft=e,e<=1?a.classList.add("disabled"):a.classList.remove("disabled"),e>=i.headers.scrollWidth-i.headers.offsetWidth?s.classList.add("disabled"):s.classList.remove("disabled"),i.headers.scrollWidth<=i.headers.offsetWidth?(a.style.display="none",s.style.display="none"):(a.style.display="",s.style.display="")};if(i.setBorder=c,i.open=function(t){for(var n=null,r=0;r<i.headers.children.length;r++)i.headers.children[r].classList.contains("jtabs-selected")&&(n=r),i.headers.children[r].classList.remove("jtabs-selected"),i.content.children[r]&&i.content.children[r].classList.remove("jtabs-selected");if(i.headers.children[t].classList.add("jtabs-selected"),i.content.children[t]&&i.content.children[t].classList.add("jtabs-selected"),n!=t&&"function"==typeof i.options.onchange&&i.content.children[t]&&i.options.onchange(e,i,t,i.headers.children[t],i.content.children[t]),1==i.options.hideHeaders&&i.headers.children.length<3&&0==i.options.allowCreate)i.headers.parentNode.style.display="none";else{c(t),i.headers.parentNode.style.display="";var o=i.headers.children[t].offsetLeft,a=o+i.headers.children[t].offsetWidth,s=i.headers.scrollLeft,l=s+i.headers.offsetWidth;s<=o&&l>=a||u(o-1)}},i.selectIndex=function(e){var t=Array.prototype.indexOf.call(i.headers.children,e);return t>=0&&i.open(t),t},i.rename=function(e,t){t||(t=prompt("New title",i.headers.children[e].innerText)),i.headers.children[e].innerText=t,i.open(e)},i.create=function(t,n){if("function"==typeof i.options.onbeforecreate){var r=i.options.onbeforecreate(e);if(!1===r)return!1;t=r}var o=i.appendElement(t);return"function"==typeof i.options.oncreate&&i.options.oncreate(e,o),o},i.remove=function(e){return i.deleteElement(e)},i.nextNumber=function(){for(var e=0,t=0;t<i.headers.children.length;t++){var n=i.headers.children[t].innerText.match(/[0-9].*/);n>e&&(e=parseInt(n))}return e?e++:e=1,e},i.deleteElement=function(t){if(!i.headers.children[t])return!1;i.headers.removeChild(i.headers.children[t]),i.content.removeChild(i.content.children[t]),i.open(0),"function"==typeof i.options.ondelete&&i.options.ondelete(e,t)},i.appendElement=function(e,t){if(e||(e=prompt("Title?","")),e){var n=document.createElement("div");i.content.appendChild(n);var r=document.createElement("div");return r.innerHTML=e,r.content=n,i.headers.insertBefore(r,i.headers.lastChild),i.options.allowChangePosition&&r.setAttribute("draggable","true"),i.selectIndex(r),"function"==typeof t&&t(n,r),n}},i.getActive=function(){for(var e=0;e<i.headers.children.length;e++)if(i.headers.children[e].classList.contains("jtabs-selected"))return e;return 0},i.updateContent=function(e,t){"string"!=typeof t||(document.createElement("div").innerHTML=t),i.content.children[e].classList.contains("jtabs-selected")&&t.classList.add("jtabs-selected"),i.content.replaceChild(t,i.content.children[e])},i.updatePosition=function(e,t){e>t?i.content.insertBefore(i.content.children[e],i.content.children[t]):i.content.insertBefore(i.content.children[e],i.content.children[t].nextSibling),i.open(t),"function"==typeof i.options.onchangeposition&&i.options.onchangeposition(i.headers,e,t)},i.move=function(e,t){e>t?i.headers.insertBefore(i.headers.children[e],i.headers.children[t]):i.headers.insertBefore(i.headers.children[e],i.headers.children[t].nextSibling),i.updatePosition(e,t)},i.setBorder=c,i.init=function(){e.innerHTML="",i.headers=document.createElement("div"),i.content=document.createElement("div"),i.headers.classList.add("jtabs-headers"),i.content.classList.add("jtabs-content"),i.options.palette?e.classList.add("jtabs-modern"):e.classList.remove("jtabs-modern"),i.options.padding&&(i.content.style.padding=parseInt(i.options.padding)+"px");var t=document.createElement("div");t.className="jtabs-headers-container",t.appendChild(i.headers),i.options.maxWidth&&(t.style.maxWidth=parseInt(i.options.maxWidth)+"px");var r=document.createElement("div");if(r.className="jtabs-controls",r.setAttribute("draggable","false"),t.appendChild(r),"bottom"==i.options.position?(e.appendChild(i.content),e.appendChild(t)):(e.appendChild(t),e.appendChild(i.content)),1==i.options.allowCreate){var o=document.createElement("div");o.className="jtabs-add",o.onclick=function(){i.create()},r.appendChild(o)}(a=document.createElement("div")).className="jtabs-prev",a.onclick=function(){u(i.headers.scrollLeft-i.headers.offsetWidth)},r.appendChild(a),(s=document.createElement("div")).className="jtabs-next",s.onclick=function(){u(i.headers.scrollLeft+i.headers.offsetWidth)},r.appendChild(s);for(var c=0;c<i.options.data.length;c++){if(i.options.data[c].titleElement)var d=i.options.data[c].titleElement;else d=document.createElement("div");if(i.options.data[c].icon){var h=document.createElement("div"),p=document.createElement("i");p.classList.add("material-icons"),p.innerHTML=i.options.data[c].icon,h.appendChild(p),d.appendChild(h)}if(i.options.data[c].title){var f=document.createTextNode(i.options.data[c].title);d.appendChild(f)}if(i.options.data[c].width&&(d.style.width=i.options.data[c].width),i.options.data[c].contentElement)var A=i.options.data[c].contentElement;else(A=document.createElement("div")).innerHTML=i.options.data[c].content;i.headers.appendChild(d),i.content.appendChild(A)}(l=document.createElement("div")).className="jtabs-border",i.headers.appendChild(l),i.options.animation&&e.classList.add("jtabs-animation"),i.headers.addEventListener("click",(function(t){if(t.target.parentNode.classList.contains("jtabs-headers"))var n=t.target;else n="I"==t.target.tagName?t.target.parentNode.parentNode:t.target.parentNode;var r=i.selectIndex(n);"function"==typeof i.options.onclick&&i.options.onclick(e,i,r,i.headers.children[r],i.content.children[r])})),i.headers.addEventListener("contextmenu",(function(e){i.selectIndex(e.target)})),i.headers.children.length&&i.open(0),u(0),1==i.options.allowChangePosition&&n.sorting(i.headers,{direction:1,ondrop:function(e,t,n){i.updatePosition(t,n)}}),"function"==typeof i.options.onload&&i.options.onload(e,i)},e.children[0]&&e.children[0].children.length)for(var d=0;d<e.children[0].children.length;d++){var h=i.options.data&&i.options.data[d]?i.options.data[d]:{};e.children[1]&&e.children[1].children[d]?(h.titleElement=e.children[0].children[d],h.contentElement=e.children[1].children[d]):h.contentElement=e.children[0].children[d],i.options.data[d]=h}var p=!1;if(i.options.data)for(d=0;d<i.options.data.length;d++)i.options.data[d].url&&(n.ajax({url:i.options.data[d].url,type:"GET",dataType:"text/html",index:d,success:function(e){i.options.data[this.index].content=e},complete:function(){i.init()}}),p=!0);return p||i.init(),e.tabs=i,i},n.tags=function(e,t){if(e.tags)return e.tags.setOptions(t,!0);var i={type:"tags",options:{}},r=function(){return!!(i.options.limit&&e.children.length>=i.options.limit)},o=null,a=null;i.setOptions=function(t,r){var s={value:"",limit:null,limitMessage:null,search:null,placeholder:null,validation:null,onbeforechange:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var l in s)t&&t.hasOwnProperty(l)?i.options[l]=t[l]:void 0!==i.options[l]&&!0!==r||(i.options[l]=s[l]);return i.options.placeholder?e.setAttribute("data-placeholder",i.options.placeholder):e.removeAttribute("data-placeholder"),e.placeholder=i.options.placeholder,i.setValue(i.options.value),u(),i.options.search?a||(a=document.createElement("div"),e.parentNode.insertBefore(a,e.nextSibling),o=n.search(a,{data:i.options.search,onselect:function(e,t,n){i.selectIndex(t,n)}})):a&&(o=null,a.remove(),a=null),i},i.add=function(t,a){if("function"==typeof i.options.onbeforechange){var u=i.options.onbeforechange(e,i,i.options.value,t);if(!1===u)return!1;null!=u&&(t=u)}if(o&&o.close(),r())"function"==typeof i.options.onlimit?i.options.onlimit(i,i.options.limit):i.options.limitMessage&&alert(i.options.limitMessage+" "+i.options.limit);else{var d=n.getNode();if(!(d&&d.parentNode&&d.parentNode.classList.contains("jtags")&&d.nextSibling)||d.nextSibling.innerText&&d.nextSibling.innerText.trim()){if(e.lastChild&&(e.lastChild.innerText.trim()||e.removeChild(e.lastChild)),t&&"string"!=typeof t){for(var h=0;h<=t.length;h++)if(!r()){if(t[h]&&"string"!=typeof t[h])p=t[h].text,f=t[h].value;else var p=t[h]||"",f=null;A=l(p,f)}}else var A=l(t,t,d);c()}else A=d.nextSibling;a&&s(A)}},i.setLimit=function(t){for(i.options.limit=t,e.children.length;e.children.length>t;)e.removeChild(e.lastChild)},i.remove=function(t){t.parentNode.removeChild(t),e.children.length?c():i.add("",!0)},i.getData=function(){for(var t=[],n=0;n<e.children.length;n++){var i=e.children[n].innerText.replace("\n",""),r=e.children[n].getAttribute("data-value");r||(r=i),(i||r)&&t.push({text:i,value:r})}return t},i.getValue=function(t){var n=null;if(null!=t)(n=e.children[t].getAttribute("data-value"))||(n=e.children[t].innerText.replace("\n",""));else{for(var r=[],o=0;o<e.children.length;o++)(n=e.children[o].innerText.replace("\n",""))&&r.push(i.getValue(o));n=r.join(",")}return n},i.setValue=function(t){if(t){if(e.value!=t)if(Array.isArray(t))i.add(t);else{var n=(""+t).trim(),r=h(n);e.innerHTML="",i.add(r)}}else i.reset()},i.reset=function(){e.classList.add("jtags-empty"),e.innerHTML="<div></div>",c()},i.isValid=function(){for(var t=0,n=0;n<e.children.length;n++)e.children[n].classList.contains("jtags_error")&&t++;return 0==t},i.selectIndex=function(e,t){var o=n.getNode();o&&(o.innerText=e,t&&o.setAttribute("data-value",t),o.classList.remove("jtags_error"),r()||i.add("",!0))},i.search=function(e){e.innerText},i.destroy=function(){e.removeEventListener("mouseup",g),e.removeEventListener("keydown",f),e.removeEventListener("keyup",A),e.removeEventListener("paste",m),e.removeEventListener("focus",v),e.removeEventListener("blur",b),e.parentNode.removeChild(e)};var s=function(t){if(e.children.length>1){var n=document.createRange(),i=window.getSelection();t||(t=e.childNodes[e.childNodes.length-1]),n.setStart(t,t.length),n.collapse(!0),i.removeAllRanges(),i.addRange(n),e.scrollLeft=e.scrollWidth}},l=function(t,n,i){var r=document.createElement("div");return r.innerHTML=t||"",n&&r.setAttribute("data-value",n),i&&i.parentNode.classList.contains("jtags")?e.insertBefore(r,i.nextSibling):e.appendChild(r),r},c=function(){var t=i.getValue();t!=i.options.value&&(i.options.value=t,"function"==typeof i.options.onchange&&i.options.onchange(e,i,i.options.value),e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.onchange&&e.onchange({type:"change",target:e,value:e.value}))),u()},u=function(){for(var t=0;t<e.children.length;t++)i.getValue(t)?(e.children[t].classList.add("jtags_label"),"function"==typeof i.options.validation&&i.getValue(t)?i.options.validation(e.children[t],e.children[t].innerText,e.children[t].getAttribute("data-value"))?e.children[t].classList.remove("jtags_error"):e.children[t].classList.add("jtags_error"):e.children[t].classList.remove("jtags_error")):e.children[t].classList.remove("jtags_label");d()},d=function(){e.innerText.trim()?e.classList.remove("jtags-empty"):(e.innerHTML="<div></div>",e.classList.add("jtags-empty"))},h=function(e){var t=[],n="";if(e=e.trim()){for(var i=0;i<e.length;i++)","==e[i]||";"==e[i]||"\n"==e[i]?n&&(t.push(n.trim()),n=""):n+=e[i];n&&t.push(n)}return t},p=0,f=function(t){p=window.getSelection().anchorOffset,d(),"Tab"===t.key||";"===t.key||","===t.key?(window.getSelection().anchorOffset>1&&(r()?"function"==typeof i.options.onlimit&&i.options.onlimit(i,i.options.limit):i.add("",!0)),t.preventDefault()):"Enter"==t.key?o&&o.isOpened()||(window.getSelection().anchorOffset>1&&(r()||i.add("",!0)),t.preventDefault()):"Backspace"==t.key&&1==e.children.length&&window.getSelection().anchorOffset<1&&t.preventDefault(),o&&o.keydown(t)},A=function(e){if(39==e.which){var t=window.getSelection().anchorOffset;t>1&&t==p&&i.add("",!0)}else 13==e.which||38==e.which||40==e.which?e.preventDefault():o&&o.keyup(e);u()},m=function(e){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/plain");else window.clipboardData&&(t=window.clipboardData.getData("Text"));var n=h(t);n.length>1&&(i.add(n,!0),e.preventDefault())},g=function(t){if(t.target.parentNode&&t.target.parentNode.classList.contains("jtags")&&(t.target.classList.contains("jtags_label")||t.target.classList.contains("jtags_error"))){var n=t.target.getBoundingClientRect();n.width-(t.clientX-n.left)<16&&i.remove(t.target)}t.target==e&&s()},v=function(){e.classList.contains("jtags-focus")||(e.children.length&&!i.getValue(e.children.length-1)||r()||l(""),"function"==typeof i.options.onfocus&&i.options.onfocus(e,i,i.getValue()),e.classList.add("jtags-focus"))},b=function(){if(e.classList.contains("jtags-focus")){o&&o.close();for(var t=0;t<e.children.length-1;t++)i.getValue(t)||e.removeChild(e.children[t]);c(),e.classList.remove("jtags-focus"),"function"==typeof i.options.onblur&&i.options.onblur(e,i,i.getValue())}};return"touchend"in document.documentElement==1?e.addEventListener("touchend",g):e.addEventListener("mouseup",g),e.addEventListener("keydown",f),e.addEventListener("keyup",A),e.addEventListener("paste",m),e.addEventListener("focus",v),e.addEventListener("blur",b),e.setAttribute("contenteditable",!0),e.classList.add("jtags"),i.setOptions(t),"function"==typeof i.options.onload&&i.options.onload(e,i),e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},e.tags=i,i},n.toolbar=function(e,t){var i={type:"toolbar",options:{}},r={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(var o in r)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:i.options[o]=r[o];!e&&t.app&&t.app.el&&(e=document.createElement("div"),t.app.el.appendChild(e));var a=document.createElement("div");a.classList.add("jtoolbar-item"),a.classList.add("jtoolbar-arrow");var s=document.createElement("div");s.classList.add("jtoolbar-floating"),a.appendChild(s),i.selectItem=function(e){for(var t=l.children,n=0;n<t.length;n++)e!=t[n]&&t[n].classList.remove("jtoolbar-selected");e.classList.add("jtoolbar-selected")},i.hide=function(){n.animation.slideBottom(e,0,(function(){e.style.display="none"}))},i.show=function(){e.style.display="",n.animation.slideBottom(e,1)},i.get=function(){return e},i.setBadge=function(e,t){l.children[e].children[1].firstChild.innerHTML=t},i.destroy=function(){toolbar.remove(),e.innerHTML=""},i.update=function(t,n){for(var r=0;r<l.children.length;r++){var o=l.children[r];"function"==typeof o.updateState&&o.updateState(e,i,o,t,n)}},i.create=function(t){l.innerHTML="";for(var r=0;r<t.length;r++){var o=document.createElement("div");if(o.classList.add("jtoolbar-item"),t[r].width&&(o.style.width=parseInt(t[r].width)+"px"),t[r].k&&(o.k=t[r].k),t[r].tooltip&&o.setAttribute("title",t[r].tooltip),t[r].id&&o.setAttribute("id",t[r].id),t[r].updateState&&(o.updateState=t[r].updateState),t[r].active&&o.classList.add("jtoolbar-active"),"select"==t[r].type||"dropdown"==t[r].type)n.picker(o,t[r]);else if("divisor"==t[r].type)o.classList.add("jtoolbar-divisor");else if("label"==t[r].type)o.classList.add("jtoolbar-label"),o.innerHTML=t[r].content;else{var a=document.createElement("i");if(void 0===t[r].class)a.classList.add("material-icons");else for(var s=t[r].class.split(" "),c=0;c<s.length;c++)a.classList.add(s[c]);if(a.innerHTML=t[r].content?t[r].content:"",o.appendChild(a),1==i.options.badge){var u=document.createElement("div");u.classList.add("jbadge");var d=document.createElement("div");d.innerHTML=t[r].badge?t[r].badge:"",u.appendChild(d),o.appendChild(u)}if(t[r].title)if(1==i.options.title){var h=document.createElement("span");h.innerHTML=t[r].title,o.appendChild(h)}else o.setAttribute("title",t[r].title);i.options.app&&t[r].route&&(o.route=t[r].route,o.onclick=function(){i.options.app.pages(this.route)},i.options.app.pages(t[r].route,{toolbarItem:o,closed:!0}))}t[r].onclick&&(o.onclick=t[r].onclick.bind(t[r],e,i,o)),l.appendChild(o)}setTimeout((function(){i.refresh()}),0)},i.open=function(){a.classList.add("jtoolbar-arrow-selected"),e.getBoundingClientRect(),s.getBoundingClientRect().bottom>window.innerHeight||i.options.bottom?s.style.bottom="0":s.style.removeProperty("bottom"),s.style.right="0",a.children[0].focus(),n.tracking(i,!0)},i.close=function(){a.classList.remove("jtoolbar-arrow-selected"),n.tracking(i,!1)},i.refresh=function(){if(1==i.options.responsive){var t=e.parentNode.getBoundingClientRect();i.options.maxWidth||(i.options.maxWidth=t.width);var n=parseInt(i.options.maxWidth);for(a.remove();s.firstChild;)l.appendChild(s.firstChild);if(n<l.offsetWidth)for(n-=50;l.lastChild&&n<l.offsetWidth;)s.insertBefore(l.lastChild,s.firstChild);s.children.length>0&&l.appendChild(a)}},e.onclick=function(e){var t=n.findElement(e.target,"jtoolbar-item");t&&i.selectItem(t),e.target.classList.contains("jtoolbar-arrow")&&i.open()},window.addEventListener("resize",(function(){i.refresh()})),e.classList.add("jtoolbar"),e.innerHTML="",1==i.options.container&&e.classList.add("jtoolbar-container");var l=document.createElement("div");return e.appendChild(l),i.options.app&&e.classList.add("jtoolbar-mobile"),i.create(i.options.items),e.toolbar=i,i},n.validations=function(e,t){return"function"==typeof n.validations[t.type]?n.validations[t.type](e,t):null},n.validations.email=function(e){var t=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!(!e||!t.test(e))},n.validations.required=function(e){return!!e.trim()},n.validations.number=function(e){return n.isNumber(e)},n.validations.login=function(e){var t=new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);return!(!e||!t.test(e))};var i=function(e,t){return"="===t.constraint?e===t.reference:"<"===t.constraint?e<t.reference:"<="===t.constraint?e<=t.reference:">"===t.constraint?e>t.reference:">="===t.constraint?e>=t.reference:"between"===t.constraint?e>=t.reference[0]&&e<=t.reference[1]:"not between"===t.constraint?e<t.reference[0]||e>t.reference[1]:null};return n.validations.number=function(e,t){return!!n.isNumeric(e)&&(void 0===t||void 0===t.constraint||i(e,t))},n.validations.date=function(e,t){return"Invalid Date"!=new Date(e)&&(void 0===t||void 0===t.constraint||("object"==typeof t?(e=new Date(e).getTime(),Array.isArray(t.reference)?t.reference=t.reference.map((function(e){return new Date(e).getTime()})):t.reference=new Date(t.reference).getTime(),i(e,t)):null))},n.validations.itemList=function(e,t){return t.reference.some((function(t){return t==e}))},n.validations.text=function(e,t){return"string"==typeof e&&(void 0===t||void 0===t.constraint||("="===t.constraint?e===t.reference:"contains"===t.constraint?e.includes(t.reference):"not contain"===t.constraint?!e.includes(t.reference):"email"===t.constraint?n.validations.email(e):"url"===t.constraint?!!new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(e):null))},n.validations.constraints=function(){},n}()},function(e,t,n){},function(e,t,n){},function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0})},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(35),r=n(36),o=n(37);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(e).length;default:if(i)return H(e).length;t=(""+t).toLowerCase(),i=!0}}function A(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return B(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,i,r){var o,a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function b(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,i){return Q(H(t,e.length-n),e,n,i)}function x(e,t,n,i){return Q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n,i){return x(e,t,n,i)}function _(e,t,n,i){return Q(R(t),e,n,i)}function j(e,t,n,i){return Q(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function C(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):A.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(i,r),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function k(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function S(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=P(e[o]);return r}function O(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function F(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function I(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,i,o){return o||I(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function D(e,t,n,i,o){return o||I(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:H(new l(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function P(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function R(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(7))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=c}return(p?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*A}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){},function(e,t,n){
/*!
 * tui-image-editor.js
 * @version 3.14.2
 * @author NHN. FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
var i;window,i=function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s="./src/index.js")}({"./node_modules/core-js-pure/es/promise/index.js":
/*!*******************************************************!*\
        !*** ./node_modules/core-js-pure/es/promise/index.js ***!
        \*******************************************************/
/*! no static exports found */
function(e,t,n){n(
/*! ../../modules/es.object.to-string */
"./node_modules/core-js-pure/modules/es.object.to-string.js"),n(
/*! ../../modules/es.string.iterator */
"./node_modules/core-js-pure/modules/es.string.iterator.js"),n(
/*! ../../modules/web.dom-collections.iterator */
"./node_modules/core-js-pure/modules/web.dom-collections.iterator.js"),n(
/*! ../../modules/es.promise */
"./node_modules/core-js-pure/modules/es.promise.js"),n(
/*! ../../modules/es.promise.all-settled */
"./node_modules/core-js-pure/modules/es.promise.all-settled.js"),n(
/*! ../../modules/es.promise.finally */
"./node_modules/core-js-pure/modules/es.promise.finally.js");var i=n(
/*! ../../internals/path */
"./node_modules/core-js-pure/internals/path.js");e.exports=i.Promise},"./node_modules/core-js-pure/features/promise/index.js":
/*!*************************************************************!*\
        !*** ./node_modules/core-js-pure/features/promise/index.js ***!
        \*************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../../es/promise */
"./node_modules/core-js-pure/es/promise/index.js");n(
/*! ../../modules/esnext.aggregate-error */
"./node_modules/core-js-pure/modules/esnext.aggregate-error.js"),n(
/*! ../../modules/esnext.promise.all-settled */
"./node_modules/core-js-pure/modules/esnext.promise.all-settled.js"),n(
/*! ../../modules/esnext.promise.try */
"./node_modules/core-js-pure/modules/esnext.promise.try.js"),n(
/*! ../../modules/esnext.promise.any */
"./node_modules/core-js-pure/modules/esnext.promise.any.js"),e.exports=i},"./node_modules/core-js-pure/internals/a-function.js":
/*!***********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/a-function.js ***!
        \***********************************************************/
/*! no static exports found */
function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"./node_modules/core-js-pure/internals/a-possible-prototype.js":
/*!*********************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/a-possible-prototype.js ***!
        \*********************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/is-object */
"./node_modules/core-js-pure/internals/is-object.js");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"./node_modules/core-js-pure/internals/add-to-unscopables.js":
/*!*******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/add-to-unscopables.js ***!
        \*******************************************************************/
/*! no static exports found */
function(e,t){e.exports=function(){}},"./node_modules/core-js-pure/internals/an-instance.js":
/*!************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/an-instance.js ***!
        \************************************************************/
/*! no static exports found */
function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"./node_modules/core-js-pure/internals/an-object.js":
/*!**********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/an-object.js ***!
        \**********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/is-object */
"./node_modules/core-js-pure/internals/is-object.js");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"./node_modules/core-js-pure/internals/array-includes.js":
/*!***************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/array-includes.js ***!
        \***************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/to-indexed-object */
"./node_modules/core-js-pure/internals/to-indexed-object.js"),r=n(
/*! ../internals/to-length */
"./node_modules/core-js-pure/internals/to-length.js"),o=n(
/*! ../internals/to-absolute-index */
"./node_modules/core-js-pure/internals/to-absolute-index.js"),a=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js":
/*!*********************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js ***!
        \*********************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/an-object */
"./node_modules/core-js-pure/internals/an-object.js");e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},"./node_modules/core-js-pure/internals/check-correctness-of-iteration.js":
/*!*******************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/check-correctness-of-iteration.js ***!
        \*******************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js")("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},"./node_modules/core-js-pure/internals/classof-raw.js":
/*!************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/classof-raw.js ***!
        \************************************************************/
/*! no static exports found */
function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js-pure/internals/classof.js":
/*!********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/classof.js ***!
        \********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/to-string-tag-support */
"./node_modules/core-js-pure/internals/to-string-tag-support.js"),r=n(
/*! ../internals/classof-raw */
"./node_modules/core-js-pure/internals/classof-raw.js"),o=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js")("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},"./node_modules/core-js-pure/internals/correct-prototype-getter.js":
/*!*************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/correct-prototype-getter.js ***!
        \*************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/fails */
"./node_modules/core-js-pure/internals/fails.js");e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"./node_modules/core-js-pure/internals/create-iterator-constructor.js":
/*!****************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/create-iterator-constructor.js ***!
        \****************************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/iterators-core */
"./node_modules/core-js-pure/internals/iterators-core.js").IteratorPrototype,r=n(
/*! ../internals/object-create */
"./node_modules/core-js-pure/internals/object-create.js"),o=n(
/*! ../internals/create-property-descriptor */
"./node_modules/core-js-pure/internals/create-property-descriptor.js"),a=n(
/*! ../internals/set-to-string-tag */
"./node_modules/core-js-pure/internals/set-to-string-tag.js"),s=n(
/*! ../internals/iterators */
"./node_modules/core-js-pure/internals/iterators.js"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(i,{next:o(1,n)}),a(e,c,!1,!0),s[c]=l,e}},"./node_modules/core-js-pure/internals/create-non-enumerable-property.js":
/*!*******************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/create-non-enumerable-property.js ***!
        \*******************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/descriptors */
"./node_modules/core-js-pure/internals/descriptors.js"),r=n(
/*! ../internals/object-define-property */
"./node_modules/core-js-pure/internals/object-define-property.js"),o=n(
/*! ../internals/create-property-descriptor */
"./node_modules/core-js-pure/internals/create-property-descriptor.js");e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js-pure/internals/create-property-descriptor.js":
/*!***************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/create-property-descriptor.js ***!
        \***************************************************************************/
/*! no static exports found */
function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js-pure/internals/define-iterator.js":
/*!****************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/define-iterator.js ***!
        \****************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/export */
"./node_modules/core-js-pure/internals/export.js"),r=n(
/*! ../internals/create-iterator-constructor */
"./node_modules/core-js-pure/internals/create-iterator-constructor.js"),o=n(
/*! ../internals/object-get-prototype-of */
"./node_modules/core-js-pure/internals/object-get-prototype-of.js"),a=n(
/*! ../internals/object-set-prototype-of */
"./node_modules/core-js-pure/internals/object-set-prototype-of.js"),s=n(
/*! ../internals/set-to-string-tag */
"./node_modules/core-js-pure/internals/set-to-string-tag.js"),l=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),c=n(
/*! ../internals/redefine */
"./node_modules/core-js-pure/internals/redefine.js"),u=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js"),d=n(
/*! ../internals/is-pure */
"./node_modules/core-js-pure/internals/is-pure.js"),h=n(
/*! ../internals/iterators */
"./node_modules/core-js-pure/internals/iterators.js"),p=n(
/*! ../internals/iterators-core */
"./node_modules/core-js-pure/internals/iterators-core.js"),f=p.IteratorPrototype,A=p.BUGGY_SAFARI_ITERATORS,m=u("iterator"),g=function(){return this};e.exports=function(e,t,n,u,p,v,b){r(n,t,u);var y,x,w,_=function(e){if(e===p&&k)return k;if(!A&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},j=t+" Iterator",C=!1,E=e.prototype,B=E[m]||E["@@iterator"]||p&&E[p],k=!A&&B||_(p),S="Array"==t&&E.entries||B;if(S&&(y=o(S.call(new e)),f!==Object.prototype&&y.next&&(d||o(y)===f||(a?a(y,f):"function"!=typeof y[m]&&l(y,m,g)),s(y,j,!0,!0),d&&(h[j]=g))),"values"==p&&B&&"values"!==B.name&&(C=!0,k=function(){return B.call(this)}),d&&!b||E[m]===k||l(E,m,k),h[t]=k,p)if(x={values:_("values"),keys:v?k:_("keys"),entries:_("entries")},b)for(w in x)(A||C||!(w in E))&&c(E,w,x[w]);else i({target:t,proto:!0,forced:A||C},x);return x}},"./node_modules/core-js-pure/internals/descriptors.js":
/*!************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/descriptors.js ***!
        \************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/fails */
"./node_modules/core-js-pure/internals/fails.js");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"./node_modules/core-js-pure/internals/document-create-element.js":
/*!************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/document-create-element.js ***!
        \************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),r=n(
/*! ../internals/is-object */
"./node_modules/core-js-pure/internals/is-object.js"),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},"./node_modules/core-js-pure/internals/dom-iterables.js":
/*!**************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/dom-iterables.js ***!
        \**************************************************************/
/*! no static exports found */
function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js-pure/internals/engine-is-ios.js":
/*!**************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/engine-is-ios.js ***!
        \**************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/engine-user-agent */
"./node_modules/core-js-pure/internals/engine-user-agent.js");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},"./node_modules/core-js-pure/internals/engine-user-agent.js":
/*!******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/engine-user-agent.js ***!
        \******************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/get-built-in */
"./node_modules/core-js-pure/internals/get-built-in.js");e.exports=i("navigator","userAgent")||""},"./node_modules/core-js-pure/internals/engine-v8-version.js":
/*!******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/engine-v8-version.js ***!
        \******************************************************************/
/*! no static exports found */
function(e,t,n){var i,r,o=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),a=n(
/*! ../internals/engine-user-agent */
"./node_modules/core-js-pure/internals/engine-user-agent.js"),s=o.process,l=s&&s.versions,c=l&&l.v8;c?r=(i=c.split("."))[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},"./node_modules/core-js-pure/internals/enum-bug-keys.js":
/*!**************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/enum-bug-keys.js ***!
        \**************************************************************/
/*! no static exports found */
function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js-pure/internals/export.js":
/*!*******************************************************!*\
        !*** ./node_modules/core-js-pure/internals/export.js ***!
        \*******************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),r=n(
/*! ../internals/object-get-own-property-descriptor */
"./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js").f,o=n(
/*! ../internals/is-forced */
"./node_modules/core-js-pure/internals/is-forced.js"),a=n(
/*! ../internals/path */
"./node_modules/core-js-pure/internals/path.js"),s=n(
/*! ../internals/function-bind-context */
"./node_modules/core-js-pure/internals/function-bind-context.js"),l=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),c=n(
/*! ../internals/has */
"./node_modules/core-js-pure/internals/has.js"),u=function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,h,p,f,A,m,g,v=e.target,b=e.global,y=e.stat,x=e.proto,w=b?i:y?i[v]:(i[v]||{}).prototype,_=b?a:a[v]||(a[v]={}),j=_.prototype;for(h in t)n=!o(b?h:v+(y?".":"#")+h,e.forced)&&w&&c(w,h),f=_[h],n&&(A=e.noTargetGet?(g=r(w,h))&&g.value:w[h]),p=n&&A?A:t[h],n&&typeof f==typeof p||(m=e.bind&&n?s(p,i):e.wrap&&n?u(p):x&&"function"==typeof p?s(Function.call,p):p,(e.sham||p&&p.sham||f&&f.sham)&&l(m,"sham",!0),_[h]=m,x&&(c(a,d=v+"Prototype")||l(a,d,{}),a[d][h]=p,e.real&&j&&!j[h]&&l(j,h,p)))}},"./node_modules/core-js-pure/internals/fails.js":
/*!******************************************************!*\
        !*** ./node_modules/core-js-pure/internals/fails.js ***!
        \******************************************************/
/*! no static exports found */
function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js-pure/internals/function-bind-context.js":
/*!**********************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/function-bind-context.js ***!
        \**********************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/a-function */
"./node_modules/core-js-pure/internals/a-function.js");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js-pure/internals/get-built-in.js":
/*!*************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/get-built-in.js ***!
        \*************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/path */
"./node_modules/core-js-pure/internals/path.js"),r=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},"./node_modules/core-js-pure/internals/get-iterator-method.js":
/*!********************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/get-iterator-method.js ***!
        \********************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/classof */
"./node_modules/core-js-pure/internals/classof.js"),r=n(
/*! ../internals/iterators */
"./node_modules/core-js-pure/internals/iterators.js"),o=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js")("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||r[i(e)]}},"./node_modules/core-js-pure/internals/global.js":
/*!*******************************************************!*\
        !*** ./node_modules/core-js-pure/internals/global.js ***!
        \*******************************************************/
/*! no static exports found */
function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js-pure/internals/has.js":
/*!****************************************************!*\
        !*** ./node_modules/core-js-pure/internals/has.js ***!
        \****************************************************/
/*! no static exports found */
function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/core-js-pure/internals/hidden-keys.js":
/*!************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/hidden-keys.js ***!
        \************************************************************/
/*! no static exports found */
function(e,t){e.exports={}},"./node_modules/core-js-pure/internals/host-report-errors.js":
/*!*******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/host-report-errors.js ***!
        \*******************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js");e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"./node_modules/core-js-pure/internals/html.js":
/*!*****************************************************!*\
        !*** ./node_modules/core-js-pure/internals/html.js ***!
        \*****************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/get-built-in */
"./node_modules/core-js-pure/internals/get-built-in.js");e.exports=i("document","documentElement")},"./node_modules/core-js-pure/internals/ie8-dom-define.js":
/*!***************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/ie8-dom-define.js ***!
        \***************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/descriptors */
"./node_modules/core-js-pure/internals/descriptors.js"),r=n(
/*! ../internals/fails */
"./node_modules/core-js-pure/internals/fails.js"),o=n(
/*! ../internals/document-create-element */
"./node_modules/core-js-pure/internals/document-create-element.js");e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/core-js-pure/internals/indexed-object.js":
/*!***************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/indexed-object.js ***!
        \***************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/fails */
"./node_modules/core-js-pure/internals/fails.js"),r=n(
/*! ../internals/classof-raw */
"./node_modules/core-js-pure/internals/classof-raw.js"),o="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},"./node_modules/core-js-pure/internals/inspect-source.js":
/*!***************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/inspect-source.js ***!
        \***************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/shared-store */
"./node_modules/core-js-pure/internals/shared-store.js"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},"./node_modules/core-js-pure/internals/internal-state.js":
/*!***************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/internal-state.js ***!
        \***************************************************************/
/*! no static exports found */
function(e,t,n){var i,r,o,a=n(
/*! ../internals/native-weak-map */
"./node_modules/core-js-pure/internals/native-weak-map.js"),s=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),l=n(
/*! ../internals/is-object */
"./node_modules/core-js-pure/internals/is-object.js"),c=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),u=n(
/*! ../internals/has */
"./node_modules/core-js-pure/internals/has.js"),d=n(
/*! ../internals/shared-key */
"./node_modules/core-js-pure/internals/shared-key.js"),h=n(
/*! ../internals/hidden-keys */
"./node_modules/core-js-pure/internals/hidden-keys.js"),p=s.WeakMap;if(a){var f=new p,A=f.get,m=f.has,g=f.set;i=function(e,t){return g.call(f,e,t),t},r=function(e){return A.call(f,e)||{}},o=function(e){return m.call(f,e)}}else{var v=d("state");h[v]=!0,i=function(e,t){return c(e,v,t),t},r=function(e){return u(e,v)?e[v]:{}},o=function(e){return u(e,v)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"./node_modules/core-js-pure/internals/is-array-iterator-method.js":
/*!*************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/is-array-iterator-method.js ***!
        \*************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js"),r=n(
/*! ../internals/iterators */
"./node_modules/core-js-pure/internals/iterators.js"),o=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},"./node_modules/core-js-pure/internals/is-forced.js":
/*!**********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/is-forced.js ***!
        \**********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/fails */
"./node_modules/core-js-pure/internals/fails.js"),r=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},"./node_modules/core-js-pure/internals/is-object.js":
/*!**********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/is-object.js ***!
        \**********************************************************/
/*! no static exports found */
function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js-pure/internals/is-pure.js":
/*!********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/is-pure.js ***!
        \********************************************************/
/*! no static exports found */
function(e,t){e.exports=!0},"./node_modules/core-js-pure/internals/iterate.js":
/*!********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/iterate.js ***!
        \********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/an-object */
"./node_modules/core-js-pure/internals/an-object.js"),r=n(
/*! ../internals/is-array-iterator-method */
"./node_modules/core-js-pure/internals/is-array-iterator-method.js"),o=n(
/*! ../internals/to-length */
"./node_modules/core-js-pure/internals/to-length.js"),a=n(
/*! ../internals/function-bind-context */
"./node_modules/core-js-pure/internals/function-bind-context.js"),s=n(
/*! ../internals/get-iterator-method */
"./node_modules/core-js-pure/internals/get-iterator-method.js"),l=n(
/*! ../internals/call-with-safe-iteration-closing */
"./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js"),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,d){var h,p,f,A,m,g,v,b=a(t,n,u?2:1);if(d)h=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(r(p)){for(f=0,A=o(e.length);A>f;f++)if((m=u?b(i(v=e[f])[0],v[1]):b(e[f]))&&m instanceof c)return m;return new c(!1)}h=p.call(e)}for(g=h.next;!(v=g.call(h)).done;)if("object"==typeof(m=l(h,b,v.value,u))&&m&&m instanceof c)return m;return new c(!1)}).stop=function(e){return new c(!0,e)}},"./node_modules/core-js-pure/internals/iterators-core.js":
/*!***************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/iterators-core.js ***!
        \***************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i,r,o,a=n(
/*! ../internals/object-get-prototype-of */
"./node_modules/core-js-pure/internals/object-get-prototype-of.js"),s=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),l=n(
/*! ../internals/has */
"./node_modules/core-js-pure/internals/has.js"),c=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js"),u=n(
/*! ../internals/is-pure */
"./node_modules/core-js-pure/internals/is-pure.js"),d=c("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(r=a(a(o)))!==Object.prototype&&(i=r):h=!0),null==i&&(i={}),u||l(i,d)||s(i,d,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},"./node_modules/core-js-pure/internals/iterators.js":
/*!**********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/iterators.js ***!
        \**********************************************************/
/*! no static exports found */
function(e,t){e.exports={}},"./node_modules/core-js-pure/internals/microtask.js":
/*!**********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/microtask.js ***!
        \**********************************************************/
/*! no static exports found */
function(e,t,n){var i,r,o,a,s,l,c,u,d=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),h=n(
/*! ../internals/object-get-own-property-descriptor */
"./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js").f,p=n(
/*! ../internals/classof-raw */
"./node_modules/core-js-pure/internals/classof-raw.js"),f=n(
/*! ../internals/task */
"./node_modules/core-js-pure/internals/task.js").set,A=n(
/*! ../internals/engine-is-ios */
"./node_modules/core-js-pure/internals/engine-is-ios.js"),m=d.MutationObserver||d.WebKitMutationObserver,g=d.process,v=d.Promise,b="process"==p(g),y=h(d,"queueMicrotask"),x=y&&y.value;x||(i=function(){var e,t;for(b&&(e=g.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?a():o=void 0,e}}o=void 0,e&&e.enter()},b?a=function(){g.nextTick(i)}:m&&!A?(s=!0,l=document.createTextNode(""),new m(i).observe(l,{characterData:!0}),a=function(){l.data=s=!s}):v&&v.resolve?(c=v.resolve(void 0),u=c.then,a=function(){u.call(c,i)}):a=function(){f.call(d,i)}),e.exports=x||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,a()),o=t}},"./node_modules/core-js-pure/internals/native-promise-constructor.js":
/*!***************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/native-promise-constructor.js ***!
        \***************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js");e.exports=i.Promise},"./node_modules/core-js-pure/internals/native-symbol.js":
/*!**************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/native-symbol.js ***!
        \**************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/fails */
"./node_modules/core-js-pure/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"./node_modules/core-js-pure/internals/native-weak-map.js":
/*!****************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/native-weak-map.js ***!
        \****************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),r=n(
/*! ../internals/inspect-source */
"./node_modules/core-js-pure/internals/inspect-source.js"),o=i.WeakMap;e.exports="function"==typeof o&&/native code/.test(r(o))},"./node_modules/core-js-pure/internals/new-promise-capability.js":
/*!***********************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/new-promise-capability.js ***!
        \***********************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/a-function */
"./node_modules/core-js-pure/internals/a-function.js"),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},"./node_modules/core-js-pure/internals/object-create.js":
/*!**************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-create.js ***!
        \**************************************************************/
/*! no static exports found */
function(e,t,n){var i,r=n(
/*! ../internals/an-object */
"./node_modules/core-js-pure/internals/an-object.js"),o=n(
/*! ../internals/object-define-properties */
"./node_modules/core-js-pure/internals/object-define-properties.js"),a=n(
/*! ../internals/enum-bug-keys */
"./node_modules/core-js-pure/internals/enum-bug-keys.js"),s=n(
/*! ../internals/hidden-keys */
"./node_modules/core-js-pure/internals/hidden-keys.js"),l=n(
/*! ../internals/html */
"./node_modules/core-js-pure/internals/html.js"),c=n(
/*! ../internals/document-create-element */
"./node_modules/core-js-pure/internals/document-create-element.js"),u=n(
/*! ../internals/shared-key */
"./node_modules/core-js-pure/internals/shared-key.js"),d=u("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"<\/script>"},f=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=i?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete f.prototype[a[n]];return f()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[d]=e):n=f(),void 0===t?n:o(n,t)}},"./node_modules/core-js-pure/internals/object-define-properties.js":
/*!*************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-define-properties.js ***!
        \*************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/descriptors */
"./node_modules/core-js-pure/internals/descriptors.js"),r=n(
/*! ../internals/object-define-property */
"./node_modules/core-js-pure/internals/object-define-property.js"),o=n(
/*! ../internals/an-object */
"./node_modules/core-js-pure/internals/an-object.js"),a=n(
/*! ../internals/object-keys */
"./node_modules/core-js-pure/internals/object-keys.js");e.exports=i?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,l=0;s>l;)r.f(e,n=i[l++],t[n]);return e}},"./node_modules/core-js-pure/internals/object-define-property.js":
/*!***********************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-define-property.js ***!
        \***********************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/descriptors */
"./node_modules/core-js-pure/internals/descriptors.js"),r=n(
/*! ../internals/ie8-dom-define */
"./node_modules/core-js-pure/internals/ie8-dom-define.js"),o=n(
/*! ../internals/an-object */
"./node_modules/core-js-pure/internals/an-object.js"),a=n(
/*! ../internals/to-primitive */
"./node_modules/core-js-pure/internals/to-primitive.js"),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js":
/*!***********************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js ***!
        \***********************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/descriptors */
"./node_modules/core-js-pure/internals/descriptors.js"),r=n(
/*! ../internals/object-property-is-enumerable */
"./node_modules/core-js-pure/internals/object-property-is-enumerable.js"),o=n(
/*! ../internals/create-property-descriptor */
"./node_modules/core-js-pure/internals/create-property-descriptor.js"),a=n(
/*! ../internals/to-indexed-object */
"./node_modules/core-js-pure/internals/to-indexed-object.js"),s=n(
/*! ../internals/to-primitive */
"./node_modules/core-js-pure/internals/to-primitive.js"),l=n(
/*! ../internals/has */
"./node_modules/core-js-pure/internals/has.js"),c=n(
/*! ../internals/ie8-dom-define */
"./node_modules/core-js-pure/internals/ie8-dom-define.js"),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},"./node_modules/core-js-pure/internals/object-get-prototype-of.js":
/*!************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-get-prototype-of.js ***!
        \************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/has */
"./node_modules/core-js-pure/internals/has.js"),r=n(
/*! ../internals/to-object */
"./node_modules/core-js-pure/internals/to-object.js"),o=n(
/*! ../internals/shared-key */
"./node_modules/core-js-pure/internals/shared-key.js"),a=n(
/*! ../internals/correct-prototype-getter */
"./node_modules/core-js-pure/internals/correct-prototype-getter.js"),s=o("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},"./node_modules/core-js-pure/internals/object-keys-internal.js":
/*!*********************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-keys-internal.js ***!
        \*********************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/has */
"./node_modules/core-js-pure/internals/has.js"),r=n(
/*! ../internals/to-indexed-object */
"./node_modules/core-js-pure/internals/to-indexed-object.js"),o=n(
/*! ../internals/array-includes */
"./node_modules/core-js-pure/internals/array-includes.js").indexOf,a=n(
/*! ../internals/hidden-keys */
"./node_modules/core-js-pure/internals/hidden-keys.js");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},"./node_modules/core-js-pure/internals/object-keys.js":
/*!************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-keys.js ***!
        \************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/object-keys-internal */
"./node_modules/core-js-pure/internals/object-keys-internal.js"),r=n(
/*! ../internals/enum-bug-keys */
"./node_modules/core-js-pure/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return i(e,r)}},"./node_modules/core-js-pure/internals/object-property-is-enumerable.js":
/*!******************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-property-is-enumerable.js ***!
        \******************************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},"./node_modules/core-js-pure/internals/object-set-prototype-of.js":
/*!************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-set-prototype-of.js ***!
        \************************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/an-object */
"./node_modules/core-js-pure/internals/an-object.js"),r=n(
/*! ../internals/a-possible-prototype */
"./node_modules/core-js-pure/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return i(n),r(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},"./node_modules/core-js-pure/internals/object-to-string.js":
/*!*****************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/object-to-string.js ***!
        \*****************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/to-string-tag-support */
"./node_modules/core-js-pure/internals/to-string-tag-support.js"),r=n(
/*! ../internals/classof */
"./node_modules/core-js-pure/internals/classof.js");e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},"./node_modules/core-js-pure/internals/path.js":
/*!*****************************************************!*\
        !*** ./node_modules/core-js-pure/internals/path.js ***!
        \*****************************************************/
/*! no static exports found */
function(e,t){e.exports={}},"./node_modules/core-js-pure/internals/perform.js":
/*!********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/perform.js ***!
        \********************************************************/
/*! no static exports found */
function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"./node_modules/core-js-pure/internals/promise-resolve.js":
/*!****************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/promise-resolve.js ***!
        \****************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/an-object */
"./node_modules/core-js-pure/internals/an-object.js"),r=n(
/*! ../internals/is-object */
"./node_modules/core-js-pure/internals/is-object.js"),o=n(
/*! ../internals/new-promise-capability */
"./node_modules/core-js-pure/internals/new-promise-capability.js");e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},"./node_modules/core-js-pure/internals/redefine-all.js":
/*!*************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/redefine-all.js ***!
        \*************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/redefine */
"./node_modules/core-js-pure/internals/redefine.js");e.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:i(e,r,t[r],n);return e}},"./node_modules/core-js-pure/internals/redefine.js":
/*!*********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/redefine.js ***!
        \*********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js");e.exports=function(e,t,n,r){r&&r.enumerable?e[t]=n:i(e,t,n)}},"./node_modules/core-js-pure/internals/require-object-coercible.js":
/*!*************************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/require-object-coercible.js ***!
        \*************************************************************************/
/*! no static exports found */
function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"./node_modules/core-js-pure/internals/set-global.js":
/*!***********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/set-global.js ***!
        \***********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),r=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js");e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},"./node_modules/core-js-pure/internals/set-species.js":
/*!************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/set-species.js ***!
        \************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/get-built-in */
"./node_modules/core-js-pure/internals/get-built-in.js"),r=n(
/*! ../internals/object-define-property */
"./node_modules/core-js-pure/internals/object-define-property.js"),o=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js"),a=n(
/*! ../internals/descriptors */
"./node_modules/core-js-pure/internals/descriptors.js"),s=o("species");e.exports=function(e){var t=i(e),n=r.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js-pure/internals/set-to-string-tag.js":
/*!******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/set-to-string-tag.js ***!
        \******************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/to-string-tag-support */
"./node_modules/core-js-pure/internals/to-string-tag-support.js"),r=n(
/*! ../internals/object-define-property */
"./node_modules/core-js-pure/internals/object-define-property.js").f,o=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),a=n(
/*! ../internals/has */
"./node_modules/core-js-pure/internals/has.js"),s=n(
/*! ../internals/object-to-string */
"./node_modules/core-js-pure/internals/object-to-string.js"),l=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,n,c){if(e){var u=n?e:e.prototype;a(u,l)||r(u,l,{configurable:!0,value:t}),c&&!i&&o(u,"toString",s)}}},"./node_modules/core-js-pure/internals/shared-key.js":
/*!***********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/shared-key.js ***!
        \***********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/shared */
"./node_modules/core-js-pure/internals/shared.js"),r=n(
/*! ../internals/uid */
"./node_modules/core-js-pure/internals/uid.js"),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},"./node_modules/core-js-pure/internals/shared-store.js":
/*!*************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/shared-store.js ***!
        \*************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),r=n(
/*! ../internals/set-global */
"./node_modules/core-js-pure/internals/set-global.js"),o=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=o},"./node_modules/core-js-pure/internals/shared.js":
/*!*******************************************************!*\
        !*** ./node_modules/core-js-pure/internals/shared.js ***!
        \*******************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/is-pure */
"./node_modules/core-js-pure/internals/is-pure.js"),r=n(
/*! ../internals/shared-store */
"./node_modules/core-js-pure/internals/shared-store.js");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js-pure/internals/species-constructor.js":
/*!********************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/species-constructor.js ***!
        \********************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/an-object */
"./node_modules/core-js-pure/internals/an-object.js"),r=n(
/*! ../internals/a-function */
"./node_modules/core-js-pure/internals/a-function.js"),o=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js")("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[o])?t:r(n)}},"./node_modules/core-js-pure/internals/string-multibyte.js":
/*!*****************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/string-multibyte.js ***!
        \*****************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/to-integer */
"./node_modules/core-js-pure/internals/to-integer.js"),r=n(
/*! ../internals/require-object-coercible */
"./node_modules/core-js-pure/internals/require-object-coercible.js"),o=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},"./node_modules/core-js-pure/internals/task.js":
/*!*****************************************************!*\
        !*** ./node_modules/core-js-pure/internals/task.js ***!
        \*****************************************************/
/*! no static exports found */
function(e,t,n){var i,r,o,a=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),s=n(
/*! ../internals/fails */
"./node_modules/core-js-pure/internals/fails.js"),l=n(
/*! ../internals/classof-raw */
"./node_modules/core-js-pure/internals/classof-raw.js"),c=n(
/*! ../internals/function-bind-context */
"./node_modules/core-js-pure/internals/function-bind-context.js"),u=n(
/*! ../internals/html */
"./node_modules/core-js-pure/internals/html.js"),d=n(
/*! ../internals/document-create-element */
"./node_modules/core-js-pure/internals/document-create-element.js"),h=n(
/*! ../internals/engine-is-ios */
"./node_modules/core-js-pure/internals/engine-is-ios.js"),p=a.location,f=a.setImmediate,A=a.clearImmediate,m=a.process,g=a.MessageChannel,v=a.Dispatch,b=0,y={},x=function(e){if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},w=function(e){return function(){x(e)}},_=function(e){x(e.data)},j=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};f&&A||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(b),b},A=function(e){delete y[e]},"process"==l(m)?i=function(e){m.nextTick(w(e))}:v&&v.now?i=function(e){v.now(w(e))}:g&&!h?(o=(r=new g).port2,r.port1.onmessage=_,i=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(j)?i="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),x(e)}}:function(e){setTimeout(w(e),0)}:(i=j,a.addEventListener("message",_,!1))),e.exports={set:f,clear:A}},"./node_modules/core-js-pure/internals/to-absolute-index.js":
/*!******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/to-absolute-index.js ***!
        \******************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/to-integer */
"./node_modules/core-js-pure/internals/to-integer.js"),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},"./node_modules/core-js-pure/internals/to-indexed-object.js":
/*!******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/to-indexed-object.js ***!
        \******************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/indexed-object */
"./node_modules/core-js-pure/internals/indexed-object.js"),r=n(
/*! ../internals/require-object-coercible */
"./node_modules/core-js-pure/internals/require-object-coercible.js");e.exports=function(e){return i(r(e))}},"./node_modules/core-js-pure/internals/to-integer.js":
/*!***********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/to-integer.js ***!
        \***********************************************************/
/*! no static exports found */
function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},"./node_modules/core-js-pure/internals/to-length.js":
/*!**********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/to-length.js ***!
        \**********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/to-integer */
"./node_modules/core-js-pure/internals/to-integer.js"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},"./node_modules/core-js-pure/internals/to-object.js":
/*!**********************************************************!*\
        !*** ./node_modules/core-js-pure/internals/to-object.js ***!
        \**********************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/require-object-coercible */
"./node_modules/core-js-pure/internals/require-object-coercible.js");e.exports=function(e){return Object(i(e))}},"./node_modules/core-js-pure/internals/to-primitive.js":
/*!*************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/to-primitive.js ***!
        \*************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/is-object */
"./node_modules/core-js-pure/internals/is-object.js");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js-pure/internals/to-string-tag-support.js":
/*!**********************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/to-string-tag-support.js ***!
        \**********************************************************************/
/*! no static exports found */
function(e,t,n){var i={};i[n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(i)},"./node_modules/core-js-pure/internals/uid.js":
/*!****************************************************!*\
        !*** ./node_modules/core-js-pure/internals/uid.js ***!
        \****************************************************/
/*! no static exports found */
function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},"./node_modules/core-js-pure/internals/use-symbol-as-uid.js":
/*!******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/use-symbol-as-uid.js ***!
        \******************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/native-symbol */
"./node_modules/core-js-pure/internals/native-symbol.js");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"./node_modules/core-js-pure/internals/well-known-symbol.js":
/*!******************************************************************!*\
        !*** ./node_modules/core-js-pure/internals/well-known-symbol.js ***!
        \******************************************************************/
/*! no static exports found */
function(e,t,n){var i=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),r=n(
/*! ../internals/shared */
"./node_modules/core-js-pure/internals/shared.js"),o=n(
/*! ../internals/has */
"./node_modules/core-js-pure/internals/has.js"),a=n(
/*! ../internals/uid */
"./node_modules/core-js-pure/internals/uid.js"),s=n(
/*! ../internals/native-symbol */
"./node_modules/core-js-pure/internals/native-symbol.js"),l=n(
/*! ../internals/use-symbol-as-uid */
"./node_modules/core-js-pure/internals/use-symbol-as-uid.js"),c=r("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||a;e.exports=function(e){return o(c,e)||(s&&o(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},"./node_modules/core-js-pure/modules/es.array.iterator.js":
/*!****************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/es.array.iterator.js ***!
        \****************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/to-indexed-object */
"./node_modules/core-js-pure/internals/to-indexed-object.js"),r=n(
/*! ../internals/add-to-unscopables */
"./node_modules/core-js-pure/internals/add-to-unscopables.js"),o=n(
/*! ../internals/iterators */
"./node_modules/core-js-pure/internals/iterators.js"),a=n(
/*! ../internals/internal-state */
"./node_modules/core-js-pure/internals/internal-state.js"),s=n(
/*! ../internals/define-iterator */
"./node_modules/core-js-pure/internals/define-iterator.js"),l=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},"./node_modules/core-js-pure/modules/es.object.to-string.js":
/*!******************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/es.object.to-string.js ***!
        \******************************************************************/
/*! no static exports found */
function(e,t){},"./node_modules/core-js-pure/modules/es.promise.all-settled.js":
/*!*********************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/es.promise.all-settled.js ***!
        \*********************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/export */
"./node_modules/core-js-pure/internals/export.js"),r=n(
/*! ../internals/a-function */
"./node_modules/core-js-pure/internals/a-function.js"),o=n(
/*! ../internals/new-promise-capability */
"./node_modules/core-js-pure/internals/new-promise-capability.js"),a=n(
/*! ../internals/perform */
"./node_modules/core-js-pure/internals/perform.js"),s=n(
/*! ../internals/iterate */
"./node_modules/core-js-pure/internals/iterate.js");i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),i=n.resolve,l=n.reject,c=a((function(){var n=r(t.resolve),o=[],a=0,l=1;s(e,(function(e){var r=a++,s=!1;o.push(void 0),l++,n.call(t,e).then((function(e){s||(s=!0,o[r]={status:"fulfilled",value:e},--l||i(o))}),(function(e){s||(s=!0,o[r]={status:"rejected",reason:e},--l||i(o))}))})),--l||i(o)}));return c.error&&l(c.value),n.promise}})},"./node_modules/core-js-pure/modules/es.promise.finally.js":
/*!*****************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/es.promise.finally.js ***!
        \*****************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/export */
"./node_modules/core-js-pure/internals/export.js"),r=n(
/*! ../internals/is-pure */
"./node_modules/core-js-pure/internals/is-pure.js"),o=n(
/*! ../internals/native-promise-constructor */
"./node_modules/core-js-pure/internals/native-promise-constructor.js"),a=n(
/*! ../internals/fails */
"./node_modules/core-js-pure/internals/fails.js"),s=n(
/*! ../internals/get-built-in */
"./node_modules/core-js-pure/internals/get-built-in.js"),l=n(
/*! ../internals/species-constructor */
"./node_modules/core-js-pure/internals/species-constructor.js"),c=n(
/*! ../internals/promise-resolve */
"./node_modules/core-js-pure/internals/promise-resolve.js"),u=n(
/*! ../internals/redefine */
"./node_modules/core-js-pure/internals/redefine.js");i({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),r||"function"!=typeof o||o.prototype.finally||u(o.prototype,"finally",s("Promise").prototype.finally)},"./node_modules/core-js-pure/modules/es.promise.js":
/*!*********************************************************!*\
        !*** ./node_modules/core-js-pure/modules/es.promise.js ***!
        \*********************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i,r,o,a,s=n(
/*! ../internals/export */
"./node_modules/core-js-pure/internals/export.js"),l=n(
/*! ../internals/is-pure */
"./node_modules/core-js-pure/internals/is-pure.js"),c=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),u=n(
/*! ../internals/get-built-in */
"./node_modules/core-js-pure/internals/get-built-in.js"),d=n(
/*! ../internals/native-promise-constructor */
"./node_modules/core-js-pure/internals/native-promise-constructor.js"),h=n(
/*! ../internals/redefine */
"./node_modules/core-js-pure/internals/redefine.js"),p=n(
/*! ../internals/redefine-all */
"./node_modules/core-js-pure/internals/redefine-all.js"),f=n(
/*! ../internals/set-to-string-tag */
"./node_modules/core-js-pure/internals/set-to-string-tag.js"),A=n(
/*! ../internals/set-species */
"./node_modules/core-js-pure/internals/set-species.js"),m=n(
/*! ../internals/is-object */
"./node_modules/core-js-pure/internals/is-object.js"),g=n(
/*! ../internals/a-function */
"./node_modules/core-js-pure/internals/a-function.js"),v=n(
/*! ../internals/an-instance */
"./node_modules/core-js-pure/internals/an-instance.js"),b=n(
/*! ../internals/classof-raw */
"./node_modules/core-js-pure/internals/classof-raw.js"),y=n(
/*! ../internals/inspect-source */
"./node_modules/core-js-pure/internals/inspect-source.js"),x=n(
/*! ../internals/iterate */
"./node_modules/core-js-pure/internals/iterate.js"),w=n(
/*! ../internals/check-correctness-of-iteration */
"./node_modules/core-js-pure/internals/check-correctness-of-iteration.js"),_=n(
/*! ../internals/species-constructor */
"./node_modules/core-js-pure/internals/species-constructor.js"),j=n(
/*! ../internals/task */
"./node_modules/core-js-pure/internals/task.js").set,C=n(
/*! ../internals/microtask */
"./node_modules/core-js-pure/internals/microtask.js"),E=n(
/*! ../internals/promise-resolve */
"./node_modules/core-js-pure/internals/promise-resolve.js"),B=n(
/*! ../internals/host-report-errors */
"./node_modules/core-js-pure/internals/host-report-errors.js"),k=n(
/*! ../internals/new-promise-capability */
"./node_modules/core-js-pure/internals/new-promise-capability.js"),S=n(
/*! ../internals/perform */
"./node_modules/core-js-pure/internals/perform.js"),O=n(
/*! ../internals/internal-state */
"./node_modules/core-js-pure/internals/internal-state.js"),M=n(
/*! ../internals/is-forced */
"./node_modules/core-js-pure/internals/is-forced.js"),T=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js"),F=n(
/*! ../internals/engine-v8-version */
"./node_modules/core-js-pure/internals/engine-v8-version.js"),N=T("species"),I="Promise",L=O.get,D=O.set,U=O.getterFor(I),P=d,H=c.TypeError,R=c.document,Q=c.process,z=u("fetch"),V=k.f,K=V,W="process"==b(Q),X=!!(R&&R.createEvent&&c.dispatchEvent),Y=M(I,(function(){if(y(P)===String(P)){if(66===F)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!P.prototype.finally)return!0;if(F>=51&&/native code/.test(P))return!1;var e=P.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[N]=t,!(e.then((function(){}))instanceof t)})),G=Y||!w((function(e){P.all(e).catch((function(){}))})),q=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},J=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;C((function(){for(var r=t.value,o=1==t.state,a=0;i.length>a;){var s,l,c,u=i[a++],d=o?u.ok:u.fail,h=u.resolve,p=u.reject,f=u.domain;try{d?(o||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?s=r:(f&&f.enter(),s=d(r),f&&(f.exit(),c=!0)),s===u.promise?p(H("Promise-chain cycle")):(l=q(s))?l.call(s,h,p):h(s)):p(r)}catch(e){f&&!c&&f.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&$(e,t)}))}},Z=function(e,t,n){var i,r;X?((i=R.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},(r=c["on"+e])?r(i):"unhandledrejection"===e&&B("Unhandled promise rejection",n)},$=function(e,t){j.call(c,(function(){var n,i=t.value;if(ee(t)&&(n=S((function(){W?Q.emit("unhandledRejection",i,e):Z("unhandledrejection",e,i)})),t.rejection=W||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){j.call(c,(function(){W?Q.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},ne=function(e,t,n,i){return function(r){e(t,n,r,i)}},ie=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,J(e,t,!0))},re=function e(t,n,i,r){if(!n.done){n.done=!0,r&&(n=r);try{if(t===i)throw H("Promise can't be resolved itself");var o=q(i);o?C((function(){var r={done:!1};try{o.call(i,ne(e,t,r,n),ne(ie,t,r,n))}catch(e){ie(t,r,e,n)}})):(n.value=i,n.state=1,J(t,n,!1))}catch(e){ie(t,{done:!1},e,n)}}};Y&&(P=function(e){v(this,P,I),g(e),i.call(this);var t=L(this);try{e(ne(re,this,t),ne(ie,this,t))}catch(e){ie(this,t,e)}},(i=function(e){D(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(P.prototype,{then:function(e,t){var n=U(this),i=V(_(this,P));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=W?Q.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&J(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=L(e);this.promise=e,this.resolve=ne(re,e,t),this.reject=ne(ie,e,t)},k.f=V=function(e){return e===P||e===o?new r(e):K(e)},l||"function"!=typeof d||(a=d.prototype.then,h(d.prototype,"then",(function(e,t){var n=this;return new P((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof z&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(P,z.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:Y},{Promise:P}),f(P,I,!1,!0),A(I),o=u(I),s({target:I,stat:!0,forced:Y},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),s({target:I,stat:!0,forced:l||Y},{resolve:function(e){return E(l&&this===o?P:this,e)}}),s({target:I,stat:!0,forced:G},{all:function(e){var t=this,n=V(t),i=n.resolve,r=n.reject,o=S((function(){var n=g(t.resolve),o=[],a=0,s=1;x(e,(function(e){var l=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[l]=e,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=V(t),i=n.reject,r=S((function(){var r=g(t.resolve);x(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},"./node_modules/core-js-pure/modules/es.string.iterator.js":
/*!*****************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/es.string.iterator.js ***!
        \*****************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/string-multibyte */
"./node_modules/core-js-pure/internals/string-multibyte.js").charAt,r=n(
/*! ../internals/internal-state */
"./node_modules/core-js-pure/internals/internal-state.js"),o=n(
/*! ../internals/define-iterator */
"./node_modules/core-js-pure/internals/define-iterator.js"),a=r.set,s=r.getterFor("String Iterator");o(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},"./node_modules/core-js-pure/modules/esnext.aggregate-error.js":
/*!*********************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/esnext.aggregate-error.js ***!
        \*********************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/export */
"./node_modules/core-js-pure/internals/export.js"),r=n(
/*! ../internals/descriptors */
"./node_modules/core-js-pure/internals/descriptors.js"),o=n(
/*! ../internals/object-get-prototype-of */
"./node_modules/core-js-pure/internals/object-get-prototype-of.js"),a=n(
/*! ../internals/object-set-prototype-of */
"./node_modules/core-js-pure/internals/object-set-prototype-of.js"),s=n(
/*! ../internals/object-create */
"./node_modules/core-js-pure/internals/object-create.js"),l=n(
/*! ../internals/object-define-property */
"./node_modules/core-js-pure/internals/object-define-property.js"),c=n(
/*! ../internals/create-property-descriptor */
"./node_modules/core-js-pure/internals/create-property-descriptor.js"),u=n(
/*! ../internals/iterate */
"./node_modules/core-js-pure/internals/iterate.js"),d=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),h=n(
/*! ../internals/internal-state */
"./node_modules/core-js-pure/internals/internal-state.js"),p=h.set,f=h.getterFor("AggregateError"),A=function(e,t){var n=this;if(!(n instanceof A))return new A(e,t);a&&(n=a(new Error(t),o(n)));var i=[];return u(e,i.push,i),r?p(n,{errors:i,type:"AggregateError"}):n.errors=i,void 0!==t&&d(n,"message",String(t)),n};A.prototype=s(Error.prototype,{constructor:c(5,A),message:c(5,""),name:c(5,"AggregateError")}),r&&l.f(A.prototype,"errors",{get:function(){return f(this).errors},configurable:!0}),i({global:!0},{AggregateError:A})},"./node_modules/core-js-pure/modules/esnext.promise.all-settled.js":
/*!*************************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/esnext.promise.all-settled.js ***!
        \*************************************************************************/
/*! no static exports found */
function(e,t,n){n(
/*! ./es.promise.all-settled.js */
"./node_modules/core-js-pure/modules/es.promise.all-settled.js")},"./node_modules/core-js-pure/modules/esnext.promise.any.js":
/*!*****************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/esnext.promise.any.js ***!
        \*****************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/export */
"./node_modules/core-js-pure/internals/export.js"),r=n(
/*! ../internals/a-function */
"./node_modules/core-js-pure/internals/a-function.js"),o=n(
/*! ../internals/get-built-in */
"./node_modules/core-js-pure/internals/get-built-in.js"),a=n(
/*! ../internals/new-promise-capability */
"./node_modules/core-js-pure/internals/new-promise-capability.js"),s=n(
/*! ../internals/perform */
"./node_modules/core-js-pure/internals/perform.js"),l=n(
/*! ../internals/iterate */
"./node_modules/core-js-pure/internals/iterate.js");i({target:"Promise",stat:!0},{any:function(e){var t=this,n=a.f(t),i=n.resolve,c=n.reject,u=s((function(){var n=r(t.resolve),a=[],s=0,u=1,d=!1;l(e,(function(e){var r=s++,l=!1;a.push(void 0),u++,n.call(t,e).then((function(e){l||d||(d=!0,i(e))}),(function(e){l||d||(l=!0,a[r]=e,--u||c(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--u||c(new(o("AggregateError"))(a,"No one promise resolved"))}));return u.error&&c(u.value),n.promise}})},"./node_modules/core-js-pure/modules/esnext.promise.try.js":
/*!*****************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/esnext.promise.try.js ***!
        \*****************************************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i=n(
/*! ../internals/export */
"./node_modules/core-js-pure/internals/export.js"),r=n(
/*! ../internals/new-promise-capability */
"./node_modules/core-js-pure/internals/new-promise-capability.js"),o=n(
/*! ../internals/perform */
"./node_modules/core-js-pure/internals/perform.js");i({target:"Promise",stat:!0},{try:function(e){var t=r.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},"./node_modules/core-js-pure/modules/web.dom-collections.iterator.js":
/*!***************************************************************************!*\
        !*** ./node_modules/core-js-pure/modules/web.dom-collections.iterator.js ***!
        \***************************************************************************/
/*! no static exports found */
function(e,t,n){n(
/*! ./es.array.iterator */
"./node_modules/core-js-pure/modules/es.array.iterator.js");var i=n(
/*! ../internals/dom-iterables */
"./node_modules/core-js-pure/internals/dom-iterables.js"),r=n(
/*! ../internals/global */
"./node_modules/core-js-pure/internals/global.js"),o=n(
/*! ../internals/classof */
"./node_modules/core-js-pure/internals/classof.js"),a=n(
/*! ../internals/create-non-enumerable-property */
"./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),s=n(
/*! ../internals/iterators */
"./node_modules/core-js-pure/internals/iterators.js"),l=n(
/*! ../internals/well-known-symbol */
"./node_modules/core-js-pure/internals/well-known-symbol.js")("toStringTag");for(var c in i){var u=r[c],d=u&&u.prototype;d&&o(d)!==l&&a(d,l,c),s[c]=s.Array}},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
        !*** (webpack)/buildin/global.js ***!
        \***********************************/
/*! no static exports found */
function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./src/css/index.styl":
/*!****************************!*\
        !*** ./src/css/index.styl ***!
        \****************************/
/*! no static exports found */
function(e,t,n){},"./src/index.js":
/*!**********************!*\
        !*** ./src/index.js ***!
        \**********************/
/*! no static exports found */
function(e,t,n){"use strict";n(
/*! @/polyfill */
"./src/js/polyfill.js");var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/imageEditor */
"./src/js/imageEditor.js"));n(
/*! @css/index.styl */
"./src/css/index.styl"),n(
/*! @/command/addIcon */
"./src/js/command/addIcon.js"),n(
/*! @/command/addImageObject */
"./src/js/command/addImageObject.js"),n(
/*! @/command/addObject */
"./src/js/command/addObject.js"),n(
/*! @/command/addShape */
"./src/js/command/addShape.js"),n(
/*! @/command/addText */
"./src/js/command/addText.js"),n(
/*! @/command/applyFilter */
"./src/js/command/applyFilter.js"),n(
/*! @/command/changeIconColor */
"./src/js/command/changeIconColor.js"),n(
/*! @/command/changeShape */
"./src/js/command/changeShape.js"),n(
/*! @/command/changeText */
"./src/js/command/changeText.js"),n(
/*! @/command/changeTextStyle */
"./src/js/command/changeTextStyle.js"),n(
/*! @/command/clearObjects */
"./src/js/command/clearObjects.js"),n(
/*! @/command/flip */
"./src/js/command/flip.js"),n(
/*! @/command/loadImage */
"./src/js/command/loadImage.js"),n(
/*! @/command/removeFilter */
"./src/js/command/removeFilter.js"),n(
/*! @/command/removeObject */
"./src/js/command/removeObject.js"),n(
/*! @/command/resizeCanvasDimension */
"./src/js/command/resizeCanvasDimension.js"),n(
/*! @/command/rotate */
"./src/js/command/rotate.js"),n(
/*! @/command/setObjectProperties */
"./src/js/command/setObjectProperties.js"),n(
/*! @/command/setObjectPosition */
"./src/js/command/setObjectPosition.js"),n(
/*! @/command/changeSelection */
"./src/js/command/changeSelection.js"),e.exports=i.default},"./src/js/action.js":
/*!**************************!*\
        !*** ./src/js/action.js ***!
        \**************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(
/*! tui-code-snippet */
"tui-code-snippet"),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/helper/imagetracer */
"./src/js/helper/imagetracer.js")),o=n(
/*! @/util */
"./src/js/util.js"),a=n(
/*! @/consts */
"./src/js/consts.js");t.default={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var e=this,t=function(){"crop"===e.ui.submenu&&(e.stopDrawingMode(),e.ui.changeMenu("crop"))},n=function(t){var n,i;return n=t,"rotate"===e.ui.submenu&&e.ui.rotate.setRangeBarAngle("setAngle",n),i=t,"filter"===e.ui.submenu&&e.ui.filter.setFilterState(i),t},r=function(){e.ui.filter&&e.ui.filter.initFilterCheckBoxState()};return(0,i.extend)({initLoadImage:function(n,i){return e.loadImageFromURL(n,i).then((function(i){t(),e.ui.initializeImgUrl=n,e.ui.resizeEditor({imageSize:i}),e.clearUndoStack(),e._invoker.fire(a.eventNames.EXECUTE_COMMAND,a.historyNames.LOAD_IMAGE)}))},undo:function(){e.isEmptyUndoStack()||(t(),e.deactivateAll(),e.undo().then(n))},redo:function(){e.isEmptyRedoStack()||(t(),e.deactivateAll(),e.redo().then(n))},reset:function(){t(),e.loadImageFromURL(e.ui.initializeImgUrl,"resetImage").then((function(n){t(),r(),e.ui.resizeEditor({imageSize:n}),e.clearUndoStack(),e._initHistory()}))},delete:function(){e.ui.changeHelpButtonEnabled("delete",!1),t(),e.removeActiveObject(),e.activeObjectId=null},deleteAll:function(){t(),e.clearObjects(),e.ui.changeHelpButtonEnabled("delete",!1),e.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(n){(0,o.isSupportFileApi)()||alert("This browser does not support file-api"),e.ui.initializeImgUrl=URL.createObjectURL(n),e.loadImageFromFile(n).then((function(n){t(),r(),e.clearUndoStack(),e.ui.activeMenuEvent(),e.ui.resizeEditor({imageSize:n}),e._clearHistory(),e._invoker.fire(a.eventNames.EXECUTE_COMMAND,a.historyNames.LOAD_IMAGE)})).catch((function(e){return Promise.reject(e)}))},download:function(){var t=e.toDataURL(),n=e.getImageName(),i=void 0,r=void 0;(0,o.isSupportFileApi)()&&window.saveAs?(r=(i=(0,o.base64ToBlob)(t)).type.split("/")[1],n.split(".").pop()!==r&&(n+="."+r),saveAs(i,n)):window.open().document.body.innerHTML="<img src='"+t+"'>"},history:function(t){e.ui.toggleHistoryMenu(t)},zoomIn:function(){var t;e.ui.toggleZoomButtonStatus("zoomIn"),e.deactivateAll(),t=e._graphics.getZoomMode(),e.stopDrawingMode(),t!==a.zoomModes.ZOOM?(e.startDrawingMode(a.drawingModes.ZOOM),e._graphics.startZoomInMode()):e._graphics.endZoomInMode()},zoomOut:function(){e._graphics.zoomOut()},hand:function(){var t;e.ui.offZoomInButtonStatus(),e.ui.toggleZoomButtonStatus("hand"),e.deactivateAll(),t=e._graphics.getZoomMode(),e.stopDrawingMode(),t!==a.zoomModes.HAND?(e.startDrawingMode(a.drawingModes.ZOOM),e._graphics.startHandMode()):e._graphics.endHandMode()}},this._commonAction())},_iconAction:function(){var e=this;return(0,i.extend)({changeColor:function(t){e.activeObjectId&&e.changeIconColor(e.activeObjectId,t)},addIcon:function(t,n){e.startDrawingMode("ICON"),e.setDrawingIcon(t,n)},cancelAddIcon:function(){e.ui.icon.clearIconType(),e.changeSelectableAll(!0),e.changeCursor("default"),e.stopDrawingMode()},registerDefaultIcons:function(t,n){var i={};i[t]=n,e.registerIcons(i)},registerCustomIcon:function(t,n){(new r.default).imageToSVG(t,(function(t){var i=t.match(/path[^>]*d="([^"]*)"/)[1],r={};r[n.name]=i,e.registerIcons(r),e.addIcon(n.name,{left:100,top:100})}),r.default.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var e=this;return(0,i.extend)({setDrawMode:function(t,n){e.stopDrawingMode(),"free"===t?e.startDrawingMode("FREE_DRAWING",n):e.startDrawingMode("LINE_DRAWING",n)},setColor:function(t){e.setBrush({color:t})}},this._commonAction())},_maskAction:function(){var e=this;return(0,i.extend)({loadImageFromURL:function(t,n){return e.loadImageFromURL(e.toDataURL(),"FilterImage").then((function(){e.addImageObject(t).then((function(){URL.revokeObjectURL(n)})),e._invoker.fire(a.eventNames.EXECUTE_COMMAND,a.historyNames.LOAD_MASK_IMAGE)}))},applyFilter:function(){e.applyFilter("mask",{maskObjId:e.activeObjectId})}},this._commonAction())},_textAction:function(){var e=this;return(0,i.extend)({changeTextStyle:function(t,n){e.activeObjectId&&e.changeTextStyle(e.activeObjectId,t,n)}},this._commonAction())},_rotateAction:function(){var e=this;return(0,i.extend)({rotate:function(t,n){e.rotate(t,n),e.ui.resizeEditor(),e.ui.rotate.setRangeBarAngle("rotate",t)},setAngle:function(t,n){e.setAngle(t,n),e.ui.resizeEditor(),e.ui.rotate.setRangeBarAngle("setAngle",t)}},this._commonAction())},_shapeAction:function(){var e=this;return(0,i.extend)({changeShape:function(t,n){e.activeObjectId&&e.changeShape(e.activeObjectId,t,n)},setDrawingShape:function(t){e.setDrawingShape(t)}},this._commonAction())},_cropAction:function(){var e=this;return(0,i.extend)({crop:function(){var t=e.getCropzoneRect();t&&!(0,o.isEmptyCropzone)(t)&&e.crop(t).then((function(){e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("crop"),e._invoker.fire(a.eventNames.EXECUTE_COMMAND,a.historyNames.CROP)})).catch((function(e){return Promise.reject(e)}))},cancel:function(){e.stopDrawingMode(),e.ui.changeMenu("crop")},preset:function(t){switch(t){case"preset-square":e.setCropzoneRect(1);break;case"preset-3-2":e.setCropzoneRect(1.5);break;case"preset-4-3":e.setCropzoneRect(4/3);break;case"preset-5-4":e.setCropzoneRect(5/4);break;case"preset-7-5":e.setCropzoneRect(1.4);break;case"preset-16-9":e.setCropzoneRect(16/9);break;default:e.setCropzoneRect(),e.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_flipAction:function(){var e=this;return(0,i.extend)({flip:function(t){return e[t]()}},this._commonAction())},_filterAction:function(){var e=this;return(0,i.extend)({applyFilter:function(t,n,i,r){t?e.applyFilter(n,i,r):e.hasFilter(n)&&e.removeFilter(n)}},this._commonAction())},setReAction:function(){var e=this;this.on({undoStackChanged:function(t){t?(e.ui.changeHelpButtonEnabled("undo",!0),e.ui.changeHelpButtonEnabled("reset",!0)):(e.ui.changeHelpButtonEnabled("undo",!1),e.ui.changeHelpButtonEnabled("reset",!1)),e.ui.resizeEditor()},redoStackChanged:function(t){t?e.ui.changeHelpButtonEnabled("redo",!0):e.ui.changeHelpButtonEnabled("redo",!1),e.ui.resizeEditor()},objectActivated:function(t){e.activeObjectId=t.id,e.ui.changeHelpButtonEnabled("delete",!0),e.ui.changeHelpButtonEnabled("deleteAll",!0),"cropzone"===t.type?e.ui.crop.changeApplyButtonStatus(!0):["rect","circle","triangle"].indexOf(t.type)>-1?(e.stopDrawingMode(),"shape"!==e.ui.submenu&&e.ui.changeMenu("shape",!1,!1),e.ui.shape.setShapeStatus({strokeColor:t.stroke,strokeWidth:t.strokeWidth,fillColor:t.fill}),e.ui.shape.setMaxStrokeValue(Math.min(t.width,t.height))):"path"===t.type||"line"===t.type?"draw"!==e.ui.submenu&&(e.ui.changeMenu("draw",!1,!1),e.ui.draw.changeStandbyMode()):["i-text","text"].indexOf(t.type)>-1?("text"!==e.ui.submenu&&e.ui.changeMenu("text",!1,!1),e.ui.text.setTextStyleStateOnAction(t)):"icon"===t.type&&(e.stopDrawingMode(),"icon"!==e.ui.submenu&&e.ui.changeMenu("icon",!1,!1),e.ui.icon.setIconPickerColor(t.fill))},addText:function(t){var n=e.ui.text,i=n.textColor,r=n.fontSize,o=n.fontStyle,a=n.fontWeight,s=n.underline;e.addText("Double Click",{position:t.originPosition,styles:{fill:i,fontSize:r,fontFamily:"Noto Sans",fontStyle:o,fontWeight:a,underline:s}}).then((function(){e.changeCursor("default")}))},addObjectAfter:function(t){"icon"===t.type?e.ui.icon.changeStandbyMode():["rect","circle","triangle"].indexOf(t.type)>-1&&(e.ui.shape.setMaxStrokeValue(Math.min(t.width,t.height)),e.ui.shape.changeStandbyMode())},objectScaled:function(t){if(["i-text","text"].indexOf(t.type)>-1)e.ui.text.fontSize=(0,o.toInteger)(t.fontSize);else if(["rect","circle","triangle"].indexOf(t.type)>=0){var n=t.width,i=t.height,r=e.ui.shape.getStrokeValue();n<r&&e.ui.shape.setStrokeValue(n),i<r&&e.ui.shape.setStrokeValue(i)}},selectionCleared:function(){e.activeObjectId=null,"text"===e.ui.submenu?e.changeCursor("text"):"draw"!==e.ui.submenu&&"crop"!==e.ui.submenu&&e.stopDrawingMode()}})},_historyAction:function(){var e=this;return{undo:function(t){return e.undo(t)},redo:function(t){return e.redo(t)}}},_commonAction:function(){var e=this,t=a.drawingModes.TEXT,n=a.drawingModes.CROPPER,i=a.drawingModes.SHAPE,r=a.drawingModes.ZOOM;return{modeChange:function(o){switch(o){case a.drawingMenuNames.TEXT:e._changeActivateMode(t);break;case a.drawingMenuNames.CROP:e.startDrawingMode(n);break;case a.drawingMenuNames.SHAPE:e._changeActivateMode(i),e.setDrawingShape(e.ui.shape.type,e.ui.shape.options);break;case a.drawingMenuNames.ZOOM:e.startDrawingMode(r)}},deactivateAll:this.deactivateAll.bind(this),changeSelectableAll:this.changeSelectableAll.bind(this),discardSelection:this.discardSelection.bind(this),stopDrawingMode:this.stopDrawingMode.bind(this)}},mixin:function(e){(0,i.extend)(e.prototype,this)}}},"./src/js/command/addIcon.js":
/*!***********************************!*\
        !*** ./src/js/command/addIcon.js ***!
        \***********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a=o.componentNames.ICON,s={name:o.commandNames.ADD_ICON,execute:function(e,t,n){var i=this;return e.getComponent(a).add(t,n).then((function(t){return i.undoData.object=e.getObject(t.id),t}))},undo:function(e){return e.remove(this.undoData.object),r.Promise.resolve()}};i.default.register(s),t.default=s},"./src/js/command/addImageObject.js":
/*!******************************************!*\
        !*** ./src/js/command/addImageObject.js ***!
        \******************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o={name:n(
/*! @/consts */
"./src/js/consts.js").commandNames.ADD_IMAGE_OBJECT,execute:function(e,t){var n=this;return e.addImageObject(t).then((function(t){return n.undoData.object=e.getObject(t.id),t}))},undo:function(e){return e.remove(this.undoData.object),r.Promise.resolve()}};i.default.register(o),t.default=o},"./src/js/command/addObject.js":
/*!*************************************!*\
        !*** ./src/js/command/addObject.js ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a={name:o.commandNames.ADD_OBJECT,execute:function(e,t){return new r.Promise((function(n,i){e.contains(t)?i(o.rejectMessages.addedObject):(e.add(t),n(t))}))},undo:function(e,t){return new r.Promise((function(n,i){e.contains(t)?(e.remove(t),n(t)):i(o.rejectMessages.noObject)}))}};i.default.register(a),t.default=a},"./src/js/command/addShape.js":
/*!************************************!*\
        !*** ./src/js/command/addShape.js ***!
        \************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a=o.componentNames.SHAPE,s={name:o.commandNames.ADD_SHAPE,execute:function(e,t,n){var i=this;return e.getComponent(a).add(t,n).then((function(t){var n=t.id;return i.undoData.object=e.getObject(n),t}))},undo:function(e){return e.remove(this.undoData.object),r.Promise.resolve()}};i.default.register(s),t.default=s},"./src/js/command/addText.js":
/*!***********************************!*\
        !*** ./src/js/command/addText.js ***!
        \***********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a=n(
/*! @/helper/selectionModifyHelper */
"./src/js/helper/selectionModifyHelper.js"),s=o.componentNames.TEXT,l={name:o.commandNames.ADD_TEXT,execute:function(e,t,n){var i=this,l=e.getComponent(s);if(this.undoData.object){var c=this.undoData.object;return new r.Promise((function(t,n){e.contains(c)?n(o.rejectMessages.redo):(e.add(c),t(c))}))}return l.add(t,n).then((function(t){var n=t.id,r=e.getObject(n);return i.undoData.object=r,(0,a.setCachedUndoDataForDimension)((0,a.makeSelectionUndoData)(r,(function(){return(0,a.makeSelectionUndoDatum)(n,r,!1)}))),t}))},undo:function(e){return e.remove(this.undoData.object),r.Promise.resolve()}};i.default.register(l),t.default=l},"./src/js/command/applyFilter.js":
/*!***************************************!*\
        !*** ./src/js/command/applyFilter.js ***!
        \***************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(
/*! tui-code-snippet */
"tui-code-snippet")),r=a(n(
/*! @/factory/command */
"./src/js/factory/command.js")),o=n(
/*! @/consts */
"./src/js/consts.js");function a(e){return e&&e.__esModule?e:{default:e}}var s=o.componentNames.FILTER,l=null,c={name:o.commandNames.APPLY_FILTER,execute:function(e,t,n,r){var a=e.getComponent(s);if("mask"===t){var c=e.getObject(n.maskObjId);if(!c||!c.isType("image"))return Promise.reject(o.rejectMessages.invalidParameters);i.default.extend(n,{mask:c}),e.remove(n.mask)}if(!this.isRedo){var u=function(e,t,n){var i={};return"mask"===e&&(i.object=n.mask),i.options=t,i}(t,a.getOptions(t),n);l=this.setUndoData(u,l,r)}return a.add(t,n)},undo:function(e,t){var n=e.getComponent(s);if("mask"===t){var i=this.undoData.object;return e.add(i),e.setActiveObject(i),n.remove(t)}return this.undoData.options?n.add(t,this.undoData.options):n.remove(t)}};r.default.register(c),t.default=c},"./src/js/command/changeIconColor.js":
/*!*******************************************!*\
        !*** ./src/js/command/changeIconColor.js ***!
        \*******************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a=o.componentNames.ICON,s={name:o.commandNames.CHANGE_ICON_COLOR,execute:function(e,t,n){var i=this;return new r.Promise((function(r,s){var l=e.getComponent(a),c=e.getObject(t);c||s(o.rejectMessages.noObject),i.undoData.object=c,i.undoData.color=l.getColor(c),l.setColor(n,c),r()}))},undo:function(e){var t=e.getComponent(a),n=this.undoData,i=n.object,o=n.color;return t.setColor(o,i),r.Promise.resolve()}};i.default.register(s),t.default=s},"./src/js/command/changeSelection.js":
/*!*******************************************!*\
        !*** ./src/js/command/changeSelection.js ***!
        \*******************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a=n(
/*! @/helper/selectionModifyHelper */
"./src/js/helper/selectionModifyHelper.js"),s={name:o.commandNames.CHANGE_SELECTION,execute:function(e,t){return this.isRedo?t.forEach((function(t){e.setObjectProperties(t.id,t)})):this.undoData=(0,a.getCachedUndoDataForDimension)(),r.Promise.resolve()},undo:function(e){return this.undoData.forEach((function(t){e.setObjectProperties(t.id,t)})),r.Promise.resolve()}};i.default.register(s),t.default=s},"./src/js/command/changeShape.js":
/*!***************************************!*\
        !*** ./src/js/command/changeShape.js ***!
        \***************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(
/*! tui-code-snippet */
"tui-code-snippet")),r=s(n(
/*! @/factory/command */
"./src/js/factory/command.js")),o=n(
/*! @/util */
"./src/js/util.js"),a=n(
/*! @/consts */
"./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=a.componentNames.SHAPE,c=null,u={name:a.commandNames.CHANGE_SHAPE,execute:function(e,t,n,r){var s=e.getComponent(l),u=e.getObject(t);if(!u)return o.Promise.reject(a.rejectMessages.noObject);if(!this.isRedo){var d=function(e,t){var n={object:t,options:{}};return i.default.forEachOwnProperties(e,(function(e,i){n.options[i]=t[i]})),n}(n,u);c=this.setUndoData(d,c,r)}return s.change(u,n)},undo:function(e){var t=e.getComponent(l),n=this.undoData,i=n.object,r=n.options;return t.change(i,r)}};r.default.register(u),t.default=u},"./src/js/command/changeText.js":
/*!**************************************!*\
        !*** ./src/js/command/changeText.js ***!
        \**************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a=o.componentNames.TEXT,s={name:o.commandNames.CHANGE_TEXT,execute:function(e,t,n){var i=e.getComponent(a),s=e.getObject(t);return s?(this.undoData.object=s,this.undoData.text=i.getText(s),i.change(s,n)):r.Promise.reject(o.rejectMessages.noObject)},undo:function(e){var t=e.getComponent(a),n=this.undoData,i=n.object,r=n.text;return t.change(i,r)}};i.default.register(s),t.default=s},"./src/js/command/changeTextStyle.js":
/*!*******************************************!*\
        !*** ./src/js/command/changeTextStyle.js ***!
        \*******************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(
/*! tui-code-snippet */
"tui-code-snippet")),r=s(n(
/*! @/factory/command */
"./src/js/factory/command.js")),o=n(
/*! @/util */
"./src/js/util.js"),a=n(
/*! @/consts */
"./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=a.componentNames.TEXT,c=null,u={name:a.commandNames.CHANGE_TEXT_STYLE,execute:function(e,t,n,r){var s=e.getComponent(l),u=e.getObject(t);if(!u)return o.Promise.reject(a.rejectMessages.noObject);if(!this.isRedo){var d=function(e,t){var n={object:t,styles:{}};return i.default.forEachOwnProperties(e,(function(e,i){var r=t[i];n.styles[i]=r})),n}(n,u);c=this.setUndoData(d,c,r)}return s.setStyle(u,n)},undo:function(e){var t=e.getComponent(l),n=this.undoData,i=n.object,r=n.styles;return t.setStyle(i,r)}};r.default.register(u),t.default=u},"./src/js/command/clearObjects.js":
/*!****************************************!*\
        !*** ./src/js/command/clearObjects.js ***!
        \****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o={name:n(
/*! @/consts */
"./src/js/consts.js").commandNames.CLEAR_OBJECTS,execute:function(e){var t=this;return new r.Promise((function(n){t.undoData.objects=e.removeAll(),n()}))},undo:function(e){return e.add(this.undoData.objects),r.Promise.resolve()}};i.default.register(o),t.default=o},"./src/js/command/flip.js":
/*!********************************!*\
        !*** ./src/js/command/flip.js ***!
        \********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/consts */
"./src/js/consts.js"),o=r.componentNames.FLIP,a={name:r.commandNames.FLIP_IMAGE,execute:function(e,t){var n=e.getComponent(o);return this.undoData.setting=n.getCurrentSetting(),n[t]()},undo:function(e){return e.getComponent(o).set(this.undoData.setting)}};i.default.register(a),t.default=a},"./src/js/command/loadImage.js":
/*!*************************************!*\
        !*** ./src/js/command/loadImage.js ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/consts */
"./src/js/consts.js"),o=r.componentNames.IMAGE_LOADER,a={name:r.commandNames.LOAD_IMAGE,execute:function(e,t,n){var i=e.getComponent(o),r=i.getCanvasImage(),a=r?r.width:0,s=r?r.height:0,l=e.removeAll(!0).filter((function(e){return"cropzone"!==e.type}));return l.forEach((function(e){e.evented=!0})),this.undoData={name:i.getImageName(),image:r,objects:l},i.load(t,n).then((function(e){return{oldWidth:a,oldHeight:s,newWidth:e.width,newHeight:e.height}}))},undo:function(e){var t=e.getComponent(o),n=this.undoData,i=n.objects,r=n.name,a=n.image;return e.removeAll(!0),e.add(i),t.load(r,a)}};i.default.register(a),t.default=a},"./src/js/command/removeFilter.js":
/*!****************************************!*\
        !*** ./src/js/command/removeFilter.js ***!
        \****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/consts */
"./src/js/consts.js"),o=r.componentNames.FILTER,a={name:r.commandNames.REMOVE_FILTER,execute:function(e,t){var n=e.getComponent(o);return this.undoData.options=n.getOptions(t),n.remove(t)},undo:function(e,t){var n=e.getComponent(o),i=this.undoData.options;return n.add(t,i)}};i.default.register(a),t.default=a},"./src/js/command/removeObject.js":
/*!****************************************!*\
        !*** ./src/js/command/removeObject.js ***!
        \****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a={name:o.commandNames.REMOVE_OBJECT,execute:function(e,t){var n=this;return new r.Promise((function(i,r){n.undoData.objects=e.removeObjectById(t),n.undoData.objects.length?i():r(o.rejectMessages.noObject)}))},undo:function(e){return e.add(this.undoData.objects),r.Promise.resolve()}};i.default.register(a),t.default=a},"./src/js/command/resizeCanvasDimension.js":
/*!*************************************************!*\
        !*** ./src/js/command/resizeCanvasDimension.js ***!
        \*************************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o={name:n(
/*! @/consts */
"./src/js/consts.js").commandNames.RESIZE_CANVAS_DIMENSION,execute:function(e,t){var n=this;return new r.Promise((function(i){n.undoData.size={width:e.cssMaxWidth,height:e.cssMaxHeight},e.setCssMaxDimension(t),e.adjustCanvasDimension(),i()}))},undo:function(e){return e.setCssMaxDimension(this.undoData.size),e.adjustCanvasDimension(),r.Promise.resolve()}};i.default.register(o),t.default=o},"./src/js/command/rotate.js":
/*!**********************************!*\
        !*** ./src/js/command/rotate.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/consts */
"./src/js/consts.js"),o=r.componentNames.ROTATION,a=null,s={name:r.commandNames.ROTATE_IMAGE,execute:function(e,t,n,i){var r=e.getComponent(o);if(!this.isRedo){var s=function(e){return{angle:e.getCurrentAngle()}}(r);a=this.setUndoData(s,a,i)}return r[t](n)},undo:function(e){var t=e.getComponent(o),n=this.args,i=n[1],r=n[2];return"setAngle"===i?t[i](this.undoData.angle):t.rotate(-r)}};i.default.register(s),t.default=s},"./src/js/command/setObjectPosition.js":
/*!*********************************************!*\
        !*** ./src/js/command/setObjectPosition.js ***!
        \*********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/command */
"./src/js/factory/command.js")),r=n(
/*! @/util */
"./src/js/util.js"),o=n(
/*! @/consts */
"./src/js/consts.js"),a={name:o.commandNames.SET_OBJECT_POSITION,execute:function(e,t,n){return e.getObject(t)?(this.undoData.objectId=t,this.undoData.props=e.getObjectProperties(t,["left","top"]),e.setObjectPosition(t,n),e.renderAll(),r.Promise.resolve()):r.Promise.reject(o.rejectMessages.noObject)},undo:function(e){var t=this.undoData,n=t.objectId,i=t.props;return e.setObjectProperties(n,i),e.renderAll(),r.Promise.resolve()}};i.default.register(a),t.default=a},"./src/js/command/setObjectProperties.js":
/*!***********************************************!*\
        !*** ./src/js/command/setObjectProperties.js ***!
        \***********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(
/*! tui-code-snippet */
"tui-code-snippet")),r=s(n(
/*! @/factory/command */
"./src/js/factory/command.js")),o=n(
/*! @/util */
"./src/js/util.js"),a=n(
/*! @/consts */
"./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}var l={name:a.commandNames.SET_OBJECT_PROPERTIES,execute:function(e,t,n){var r=this,s=e.getObject(t);return s?(this.undoData.props={},i.default.forEachOwnProperties(n,(function(e,t){r.undoData.props[t]=s[t]})),e.setObjectProperties(t,n),o.Promise.resolve()):o.Promise.reject(a.rejectMessages.noObject)},undo:function(e,t){var n=this.undoData.props;return e.setObjectProperties(t,n),o.Promise.resolve()}};r.default.register(l),t.default=l},"./src/js/component/cropper.js":
/*!*************************************!*\
        !*** ./src/js/component/cropper.js ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=u(n(
/*! fabric */
"fabric")),a=u(n(
/*! @/interface/component */
"./src/js/interface/component.js")),s=u(n(
/*! @/extension/cropzone */
"./src/js/extension/cropzone.js")),l=n(
/*! @/consts */
"./src/js/consts.js"),c=n(
/*! @/util */
"./src/js/util.js");function u(e){return e&&e.__esModule?e:{default:e}}var d={presetRatio:null,top:-10,left:-10,height:1,width:1},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.CROPPER,e));return n._cropzone=null,n._startX=null,n._startY=null,n._withShiftKey=!1,n._listeners={keydown:n._onKeyDown.bind(n),keyup:n._onKeyUp.bind(n),mousedown:n._onFabricMouseDown.bind(n),mousemove:n._onFabricMouseMove.bind(n),mouseup:n._onFabricMouseUp.bind(n)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(){if(!this._cropzone){var e=this.getCanvas();e.forEachObject((function(e){e.evented=!1})),this._cropzone=new s.default(e,r.default.extend({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},l.CROPZONE_DEFAULT_OPTIONS,this.graphics.cropSelectionStyle)),e.discardActiveObject(),e.add(this._cropzone),e.on("mouse:down",this._listeners.mousedown),e.selection=!1,e.defaultCursor="crosshair",o.default.util.addListener(document,"keydown",this._listeners.keydown),o.default.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var e=this.getCanvas(),t=this._cropzone;t&&(e.remove(t),e.selection=!0,e.defaultCursor="default",e.off("mouse:down",this._listeners.mousedown),e.forEachObject((function(e){e.evented=!0})),this._cropzone=null,o.default.util.removeListener(document,"keydown",this._listeners.keydown),o.default.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(e){this._cropzone&&this._cropzone.set({visible:e})}},{key:"_onFabricMouseDown",value:function(e){var t=this.getCanvas();if(!e.target){t.selection=!1;var n=t.getPointer(e.e);this._startX=n.x,this._startY=n.y,t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e),i=n.x,r=n.y,o=this._cropzone;Math.abs(i-this._startX)+Math.abs(r-this._startY)>10&&(t.remove(o),o.set(this._calcRectDimensionFromPoint(i,r)),t.add(o),t.setActiveObject(o))}},{key:"_calcRectDimensionFromPoint",value:function(e,t){var n=this.getCanvas(),i=n.getWidth(),r=n.getHeight(),o=this._startX,a=this._startY,s=(0,c.clamp)(e,0,o),l=(0,c.clamp)(t,0,a),u=(0,c.clamp)(e,o,i)-s,d=(0,c.clamp)(t,a,r)-l;return this._withShiftKey&&(u>d?d=u:d>u&&(u=d),o>=e&&(s=o-u),a>=t&&(l=a-d)),{left:s,top:l,width:u,height:d}}},{key:"_onFabricMouseUp",value:function(){var e=this._cropzone,t=this._listeners,n=this.getCanvas();n.setActiveObject(e),n.off({"mouse:move":t.mousemove,"mouse:up":t.mouseup})}},{key:"getCroppedImageData",value:function(e){var t=this.getCanvas(),n=t.contains(this._cropzone);if(!e)return null;n&&t.remove(this._cropzone);var i={imageName:this.getImageName(),url:t.toDataURL(e)};return n&&t.add(this._cropzone),i}},{key:"getCropzoneRect",value:function(){var e=this._cropzone;return e.isValid()?{left:e.left,top:e.top,width:e.width,height:e.height}:null}},{key:"setCropzoneRect",value:function(e){var t=this.getCanvas(),n=this._cropzone;t.discardActiveObject(),t.selection=!1,t.remove(n),n.set(e?this._getPresetPropertiesForCropSize(e):d),t.add(n),t.selection=!0,e&&t.setActiveObject(n)}},{key:"_getPresetPropertiesForCropSize",value:function(e){var t=this.getCanvas(),n=t.getWidth(),i=t.getHeight(),o=n>=i?n:i,a=function(e,t){return e>t?t/e:1},s=o*e,l=o,u=a(s,n),d=r.default.map([s,l],(function(e){return e*u}));s=d[0];var h=a(l=d[1],i),p=r.default.map([s,l],(function(e){return(0,c.fixFloatingPoint)(e*h)}));return s=p[0],{presetRatio:e,top:(i-(l=p[1]))/2,left:(n-s)/2,width:s,height:l}}},{key:"_onKeyDown",value:function(e){e.keyCode===l.keyCodes.SHIFT&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(e){e.keyCode===l.keyCodes.SHIFT&&(this._withShiftKey=!1)}}]),t}(a.default);t.default=h},"./src/js/component/filter.js":
/*!************************************!*\
        !*** ./src/js/component/filter.js ***!
        \************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(
/*! tui-code-snippet */
"tui-code-snippet"),o=p(n(
/*! fabric */
"fabric")),a=p(n(
/*! @/interface/component */
"./src/js/interface/component.js")),s=n(
/*! @/util */
"./src/js/util.js"),l=n(
/*! @/consts */
"./src/js/consts.js"),c=p(n(
/*! @/extension/mask */
"./src/js/extension/mask.js")),u=p(n(
/*! @/extension/sharpen */
"./src/js/extension/sharpen.js")),d=p(n(
/*! @/extension/emboss */
"./src/js/extension/emboss.js")),h=p(n(
/*! @/extension/colorFilter */
"./src/js/extension/colorFilter.js"));function p(e){return e&&e.__esModule?e:{default:e}}var f=o.default.Image.filters;f.Mask=c.default,f.Sharpen=u.default,f.Emboss=d.default,f.ColorFilter=h.default;var A=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.FILTER,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"add",value:function(e,t){var n=this;return new s.Promise((function(i,r){var o=n._getSourceImage(),a=n.getCanvas(),s=n._getFilter(o,e);s||(s=n._createFilter(o,e,t)),s||r(l.rejectMessages.invalidParameters),n._changeFilterValues(s,t),n._apply(o,(function(){a.renderAll(),i({type:e,action:"add",options:t})}))}))}},{key:"remove",value:function(e){var t=this;return new s.Promise((function(n,i){var r=t._getSourceImage(),o=t.getCanvas(),a=t.getOptions(e);r.filters.length||i(l.rejectMessages.unsupportedOperation),t._removeFilter(r,e),t._apply(r,(function(){o.renderAll(),n({type:e,action:"remove",options:a})}))}))}},{key:"hasFilter",value:function(e){return!!this._getFilter(this._getSourceImage(),e)}},{key:"getOptions",value:function(e){var t=this._getSourceImage(),n=this._getFilter(t,e);return n?(0,r.extend)({},n.options):null}},{key:"_changeFilterValues",value:function(e,t){(0,r.forEach)(t,(function(t,n){(0,r.isUndefined)(e[n])||(e[n]=t)})),(0,r.forEach)(e.options,(function(n,i){(0,r.isUndefined)(t[i])||(e.options[i]=t[i])}))}},{key:"_apply",value:function(e,t){e.filters.push(),e.applyFilters()&&t()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(e,t,n){var i=void 0,r=this._getFabricFilterType(t),a=o.default.Image.filters[r];return a&&((i=new a(n)).options=n,e.filters.push(i)),i}},{key:"_getFilter",value:function(e,t){var n=null;if(e){var i=this._getFabricFilterType(t),r=e.filters.length,o=void 0,a=void 0;for(a=0;a<r;a+=1)if((o=e.filters[a]).type===i){n=o;break}}return n}},{key:"_removeFilter",value:function(e,t){var n=this._getFabricFilterType(t);e.filters=(0,r.filter)(e.filters,(function(e){return e.type!==n}))}},{key:"_getFabricFilterType",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),t}(a.default);t.default=A},"./src/js/component/flip.js":
/*!**********************************!*\
        !*** ./src/js/component/flip.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=l(n(
/*! @/interface/component */
"./src/js/interface/component.js")),a=n(
/*! @/util */
"./src/js/util.js"),s=n(
/*! @/consts */
"./src/js/consts.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.componentNames.FLIP,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getCurrentSetting",value:function(){var e=this.getCanvasImage();return{flipX:e.flipX,flipY:e.flipY}}},{key:"set",value:function(e){var t=this.getCurrentSetting(),n=t.flipX!==e.flipX,i=t.flipY!==e.flipY;return n||i?(r.default.extend(t,e),this.setImageProperties(t,!0),this._invertAngle(n,i),this._flipObjects(n,i),a.Promise.resolve({flipX:t.flipX,flipY:t.flipY,angle:this.getCanvasImage().angle})):a.Promise.reject(s.rejectMessages.flip)}},{key:"_invertAngle",value:function(e,t){var n=this.getCanvasImage(),i=n.angle;e&&(i*=-1),t&&(i*=-1),n.rotate(parseFloat(i)).setCoords()}},{key:"_flipObjects",value:function(e,t){var n=this.getCanvas();e&&n.forEachObject((function(e){e.set({angle:parseFloat(-1*e.angle),flipX:!e.flipX,left:n.width-e.left}).setCoords()})),t&&n.forEachObject((function(e){e.set({angle:parseFloat(-1*e.angle),flipY:!e.flipY,top:n.height-e.top}).setCoords()})),n.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var e=this.getCurrentSetting();return this.set({flipX:!e.flipX,flipY:e.flipY})}},{key:"flipY",value:function(){var e=this.getCurrentSetting();return this.set({flipX:e.flipX,flipY:!e.flipY})}}]),t}(o.default);t.default=c},"./src/js/component/freeDrawing.js":
/*!*****************************************!*\
        !*** ./src/js/component/freeDrawing.js ***!
        \*****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(
/*! fabric */
"fabric")),o=s(n(
/*! @/interface/component */
"./src/js/interface/component.js")),a=n(
/*! @/consts */
"./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.componentNames.FREE_DRAWING,e));return n.width=12,n.oColor=new r.default.Color("rgba(0, 0, 0, 0.5)"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){this.getCanvas().isDrawingMode=!0,this.setBrush(e)}},{key:"setBrush",value:function(e){var t=this.getCanvas().freeDrawingBrush;e=e||{},this.width=e.width||this.width,e.color&&(this.oColor=new r.default.Color(e.color)),t.width=this.width,t.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),t}(o.default);t.default=l},"./src/js/component/icon.js":
/*!**********************************!*\
        !*** ./src/js/component/icon.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=c(n(
/*! fabric */
"fabric")),a=c(n(
/*! @/interface/component */
"./src/js/interface/component.js")),s=n(
/*! @/util */
"./src/js/util.js"),l=n(
/*! @/consts */
"./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.ICON,e));return n._oColor="#000000",n._pathMap=u,n._type=null,n._iconColor=null,n._handlers={mousedown:n._onFabricMouseDown.bind(n),mousemove:n._onFabricMouseMove.bind(n),mouseup:n._onFabricMouseUp.bind(n)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setStates",value:function(e,t){this._type=e,this._iconColor=t}},{key:"start",value:function(){var e=this.getCanvas();e.selection=!1,e.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var e=this.getCanvas();e.selection=!0,e.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(e,t){var n=this;return new s.Promise((function(i,o){var a=n.getCanvas(),s=n._pathMap[e],c=l.fObjectOptions.SELECTION_STYLE,u=s?n._createIcon(s):null;n._icon=u,u||o(l.rejectMessages.invalidParameters),u.set(r.default.extend({type:"icon",fill:n._oColor},c,t,n.graphics.controlStyle)),a.add(u).setActiveObject(u),i(n.graphics.createObjectProperties(u))}))}},{key:"registerPaths",value:function(e){var t=this;r.default.forEach(e,(function(e,n){t._pathMap[n]=e}),this)}},{key:"setColor",value:function(e,t){this._oColor=e,t&&"icon"===t.get("type")&&(t.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(e){return e.fill}},{key:"_createIcon",value:function(e){return new o.default.Path(e)}},{key:"_onFabricMouseDown",value:function(e){var t=this,n=this.getCanvas();this._startPoint=n.getPointer(e.e);var i=this._startPoint,r=i.x,o=i.y;this.add(this._type,{left:r,top:o,fill:this._iconColor}).then((function(){t.fire(l.eventNames.ADD_OBJECT,t.graphics.createObjectProperties(t._icon)),n.on("mouse:move",t._handlers.mousemove),n.on("mouse:up",t._handlers.mouseup)}))}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas();if(this._icon){var n=t.getPointer(e.e),i=(n.x-this._startPoint.x)/this._icon.width,r=(n.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(2*i),scaleY:Math.abs(2*r)}),this._icon.setCoords(),t.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var e=this.getCanvas();this.fire(l.eventNames.OBJECT_ADDED,this.graphics.createObjectProperties(this._icon)),this._icon=null,e.off("mouse:down",this._handlers.mousedown),e.off("mouse:move",this._handlers.mousemove),e.off("mouse:up",this._handlers.mouseup)}}]),t}(a.default);t.default=d},"./src/js/component/imageLoader.js":
/*!*****************************************!*\
        !*** ./src/js/component/imageLoader.js ***!
        \*****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/component */
"./src/js/interface/component.js")),o=n(
/*! @/util */
"./src/js/util.js"),a=n(
/*! @/consts */
"./src/js/consts.js"),s={padding:0,crossOrigin:"Anonymous"},l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.componentNames.IMAGE_LOADER,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"load",value:function(e,t){var n=this,i=void 0;if(e||t)i=this._setBackgroundImage(t).then((function(t){return n.setCanvasImage(e,t),n.adjustCanvasDimension(),t}));else{var r=this.getCanvas();r.backgroundImage=null,r.renderAll(),i=new o.Promise((function(e){n.setCanvasImage("",null),e()}))}return i}},{key:"_setBackgroundImage",value:function(e){var t=this;return e?new o.Promise((function(n,i){var r=t.getCanvas();r.setBackgroundImage(e,(function(){var e=r.backgroundImage;e&&e.getElement()?n(e):i(a.rejectMessages.loadingImageFailed)}),s)})):o.Promise.reject(a.rejectMessages.loadImage)}}]),t}(r.default);t.default=l},"./src/js/component/line.js":
/*!**********************************!*\
        !*** ./src/js/component/line.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=c(n(
/*! fabric */
"fabric")),a=c(n(
/*! @/interface/component */
"./src/js/interface/component.js")),s=c(n(
/*! @/extension/arrowLine */
"./src/js/extension/arrowLine.js")),l=n(
/*! @/consts */
"./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.LINE,e));return n._width=12,n._oColor=new o.default.Color("rgba(0, 0, 0, 0.5)"),n._listeners={mousedown:n._onFabricMouseDown.bind(n),mousemove:n._onFabricMouseMove.bind(n),mouseup:n._onFabricMouseUp.bind(n)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setHeadOption",value:function(e){var t=e.arrowType,n=void 0===t?{head:null,tail:null}:t;this._arrowType=n}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getCanvas();t.defaultCursor="crosshair",t.selection=!1,this.setHeadOption(e),this.setBrush(e),t.forEachObject((function(e){e.set({evented:!1})})),t.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(e){var t=this.getCanvas().freeDrawingBrush;e=e||{},this._width=e.width||this._width,e.color&&(this._oColor=new o.default.Color(e.color)),t.width=this._width,t.color=this._oColor.toRgba()}},{key:"end",value:function(){var e=this.getCanvas();e.defaultCursor="default",e.selection=!0,e.forEachObject((function(e){e.set({evented:!0})})),e.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e),i=n.x,r=n.y,o=[i,r,i,r];this._line=new s.default(o,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(l.fObjectOptions.SELECTION_STYLE),t.add(this._line),t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(l.eventNames.ADD_OBJECT,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e);this._line.set({x2:n.x,y2:n.y}),this._line.setCoords(),t.renderAll()}},{key:"_onFabricMouseUp",value:function(){var e=this.getCanvas();this.fire(l.eventNames.OBJECT_ADDED,this._createLineEventObjectProperties()),this._line=null,e.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var e=this.graphics.createObjectProperties(this._line),t=this._line,n=t.x1,i=t.x2,o=t.y1,a=t.y2;return r.default.extend({},e,{startPosition:{x:n,y:o},endPosition:{x:i,y:a}})}}]),t}(a.default);t.default=u},"./src/js/component/rotation.js":
/*!**************************************!*\
        !*** ./src/js/component/rotation.js ***!
        \**************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(
/*! fabric */
"fabric")),o=l(n(
/*! @/interface/component */
"./src/js/interface/component.js")),a=n(
/*! @/util */
"./src/js/util.js"),s=n(
/*! @/consts */
"./src/js/consts.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.componentNames.ROTATION,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(e){var t=this.getCurrentAngle()%360;e%=360;var n=this.getCanvasImage(),i=n.getCenterPoint();n.set({angle:e}).setCoords(),this.adjustCanvasDimension();var r=n.getCenterPoint();return this._rotateForEachObject(i,r,e-t),a.Promise.resolve(e)}},{key:"_rotateForEachObject",value:function(e,t,n){var i=this.getCanvas(),o=e.x-t.x,a=e.y-t.y;i.forEachObject((function(t){var i=t.getCenterPoint(),s=r.default.util.degreesToRadians(n),l=r.default.util.rotatePoint(i,e,s);t.set({left:l.x-o,top:l.y-a,angle:(t.angle+n)%360}),t.setCoords()})),i.renderAll()}},{key:"rotate",value:function(e){var t=this.getCurrentAngle();return this.setAngle(t+e)}}]),t}(o.default);t.default=c},"./src/js/component/shape.js":
/*!***********************************!*\
        !*** ./src/js/component/shape.js ***!
        \***********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(
/*! tui-code-snippet */
"tui-code-snippet"),o=d(n(
/*! fabric */
"fabric")),a=d(n(
/*! @/interface/component */
"./src/js/interface/component.js")),s=d(n(
/*! @/helper/shapeResizeHelper */
"./src/js/helper/shapeResizeHelper.js")),l=n(
/*! @/helper/shapeFilterFillHelper */
"./src/js/helper/shapeFilterFillHelper.js"),c=n(
/*! @/util */
"./src/js/util.js"),u=n(
/*! @/consts */
"./src/js/consts.js");function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.extend)({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},u.SHAPE_DEFAULT_OPTIONS);function p(e,t,n){var i=e.fill,o=(0,c.getFillTypeFromOption)(e.fill),a=i;i.color&&(a=i.color);var s=null;if("filter"===o){var u=n();s=(0,l.makeFillPatternForFilter)(t,i.filter,u)}else s={fill:a};return(0,r.extend)({},e,s)}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u.componentNames.SHAPE,e));return n._shapeObj=null,n._type="rect",n._options=(0,r.extend)({},h),n._isSelected=!1,n._startPoint={},n._withShiftKey=!1,n._handlers={mousedown:n._onFabricMouseDown.bind(n),mousemove:n._onFabricMouseMove.bind(n),mouseup:n._onFabricMouseUp.bind(n),keydown:n._onKeyDown.bind(n),keyup:n._onKeyUp.bind(n)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(){var e=this.getCanvas();this._isSelected=!1,e.defaultCursor="crosshair",e.selection=!1,e.uniformScaling=!0,e.on({"mouse:down":this._handlers.mousedown}),o.default.util.addListener(document,"keydown",this._handlers.keydown),o.default.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var e=this.getCanvas();this._isSelected=!1,e.defaultCursor="default",e.selection=!0,e.uniformScaling=!1,e.off({"mouse:down":this._handlers.mousedown}),o.default.util.removeListener(document,"keydown",this._handlers.keydown),o.default.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(e,t){this._type=e,t&&(this._options=(0,r.extend)(this._options,t))}},{key:"add",value:function(e,t){var n=this;return new c.Promise((function(i){var r=n.getCanvas(),o=n._extendOptions(t),a=n._createInstance(e,o),s=n.graphics.createObjectProperties(a);n._bindEventOnShape(a),r.add(a).setActiveObject(a),n._resetPositionFillFilter(a),i(s)}))}},{key:"change",value:function(e,t){var n=this;return new c.Promise((function(i,r){(0,c.isShape)(e)||r(u.rejectMessages.unsupportedType);var o="filter"===(0,c.getFillTypeFromOption)(t.fill),a=n.graphics,s=a.canvasImage,l=a.createStaticCanvas;e.set(o?p(t,s,l):t),o&&n._resetPositionFillFilter(e),n.getCanvas().renderAll(),i()}))}},{key:"makeFillPropertyForUserEvent",value:function(e){var t=(0,c.getFillTypeFromObject)(e),n={};if(t===u.SHAPE_FILL_TYPE.FILTER){var i=(0,l.getFillImageFromShape)(e),r=(0,l.makeFilterOptionFromFabricImage)(i);n.type=t,n.filter=r}else n.type=u.SHAPE_FILL_TYPE.COLOR,n.color=e.fill||"transparent";return n}},{key:"processForCopiedObject",value:function(e,t){if(this._bindEventOnShape(e),"filter"===(0,c.getFillTypeFromObject)(e)){var n=(0,l.getFillImageFromShape)(t),i=(0,l.makeFilterOptionFromFabricImage)(n),r=this.graphics.createStaticCanvas();e.set((0,l.makeFillPatternForFilter)(this.graphics.canvasImage,i,r)),this._resetPositionFillFilter(e)}}},{key:"_createInstance",value:function(e,t){var n=void 0;switch(e){case"rect":n=new o.default.Rect(t);break;case"circle":n=new o.default.Ellipse((0,r.extend)({type:"circle"},t));break;case"triangle":n=new o.default.Triangle(t);break;default:n={}}return n}},{key:"_extendOptions",value:function(e){var t=u.fObjectOptions.SELECTION_STYLE,n=this.graphics,i=n.canvasImage,o=n.createStaticCanvas;return p(e=(0,r.extend)({},h,this._options,t,e),i,o)}},{key:"_bindEventOnShape",value:function(e){var t=this,n=this.getCanvas();e.on({added:function(){t._shapeObj=this,s.default.setOrigins(t._shapeObj)},selected:function(){t._isSelected=!0,t._shapeObj=this,n.uniformScaling=!0,n.defaultCursor="default",s.default.setOrigins(t._shapeObj)},deselected:function(){t._isSelected=!1,t._shapeObj=null,n.defaultCursor="crosshair",n.uniformScaling=!1},modified:function(){var e=t._shapeObj;s.default.adjustOriginToCenter(e),s.default.setOrigins(e)},modifiedInGroup:function(n){t._fillFilterRePositionInGroupSelection(e,n)},moving:function(){t._resetPositionFillFilter(this)},rotating:function(){t._resetPositionFillFilter(this)},scaling:function(e){var i=n.getPointer(e.e),r=t._shapeObj;n.setCursor("crosshair"),s.default.resize(r,i,!0),t._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(e){if(e.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var t=this.getCanvas();this._startPoint=t.getPointer(e.e),t.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(e){var t=this,n=this.getCanvas(),i=n.getPointer(e.e),r=this._startPoint.x,o=this._startPoint.y,a=r-i.x,l=o-i.y,c=this._shapeObj;c?(this._shapeObj.set({isRegular:this._withShiftKey}),s.default.resize(c,i),n.renderAll(),this._resetPositionFillFilter(c)):this.add(this._type,{left:r,top:o,width:a,height:l}).then((function(e){t.fire(u.eventNames.ADD_OBJECT,e)}))}},{key:"_onFabricMouseUp",value:function(){var e=this,t=this.getCanvas(),n=this._startPoint.x,i=this._startPoint.y,r=this._shapeObj;r?r&&(s.default.adjustOriginToCenter(r),this.fire(u.eventNames.OBJECT_ADDED,this.graphics.createObjectProperties(r))):this.add(this._type,{left:n,top:i,width:20,height:20}).then((function(t){e.fire(u.eventNames.ADD_OBJECT,t)})),t.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(e){e.keyCode===u.keyCodes.SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(e){e.keyCode===u.keyCodes.SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(e){if("filter"===(0,c.getFillTypeFromObject)(e)){var t=(0,c.getCustomProperty)(e,"patternSourceCanvas").patternSourceCanvas,n=(0,l.getFillImageFromShape)(e),i=(0,c.getCustomProperty)(n,"originalAngle").originalAngle;this.graphics.canvasImage.angle!==i&&(0,l.reMakePatternImageSource)(e,this.graphics.canvasImage);var r=e.originX,o=e.originY;s.default.adjustOriginToCenter(e),e.width*=e.scaleX,e.height*=e.scaleY,e.rx*=e.scaleX,e.ry*=e.scaleY,e.scaleX=1,e.scaleY=1,(0,l.rePositionFilterTypeFillImage)(e),(0,c.changeOrigin)(e,{originX:r,originY:o}),(0,l.resetFillPatternCanvas)(t)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(e,t){1===t.scaleX&&1===t.scaleY||t.addWithUpdate();var n=e.angle,i=e.left,r=e.top;t.realizeTransform(e),this._resetPositionFillFilter(e),e.set({angle:n,left:i,top:r})}}]),t}(a.default);t.default=f},"./src/js/component/text.js":
/*!**********************************!*\
        !*** ./src/js/component/text.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=c(n(
/*! fabric */
"fabric")),a=c(n(
/*! @/interface/component */
"./src/js/interface/component.js")),s=n(
/*! @/util */
"./src/js/util.js"),l=n(
/*! @/consts */
"./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u={fill:"#000000",left:0,top:0},d={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"left",underline:!1},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.TEXT,e));return n._defaultStyles=u,n._isSelected=!1,n._selectedObj={},n._editingObj={},n._listeners={mousedown:n._onFabricMouseDown.bind(n),select:n._onFabricSelect.bind(n),selectClear:n._onFabricSelectClear.bind(n),scaling:n._onFabricScaling.bind(n),textChanged:n._onFabricTextChanged.bind(n)},n._textarea=null,n._ratio=1,n._lastClickTime=(new Date).getTime(),n._editingObjInfos={},n.isPrevEditing=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(){var e=this,t=this.getCanvas();t.selection=!1,t.defaultCursor="text",t.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),t.forEachObject((function(t){"i-text"===t.type&&e.adjustOriginPosition(t,"start")})),this.setCanvasRatio()}},{key:"end",value:function(){var e=this,t=this.getCanvas();t.selection=!0,t.defaultCursor="default",t.forEachObject((function(n){"i-text"===n.type&&(""===n.text?t.remove(n):e.adjustOriginPosition(n,"end"))})),t.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(e,t){var n="center",i="center";"start"===t&&(n="left",i="top");var r=e.getPointByOrigin(n,i),o=r.x,a=r.y;e.set({left:o,top:a,originX:n,originY:i}),e.setCoords()}},{key:"add",value:function(e,t){var n=this;return new s.Promise((function(i){var a=n.getCanvas(),s=null,c=l.fObjectOptions.SELECTION_STYLE,u=n._defaultStyles;n._setInitPos(t.position),t.styles&&(u=r.default.extend(u,t.styles)),r.default.isExisty(t.autofocus)||(t.autofocus=!0),s=new o.default.IText(e,u),c=r.default.extend({},c,{originX:"left",originY:"top"}),s.set(c),s.on({mouseup:n._onFabricMouseUp.bind(n)}),a.add(s),t.autofocus&&(s.enterEditing(),s.selectAll()),a.getActiveObject()||a.setActiveObject(s),n.isPrevEditing=!0,i(n.graphics.createObjectProperties(s))}))}},{key:"change",value:function(e,t){var n=this;return new s.Promise((function(i){e.set("text",t),n.getCanvas().renderAll(),i()}))}},{key:"setStyle",value:function(e,t){var n=this;return new s.Promise((function(i){r.default.forEach(t,(function(n,i){e[i]===n&&"fontSize"!==i&&(t[i]=d[i]||"")}),n),"textDecoration"in t&&r.default.extend(t,n._getTextDecorationAdaptObject(t.textDecoration)),e.set(t),n.getCanvas().renderAll(),i()}))}},{key:"getText",value:function(e){return e.text}},{key:"setSelectedInfo",value:function(e,t){this._selectedObj=e,this._isSelected=t}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var e=this.getCanvasElement(),t=parseInt(e.style.maxWidth,10),n=e.width;this._ratio=n/t}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(e){return{underline:"underline"===e,linethrough:"line-through"===e,overline:"overline"===e}}},{key:"_setInitPos",value:function(e){e=e||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=e.x,this._defaultStyles.top=e.y}},{key:"_onInput",value:function(){var e=this.getCanvasRatio(),t=this._editingObj,n=this._textarea.style;n.width=Math.ceil(t.width/e)+"px",n.height=Math.ceil(t.height/e)+"px"}},{key:"_onKeyDown",value:function(){var e=this,t=this.getCanvasRatio(),n=this._editingObj,i=this._textarea.style;setTimeout((function(){n.text(e._textarea.value),i.width=Math.ceil(n.width/t)+"px",i.height=Math.ceil(n.height/t)+"px"}),0)}},{key:"_onBlur",value:function(){var e=this.getCanvasRatio(),t=this._editingObj,n=this._editingObjInfos,i=this._textarea.value,o=t.width/e-n.width/e,a=t.height/e-n.height/e;if(1===e&&(o/=2,a/=2),this._textarea.style.display="none",t.set({left:n.left+o,top:n.top+a}),i.length){this.getCanvas().add(t);var s={id:r.default.stamp(t),type:t.type,text:i};this.fire(l.eventNames.TEXT_CHANGED,s)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(e){var t=e.target;t.fontSize=t.fontSize*t.scaleY,t.scaleX=1,t.scaleY=1}},{key:"_onFabricTextChanged",value:function(e){this.fire(l.eventNames.TEXT_CHANGED,e.target)}},{key:"_onFabricSelectClear",value:function(e){var t=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(e.target,!1),t&&""===t.text&&this.getCanvas().remove(t)}},{key:"_onFabricSelect",value:function(e){this.isPrevEditing=!0,this.setSelectedInfo(e.target,!0)}},{key:"_onFabricMouseDown",value:function(e){var t=e.target;t&&!t.isType("text")||(this.isPrevEditing?this.isPrevEditing=!1:this._fireAddText(e))}},{key:"_fireAddText",value:function(e){var t=e.target,n=e.e||{},i=this.getCanvas().getPointer(n);t||this.fire(l.eventNames.ADD_TEXT,{originPosition:{x:i.x,y:i.y},clientPosition:{x:n.clientX||0,y:n.clientY||0}})}},{key:"_onFabricMouseUp",value:function(e){var t=e.target,n=(new Date).getTime();this._isDoubleClick(n)&&!t.isEditing&&t.enterEditing(),t.isEditing&&this.fire(l.eventNames.TEXT_EDITING),this._lastClickTime=n}},{key:"_isDoubleClick",value:function(e){return e-this._lastClickTime<500}}]),t}(a.default);t.default=h},"./src/js/component/zoom.js":
/*!**********************************!*\
        !*** ./src/js/component/zoom.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(
/*! fabric */
"fabric")),o=l(n(
/*! @/interface/component */
"./src/js/interface/component.js")),a=n(
/*! @/util */
"./src/js/util.js"),s=n(
/*! @/consts */
"./src/js/consts.js");function l(e){return e&&e.__esModule?e:{default:e}}var c={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},u=.0045,d=.003,h=.003,p=.0066,f=.0044,A=.003,m=s.eventNames.ZOOM_CHANGED,g=s.eventNames.ADD_TEXT,v=s.eventNames.TEXT_EDITING,b=s.eventNames.OBJECT_MODIFIED,y=s.eventNames.KEY_DOWN,x=s.eventNames.KEY_UP,w=s.eventNames.HAND_STARTED,_=s.eventNames.HAND_STOPPED,j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.componentNames.ZOOM,e));n.zoomArea=null,n._startPoint=null,n._centerPoints=[],n.zoomLevel=1,n.zoomMode=s.zoomModes.DEFAULT,n._listeners={startZoom:n._onMouseDownWithZoomMode.bind(n),moveZoom:n._onMouseMoveWithZoomMode.bind(n),stopZoom:n._onMouseUpWithZoomMode.bind(n),startHand:n._onMouseDownWithHandMode.bind(n),moveHand:n._onMouseMoveWithHandMode.bind(n),stopHand:n._onMouseUpWithHandMode.bind(n),zoomChanged:n._changeScrollState.bind(n),keydown:n._startHandModeWithSpaceBar.bind(n),keyup:n._endHandModeWithSpaceBar.bind(n)};var i=n.getCanvas();return n.aspectRatio=i.width/i.height,n._verticalScroll=new r.default.Rect(c),n._horizontalScroll=new r.default.Rect(c),i.on(m,n._listeners.zoomChanged),n.graphics.on(g,n._startTextEditingHandler.bind(n)),n.graphics.on(v,n._startTextEditingHandler.bind(n)),n.graphics.on(b,n._stopTextEditingHandler.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"attachKeyboardZoomEvents",value:function(){r.default.util.addListener(document,y,this._listeners.keydown),r.default.util.addListener(document,x,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){r.default.util.removeListener(document,y,this._listeners.keydown),r.default.util.removeListener(document,x,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(e){this.withSpace||this.isTextEditing||e.keyCode===s.keyCodes.SPACE&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(e){e.keyCode===s.keyCodes.SPACE&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=s.zoomModes.ZOOM;var e=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new r.default.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),e.discardActiveObject(),e.add(this.zoomArea),e.on("mouse:down",this._listeners.startZoom),e.selection=!1,e.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=s.zoomModes.DEFAULT;var e=this.getCanvas(),t=this._listeners,n=t.startZoom,i=t.moveZoom,r=t.stopZoom;e.selection=!0,e.defaultCursor="auto",e.off({"mouse:down":n,"mouse:move":i,"mouse:up":r}),this._changeObjectsEventedState(!0),e.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=s.zoomModes.HAND;var e=this.getCanvas();this._changeObjectsEventedState(!1),e.discardActiveObject(),e.off("mouse:down",this._listeners.startHand),e.on("mouse:down",this._listeners.startHand),e.selection=!1,e.defaultCursor="grab",e.fire(w)}},{key:"endHandMode",value:function(){this.zoomMode=s.zoomModes.DEFAULT;var e=this.getCanvas();this._changeObjectsEventedState(!0),e.off("mouse:down",this._listeners.startHand),e.selection=!0,e.defaultCursor="auto",this._startHandPoint=null,e.fire(_)}},{key:"_onMouseDownWithZoomMode",value:function(e){var t=e.target,n=e.e;if(!t){var i=this.getCanvas();i.selection=!1,this._startPoint=i.getPointer(n),this.zoomArea.set({width:0,height:0});var r=this._listeners,o=r.moveZoom,a=r.stopZoom;i.on({"mouse:move":o,"mouse:up":a})}}},{key:"_onMouseMoveWithZoomMode",value:function(e){var t=e.e,n=this.getCanvas(),i=n.getPointer(t),r=i.x,o=i.y,a=this.zoomArea,s=this._startPoint;Math.abs(r-s.x)+Math.abs(o-s.y)>10&&(n.remove(a),a.set(this._calcRectDimensionFromPoint(r,o)),n.add(a))}},{key:"_calcRectDimensionFromPoint",value:function(e,t){var n=this.getCanvas(),i=n.getWidth(),r=n.getHeight(),o=this._startPoint,s=o.x,l=o.y,c=Math.min,u=c(s,e),d=c(l,t);return{left:u,top:d,width:(0,a.clamp)(e,s,i)-u,height:(0,a.clamp)(t,l,r)-d}}},{key:"_onMouseUpWithZoomMode",value:function(){var e=this.zoomLevel,t=this.zoomArea,n=this._listeners,i=n.moveZoom,r=n.stopZoom,o=this.getCanvas(),a=this._getCenterPoint(),s=a.x,l=a.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:s,y:l,prevZoomLevel:e,zoomLevel:e+1}),e+=1,o.zoomToPoint({x:s,y:l},e),this._fireZoomChanged(o,e),this.zoomLevel=e),o.off({"mouse:move":i,"mouse:up":r}),o.remove(t),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var e=this.zoomArea,t=e.left,n=e.top,i=e.width,r=e.height,o=this._startPoint,a=o.x,s=o.y,l=this.aspectRatio;return i<10&&r<10?{x:a,y:s}:i>r?{x:t+l*r/2,y:n+r/2}:{x:t+i/2,y:n+i/l/2}}},{key:"zoom",value:function(e){for(var t=e.x,n=e.y,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,r=this.getCanvas(),o=this._centerPoints,a=o.length-1;a>=0&&!(o[a].zoomLevel<i);a-=1){var s=o.pop(),l=s.x,c=s.y,u=s.prevZoomLevel;r.zoomToPoint({x:l,y:c},u),this.zoomLevel=u}r.zoomToPoint({x:t,y:n},i),this._isDefaultZoomLevel(i)||this._centerPoints.push({x:t,y:n,zoomLevel:i,prevZoomLevel:this.zoomLevel}),this.zoomLevel=i,this._fireZoomChanged(r,i)}},{key:"zoomOut",value:function(){var e=this._centerPoints;if(e.length){var t=this.getCanvas(),n=e.pop(),i=n.x,r=n.y,o=n.prevZoomLevel;this._isDefaultZoomLevel(o)?t.setViewportTransform([1,0,0,1,0,0]):t.zoomToPoint({x:i,y:r},o),this.zoomLevel=o,this._fireZoomChanged(t,this.zoomLevel)}}},{key:"resetZoom",value:function(){var e=this.getCanvas();e.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=1,this._centerPoints=[],this._fireZoomChanged(e,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(e){var t=e.x,n=e.y,i=this._centerPoints;if(i.length){var r=this.getCanvas(),o=this.zoomLevel,a=i.pop(),s=a.x,l=a.y,c=a.prevZoomLevel,u=s-t,d=l-n;r.zoomToPoint({x:s,y:l},c),r.zoomToPoint({x:u,y:d},o),i.push({x:u,y:d,prevZoomLevel:c,zoomLevel:o}),this._fireZoomChanged(r,o)}}},{key:"_onMouseDownWithHandMode",value:function(e){var t=e.target,n=e.e;if(!t){var i=this.getCanvas();if(!(this.zoomLevel<=1)){i.selection=!1,this._startHandPoint=i.getPointer(n);var r=this._listeners,o=r.moveHand,a=r.stopHand;i.on({"mouse:move":o,"mouse:up":a})}}}},{key:"_onMouseMoveWithHandMode",value:function(e){var t=e.e,n=this.getCanvas().getPointer(t),i=n.x,r=n.y,o=i-this._startHandPoint.x,a=r-this._startHandPoint.y;this._movePointOfZoom({x:o,y:a})}},{key:"_onMouseUpWithHandMode",value:function(){var e=this.getCanvas(),t=this._listeners,n=t.moveHand,i=t.stopHand;e.off({"mouse:move":n,"mouse:up":i}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(e){var t=e.viewport,n=e.zoomLevel,i=this.getCanvas();if(i.remove(this._verticalScroll),i.remove(this._horizontalScroll),!this._isDefaultZoomLevel(n)){var r=i.width,o=i.height,s=t.tl,l=t.tr,c=t.bl,m=l.x-s.x,g=c.y-s.y,v=m*m/r,b=g*p,y=(0,a.clamp)(s.x+s.x/r*m,s.x,l.x-v),x=g*f,w=g*A;this._horizontalScroll.set({left:y,top:c.y-b-x,width:v,height:b,rx:w,ry:w});var _=m*u,j=g*g/o,C=(0,a.clamp)(s.y+s.y/o*g,l.y,c.y-j),E=m*d,B=m*h;this._verticalScroll.set({left:l.x-_-E,top:C,width:_,height:j,rx:B,ry:B}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getCanvas();t.forEachObject((function(t){t.evented=e}))}},{key:"_addScrollBar",value:function(){var e=this,t=this.getCanvas();t.add(this._horizontalScroll),t.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=setTimeout((function(){t.remove(e._horizontalScroll),t.remove(e._verticalScroll)}),3e3)}},{key:"_isDefaultZoomLevel",value:function(e){return 1===e}},{key:"_fireZoomChanged",value:function(e,t){e.fire(m,{viewport:e.calcViewportBoundaries(),zoomLevel:t})}},{key:"mode",get:function(){return this.zoomMode}}]),t}(o.default);t.default=j},"./src/js/consts.js":
/*!**************************!*\
        !*** ./src/js/consts.js ***!
        \**************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyCropRectValues=t.defaultFilterRangeValues=t.defaultTextRangeValues=t.defaultShapeStrokeValues=t.defaultDrawRangeValues=t.defaultRotateRangeValues=t.defaultIconPath=t.rejectMessages=t.fObjectOptions=t.keyCodes=t.zoomModes=t.drawingMenuNames=t.drawingModes=t.historyNames=t.selectorNames=t.eventNames=t.commandNames=t.CROPZONE_DEFAULT_OPTIONS=t.SHAPE_DEFAULT_OPTIONS=t.componentNames=t.filterType=t.OBJ_TYPE=t.SHAPE_TYPE=t.SHAPE_FILL_TYPE=t.HELP_MENUS=t.DELETE_HELP_MENUS=t.COMMAND_HELP_MENUS=t.ZOOM_HELP_MENUS=void 0;var i=n(
/*! @/util */
"./src/js/util.js"),r=t.ZOOM_HELP_MENUS=["zoomIn","zoomOut","hand"],o=t.COMMAND_HELP_MENUS=["history","undo","redo","reset"],a=t.DELETE_HELP_MENUS=["delete","deleteAll"];t.HELP_MENUS=[].concat(r,o,a),t.SHAPE_FILL_TYPE={FILTER:"filter",COLOR:"color"},t.SHAPE_TYPE=["rect","circle","triangle"],t.OBJ_TYPE={CROPZONE:"cropzone"},t.filterType={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},t.componentNames=(0,i.keyMirror)("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM"),t.SHAPE_DEFAULT_OPTIONS={lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1},t.CROPZONE_DEFAULT_OPTIONS={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},t.commandNames={CLEAR_OBJECTS:"clearObjects",LOAD_IMAGE:"loadImage",FLIP_IMAGE:"flip",ROTATE_IMAGE:"rotate",ADD_OBJECT:"addObject",REMOVE_OBJECT:"removeObject",APPLY_FILTER:"applyFilter",REMOVE_FILTER:"removeFilter",ADD_ICON:"addIcon",CHANGE_ICON_COLOR:"changeIconColor",ADD_SHAPE:"addShape",CHANGE_SHAPE:"changeShape",ADD_TEXT:"addText",CHANGE_TEXT:"changeText",CHANGE_TEXT_STYLE:"changeTextStyle",ADD_IMAGE_OBJECT:"addImageObject",RESIZE_CANVAS_DIMENSION:"resizeCanvasDimension",SET_OBJECT_PROPERTIES:"setObjectProperties",SET_OBJECT_POSITION:"setObjectPosition",CHANGE_SELECTION:"changeSelection"},t.eventNames={OBJECT_ACTIVATED:"objectActivated",OBJECT_MOVED:"objectMoved",OBJECT_SCALED:"objectScaled",OBJECT_CREATED:"objectCreated",OBJECT_ROTATED:"objectRotated",OBJECT_ADDED:"objectAdded",OBJECT_MODIFIED:"objectModified",TEXT_EDITING:"textEditing",TEXT_CHANGED:"textChanged",ICON_CREATE_RESIZE:"iconCreateResize",ICON_CREATE_END:"iconCreateEnd",ADD_TEXT:"addText",ADD_OBJECT:"addObject",ADD_OBJECT_AFTER:"addObjectAfter",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",REDO_STACK_CHANGED:"redoStackChanged",UNDO_STACK_CHANGED:"undoStackChanged",SELECTION_CLEARED:"selectionCleared",SELECTION_CREATED:"selectionCreated",EXECUTE_COMMAND:"executeCommand",AFTER_UNDO:"afterUndo",AFTER_REDO:"afterRedo",ZOOM_CHANGED:"zoomChanged",HAND_STARTED:"handStarted",HAND_STOPPED:"handStopped",KEY_DOWN:"keydown",KEY_UP:"keyup",INPUT_BOX_EDITING_STARTED:"inputBoxEditingStarted",INPUT_BOX_EDITING_STOPPED:"inputBoxEditingStopped",FOCUS:"focus",BLUR:"blur"},t.selectorNames={COLOR_PICKER_INPUT_BOX:".tui-colorpicker-palette-hex"},t.historyNames={LOAD_IMAGE:"Load",LOAD_MASK_IMAGE:"Mask",ADD_MASK_IMAGE:"Mask",ADD_IMAGE_OBJECT:"Mask",CROP:"Crop",APPLY_FILTER:"Filter",REMOVE_FILTER:"Filter",CHANGE_SHAPE:"Shape",CHANGE_ICON_COLOR:"Icon",ADD_TEXT:"Text",CHANGE_TEXT_STYLE:"Text",REMOVE_OBJECT:"Delete",CLEAR_OBJECTS:"Delete"},t.drawingModes=(0,i.keyMirror)("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM"),t.drawingMenuNames={TEXT:"text",CROP:"crop",SHAPE:"shape",ZOOM:"zoom"},t.zoomModes={DEFAULT:"normal",ZOOM:"zoom",HAND:"hand"},t.keyCodes={Z:90,Y:89,C:67,V:86,SHIFT:16,BACKSPACE:8,DEL:46,ARROW_DOWN:40,ARROW_UP:38,SPACE:32},t.fObjectOptions={SELECTION_STYLE:{borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1}},t.rejectMessages={addedObject:"The object is already added.",flip:"The flipX and flipY setting values are not changed.",invalidDrawingMode:"This operation is not supported in the drawing mode.",invalidParameters:"Invalid parameters.",isLock:"The executing command state is locked.",loadImage:"The background image is empty.",loadingImageFailed:"Invalid image loaded.",noActiveObject:"There is no active object.",noObject:"The object is not in canvas.",redo:"The promise of redo command is reject.",rotation:"The current angle is same the old angle.",undo:"The promise of undo command is reject.",unsupportedOperation:"Unsupported operation.",unsupportedType:"Unsupported object type."},t.defaultIconPath={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},t.defaultRotateRangeValues={realTimeEvent:!0,min:-360,max:360,value:0},t.defaultDrawRangeValues={min:5,max:30,value:12},t.defaultShapeStrokeValues={realTimeEvent:!0,min:2,max:300,value:3},t.defaultTextRangeValues={realTimeEvent:!0,min:10,max:100,value:50},t.defaultFilterRangeValues={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},t.emptyCropRectValues={LEFT:0,TOP:0,WIDTH:.5,HEIGHT:.5}},"./src/js/drawingMode/cropper.js":
/*!***************************************!*\
        !*** ./src/js/drawingMode/cropper.js ***!
        \***************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/drawingMode */
"./src/js/interface/drawingMode.js")),o=n(
/*! @/consts */
"./src/js/consts.js"),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.drawingModes.CROPPER))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){e.getComponent(o.componentNames.CROPPER).start()}},{key:"end",value:function(e){e.getComponent(o.componentNames.CROPPER).end()}}]),t}(r.default);t.default=a},"./src/js/drawingMode/freeDrawing.js":
/*!*******************************************!*\
        !*** ./src/js/drawingMode/freeDrawing.js ***!
        \*******************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/drawingMode */
"./src/js/interface/drawingMode.js")),o=n(
/*! @/consts */
"./src/js/consts.js"),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.drawingModes.FREE_DRAWING))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e,t){e.getComponent(o.componentNames.FREE_DRAWING).start(t)}},{key:"end",value:function(e){e.getComponent(o.componentNames.FREE_DRAWING).end()}}]),t}(r.default);t.default=a},"./src/js/drawingMode/icon.js":
/*!************************************!*\
        !*** ./src/js/drawingMode/icon.js ***!
        \************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/drawingMode */
"./src/js/interface/drawingMode.js")),o=n(
/*! @/consts */
"./src/js/consts.js"),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.drawingModes.ICON))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){e.getComponent(o.componentNames.ICON).start()}},{key:"end",value:function(e){e.getComponent(o.componentNames.ICON).end()}}]),t}(r.default);t.default=a},"./src/js/drawingMode/lineDrawing.js":
/*!*******************************************!*\
        !*** ./src/js/drawingMode/lineDrawing.js ***!
        \*******************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/drawingMode */
"./src/js/interface/drawingMode.js")),o=n(
/*! @/consts */
"./src/js/consts.js"),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.drawingModes.LINE_DRAWING))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e,t){e.getComponent(o.componentNames.LINE).start(t)}},{key:"end",value:function(e){e.getComponent(o.componentNames.LINE).end()}}]),t}(r.default);t.default=a},"./src/js/drawingMode/shape.js":
/*!*************************************!*\
        !*** ./src/js/drawingMode/shape.js ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/drawingMode */
"./src/js/interface/drawingMode.js")),o=n(
/*! @/consts */
"./src/js/consts.js"),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.drawingModes.SHAPE))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){e.getComponent(o.componentNames.SHAPE).start()}},{key:"end",value:function(e){e.getComponent(o.componentNames.SHAPE).end()}}]),t}(r.default);t.default=a},"./src/js/drawingMode/text.js":
/*!************************************!*\
        !*** ./src/js/drawingMode/text.js ***!
        \************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/drawingMode */
"./src/js/interface/drawingMode.js")),o=n(
/*! @/consts */
"./src/js/consts.js"),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.drawingModes.TEXT))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){e.getComponent(o.componentNames.TEXT).start()}},{key:"end",value:function(e){e.getComponent(o.componentNames.TEXT).end()}}]),t}(r.default);t.default=a},"./src/js/drawingMode/zoom.js":
/*!************************************!*\
        !*** ./src/js/drawingMode/zoom.js ***!
        \************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/drawingMode */
"./src/js/interface/drawingMode.js")),o=n(
/*! @/consts */
"./src/js/consts.js"),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.drawingModes.ZOOM))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(e){e.getComponent(o.componentNames.ZOOM).start()}},{key:"end",value:function(e){e.getComponent(o.componentNames.ZOOM).end()}}]),t}(r.default);t.default=a},"./src/js/extension/arrowLine.js":
/*!***************************************!*\
        !*** ./src/js/extension/arrowLine.js ***!
        \***************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! fabric */
"fabric")),r=i.default.util.createClass(i.default.Line,{type:"line",initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",e,t),this.arrowType=t.arrowType},_render:function(e){var t=this.calcLinePoints(),n={fromX:t.x1,fromY:t.y1,toX:t.x2,toY:t.y2};this.ctx=e,e.lineWidth=this.strokeWidth,this._renderBasicLinePath(n),this._drawDecoratorPath(n),this._renderStroke(e)},_renderBasicLinePath:function(e){var t=e.fromX,n=e.fromY,i=e.toX,r=e.toY;this.ctx.beginPath(),this.ctx.moveTo(t,n),this.ctx.lineTo(i,r)},_drawDecoratorPath:function(e){this._drawDecoratorPathType("head",e),this._drawDecoratorPathType("tail",e)},_drawDecoratorPathType:function(e,t){switch(this.arrowType[e]){case"triangle":this._drawTrianglePath(e,t);break;case"chevron":this._drawChevronPath(e,t)}},_drawTrianglePath:function(e,t){var n=1.7*this.ctx.lineWidth;this._drawChevronPath(e,t,n),this.ctx.closePath()},_drawChevronPath:function(e,t,n){var i=this,r=t.fromX,o=t.fromY,a=t.toX,s=t.toY,l=this.ctx;n||(n=2.7*this.ctx.lineWidth);var c="head"===e?[r,o]:[a,s],u=c[0],d=c[1],h="head"===e?[a,s]:[r,o],p=h[0],f=h[1],A=180*Math.atan2(f-d,p-u)/Math.PI,m=function(e){return i.getRotatePosition(n,e,{x:u,y:d})};l.moveTo.apply(l,m(A+30)),l.lineTo(u,d),l.lineTo.apply(l,m(A-30))},getRotatePosition:function(e,t,n){var i=t*Math.PI/180,r=n.x,o=n.y;return[e*Math.cos(i)+r,e*Math.sin(i)+o]}});t.default=r},"./src/js/extension/colorFilter.js":
/*!*****************************************!*\
        !*** ./src/js/extension/colorFilter.js ***!
        \*****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! fabric */
"fabric")),r=i.default.util.createClass(i.default.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(e){e||(e={}),this.color=e.color||"#FFFFFF",this.threshold=e.threshold||45,this.x=e.x||null,this.y=e.y||null},applyTo:function(e){var t,n=e.canvasEl,r=n.getContext("2d"),o=r.getImageData(0,0,n.width,n.height),a=o.data,s=this.threshold,l=i.default.Color.sourceFromHex(this.color),c=void 0;for(this.x&&this.y&&(l=this._getColor(o,this.x,this.y)),c=0,t=a.length;c<t;c+=4)this._isOutsideThreshold(a[c],l[0],s)||this._isOutsideThreshold(a[c+1],l[1],s)||this._isOutsideThreshold(a[c+2],l[2],s)||(a[c]=a[c+1]=a[c+2]=a[c+3]=0);r.putImageData(o,0,0)},_isOutsideThreshold:function(e,t,n){var i=e-t;return Math.abs(i)>n},_getColor:function(e,t,n){var i=[0,0,0,0],r=e.data,o=4*(e.width*n+t);return i[0]=r[o],i[1]=r[o+1],i[2]=r[o+2],i[3]=r[o+3],i}});t.default=r},"./src/js/extension/cropzone.js":
/*!**************************************!*\
        !*** ./src/js/extension/cropzone.js ***!
        \**************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(
/*! tui-code-snippet */
"tui-code-snippet")),r=s(n(
/*! fabric */
"fabric")),o=n(
/*! @/util */
"./src/js/util.js"),a=n(
/*! @/consts */
"./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=["tl","tr","mt","ml","mr","mb","bl","br"],u=function(){};function d(e,t){return e>t?"width":"height"}var h=r.default.util.createClass(r.default.Rect,{initialize:function(e,t,n){(t=i.default.extend(t,n)).type="cropzone",this.callSuper("initialize",t),this._addEventHandler(),this.canvas=e,this.options=t},canvasEventDelegation:function(e){var t="unregistered";return this.canvasEventTrigger[e]!==u?t="registered":[a.eventNames.OBJECT_MOVED,a.eventNames.OBJECT_SCALED].indexOf(e)<0&&(t="none"),t},canvasEventRegister:function(e,t){this.canvasEventTrigger[e]=t},_addEventHandler:function(){var e;this.canvasEventTrigger=(l(e={},a.eventNames.OBJECT_MOVED,u),l(e,a.eventNames.OBJECT_SCALED,u),e),this.on({moving:this._onMoving.bind(this),scaling:this._onScaling.bind(this)}),r.default.util.addListener(document,"keydown",this._onKeyDown.bind(this)),r.default.util.addListener(document,"keyup",this._onKeyUp.bind(this))},_renderCropzone:function(e){var t=this.flipX?-1:1,n=this.flipY?-1:1,i=t/this.scaleX,r=n/this.scaleY;e.scale(i,r),this._fillOuterRect(e,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(e),this._strokeBorder(e,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(e,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(e,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),e.scale(1/i,1/r)},_render:function(e){this.callSuper("_render",e),this._renderCropzone(e)},_fillOuterRect:function(e,t){var n=this._getCoordinates(),i=n.x,r=n.y;e.save(),e.fillStyle=t,e.beginPath(),e.moveTo(i[0]-1,r[0]-1),e.lineTo(i[3]+1,r[0]-1),e.lineTo(i[3]+1,r[3]+1),e.lineTo(i[0]-1,r[3]+1),e.lineTo(i[0]-1,r[0]-1),e.closePath(),e.moveTo(i[1],r[1]),e.lineTo(i[1],r[2]),e.lineTo(i[2],r[2]),e.lineTo(i[2],r[1]),e.lineTo(i[1],r[1]),e.closePath(),e.fill(),e.restore()},_fillInnerRect:function(e){var t=this._getCoordinates(),n=t.x,i=t.y,r=this._caculateInnerPosition(n,(n[2]-n[1])/3),o=this._caculateInnerPosition(i,(i[2]-i[1])/3);e.save(),e.strokeStyle="rgba(255, 255, 255, 0.7)",e.lineWidth=this.options.lineWidth,e.beginPath(),e.moveTo(r[0],o[1]),e.lineTo(r[3],o[1]),e.moveTo(r[0],o[2]),e.lineTo(r[3],o[2]),e.moveTo(r[1],o[0]),e.lineTo(r[1],o[3]),e.moveTo(r[2],o[0]),e.lineTo(r[2],o[3]),e.stroke(),e.closePath(),e.restore()},_caculateInnerPosition:function(e,t){var n=[];return n[0]=e[1],n[1]=e[1]+t,n[2]=e[1]+2*t,n[3]=e[2],n},_getCoordinates:function(){var e=this.canvas,t=this.width,n=this.height,r=this.left,o=this.top,a=t/2,s=n/2,l=e.getHeight(),c=e.getWidth();return{x:i.default.map([-(a+r),-a,a,a+(c-r-t)],Math.ceil),y:i.default.map([-(s+o),-s,s,s+(l-o-n)],Math.ceil)}},_strokeBorder:function(e,t,n){var i=n.lineDashWidth,r=n.lineDashOffset,o=n.lineWidth,a=this.width/2,s=this.height/2;e.save(),e.strokeStyle=t,e.setLineDash&&e.setLineDash([i,i]),r&&(e.lineDashOffset=r),o&&(e.lineWidth=o),e.beginPath(),e.moveTo(-a,-s),e.lineTo(a,-s),e.lineTo(a,s),e.lineTo(-a,s),e.lineTo(-a,-s),e.stroke(),e.restore()},_onMoving:function(){var e=this.height,t=this.width,n=this.left,i=this.top,r=this.canvas.getWidth()-t,s=this.canvas.getHeight()-e;this.left=(0,o.clamp)(n,0,r),this.top=(0,o.clamp)(i,0,s),this.canvasEventTrigger[a.eventNames.OBJECT_MOVED](this)},_onScaling:function(e){var t=e.transform.corner,n=this.canvas.getPointer(e.e),i=this._calcScalingSizeFromPointer(n,t);this.scale(1).set(i),this.canvasEventTrigger[a.eventNames.OBJECT_SCALED](this)},_calcScalingSizeFromPointer:function(e,t){return function(e){return c.indexOf(e)>=0}(t)&&this._resizeCropZone(e,t)},adjustRatioCropzoneSize:function(e){var t=e.width,n=e.height,i=e.leftMaker,r=e.topMaker,a=e.maxWidth,s=e.maxHeight,l=e.scaleTo;if(t=a?(0,o.clamp)(t,1,a):t,n=s?(0,o.clamp)(n,1,s):n,!this.presetRatio)return this._withShiftKey&&(t>n?n=t:n>t&&(t=n)),{width:t,height:n,left:i(t),top:r(n)};"width"===l?n=t/this.presetRatio:t=n*this.presetRatio;var c=Math.min(a/t,s/n);if(c<=1){var u=[t,n].map((function(e){return e*c}));t=u[0],n=u[1]}return{width:t,height:n,left:i(t),top:r(n)}},_getCropzoneRectInfo:function(){var e=this.canvas,t=e.width,n=e.height,i=this.getBoundingRect(!1,!0),r=i.top,o=i.left,a=i.width,s=i.height;return{rectTop:r,rectLeft:o,rectWidth:a,rectHeight:s,rectRight:o+a,rectBottom:r+s,canvasWidth:t,canvasHeight:n}},_resizeCropZone:function(e,t){var n=e.x,i=e.y,r=this._getCropzoneRectInfo(),o=r.rectWidth,a=r.rectHeight,s=r.rectTop,l=r.rectLeft,c=r.rectBottom,u=r.rectRight,h=r.canvasWidth,p=r.canvasHeight,f={tl:{width:u-n,height:c-i,leftMaker:function(e){return u-e},topMaker:function(e){return c-e},maxWidth:u,maxHeight:c,scaleTo:d(l-n,s-i)},tr:{width:n-l,height:c-i,leftMaker:function(){return l},topMaker:function(e){return c-e},maxWidth:h-l,maxHeight:c,scaleTo:d(n-u,s-i)},mt:{width:o,height:c-i,leftMaker:function(){return l},topMaker:function(e){return c-e},maxWidth:h-l,maxHeight:c,scaleTo:"height"},ml:{width:u-n,height:a,leftMaker:function(e){return u-e},topMaker:function(){return s},maxWidth:u,maxHeight:p-s,scaleTo:"width"},mr:{width:n-l,height:a,leftMaker:function(){return l},topMaker:function(){return s},maxWidth:h-l,maxHeight:p-s,scaleTo:"width"},mb:{width:o,height:i-s,leftMaker:function(){return l},topMaker:function(){return s},maxWidth:h-l,maxHeight:p-s,scaleTo:"height"},bl:{width:u-n,height:i-s,leftMaker:function(e){return u-e},topMaker:function(){return s},maxWidth:u,maxHeight:p-s,scaleTo:d(l-n,i-c)},br:{width:n-l,height:i-s,leftMaker:function(){return l},topMaker:function(){return s},maxWidth:h-l,maxHeight:p-s,scaleTo:d(n-u,i-c)}};return this.adjustRatioCropzoneSize(f[t])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(e){e.keyCode===a.keyCodes.SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(e){e.keyCode===a.keyCodes.SHIFT&&(this._withShiftKey=!1)}});t.default=h},"./src/js/extension/emboss.js":
/*!************************************!*\
        !*** ./src/js/extension/emboss.js ***!
        \************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! fabric */
"fabric")),r=i.default.util.createClass(i.default.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}});t.default=r},"./src/js/extension/mask.js":
/*!**********************************!*\
        !*** ./src/js/extension/mask.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! fabric */
"fabric")),r=i.default.util.createClass(i.default.Image.filters.BlendImage,{applyTo:function(e){if(this.mask){var t=e.canvasEl,n=t.width,i=t.height,r=this._createCanvasOfMask(n,i),o=t.getContext("2d"),a=r.getContext("2d"),s=o.getImageData(0,0,n,i);this._drawMask(a,t,o),this._mapData(a,s,n,i),e.imageData=s}},_createCanvasOfMask:function(e,t){var n=i.default.util.createCanvasElement();return n.width=e,n.height=t,n},_drawMask:function(e){var t=this.mask,n=t.getElement(),i=t.angle,r=t.left,o=t.scaleX,a=t.scaleY,s=t.top;e.save(),e.translate(r,s),e.rotate(i*Math.PI/180),e.scale(o,a),e.drawImage(n,-n.width/2,-n.height/2),e.restore()},_mapData:function(e,t,n,i){for(var r=t.data,o=t.height,a=r,s=t.width*o*4,l=e.getImageData(0,0,n,i).data,c=0;c<s;c+=4)a[c+3]=l[c]}});t.default=r},"./src/js/extension/sharpen.js":
/*!*************************************!*\
        !*** ./src/js/extension/sharpen.js ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! fabric */
"fabric")),r=i.default.util.createClass(i.default.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}});t.default=r},"./src/js/factory/command.js":
/*!***********************************!*\
        !*** ./src/js/factory/command.js ***!
        \***********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/interface/command */
"./src/js/interface/command.js")),r={};t.default={create:function(e){var t=r[e];if(t){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return new i.default(t,o)}return null},register:function(e){r[e.name]=e}}},"./src/js/factory/errorMessage.js":
/*!****************************************!*\
        !*** ./src/js/factory/errorMessage.js ***!
        \****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! tui-code-snippet */
"tui-code-snippet")),r=(0,n(
/*! @/util */
"./src/js/util.js").keyMirror)("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),o="Should implement a method: ",a="Should set a component name",s={UN_IMPLEMENTATION:function(e){return o+e},NO_COMPONENT_NAME:function(){return a}};t.default={types:i.default.extend({},r),create:function(e){e=e.toLowerCase();for(var t=s[e],n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.apply(void 0,i)}}},"./src/js/graphics.js":
/*!****************************!*\
        !*** ./src/js/graphics.js ***!
        \****************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=B(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=B(n(
/*! fabric */
"fabric")),a=B(n(
/*! @/component/imageLoader */
"./src/js/component/imageLoader.js")),s=B(n(
/*! @/component/cropper */
"./src/js/component/cropper.js")),l=B(n(
/*! @/component/flip */
"./src/js/component/flip.js")),c=B(n(
/*! @/component/rotation */
"./src/js/component/rotation.js")),u=B(n(
/*! @/component/freeDrawing */
"./src/js/component/freeDrawing.js")),d=B(n(
/*! @/component/line */
"./src/js/component/line.js")),h=B(n(
/*! @/component/text */
"./src/js/component/text.js")),p=B(n(
/*! @/component/icon */
"./src/js/component/icon.js")),f=B(n(
/*! @/component/filter */
"./src/js/component/filter.js")),A=B(n(
/*! @/component/shape */
"./src/js/component/shape.js")),m=B(n(
/*! @/component/zoom */
"./src/js/component/zoom.js")),g=B(n(
/*! @/drawingMode/cropper */
"./src/js/drawingMode/cropper.js")),v=B(n(
/*! @/drawingMode/freeDrawing */
"./src/js/drawingMode/freeDrawing.js")),b=B(n(
/*! @/drawingMode/lineDrawing */
"./src/js/drawingMode/lineDrawing.js")),y=B(n(
/*! @/drawingMode/shape */
"./src/js/drawingMode/shape.js")),x=B(n(
/*! @/drawingMode/text */
"./src/js/drawingMode/text.js")),w=B(n(
/*! @/drawingMode/icon */
"./src/js/drawingMode/icon.js")),_=B(n(
/*! @/drawingMode/zoom */
"./src/js/drawingMode/zoom.js")),j=n(
/*! @/helper/selectionModifyHelper */
"./src/js/helper/selectionModifyHelper.js"),C=n(
/*! @/util */
"./src/js/util.js"),E=n(
/*! @/consts */
"./src/js/consts.js");function B(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=r.default.extend,O=r.default.stamp,M=r.default.isArray,T=r.default.isString,F=r.default.forEachArray,N=r.default.forEachOwnProperties,I=r.default.CustomEvents,L={cssOnly:!0},D={backstoreOnly:!0},U=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.cssMaxWidth,r=n.cssMaxHeight;k(this,e),this.canvasImage=null,this.cssMaxWidth=i||1e3,this.cssMaxHeight=r||800,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=E.drawingModes.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:this._onMouseDown.bind(this),onObjectAdded:this._onObjectAdded.bind(this),onObjectRemoved:this._onObjectRemoved.bind(this),onObjectMoved:this._onObjectMoved.bind(this),onObjectScaled:this._onObjectScaled.bind(this),onObjectModified:this._onObjectModified.bind(this),onObjectRotated:this._onObjectRotated.bind(this),onObjectSelected:this._onObjectSelected.bind(this),onPathCreated:this._onPathCreated.bind(this),onSelectionCleared:this._onSelectionCleared.bind(this),onSelectionCreated:this._onSelectionCreated.bind(this)},this._setObjectCachingToFalse(),this._setCanvasElement(t),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return i(e,[{key:"destroy",value:function(){var e=this._canvas.wrapperEl;this._canvas.clear(),e.parentNode.removeChild(e),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(E.componentNames.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(E.componentNames.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(e){var t,n=[];M(e)?n=e:n.push(e),(t=this._canvas).add.apply(t,n)}},{key:"contains",value:function(e){return this._canvas.contains(e)}},{key:"getObjects",value:function(){return this._canvas.getObjects().slice()}},{key:"getObject",value:function(e){return this._objects[e]}},{key:"remove",value:function(e){this._canvas.remove(e)}},{key:"removeAll",value:function(e){var t=this._canvas,n=t.getObjects().slice();return t.remove.apply(t,this._canvas.getObjects()),e&&t.clear(),n}},{key:"removeObjectById",value:function(e){var t=[],n=this._canvas,i=this.getObject(e);return i&&i.isType("group")&&!i.isEmpty()?(n.discardActiveObject(),i.forEachObject((function(e){t.push(e),n.remove(e)}))):n.contains(i)&&(t.push(i),n.remove(i)),t}},{key:"getObjectId",value:function(e){var t=null;for(t in this._objects)if(this._objects.hasOwnProperty(t)&&e===this._objects[t])return t;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var e=this.getActiveObject(),t=e.type,n=e.left,i=e.top;if("activeSelection"===t){var r=new o.default.Group([].concat(e.getObjects()),{left:n,top:i});return this._addFabricObject(r)}return this.getObjectId(e)}},{key:"isReadyRemoveObject",value:function(){var e=this.getActiveObject();return e&&!e.isEditing}},{key:"getActiveObjects",value:function(){var e=this._canvas._activeObject;return e&&"activeSelection"===e.type?e:null}},{key:"getActiveSelectionFromObjects",value:function(e){var t=this.getCanvas();return new o.default.ActiveSelection(e,{canvas:t})}},{key:"setActiveObject",value:function(e){this._canvas.setActiveObject(e)}},{key:"setCropSelectionStyle",value:function(e){this.cropSelectionStyle=e}},{key:"getComponent",value:function(e){return this._componentMap[e]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(e,t){if(this._isSameDrawingMode(e))return!0;this.stopDrawingMode();var n=this._getDrawingModeInstance(e);return n&&n.start&&(n.start(this,t),this._drawingMode=e),!!n}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(E.drawingModes.NORMAL)){var e=this._getDrawingModeInstance(this.getDrawingMode());e&&e.end&&e.end(this),this._drawingMode=E.drawingModes.NORMAL}}},{key:"zoom",value:function(e,t){var n=e.x,i=e.y,r=this.getComponent(E.componentNames.ZOOM);r.zoom({x:n,y:i},t)}},{key:"getZoomMode",value:function(){return this.getComponent(E.componentNames.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(E.componentNames.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(E.componentNames.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(E.componentNames.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(E.componentNames.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(E.componentNames.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(E.componentNames.ZOOM).resetZoom()}},{key:"toDataURL",value:function(e){var t=this.getComponent(E.componentNames.CROPPER);t.changeVisibility(!1);var n=this._canvas&&this._canvas.toDataURL(e);return t.changeVisibility(!0),n}},{key:"setCanvasImage",value:function(e,t){t&&O(t),this.imageName=e,this.canvasImage=t}},{key:"setCssMaxDimension",value:function(e){this.cssMaxWidth=e.width||this.cssMaxWidth,this.cssMaxHeight=e.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){var e=this.canvasImage.scale(1),t=e.getBoundingRect(),n=t.width,i=t.height,r=this._calcMaxDimension(n,i);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":r.width+"px","max-height":r.height+"px"}),this.setCanvasBackstoreDimension({width:n,height:i}),this._canvas.centerObject(e)}},{key:"setCanvasCssDimension",value:function(e){this._canvas.setDimensions(e,L)}},{key:"setCanvasBackstoreDimension",value:function(e){this._canvas.setDimensions(e,D)}},{key:"setImageProperties",value:function(e,t){var n=this.canvasImage;n&&(n.set(e).setCoords(),t&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(e){var t=this,n=this._callbackAfterLoadingImageObject.bind(this);return new C.Promise((function(i){o.default.Image.fromURL(e,(function(e){n(e),i(t.createObjectProperties(e))}),{crossOrigin:"Anonymous"})}))}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(E.componentNames.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(e){this.getComponent(E.componentNames.CROPPER).setCropzoneRect(e)}},{key:"getCroppedImageData",value:function(e){return this.getComponent(E.componentNames.CROPPER).getCroppedImageData(e)}},{key:"setBrush",value:function(e){var t=this._drawingMode,n=E.componentNames.FREE_DRAWING;t===E.drawingModes.LINE_DRAWING&&(n=E.componentNames.LINE),this.getComponent(n).setBrush(e)}},{key:"setDrawingShape",value:function(e,t){this.getComponent(E.componentNames.SHAPE).setStates(e,t)}},{key:"setIconStyle",value:function(e,t){this.getComponent(E.componentNames.ICON).setStates(e,t)}},{key:"registerPaths",value:function(e){this.getComponent(E.componentNames.ICON).registerPaths(e)}},{key:"changeCursor",value:function(e){var t=this.getCanvas();t.defaultCursor=e,t.renderAll()}},{key:"hasFilter",value:function(e){return this.getComponent(E.componentNames.FILTER).hasFilter(e)}},{key:"setSelectionStyle",value:function(e){S(E.fObjectOptions.SELECTION_STYLE,e)}},{key:"setObjectProperties",value:function(e,t){var n=this.getObject(e),i=S({},t);return n.set(i),n.setCoords(),this.getCanvas().renderAll(),i}},{key:"getObjectProperties",value:function(e,t){var n=this.getObject(e),i={};return T(t)?i[t]=n[t]:M(t)?F(t,(function(e){i[e]=n[e]})):N(t,(function(e,t){i[t]=n[t]})),i}},{key:"getObjectPosition",value:function(e,t,n){var i=this.getObject(e);return i?i.getPointByOrigin(t,n):null}},{key:"setObjectPosition",value:function(e,t){var n=this.getObject(e),i=t.x,r=t.y,o=t.originX,a=t.originY;if(!n)return!1;var s=n.getPointByOrigin(o,a),l=n.getPointByOrigin("center","center"),c=l.x-s.x,u=l.y-s.y;return n.set({left:i+c,top:r+u}),n.setCoords(),!0}},{key:"getCanvasSize",value:function(){var e=this.getCanvasImage();return{width:e?e.width:0,height:e?e.height:0}}},{key:"createStaticCanvas",value:function(){var e=new o.default.StaticCanvas;return e.set({enableRetinaScaling:!1}),e}},{key:"_getDrawingModeInstance",value:function(e){return this._drawingModeMap[e]}},{key:"_setObjectCachingToFalse",value:function(){o.default.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(e){var t=void 0,n=void 0;"CANVAS"!==(t=e.nodeType?e:document.querySelector(e)).nodeName.toUpperCase()&&(n=document.createElement("canvas"),t.appendChild(n)),this._canvas=new o.default.Canvas(n,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new g.default),this._register(this._drawingModeMap,new v.default),this._register(this._drawingModeMap,new b.default),this._register(this._drawingModeMap,new y.default),this._register(this._drawingModeMap,new x.default),this._register(this._drawingModeMap,new w.default),this._register(this._drawingModeMap,new _.default)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new a.default(this)),this._register(this._componentMap,new s.default(this)),this._register(this._componentMap,new l.default(this)),this._register(this._componentMap,new c.default(this)),this._register(this._componentMap,new u.default(this)),this._register(this._componentMap,new d.default(this)),this._register(this._componentMap,new h.default(this)),this._register(this._componentMap,new p.default(this)),this._register(this._componentMap,new f.default(this)),this._register(this._componentMap,new A.default(this)),this._register(this._componentMap,new m.default(this))}},{key:"_register",value:function(e,t){e[t.getName()]=t}},{key:"_isSameDrawingMode",value:function(e){return this.getDrawingMode()===e}},{key:"_calcMaxDimension",value:function(e,t){var n=this.cssMaxWidth/e,i=this.cssMaxHeight/t,r=Math.min(e,this.cssMaxWidth),o=Math.min(t,this.cssMaxHeight);return n<1&&n<i?(r=e*n,o=t*n):i<1&&i<n&&(r=e*i,o=t*i),{width:Math.floor(r),height:Math.floor(o)}}},{key:"_callbackAfterLoadingImageObject",value:function(e){var t=this.getCanvasImage().getCenterPoint();e.set(E.fObjectOptions.SELECTION_STYLE),e.set({left:t.x,top:t.y,crossOrigin:"Anonymous"}),this.getCanvas().add(e).setActiveObject(e)}},{key:"_attachCanvasEvents",value:function(){var e=this._canvas,t=this._handler;e.on({"mouse:down":t.onMouseDown,"object:added":t.onObjectAdded,"object:removed":t.onObjectRemoved,"object:moving":t.onObjectMoved,"object:scaling":t.onObjectScaled,"object:modified":t.onObjectModified,"object:rotating":t.onObjectRotated,"path:created":t.onPathCreated,"selection:cleared":t.onSelectionCleared,"selection:created":t.onSelectionCreated,"selection:updated":t.onObjectSelected})}},{key:"_onMouseDown",value:function(e){var t=this,n=e.e,i=e.target,r=this._canvas.getPointer(n);if(i){var o=i.type,a=(0,j.makeSelectionUndoData)(i,(function(e){return(0,j.makeSelectionUndoDatum)(t.getObjectId(e),e,"activeSelection"===o)}));(0,j.setCachedUndoDataForDimension)(a)}this.fire(E.eventNames.MOUSE_DOWN,n,r)}},{key:"_onObjectAdded",value:function(e){var t=e.target;t.isType("cropzone")||this._addFabricObject(t)}},{key:"_onObjectRemoved",value:function(e){var t=e.target;this._removeFabricObject(O(t))}},{key:"_onObjectMoved",value:function(e){var t=this;this._lazyFire(E.eventNames.OBJECT_MOVED,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_onObjectScaled",value:function(e){var t=this;this._lazyFire(E.eventNames.OBJECT_SCALED,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_onObjectModified",value:function(e){var t=e.target;"activeSelection"===t.type&&t.getObjects().forEach((function(e){return e.fire("modifiedInGroup",t)})),this.fire(E.eventNames.OBJECT_MODIFIED,t,this.getObjectId(t))}},{key:"_onObjectRotated",value:function(e){var t=this;this._lazyFire(E.eventNames.OBJECT_ROTATED,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_lazyFire",value:function(e,t,n){var i=this,r=n&&n.canvasEventDelegation?n.canvasEventDelegation(e):"none";"unregistered"===r&&n.canvasEventRegister(e,(function(n){i.fire(e,t(n))})),"none"===r&&this.fire(e,t(n))}},{key:"_onObjectSelected",value:function(e){var t=e.target,n=this.createObjectProperties(t);this.fire(E.eventNames.OBJECT_ACTIVATED,n)}},{key:"_onPathCreated",value:function(e){var t=e.path.getCenterPoint(),n=t.x,i=t.y;e.path.set(S({left:n,top:i},E.fObjectOptions.SELECTION_STYLE));var r=this.createObjectProperties(e.path);this.fire(E.eventNames.ADD_OBJECT,r)}},{key:"_onSelectionCleared",value:function(){this.fire(E.eventNames.SELECTION_CLEARED)}},{key:"_onSelectionCreated",value:function(e){var t=e.target,n=this.createObjectProperties(t);this.fire(E.eventNames.OBJECT_ACTIVATED,n),this.fire(E.eventNames.SELECTION_CREATED,e.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(e){this._canvas.forEachObject((function(t){t.selectable=e,t.hoverCursor=e?"move":"crosshair"}))}},{key:"createObjectProperties",value:function(e){var t={id:O(e),type:e.type};if(S(t,(0,C.getProperties)(e,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),(0,C.includes)(["i-text","text"],e.type))S(t,this._createTextProperties(e,t));else if((0,C.includes)(["rect","triangle","circle"],e.type)){var n=this.getComponent(E.componentNames.SHAPE);S(t,{fill:n.makeFillPropertyForUserEvent(e)})}return t}},{key:"_createTextProperties",value:function(e){var t={};return S(t,(0,C.getProperties)(e,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),t}},{key:"_addFabricObject",value:function(e){var t=O(e);return this._objects[t]=e,t}},{key:"_removeFabricObject",value:function(e){delete this._objects[e]}},{key:"resetTargetObjectForCopyPaste",value:function(){var e=this.getActiveObject();e&&(this.targetObjectForCopyPaste=e)}},{key:"pasteObject",value:function(){var e=this;if(!this.targetObjectForCopyPaste)return C.Promise.resolve([]);var t=this.targetObjectForCopyPaste,n="activeSelection"===t.type?t.getObjects():[t],i=null;return this.discardSelection(),this._cloneObject(n).then((function(t){i=t.length>1?e.getActiveSelectionFromObjects(t):t[0],e.targetObjectForCopyPaste=i,e.setActiveObject(i)}))}},{key:"_cloneObject",value:function(e){var t=this,n=r.default.map(e,(function(e){return t._cloneObjectItem(e)}));return C.Promise.all(n)}},{key:"_cloneObjectItem",value:function(e){var t=this;return this._copyFabricObjectForPaste(e).then((function(e){var n=t.createObjectProperties(e);return t.add(e),t.fire(E.eventNames.ADD_OBJECT,n),e}))}},{key:"_copyFabricObjectForPaste",value:function(e){var t=this,n=function(e,t){return t?e-10:e+10};return this._copyFabricObject(e).then((function(e){var i=e.left,o=e.top,a=e.width,s=e.height,l=t.getCanvasSize(),c=l.width,u=l.height,d=i+a/2,h=o+s/2;return e.set(r.default.extend({left:n(i,d+10>c),top:n(o,h+10>u)},E.fObjectOptions.SELECTION_STYLE)),e}))}},{key:"_copyFabricObject",value:function(e){var t=this;return new C.Promise((function(n){e.clone((function(i){var r=t.getComponent(E.componentNames.SHAPE);(0,C.isShape)(i)&&r.processForCopiedObject(i,e),n(i)}))}))}}]),e}();I.mixin(U),t.default=U},"./src/js/helper/imagetracer.js":
/*!**************************************!*\
        !*** ./src/js/helper/imagetracer.js ***!
        \**************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return i(e,null,[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),i(e,[{key:"imageToSVG",value:function(e,t,n){var i=this;n=this.checkoptions(n),this.loadImage(e,(function(e){t(i.imagedataToSVG(i.getImgdata(e),n))}),n)}},{key:"imagedataToSVG",value:function(e,t){t=this.checkoptions(t);var n=this.imagedataToTracedata(e,t);return this.getsvgstring(n,t)}},{key:"imageToTracedata",value:function(e,t,n){var i=this;n=this.checkoptions(n),this.loadImage(e,(function(e){t(i.imagedataToTracedata(i.getImgdata(e),n))}),n)}},{key:"imagedataToTracedata",value:function(e,t){t=this.checkoptions(t);var n=this.colorquantization(e,t),i=void 0;if(0===t.layering){i={layers:[],palette:n.palette,width:n.array[0].length-2,height:n.array.length-2};for(var r=0;r<n.palette.length;r+=1){var o=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(n,r),t.pathomit),t),t.ltres,t.qtres);i.layers.push(o)}}else{var a=this.layering(n);t.layercontainerid&&this.drawLayers(a,this.specpalette,t.scale,t.layercontainerid);var s=this.batchpathscan(a,t.pathomit),l=this.batchinternodes(s,t);i={layers:this.batchtracelayers(l,t.ltres,t.qtres),palette:n.palette,width:e.width,height:e.height}}return i}},{key:"checkoptions",value:function(e){"string"==typeof(e=e||{})&&(e=e.toLowerCase(),e=this.optionpresets[e]?this.optionpresets[e]:{});for(var t=Object.keys(this.optionpresets.default),n=0;n<t.length;n+=1)e.hasOwnProperty(t[n])||(e[t[n]]=this.optionpresets.default[t[n]]);return e}},{key:"colorquantization",value:function(e,t){var n=[],i=0,r=void 0,o=void 0,a=void 0,s=[],l=e.width*e.height,c=void 0,u=void 0,d=void 0,h=void 0,p=void 0;for(u=0;u<e.height+2;u+=1)for(n[u]=[],c=0;c<e.width+2;c+=1)n[u][c]=-1;for(p=t.pal?t.pal:0===t.colorsampling?this.generatepalette(t.numberofcolors):1===t.colorsampling?this.samplepalette(t.numberofcolors,e):this.samplepalette2(t.numberofcolors,e),t.blurradius>0&&(e=this.blur(e,t.blurradius,t.blurdelta)),h=0;h<t.colorquantcycles;h+=1){if(h>0)for(d=0;d<p.length;d+=1)s[d].n>0&&(p[d]={r:Math.floor(s[d].r/s[d].n),g:Math.floor(s[d].g/s[d].n),b:Math.floor(s[d].b/s[d].n),a:Math.floor(s[d].a/s[d].n)}),s[d].n/l<t.mincolorratio&&h<t.colorquantcycles-1&&(p[d]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(c=0;c<p.length;c+=1)s[c]={r:0,g:0,b:0,a:0,n:0};for(u=0;u<e.height;u+=1)for(c=0;c<e.width;c+=1){for(i=4*(u*e.width+c),a=0,o=1024,d=0;d<p.length;d+=1)(r=Math.abs(p[d].r-e.data[i])+Math.abs(p[d].g-e.data[i+1])+Math.abs(p[d].b-e.data[i+2])+Math.abs(p[d].a-e.data[i+3]))<o&&(o=r,a=d);s[a].r+=e.data[i],s[a].g+=e.data[i+1],s[a].b+=e.data[i+2],s[a].a+=e.data[i+3],s[a].n+=1,n[u+1][c+1]=a}}return{array:n,palette:p}}},{key:"samplepalette",value:function(e,t){for(var n=void 0,i=[],r=0;r<e;r+=1)n=4*Math.floor(Math.random()*t.data.length/4),i.push({r:t.data[n],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]});return i}},{key:"samplepalette2",value:function(e,t){for(var n=void 0,i=[],r=Math.ceil(Math.sqrt(e)),o=Math.ceil(e/r),a=t.width/(r+1),s=t.height/(o+1),l=0;l<o;l+=1)for(var c=0;c<r&&i.length!==e;c+=1)n=4*Math.floor((l+1)*s*t.width+(c+1)*a),i.push({r:t.data[n],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]});return i}},{key:"generatepalette",value:function(e){var t=[],n=void 0,i=void 0,r=void 0;if(e<8)for(var o=Math.floor(255/(e-1)),a=0;a<e;a+=1)t.push({r:a*o,g:a*o,b:a*o,a:255});else{var s=Math.floor(Math.pow(e,1/3)),l=Math.floor(255/(s-1)),c=e-s*s*s;for(n=0;n<s;n+=1)for(i=0;i<s;i+=1)for(r=0;r<s;r+=1)t.push({r:n*l,g:i*l,b:r*l,a:255});for(n=0;n<c;n+=1)t.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return t}},{key:"layering",value:function(e){var t=[],n=0,i=e.array.length,r=e.array[0].length,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,p=void 0,f=void 0,A=void 0;for(A=0;A<e.palette.length;A+=1)for(t[A]=[],f=0;f<i;f+=1)for(t[A][f]=[],p=0;p<r;p+=1)t[A][f][p]=0;for(f=1;f<i-1;f+=1)for(p=1;p<r-1;p+=1)n=e.array[f][p],o=e.array[f-1][p-1]===n?1:0,a=e.array[f-1][p]===n?1:0,s=e.array[f-1][p+1]===n?1:0,l=e.array[f][p-1]===n?1:0,c=e.array[f][p+1]===n?1:0,u=e.array[f+1][p-1]===n?1:0,d=e.array[f+1][p]===n?1:0,h=e.array[f+1][p+1]===n?1:0,t[n][f+1][p+1]=1+2*c+4*h+8*d,l||(t[n][f+1][p]=2+4*d+8*u),a||(t[n][f][p+1]=0+2*s+4*c+8),o||(t[n][f][p]=0+2*a+4+8*l);return t}},{key:"layeringstep",value:function(e,t){var n=[],i=e.array.length,r=e.array[0].length,o=void 0,a=void 0;for(a=0;a<i;a+=1)for(n[a]=[],o=0;o<r;o+=1)n[a][o]=0;for(a=1;a<i;a+=1)for(o=1;o<r;o+=1)n[a][o]=(e.array[a-1][o-1]===t?1:0)+(e.array[a-1][o]===t?2:0)+(e.array[a][o-1]===t?8:0)+(e.array[a][o]===t?4:0);return n}},{key:"pathscan",value:function(e,t){for(var n=[],i=0,r=0,o=0,a=0,s=e[0].length,l=e.length,c=0,u=!0,d=!1,h=void 0,p=0;p<l;p+=1)for(var f=0;f<s;f+=1)if(4===e[p][f]||11===e[p][f])for(o=f,a=p,n[i]={},n[i].points=[],n[i].boundingbox=[o,a,o,a],n[i].holechildren=[],u=!1,r=0,d=11===e[p][f],c=1;!u;){if(n[i].points[r]={},n[i].points[r].x=o-1,n[i].points[r].y=a-1,n[i].points[r].t=e[a][o],o-1<n[i].boundingbox[0]&&(n[i].boundingbox[0]=o-1),o-1>n[i].boundingbox[2]&&(n[i].boundingbox[2]=o-1),a-1<n[i].boundingbox[1]&&(n[i].boundingbox[1]=a-1),a-1>n[i].boundingbox[3]&&(n[i].boundingbox[3]=a-1),h=this.pathscan_combined_lookup[e[a][o]][c],e[a][o]=h[0],c=h[1],o+=h[2],a+=h[3],o-1===n[i].points[0].x&&a-1===n[i].points[0].y)if(u=!0,n[i].points.length<t)n.pop();else{if(n[i].isholepath=!!d,d){for(var A=0,m=[-1,-1,s+1,l+1],g=0;g<i;g++)!n[g].isholepath&&this.boundingboxincludes(n[g].boundingbox,n[i].boundingbox)&&this.boundingboxincludes(m,n[g].boundingbox)&&(A=g,m=n[g].boundingbox);n[A].holechildren.push(i)}i+=1}r+=1}return n}},{key:"boundingboxincludes",value:function(e,t){return e[0]<t[0]&&e[1]<t[1]&&e[2]>t[2]&&e[3]>t[3]}},{key:"batchpathscan",value:function(e,t){var n=[];for(var i in e)e.hasOwnProperty(i)&&(n[i]=this.pathscan(e[i],t));return n}},{key:"internodes",value:function(e,t){var n=[],i=0,r=0,o=0,a=0,s=0,l=void 0,c=void 0;for(l=0;l<e.length;l+=1)for(n[l]={},n[l].points=[],n[l].boundingbox=e[l].boundingbox,n[l].holechildren=e[l].holechildren,n[l].isholepath=e[l].isholepath,i=e[l].points.length,c=0;c<i;c+=1)r=(c+1)%i,o=(c+2)%i,a=(c-1+i)%i,s=(c-2+i)%i,t.rightangleenhance&&this.testrightangle(e[l],s,a,c,r,o)&&(n[l].points.length>0&&(n[l].points[n[l].points.length-1].linesegment=this.getdirection(n[l].points[n[l].points.length-1].x,n[l].points[n[l].points.length-1].y,e[l].points[c].x,e[l].points[c].y)),n[l].points.push({x:e[l].points[c].x,y:e[l].points[c].y,linesegment:this.getdirection(e[l].points[c].x,e[l].points[c].y,(e[l].points[c].x+e[l].points[r].x)/2,(e[l].points[c].y+e[l].points[r].y)/2)})),n[l].points.push({x:(e[l].points[c].x+e[l].points[r].x)/2,y:(e[l].points[c].y+e[l].points[r].y)/2,linesegment:this.getdirection((e[l].points[c].x+e[l].points[r].x)/2,(e[l].points[c].y+e[l].points[r].y)/2,(e[l].points[r].x+e[l].points[o].x)/2,(e[l].points[r].y+e[l].points[o].y)/2)});return n}},{key:"testrightangle",value:function(e,t,n,i,r,o){return e.points[i].x===e.points[t].x&&e.points[i].x===e.points[n].x&&e.points[i].y===e.points[r].y&&e.points[i].y===e.points[o].y||e.points[i].y===e.points[t].y&&e.points[i].y===e.points[n].y&&e.points[i].x===e.points[r].x&&e.points[i].x===e.points[o].x}},{key:"getdirection",value:function(e,t,n,i){return e<n?t<i?1:t>i?7:0:e>n?t<i?3:t>i?5:4:t<i?2:t>i?6:8}},{key:"batchinternodes",value:function(e,t){var n=[];for(var i in e)e.hasOwnProperty(i)&&(n[i]=this.internodes(e[i],t));return n}},{key:"tracepath",value:function(e,t,n){var i=0,r=void 0,o=void 0,a=void 0,s={segments:[]};for(s.boundingbox=e.boundingbox,s.holechildren=e.holechildren,s.isholepath=e.isholepath;i<e.points.length;){for(r=e.points[i].linesegment,o=-1,a=i+1;(e.points[a].linesegment===r||e.points[a].linesegment===o||-1===o)&&a<e.points.length-1;)e.points[a].linesegment!==r&&-1===o&&(o=e.points[a].linesegment),a+=1;a===e.points.length-1&&(a=0),s.segments=s.segments.concat(this.fitseq(e,t,n,i,a)),i=a>0?a:e.points.length}return s}},{key:"fitseq",value:function(e,t,n,i,r){if(r>e.points.length||r<0)return[];var o=i,a=0,s=!0,l=void 0,c=void 0,u=void 0,d=r-i;d<0&&(d+=e.points.length);for(var h=(e.points[r].x-e.points[i].x)/d,p=(e.points[r].y-e.points[i].y)/d,f=(i+1)%e.points.length,A=void 0;f!=r;)(A=f-i)<0&&(A+=e.points.length),l=e.points[i].x+h*A,c=e.points[i].y+p*A,(u=(e.points[f].x-l)*(e.points[f].x-l)+(e.points[f].y-c)*(e.points[f].y-c))>t&&(s=!1),u>a&&(o=f,a=u),f=(f+1)%e.points.length;if(s)return[{type:"L",x1:e.points[i].x,y1:e.points[i].y,x2:e.points[r].x,y2:e.points[r].y}];var m=o;s=!0,a=0;var g=(m-i)/d,v=(1-g)*(1-g),b=2*(1-g)*g,y=g*g,x=(v*e.points[i].x+y*e.points[r].x-e.points[m].x)/-b,w=(v*e.points[i].y+y*e.points[r].y-e.points[m].y)/-b;for(f=i+1;f!=r;)b=2*(1-(g=(f-i)/d))*g,y=g*g,l=(v=(1-g)*(1-g))*e.points[i].x+b*x+y*e.points[r].x,c=v*e.points[i].y+b*w+y*e.points[r].y,(u=(e.points[f].x-l)*(e.points[f].x-l)+(e.points[f].y-c)*(e.points[f].y-c))>n&&(s=!1),u>a&&(o=f,a=u),f=(f+1)%e.points.length;if(s)return[{type:"Q",x1:e.points[i].x,y1:e.points[i].y,x2:x,y2:w,x3:e.points[r].x,y3:e.points[r].y}];var _=m;return this.fitseq(e,t,n,i,_).concat(this.fitseq(e,t,n,_,r))}},{key:"batchtracepaths",value:function(e,t,n){var i=[];for(var r in e)e.hasOwnProperty(r)&&i.push(this.tracepath(e[r],t,n));return i}},{key:"batchtracelayers",value:function(e,t,n){var i=[];for(var r in e)e.hasOwnProperty(r)&&(i[r]=this.batchtracepaths(e[r],t,n));return i}},{key:"roundtodec",value:function(e,t){return Number(e.toFixed(t))}},{key:"svgpathstring",value:function(e,t,n,i){var r=e.layers[t],o=r[n],a="",s=void 0;if(i.linefilter&&o.segments.length<3)return a;if(a="<path "+(i.desc?'desc="l '+t+" p "+n+'" ':"")+this.tosvgcolorstr(e.palette[t],i)+'d="',-1===i.roundcoords){for(a+="M "+o.segments[0].x1*i.scale+" "+o.segments[0].y1*i.scale+" ",s=0;s<o.segments.length;s++)a+=o.segments[s].type+" "+o.segments[s].x2*i.scale+" "+o.segments[s].y2*i.scale+" ",o.segments[s].hasOwnProperty("x3")&&(a+=o.segments[s].x3*i.scale+" "+o.segments[s].y3*i.scale+" ");a+="Z "}else{for(a+="M "+this.roundtodec(o.segments[0].x1*i.scale,i.roundcoords)+" "+this.roundtodec(o.segments[0].y1*i.scale,i.roundcoords)+" ",s=0;s<o.segments.length;s++)a+=o.segments[s].type+" "+this.roundtodec(o.segments[s].x2*i.scale,i.roundcoords)+" "+this.roundtodec(o.segments[s].y2*i.scale,i.roundcoords)+" ",o.segments[s].hasOwnProperty("x3")&&(a+=this.roundtodec(o.segments[s].x3*i.scale,i.roundcoords)+" "+this.roundtodec(o.segments[s].y3*i.scale,i.roundcoords)+" ");a+="Z "}for(var l=0;l<o.holechildren.length;l++){var c=r[o.holechildren[l]];if(-1===i.roundcoords)for(c.segments[c.segments.length-1].hasOwnProperty("x3")?a+="M "+c.segments[c.segments.length-1].x3*i.scale+" "+c.segments[c.segments.length-1].y3*i.scale+" ":a+="M "+c.segments[c.segments.length-1].x2*i.scale+" "+c.segments[c.segments.length-1].y2*i.scale+" ",s=c.segments.length-1;s>=0;s--)a+=c.segments[s].type+" ",c.segments[s].hasOwnProperty("x3")&&(a+=c.segments[s].x2*i.scale+" "+c.segments[s].y2*i.scale+" "),a+=c.segments[s].x1*i.scale+" "+c.segments[s].y1*i.scale+" ";else for(c.segments[c.segments.length-1].hasOwnProperty("x3")?a+="M "+this.roundtodec(c.segments[c.segments.length-1].x3*i.scale)+" "+this.roundtodec(c.segments[c.segments.length-1].y3*i.scale)+" ":a+="M "+this.roundtodec(c.segments[c.segments.length-1].x2*i.scale)+" "+this.roundtodec(c.segments[c.segments.length-1].y2*i.scale)+" ",s=c.segments.length-1;s>=0;s--)a+=c.segments[s].type+" ",c.segments[s].hasOwnProperty("x3")&&(a+=this.roundtodec(c.segments[s].x2*i.scale)+" "+this.roundtodec(c.segments[s].y2*i.scale)+" "),a+=this.roundtodec(c.segments[s].x1*i.scale)+" "+this.roundtodec(c.segments[s].y1*i.scale)+" ";a+="Z "}if(a+='" />',i.lcpr||i.qcpr){for(s=0;s<o.segments.length;s++)o.segments[s].hasOwnProperty("x3")&&i.qcpr&&(a+='<circle cx="'+o.segments[s].x2*i.scale+'" cy="'+o.segments[s].y2*i.scale+'" r="'+i.qcpr+'" fill="cyan" stroke-width="'+.2*i.qcpr+'" stroke="black" />',a+='<circle cx="'+o.segments[s].x3*i.scale+'" cy="'+o.segments[s].y3*i.scale+'" r="'+i.qcpr+'" fill="white" stroke-width="'+.2*i.qcpr+'" stroke="black" />',a+='<line x1="'+o.segments[s].x1*i.scale+'" y1="'+o.segments[s].y1*i.scale+'" x2="'+o.segments[s].x2*i.scale+'" y2="'+o.segments[s].y2*i.scale+'" stroke-width="'+.2*i.qcpr+'" stroke="cyan" />',a+='<line x1="'+o.segments[s].x2*i.scale+'" y1="'+o.segments[s].y2*i.scale+'" x2="'+o.segments[s].x3*i.scale+'" y2="'+o.segments[s].y3*i.scale+'" stroke-width="'+.2*i.qcpr+'" stroke="cyan" />'),!o.segments[s].hasOwnProperty("x3")&&i.lcpr&&(a+='<circle cx="'+o.segments[s].x2*i.scale+'" cy="'+o.segments[s].y2*i.scale+'" r="'+i.lcpr+'" fill="white" stroke-width="'+.2*i.lcpr+'" stroke="black" />');for(l=0;l<o.holechildren.length;l++)for(c=r[o.holechildren[l]],s=0;s<c.segments.length;s++)c.segments[s].hasOwnProperty("x3")&&i.qcpr&&(a+='<circle cx="'+c.segments[s].x2*i.scale+'" cy="'+c.segments[s].y2*i.scale+'" r="'+i.qcpr+'" fill="cyan" stroke-width="'+.2*i.qcpr+'" stroke="black" />',a+='<circle cx="'+c.segments[s].x3*i.scale+'" cy="'+c.segments[s].y3*i.scale+'" r="'+i.qcpr+'" fill="white" stroke-width="'+.2*i.qcpr+'" stroke="black" />',a+='<line x1="'+c.segments[s].x1*i.scale+'" y1="'+c.segments[s].y1*i.scale+'" x2="'+c.segments[s].x2*i.scale+'" y2="'+c.segments[s].y2*i.scale+'" stroke-width="'+.2*i.qcpr+'" stroke="cyan" />',a+='<line x1="'+c.segments[s].x2*i.scale+'" y1="'+c.segments[s].y2*i.scale+'" x2="'+c.segments[s].x3*i.scale+'" y2="'+c.segments[s].y3*i.scale+'" stroke-width="'+.2*i.qcpr+'" stroke="cyan" />'),!c.segments[s].hasOwnProperty("x3")&&i.lcpr&&(a+='<circle cx="'+c.segments[s].x2*i.scale+'" cy="'+c.segments[s].y2*i.scale+'" r="'+i.lcpr+'" fill="white" stroke-width="'+.2*i.lcpr+'" stroke="black" />')}return a}},{key:"getsvgstring",value:function(e,t){t=this.checkoptions(t);for(var n=e.width*t.scale,i=e.height*t.scale,r="<svg "+(t.viewbox?'viewBox="0 0 '+n+" "+i+'" ':'width="'+n+'" height="'+i+'" ')+'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version '+this.versionnumber+'" >',o=0;o<e.layers.length;o+=1)for(var a=0;a<e.layers[o].length;a+=1)e.layers[o][a].isholepath||(r+=this.svgpathstring(e,o,a,t));return r+="</svg>"}},{key:"compareNumbers",value:function(e,t){return e-t}},{key:"torgbastr",value:function(e){return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"}},{key:"tosvgcolorstr",value:function(e,t){return'fill="rgb('+e.r+","+e.g+","+e.b+')" stroke="rgb('+e.r+","+e.g+","+e.b+')" stroke-width="'+t.strokewidth+'" opacity="'+e.a/255+'" '}},{key:"appendSVGString",value:function(e,t){var n=void 0;t?(n=document.getElementById(t))||((n=document.createElement("div")).id=t,document.body.appendChild(n)):(n=document.createElement("div"),document.body.appendChild(n)),n.innerHTML+=e}},{key:"blur",value:function(e,t,n){var i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h={width:e.width,height:e.height,data:[]};if((t=Math.floor(t))<1)return e;t>5&&(t=5),(n=Math.abs(n))>1024&&(n=1024);var p=this.gks[t-1];for(r=0;r<e.height;r++)for(i=0;i<e.width;i++){for(s=0,l=0,c=0,u=0,d=0,o=-t;o<t+1;o++)i+o>0&&i+o<e.width&&(a=4*(r*e.width+i+o),s+=e.data[a]*p[o+t],l+=e.data[a+1]*p[o+t],c+=e.data[a+2]*p[o+t],u+=e.data[a+3]*p[o+t],d+=p[o+t]);a=4*(r*e.width+i),h.data[a]=Math.floor(s/d),h.data[a+1]=Math.floor(l/d),h.data[a+2]=Math.floor(c/d),h.data[a+3]=Math.floor(u/d)}var f=new Uint8ClampedArray(h.data);for(r=0;r<e.height;r++)for(i=0;i<e.width;i++){for(s=0,l=0,c=0,u=0,d=0,o=-t;o<t+1;o++)r+o>0&&r+o<e.height&&(s+=f[a=4*((r+o)*e.width+i)]*p[o+t],l+=f[a+1]*p[o+t],c+=f[a+2]*p[o+t],u+=f[a+3]*p[o+t],d+=p[o+t]);a=4*(r*e.width+i),h.data[a]=Math.floor(s/d),h.data[a+1]=Math.floor(l/d),h.data[a+2]=Math.floor(c/d),h.data[a+3]=Math.floor(u/d)}for(r=0;r<e.height;r++)for(i=0;i<e.width;i++)a=4*(r*e.width+i),Math.abs(h.data[a]-e.data[a])+Math.abs(h.data[a+1]-e.data[a+1])+Math.abs(h.data[a+2]-e.data[a+2])+Math.abs(h.data[a+3]-e.data[a+3])>n&&(h.data[a]=e.data[a],h.data[a+1]=e.data[a+1],h.data[a+2]=e.data[a+2],h.data[a+3]=e.data[a+3]);return h}},{key:"loadImage",value:function(e,t,n){var i=new Image;n&&n.corsenabled&&(i.crossOrigin="Anonymous"),i.src=e,i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0),t(e)}}},{key:"getImgdata",value:function(e){return e.getContext("2d").getImageData(0,0,e.width,e.height)}},{key:"drawLayers",value:function(e,t,n,i){n=n||1;var r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0;for(l in i?(c=document.getElementById(i))||((c=document.createElement("div")).id=i,document.body.appendChild(c)):(c=document.createElement("div"),document.body.appendChild(c)),e)if(e.hasOwnProperty(l)){r=e[l][0].length,o=e[l].length;var u=document.createElement("canvas");u.width=r*n,u.height=o*n;var d=u.getContext("2d");for(s=0;s<o;s+=1)for(a=0;a<r;a+=1)d.fillStyle=this.torgbastr(t[e[l][s][a]%t.length]),d.fillRect(a*n,s*n,n,n);c.appendChild(u)}}}]),e}();t.default=r},"./src/js/helper/selectionModifyHelper.js":
/*!************************************************!*\
        !*** ./src/js/helper/selectionModifyHelper.js ***!
        \************************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCachedUndoDataForDimension=function(e){r=e},t.getCachedUndoDataForDimension=function(){return r},t.makeSelectionUndoData=function(e,t){return"activeSelection"===e.type?e.getObjects().map((function(n){var i=n.angle,r=n.left,o=n.top,a=n.scaleX,s=n.scaleY,l=n.width,c=n.height;e.realizeTransform(n);var u=t(n);return n.set({angle:i,left:r,top:o,width:l,height:c,scaleX:a,scaleY:s}),u})):[t(e)]},t.makeSelectionUndoDatum=function(e,t,n){return n?{id:e,width:t.width,height:t.height,top:t.top,left:t.left,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY}:(0,i.extend)({id:e},t)};var i=n(
/*! tui-code-snippet */
"tui-code-snippet"),r=null},"./src/js/helper/shapeFilterFillHelper.js":
/*!************************************************!*\
        !*** ./src/js/helper/shapeFilterFillHelper.js ***!
        \************************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFillImageFromShape=d,t.rePositionFilterTypeFillImage=function(e){var t=e.angle,n=e.flipX,r=e.flipY,a=d(e),s=function(e){var t=f(e),n=t[0],i=n.x,r=n.y,o=t[1],a=o.x,s=o.y,l=t[2],c=l.x,u=l.y,d=t[3],h=d.x,p=d.y,A=Math.min(i,a,c,h),m=Math.min(r,s,u,p),g=Math.max(i,a,c,h),v=Math.max(r,s,u,p);return{left:A,top:m,right:g,bottom:v,width:g-A,height:v-m}}(e),c=s.right,h=s.bottom,p=s.width,A=s.height,m=(p-e.width)/2,g=(A-e.height)/2,v=e.left-e.width/2-m,b=e.top-e.height/2-g,y=p/2-m,x=A/2-g,w=Math.max(p,A)+Math.max(m,g),_=function(e){var t=e.shapeObj,n=e.left,r=e.top,o=e.width,a=e.height,s=e.cropX,c=e.cropY,d=e.flipX,h=e.flipY,p=e.right,A=e.bottom,m=function(e,n,r,o){return function(e){var t=e.type,n=e.shapeObj,r=e.outDistance,o=e.left,a=e.top,s=e.flipX,l=e.flipY,c=f(n),u=function(e,t,n){var r=0,o=0;(0,i.forEach)(t,(function(t,n){t[e]<r&&(r=t[e],o=n)}));var a=n[o],s=a[0],l=a[1];return{startPointIndex:o,endPointIndex1:s,endPointIndex2:l}}(t,c,[[1,2],[0,3],[0,3],[1,2]]),d=function(e,t,n){var r=n.startPointIndex,o=n.endPointIndex1,a=n.endPointIndex2,s="x"===e?180:270;return(0,i.map)([o,a],(function(e){var n=t[r],i=t[e],o=n.y-i.y,a=n.x-i.x;return 180*Math.atan2(o,a)/Math.PI-s}))}(t,c,u),h=u.startPointIndex,p=function(e){var t=e.outDistance,n=e.startPointIndex,i=e.flipX,r=e.flipY,o=e.reatAngles,a=t*Math.cos(o[0]*Math.PI/180),s=t*Math.cos(o[1]*Math.PI/180),l=2===n||3===n,c={top:l?a:s,left:l?s:a};return function(e,t,n){return(!t&&n||!t&&!n)&&0===e||(t&&n||t&&!n)&&1===e||(!t&&!n||!t&&n)&&2===e||(t&&!n||t&&n)&&3===e}(n,i,r)&&(c.left=-1*c.left),function(e,t,n){return(t&&!n||!t&&!n)&&0===e||(!t&&!n||t&&!n)&&1===e||(t&&n||!t&&n)&&2===e||(!t&&n||t&&n)&&3===e}(n,i,r)&&(c.top=-1*c.top),c}({outDistance:r,startPointIndex:h,flipX:s,flipY:l,reatAngles:d});return[o+p.left,a+p.top]}({type:e,outDistance:n,shapeObj:t,flipX:d,flipY:h,left:r,top:o})},g=o,v=a,b=function(e,t){var n=t.left,r=t.top,o=t.width,a=t.height,s=t.cropX,c=t.cropY,d={width:o,height:a};return(0,i.forEach)(["x","y"],(function(t){var i="x"===t?s:c,o=d[l[t]],a=u[l[t]];if(o>a){var h=(o-a)/2;d[l[t]]=a;var p=e(t,h,n,r);n=p[0],r=p[1]}if(i<0){var f=e(t,i,n,r);n=f[0],r=f[1]}})),[n,r,d.width,d.height]}(m,{left:n,top:r,width:o,height:a,cropX:s,cropY:c});n=b[0],r=b[1],o=b[2],a=b[3];var y=function(e,t){var n=t.left,r=t.top,o=t.insideCanvasRealImageWidth,a=t.insideCanvasRealImageHeight,s=t.right,l=t.bottom,c=t.cropX,d=t.cropY,h=t.originalWidth,p=t.originalHeight,f=o,A=a,m=u,g=m.width,v=m.height;s>g&&c>0&&(f=h-Math.abs(s-g)),l>v&&d>0&&(A=p-Math.abs(l-v));var b={x:(o-f)/2,y:(a-A)/2};return(0,i.forEach)(["x","y"],(function(t){var i=b[t];if(i>0){var o=e(t,i,n,r);n=o[0],r=o[1]}})),[n,r,f,A]}(m,{left:n,top:r,insideCanvasRealImageWidth:o,insideCanvasRealImageHeight:a,right:p,bottom:A,cropX:s,cropY:c,originalWidth:g,originalHeight:v});return n=y[0],r=y[1],o=y[2],a=y[3],[n,r,o,a]}({shapeObj:e,left:y,top:x,width:p,height:A,cropX:v,cropY:b,flipX:n,flipY:r,right:c,bottom:h});y=_[0],x=_[1],p=_[2],A=_[3],a.set({angle:n===r?-t:t,left:y,top:x,width:p,height:A,cropX:v,cropY:b,flipX:n,flipY:r}),(0,o.setCustomProperty)(a,{fillImageMaxSize:w})},t.makeFilterOptionFromFabricImage=h,t.makeFillPatternForFilter=function(e,t,n){var i=A(p(e),e.angle,t);n.add(i);var r={fill:new fabric.Pattern({source:n.getElement(),repeat:"no-repeat"})};return(0,o.setCustomProperty)(r,{patternSourceCanvas:n}),r},t.resetFillPatternCanvas=function(e){var t=e.getObjects()[0],n=(0,o.getCustomProperty)(t,"fillImageMaxSize").fillImageMaxSize;n=Math.max(1,n),e.setDimensions({width:n,height:n}),e.renderAll()},t.reMakePatternImageSource=function(e,t){var n=(0,o.getCustomProperty)(e,"patternSourceCanvas").patternSourceCanvas,i=n.getObjects()[0],r=h(i);n.remove(i);var a=A(p(t,!0),t.angle,r);n.add(a)},t.getCachedCanvasImageElement=p;var i=n(
/*! tui-code-snippet */
"tui-code-snippet"),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/helper/shapeResizeHelper */
"./src/js/helper/shapeResizeHelper.js")),o=n(
/*! @/util */
"./src/js/util.js");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={pixelate:"blocksize",blur:"blur"},l={x:"width",y:"height"},c=(0,o.flipObject)(s),u=null;function d(e){return(0,o.getCustomProperty)(e,"patternSourceCanvas").patternSourceCanvas.getObjects()[0]}function h(e){return(0,i.map)(e.filters,(function(e){var t=Object.keys(e)[0];return a({},c[t],e[t])}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u&&!t||(u=e.toCanvasElement()),u}function f(e){return[e.getPointByOrigin("left","top"),e.getPointByOrigin("right","top"),e.getPointByOrigin("left","bottom"),e.getPointByOrigin("right","bottom")]}function A(e,t,n){var l=new fabric.Image(e);return(0,i.forEach)(i.extend.apply(void 0,[{}].concat(n)),(function(e,t){var n=(0,o.capitalizeString)(t),i=new fabric.Image.filters[n](a({},s[t],e));l.filters.push(i)})),l.applyFilters(),(0,o.setCustomProperty)(l,{originalAngle:t,fillImageMaxSize:Math.max(l.width,l.height)}),r.default.adjustOriginToCenter(l),l}},"./src/js/helper/shapeResizeHelper.js":
/*!********************************************!*\
        !*** ./src/js/helper/shapeResizeHelper.js ***!
        \********************************************/
/*! no static exports found */
function(e,t,n){"use strict";var i={rect:1,circle:2,triangle:1},r={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function o(e,t,n){var i=e.x,r=e.y,o=t.x,a=t.y,s=n*Math.PI/180;return{originX:i>(o-i)*Math.cos(s)-(a-r)*Math.sin(s)+i?"right":"left",originY:r>(o-i)*Math.sin(s)+(a-r)*Math.cos(s)+r?"bottom":"top"}}e.exports={setOrigins:function(e){var t=e.getPointByOrigin("left","top"),n=e.getPointByOrigin("right","top"),i=e.getPointByOrigin("right","bottom"),r=e.getPointByOrigin("left","bottom");e.origins={lt:t,rt:n,rb:i,lb:r}},resize:function(e,t,n){(function(e){return"center"===e.originX&&"center"===e.originY})(e)&&(function(e,t){var n=t.getPointByOrigin("center","center"),i=o(n,e,-t.angle),r=i.originX,a=i.originY,s=t.getPointByOrigin(r,a),l=t.left-(n.x-s.x),c=t.top-(n.y-s.y);t.set({originX:r,originY:a,left:l,top:c}),t.setCoords()}(t,e),function(e){var t=e.originX,n=e.originY,i=t.substring(0,1)+n.substring(0,1);e.startPoint=e.origins[i]}(e)),n?function(e){var t=e.type,n=e.scaleX,i=e.scaleY,o=r[t],a=e[o.w]*n,s=e[o.h]*i;if(e.isRegular){var l=Math.max(n,i);a=e[o.w]*l,s=e[o.h]*l}var c={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};c[o.w]=a,c[o.h]=s,e.set(c)}(e):function(e,t){var n=t.type,o=t.strokeWidth,a=t.startPoint,s=i[n],l=r[n],c=!("triangle"!==t.type),u={},d=Math.abs(a.x-e.x)/s,h=Math.abs(a.y-e.y)/s;d>o&&(d-=o/s),h>o&&(h-=o/s),t.isRegular&&(d=h=Math.max(d,h),c&&(h=Math.sqrt(3)/2*d)),u[l.w]=d,u[l.h]=h,t.set(u)}(t,e),function(e,t){var n=t.startPoint,i=o(n,e,-t.angle),r=i.originX,a=i.originY;t.setPositionByOrigin(n,r,a),t.setCoords()}(t,e)},adjustOriginToCenter:function(e){var t=e.getPointByOrigin("center","center"),n=e.originX,i=e.originY,r=e.getPointByOrigin(n,i),o=e.left+(t.x-r.x),a=e.top+(t.y-r.y);e.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:o,top:a}),e.setCoords()}}},"./src/js/imageEditor.js":
/*!*******************************!*\
        !*** ./src/js/imageEditor.js ***!
        \*******************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=p(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=p(n(
/*! @/invoker */
"./src/js/invoker.js")),a=p(n(
/*! @/ui */
"./src/js/ui.js")),s=p(n(
/*! @/action */
"./src/js/action.js")),l=p(n(
/*! @/factory/command */
"./src/js/factory/command.js")),c=p(n(
/*! @/graphics */
"./src/js/graphics.js")),u=n(
/*! @/helper/selectionModifyHelper */
"./src/js/helper/selectionModifyHelper.js"),d=n(
/*! @/util */
"./src/js/util.js"),h=n(
/*! @/consts */
"./src/js/consts.js");function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=r.default.isUndefined,m=r.default.forEach,g=r.default.CustomEvents,v=h.eventNames.MOUSE_DOWN,b=h.eventNames.OBJECT_MOVED,y=h.eventNames.OBJECT_SCALED,x=h.eventNames.OBJECT_ACTIVATED,w=h.eventNames.OBJECT_ROTATED,_=h.eventNames.OBJECT_ADDED,j=h.eventNames.OBJECT_MODIFIED,C=h.eventNames.ADD_TEXT,E=h.eventNames.ADD_OBJECT,B=h.eventNames.TEXT_EDITING,k=h.eventNames.TEXT_CHANGED,S=h.eventNames.ICON_CREATE_RESIZE,O=h.eventNames.ICON_CREATE_END,M=h.eventNames.SELECTION_CLEARED,T=h.eventNames.SELECTION_CREATED,F=h.eventNames.ADD_OBJECT_AFTER,N=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=r.default.extend({includeUI:!1,usageStatistics:!0},n),this.mode=null,this.activeObjectId=null,n.includeUI){var i=n.includeUI;i.usageStatistics=n.usageStatistics,this.ui=new a.default(t,i,this.getActions()),n=this.ui.setUiDefaultSelectionStyle(n)}this._invoker=new o.default,this._graphics=new c.default(this.ui?this.ui.getEditorArea():t,{cssMaxWidth:n.cssMaxWidth,cssMaxHeight:n.cssMaxHeight}),this._handlers={keydown:this._onKeyDown.bind(this),mousedown:this._onMouseDown.bind(this),objectActivated:this._onObjectActivated.bind(this),objectMoved:this._onObjectMoved.bind(this),objectScaled:this._onObjectScaled.bind(this),objectRotated:this._onObjectRotated.bind(this),objectAdded:this._onObjectAdded.bind(this),objectModified:this._onObjectModified.bind(this),createdPath:this._onCreatedPath,addText:this._onAddText.bind(this),addObject:this._onAddObject.bind(this),textEditing:this._onTextEditing.bind(this),textChanged:this._onTextChanged.bind(this),iconCreateResize:this._onIconCreateResize.bind(this),iconCreateEnd:this._onIconCreateEnd.bind(this),selectionCleared:this._selectionCleared.bind(this),selectionCreated:this._selectionCreated.bind(this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(n.selectionStyle,{applyCropSelectionStyle:n.applyCropSelectionStyle,applyGroupSelectionStyle:n.applyGroupSelectionStyle}),n.usageStatistics&&(0,d.sendHostName)(),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),fabric.enableGLFiltering=!1}return i(e,[{key:"_attachColorPickerInputBoxEvents",value:function(){var e=this;this.ui.on(h.eventNames.INPUT_BOX_EDITING_STARTED,(function(){e.isColorPickerInputBoxEditing=!0})),this.ui.on(h.eventNames.INPUT_BOX_EDITING_STOPPED,(function(){e.isColorPickerInputBoxEditing=!1}))}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(h.eventNames.INPUT_BOX_EDITING_STARTED),this.ui.off(h.eventNames.INPUT_BOX_EDITING_STOPPED)}},{key:"_setSelectionStyle",value:function(e,t){var n=t.applyCropSelectionStyle,i=t.applyGroupSelectionStyle;e&&this._graphics.setSelectionStyle(e),n&&this._graphics.setCropSelectionStyle(e),i&&this.on("selectionCreated",(function(t){"activeSelection"===t.type&&t.set(e)}))}},{key:"_attachInvokerEvents",value:function(){var e=this,t=h.eventNames.UNDO_STACK_CHANGED,n=h.eventNames.REDO_STACK_CHANGED,i=h.eventNames.EXECUTE_COMMAND,r=h.eventNames.AFTER_UNDO,o=h.eventNames.AFTER_REDO,a=h.eventNames.HAND_STARTED,s=h.eventNames.HAND_STOPPED;if(this._invoker.on(t,this.fire.bind(this,t)),this._invoker.on(n,this.fire.bind(this,n)),this.ui){var l=this._graphics.getCanvas();this._invoker.on(i,(function(t){return e.ui.fire(i,t)})),this._invoker.on(r,(function(t){return e.ui.fire(r,t)})),this._invoker.on(o,(function(t){return e.ui.fire(o,t)})),l.on(a,(function(){return e.ui.fire(a)})),l.on(s,(function(){return e.ui.fire(s)}))}}},{key:"_attachGraphicsEvents",value:function(){var e;this._graphics.on((f(e={},v,this._handlers.mousedown),f(e,b,this._handlers.objectMoved),f(e,y,this._handlers.objectScaled),f(e,w,this._handlers.objectRotated),f(e,x,this._handlers.objectActivated),f(e,_,this._handlers.objectAdded),f(e,j,this._handlers.objectModified),f(e,C,this._handlers.addText),f(e,E,this._handlers.addObject),f(e,B,this._handlers.textEditing),f(e,k,this._handlers.textChanged),f(e,S,this._handlers.iconCreateResize),f(e,O,this._handlers.iconCreateEnd),f(e,M,this._handlers.selectionCleared),f(e,T,this._handlers.selectionCreated),e))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(e){var t=e.ctrlKey,n=e.keyCode,i=e.metaKey;(t||i)&&(n===h.keyCodes.C?this._graphics.resetTargetObjectForCopyPaste():n===h.keyCodes.V?(this._graphics.pasteObject(),this.clearRedoStack()):n===h.keyCodes.Z?this.undo().catch((function(){})):n===h.keyCodes.Y&&this.redo().catch((function(){})));var r=n===h.keyCodes.BACKSPACE||n===h.keyCodes.DEL,o=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&o&&r&&(e.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var e=this._graphics.getActiveObjectIdForRemove();this.removeObject(e)}},{key:"_onMouseDown",value:function(e,t){this.fire(h.eventNames.MOUSE_DOWN,e,t)}},{key:"_pushAddObjectCommand",value:function(e){var t=l.default.create(h.commandNames.ADD_OBJECT,this._graphics,e);this._invoker.pushUndoStack(t)}},{key:"_pushModifyObjectCommand",value:function(e){var t=this,n=e.type,i=(0,u.makeSelectionUndoData)(e,(function(e){return(0,u.makeSelectionUndoDatum)(t._graphics.getObjectId(e),e,"activeSelection"===n)})),r=l.default.create(h.commandNames.CHANGE_SELECTION,this._graphics,i);r.execute(this._graphics,i),this._invoker.pushUndoStack(r)}},{key:"_onObjectActivated",value:function(e){this.fire(h.eventNames.OBJECT_ACTIVATED,e)}},{key:"_onObjectMoved",value:function(e){this.fire(h.eventNames.OBJECT_MOVED,e)}},{key:"_onObjectScaled",value:function(e){this.fire(h.eventNames.OBJECT_SCALED,e)}},{key:"_onObjectRotated",value:function(e){this.fire(h.eventNames.OBJECT_ROTATED,e)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(h.commandNames.CLEAR_OBJECTS)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(e){this._graphics.changeSelectableAll(e)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=[this._graphics].concat(i);return(t=this._invoker).execute.apply(t,[e].concat(o))}},{key:"executeSilent",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=[this._graphics].concat(i);return(t=this._invoker).executeSilent.apply(t,[e].concat(o))}},{key:"undo",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=d.Promise.resolve(),i=0;i<t;i+=1)n=n.then((function(){return e._invoker.undo()}));return n}},{key:"redo",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=d.Promise.resolve(),i=0;i<t;i+=1)n=n.then((function(){return e._invoker.redo()}));return n}},{key:"zoom",value:function(e){var t=e.x,n=e.y,i=e.zoomLevel;this._graphics.zoom({x:t,y:n},i)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(e,t){if(!e)return d.Promise.reject(h.rejectMessages.invalidParameters);var n=URL.createObjectURL(e);return t=t||e.name,this.loadImageFromURL(n,t).then((function(t){return URL.revokeObjectURL(e),t}))}},{key:"loadImageFromURL",value:function(e,t){return t&&e?this.execute(h.commandNames.LOAD_IMAGE,t,e):d.Promise.reject(h.rejectMessages.invalidParameters)}},{key:"addImageObject",value:function(e){return e?this.execute(h.commandNames.ADD_IMAGE_OBJECT,e):d.Promise.reject(h.rejectMessages.invalidParameters)}},{key:"startDrawingMode",value:function(e,t){return this._graphics.startDrawingMode(e,t)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(e){var t=this._graphics.getCroppedImageData(e);return t?this.loadImageFromURL(t.url,t.imageName):d.Promise.reject(h.rejectMessages.invalidParameters)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(e){this._graphics.setCropzoneRect(e)}},{key:"_flip",value:function(e){return this.execute(h.commandNames.FLIP_IMAGE,e)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(e,t,n){return n?this.executeSilent(h.commandNames.ROTATE_IMAGE,e,t):this.execute(h.commandNames.ROTATE_IMAGE,e,t)}},{key:"rotate",value:function(e,t){return this._rotate("rotate",e,t)}},{key:"setAngle",value:function(e,t){return this._rotate("setAngle",e,t)}},{key:"setBrush",value:function(e){this._graphics.setBrush(e)}},{key:"setDrawingShape",value:function(e,t){this._graphics.setDrawingShape(e,t)}},{key:"setDrawingIcon",value:function(e,t){this._graphics.setIconStyle(e,t)}},{key:"addShape",value:function(e,t){return t=t||{},this._setPositions(t),this.execute(h.commandNames.ADD_SHAPE,e,t)}},{key:"changeShape",value:function(e,t,n){return this[n?"executeSilent":"execute"](h.commandNames.CHANGE_SHAPE,e,t)}},{key:"addText",value:function(e,t){return e=e||"",t=t||{},this.execute(h.commandNames.ADD_TEXT,e,t)}},{key:"changeText",value:function(e,t){return t=t||"",this.execute(h.commandNames.CHANGE_TEXT,e,t)}},{key:"changeTextStyle",value:function(e,t,n){return this[n?"executeSilent":"execute"](h.commandNames.CHANGE_TEXT_STYLE,e,t)}},{key:"_changeActivateMode",value:function(e){"ICON"!==e&&this.getDrawingMode()!==e&&this.startDrawingMode(e)}},{key:"_onTextChanged",value:function(e){this.fire(h.eventNames.TEXT_CHANGED,e)}},{key:"_onIconCreateResize",value:function(e){this.fire(h.eventNames.ICON_CREATE_RESIZE,e)}},{key:"_onIconCreateEnd",value:function(e){this.fire(h.eventNames.ICON_CREATE_END,e)}},{key:"_onTextEditing",value:function(){this.fire(h.eventNames.TEXT_EDITING)}},{key:"_onAddText",value:function(e){this.fire(h.eventNames.ADD_TEXT,{originPosition:e.originPosition,clientPosition:e.clientPosition})}},{key:"_onAddObject",value:function(e){var t=this._graphics.getObject(e.id);this._invoker.fire(h.eventNames.EXECUTE_COMMAND,(0,d.getObjectType)(t.type)),this._pushAddObjectCommand(t)}},{key:"_onObjectAdded",value:function(e){this.fire(_,e),this.fire(F,e)}},{key:"_onObjectModified",value:function(e){e.type!==h.OBJ_TYPE.CROPZONE&&(this._invoker.fire(h.eventNames.EXECUTE_COMMAND,(0,d.getObjectType)(e.type)),this._pushModifyObjectCommand(e))}},{key:"_selectionCleared",value:function(){this.fire(M)}},{key:"_selectionCreated",value:function(e){this.fire(T,e)}},{key:"registerIcons",value:function(e){this._graphics.registerPaths(e)}},{key:"changeCursor",value:function(e){this._graphics.changeCursor(e)}},{key:"addIcon",value:function(e,t){return t=t||{},this._setPositions(t),this.execute(h.commandNames.ADD_ICON,e,t)}},{key:"changeIconColor",value:function(e,t){return this.execute(h.commandNames.CHANGE_ICON_COLOR,e,t)}},{key:"removeObject",value:function(e){var t=this._graphics.getObject(e).type;return this.execute(h.commandNames.REMOVE_OBJECT,e,(0,d.getObjectType)(t))}},{key:"hasFilter",value:function(e){return this._graphics.hasFilter(e)}},{key:"removeFilter",value:function(e){return this.execute(h.commandNames.REMOVE_FILTER,e)}},{key:"applyFilter",value:function(e,t,n){return this[n?"executeSilent":"execute"](h.commandNames.APPLY_FILTER,e,t)}},{key:"toDataURL",value:function(e){return this._graphics.toDataURL(e)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(e){return e?this.execute(h.commandNames.RESIZE_CANVAS_DIMENSION,e):d.Promise.reject(h.rejectMessages.invalidParameters)}},{key:"destroy",value:function(){var e=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),m(this,(function(t,n){e[n]=null}),this)}},{key:"_setPositions",value:function(e){var t=this._graphics.getCenter();A(e.left)&&(e.left=t.left),A(e.top)&&(e.top=t.top)}},{key:"setObjectProperties",value:function(e,t){return this.execute(h.commandNames.SET_OBJECT_PROPERTIES,e,t)}},{key:"setObjectPropertiesQuietly",value:function(e,t){this._graphics.setObjectProperties(e,t)}},{key:"getObjectProperties",value:function(e,t){return this._graphics.getObject(e)?this._graphics.getObjectProperties(e,t):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(e,t,n){return this._graphics.getObjectPosition(e,t,n)}},{key:"setObjectPosition",value:function(e,t){return this.execute(h.commandNames.SET_OBJECT_POSITION,e,t)}}]),e}();s.default.mixin(N),g.mixin(N),t.default=N},"./src/js/interface/command.js":
/*!*************************************!*\
        !*** ./src/js/interface/command.js ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=a(n(
/*! @/factory/errorMessage */
"./src/js/factory/errorMessage.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=o.default.create,l=o.default.types,c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t.name,this.args=n,this.execute=t.execute,this.undo=t.undo,this.executeCallback=t.executeCallback||null,this.undoCallback=t.undoCallback||null,this.undoData={}}return i(e,[{key:"execute",value:function(){throw new Error(s(l.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(s(l.UN_IMPLEMENTATION,"undo"))}},{key:"setUndoData",value:function(e,t,n){return t&&(e=t),n?t||(t=e):(r.default.extend(this.undoData,e),t=null),t}},{key:"setExecuteCallback",value:function(e){return this.executeCallback=e,this}},{key:"setUndoCallback",value:function(e){return this.undoCallback=e,this}},{key:"isRedo",get:function(){return Object.keys(this.undoData).length>0}}]),e}();t.default=c},"./src/js/interface/component.js":
/*!***************************************!*\
        !*** ./src/js/interface/component.js ***!
        \***************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.graphics=n}return i(e,[{key:"fire",value:function(){for(var e=this.graphics,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.graphics.fire.apply(e,n)}},{key:"setCanvasImage",value:function(e,t){this.graphics.setCanvasImage(e,t)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(e,t){this.graphics.setImageProperties(e,t)}},{key:"setCanvasCssDimension",value:function(e){this.graphics.setCanvasCssDimension(e)}},{key:"setCanvasBackstoreDimension",value:function(e){this.graphics.setCanvasBackstoreDimension(e)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}}]),e}();t.default=r},"./src/js/interface/drawingMode.js":
/*!*****************************************!*\
        !*** ./src/js/interface/drawingMode.js ***!
        \*****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! @/factory/errorMessage */
"./src/js/factory/errorMessage.js")),o=r.default.create,a=r.default.types,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t}return i(e,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(o(a.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(o(a.UN_IMPLEMENTATION,"stop"))}}]),e}();t.default=s},"./src/js/invoker.js":
/*!***************************!*\
        !*** ./src/js/invoker.js ***!
        \***************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=l(n(
/*! @/factory/command */
"./src/js/factory/command.js")),a=n(
/*! @/util */
"./src/js/util.js"),s=n(
/*! @/consts */
"./src/js/consts.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=r.default.isFunction,u=r.default.isString,d=r.default.CustomEvents,h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return i(e,[{key:"_invokeExecution",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var i=e.args;return i||(i=[]),e.execute.apply(e,i).then((function(i){return t._isSilent||(t.pushUndoStack(e),t.fire(n?s.eventNames.AFTER_REDO:s.eventNames.EXECUTE_COMMAND,e)),t.unlock(),c(e.executeCallback)&&e.executeCallback(i),i})).catch((function(e){return t.unlock(),a.Promise.reject(e)}))}},{key:"_invokeUndo",value:function(e){var t=this;this.lock();var n=e.args;return n||(n=[]),e.undo.apply(e,n).then((function(n){return t.pushRedoStack(e),t.fire(s.eventNames.AFTER_UNDO,e),t.unlock(),c(e.undoCallback)&&e.undoCallback(n),n})).catch((function(e){return t.unlock(),a.Promise.reject(e)}))}},{key:"_fireRedoStackChanged",value:function(){this.fire(s.eventNames.REDO_STACK_CHANGED,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(s.eventNames.UNDO_STACK_CHANGED,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var e=this;this._isSilent=!0;for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.execute.apply(this,n.concat([this._isSilent])).then((function(){e._isSilent=!1}))}},{key:"execute",value:function(){var e=this;if(this._isLocked)return a.Promise.reject(s.rejectMessages.isLock);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n[0];return u(r)&&(r=o.default.create.apply(o.default,n)),this._invokeExecution(r).then((function(t){return e.clearRedoStack(),t}))}},{key:"undo",value:function(){var e=this._undoStack.pop(),t=void 0,n="";return e&&this._isLocked&&(this.pushUndoStack(e,!0),e=null),e?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),t=this._invokeUndo(e)):(n=s.rejectMessages.undo,this._isLocked&&(n=n+" Because "+s.rejectMessages.isLock),t=a.Promise.reject(n)),t}},{key:"redo",value:function(){var e=this._redoStack.pop(),t=void 0,n="";return e&&this._isLocked&&(this.pushRedoStack(e,!0),e=null),e?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),t=this._invokeExecution(e,!0)):(n=s.rejectMessages.redo,this._isLocked&&(n=n+" Because "+s.rejectMessages.isLock),t=a.Promise.reject(n)),t}},{key:"pushUndoStack",value:function(e,t){this._undoStack.push(e),t||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(e,t){this._redoStack.push(e),t||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),e}();d.mixin(h),t.default=h},"./src/js/polyfill.js":
/*!****************************!*\
        !*** ./src/js/polyfill.js ***!
        \****************************/
/*! no static exports found */
function(e,t,n){"use strict";Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */,"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){if("Element"in e){var t=e.Element.prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},s=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(o.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==a(this,e+="")},l.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=a(this,e);-1!==t;)this.splice(t,1),o=!0,t=a(this,e)}while(++i<r);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){void 0!==e.number&&-2146823252!==e.number||(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(window.self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}())
/*!
         * @copyright Copyright (c) 2017 IcoMoon.io
         * @license   Licensed under MIT license
         *            See https://github.com/Keyamoon/svgxuse
         * @version   1.2.6
         */,function(){if("undefined"!=typeof window&&window.addEventListener){var e,t,n,i=Object.create(null),r=function(){clearTimeout(t),t=setTimeout(e,100)},o=function(){},a=function(e){function t(e){var t;return void 0!==e.protocol?t=e:(t=document.createElement("a")).href=e,t.protocol.replace(/:/g,"")+t.host}var n,i,r;return window.XMLHttpRequest&&(n=new XMLHttpRequest,i=t(location),r=t(e),n=void 0===n.withCredentials&&""!==r&&r!==i?XDomainRequest||void 0:XMLHttpRequest),n},s="http://www.w3.org/1999/xlink";e=function(){var e,t,n,l,c,u,d,h,p,f,A=0;function m(){var e;0==(A-=1)&&(o(),window.addEventListener("resize",r,!1),window.addEventListener("orientationchange",r,!1),window.MutationObserver?((e=new MutationObserver(r)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),o=function(){try{e.disconnect(),window.removeEventListener("resize",r,!1),window.removeEventListener("orientationchange",r,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",r,!1),o=function(){document.documentElement.removeEventListener("DOMSubtreeModified",r,!1),window.removeEventListener("resize",r,!1),window.removeEventListener("orientationchange",r,!1)}))}function g(e){return function(){!0!==i[e.base]&&(e.useEl.setAttributeNS(s,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function v(e){return function(){var t,n=document.body,i=document.createElement("x");e.onload=null,i.innerHTML=e.responseText,(t=i.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",n.insertBefore(t,n.firstChild)),m()}}function b(e){return function(){e.onerror=null,e.ontimeout=null,m()}}for(o(),p=document.getElementsByTagName("use"),c=0;c<p.length;c+=1){try{t=p[c].getBoundingClientRect()}catch(e){t=!1}e=(h=(l=p[c].getAttribute("href")||p[c].getAttributeNS(s,"href")||p[c].getAttribute("xlink:href"))&&l.split?l.split("#"):["",""])[0],n=h[1],u=t&&0===t.left&&0===t.right&&0===t.top&&0===t.bottom,t&&0===t.width&&0===t.height&&!u?(p[c].hasAttribute("href")&&p[c].setAttributeNS(s,"xlink:href",l),e.length&&(!0!==(f=i[e])&&setTimeout(g({useEl:p[c],base:e,hash:n}),0),void 0===f&&void 0!==(d=a(e))&&(f=new d,i[e]=f,f.onload=v(f),f.onerror=b(f),f.ontimeout=b(f),f.open("GET",e),f.send(),A+=1))):u?e.length&&i[e]&&setTimeout(g({useEl:p[c],base:e,hash:n}),0):void 0===i[e]?i[e]=!0:i[e].onload&&(i[e].abort(),delete i[e].onload,i[e]=!0)}p="",A+=1,m()},n=function(){window.removeEventListener("load",n,!1),t=setTimeout(e,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}()},"./src/js/ui.js":
/*!**********************!*\
        !*** ./src/js/ui.js ***!
        \**********************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=x(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=n(
/*! @/util */
"./src/js/util.js"),a=n(
/*! @/consts */
"./src/js/consts.js"),s=x(n(
/*! @/ui/template/mainContainer */
"./src/js/ui/template/mainContainer.js")),l=x(n(
/*! @/ui/template/controls */
"./src/js/ui/template/controls.js")),c=x(n(
/*! @/ui/theme/theme */
"./src/js/ui/theme/theme.js")),u=x(n(
/*! @/ui/shape */
"./src/js/ui/shape.js")),d=x(n(
/*! @/ui/crop */
"./src/js/ui/crop.js")),h=x(n(
/*! @/ui/flip */
"./src/js/ui/flip.js")),p=x(n(
/*! @/ui/rotate */
"./src/js/ui/rotate.js")),f=x(n(
/*! @/ui/text */
"./src/js/ui/text.js")),A=x(n(
/*! @/ui/mask */
"./src/js/ui/mask.js")),m=x(n(
/*! @/ui/icon */
"./src/js/ui/icon.js")),g=x(n(
/*! @/ui/draw */
"./src/js/ui/draw.js")),v=x(n(
/*! @/ui/filter */
"./src/js/ui/filter.js")),b=x(n(
/*! @/ui/history */
"./src/js/ui/history.js")),y=x(n(
/*! @/ui/locale/locale */
"./src/js/ui/locale/locale.js"));function x(e){return e&&e.__esModule?e:{default:e}}var w={Shape:u.default,Crop:d.default,Flip:h.default,Rotate:p.default,Text:f.default,Mask:A.default,Icon:m.default,Draw:g.default,Filter:v.default},_=r.default.CustomEvents,j="zoomIn",C="hand",E=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=this._initializeOption(n),this._actions=i,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new y.default(this.options.locale),this.theme=new c.default(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(t),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return i(e,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",(0,o.assignmentForDestroy)(this)}},{key:"setUiDefaultSelectionStyle",value:function(e){return r.default.extend({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},e)}},{key:"resizeEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uiSize,n=e.imageSize,i=void 0===n?this.imageSize:n;i!==this.imageSize&&(this.imageSize=i),t&&this._setUiSize(t);var r=this._getCanvasMaxDimension(),o=r.width,a=r.height,s=this._editorElement.style,l=this.options.menuBarPosition;s.height=a+"px",s.width=o+"px",this._setEditorPosition(l),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var c=this._selectedElement.classList;"top"===l&&this._selectedElement.offsetWidth<"1300"?c.add("tui-image-editor-top-optimization"):c.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(e){this._buttonElements[e].classList.toggle("on"),e===j?this._buttonElements[C].classList.remove("on"):this._buttonElements[j].classList.remove("on")}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[j].classList.remove("on")}},{key:"changeHandButtonStatus",value:function(e){this._buttonElements[C].classList[e?"add":"remove"]("on")}},{key:"changeHelpButtonEnabled",value:function(e,t){this._buttonElements[e].classList[t?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(e){return r.default.extend({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},e)}},{key:"_setUiSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,t=this._selectedElement.style;t.width=e.width,t.height=e.height}},{key:"_makeSubMenu",value:function(){var e=this;r.default.forEach(this.options.menu,(function(t){var n=w[t.replace(/^[a-z]/,(function(e){return e.toUpperCase()}))];e._makeMenuElement(t),e._buttonElements[t]=e._menuBarElement.querySelector(".tie-btn-"+t),e[t]=new n(e._subMenuElement,{locale:e._locale,makeSvgIcon:e.theme.makeMenSvgIconSet.bind(e.theme),menuBarPosition:e.options.menuBarPosition,usageStatistics:e.options.usageStatistics})}))}},{key:"_attachHistoryEvent",value:function(){this.on(a.eventNames.EXECUTE_COMMAND,this._addHistory.bind(this)),this.on(a.eventNames.AFTER_UNDO,this._selectPrevHistory.bind(this)),this.on(a.eventNames.AFTER_REDO,this._selectNextHistory.bind(this))}},{key:"_attachZoomEvent",value:function(){var e=this;this.on(a.eventNames.HAND_STARTED,(function(){e.offZoomInButtonStatus(),e.changeHandButtonStatus(!0)})),this.on(a.eventNames.HAND_STOPPED,(function(){return e.changeHandButtonStatus(!1)}))}},{key:"_makeUiElement",value:function(e){var t=void 0;window.snippet=r.default,t=e.nodeType?e:document.querySelector(e);var n=(0,o.getSelector)(t);t.classList.add("tui-image-editor-container"),t.innerHTML=(0,l.default)({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+(0,s.default)({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=t,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=n(".tui-image-editor-main"),this._editorElementWrap=n(".tui-image-editor-wrap"),this._editorElement=n(".tui-image-editor"),this._helpMenuBarElement=n(".tui-image-editor-help-menu"),this._menuBarElement=n(".tui-image-editor-menu"),this._subMenuElement=n(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new b.default(this._buttonElements.history,{locale:this._locale,makeSvgIcon:this.theme.makeMenSvgIconSet.bind(this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var e=this;r.default.forEach(a.ZOOM_HELP_MENUS,(function(t){e.changeHelpButtonEnabled(t,!0)}))}},{key:"_makeHelpMenuWithPartition",value:function(){return[].concat(a.ZOOM_HELP_MENUS,[""],a.COMMAND_HELP_MENUS,[""],a.DELETE_HELP_MENUS)}},{key:"_addHelpMenus",value:function(){var e=this,t=this._makeHelpMenuWithPartition();r.default.forEach(t,(function(t){t?(e._makeMenuElement(t,["normal","disabled","hover"],"help"),e._buttonElements[t]=e._helpMenuBarElement.querySelector(".tie-btn-"+t)):e._makeMenuPartitionElement()}))}},{key:"_makeMenuPartitionElement",value:function(){var e=document.createElement("li"),t=document.createElement("div");e.className=(0,o.cls)("item"),t.className=(0,o.cls)("icpartition"),e.appendChild(t),this._helpMenuBarElement.appendChild(e)}},{key:"_makeMenuElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",i=document.createElement("li"),r=this.theme.makeMenSvgIconSet(t,e);this._addTooltipAttribute(i,e),i.className="tie-btn-"+e+" "+(0,o.cls)("item")+" "+n,i.innerHTML=r,"normal"===n?this._menuBarElement.appendChild(i):this._helpMenuBarElement.appendChild(i)}},{key:"_addHelpActionEvent",value:function(){var e=this;r.default.forEach(a.HELP_MENUS,(function(t){e.eventHandler[t]=function(n){return e._actions.main[t](n)},e._buttonElements[t].addEventListener("click",e.eventHandler[t])}))}},{key:"_removeHelpActionEvent",value:function(){var e=this;r.default.forEach(a.HELP_MENUS,(function(t){e._buttonElements[t].removeEventListener("click",e.eventHandler[t])}))}},{key:"_addHistory",value:function(e){if(!(0,o.isSilentCommand)(e)){var t="string"==typeof e?{name:e}:(0,o.getHistoryTitle)(e);this._historyMenu.add(t)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(e){e.target.closest(".tie-panel-history")||this._buttonElements.history.classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(e,t){e.setAttribute("tooltip-content",this._locale.localize(t.replace(/^[a-z]/g,(function(e){return e.toUpperCase()}))))}},{key:"_addDownloadEvent",value:function(){var e=this;this.eventHandler.download=function(){return e._actions.main.download()},r.default.forEach(this._buttonElements.download,(function(t){t.addEventListener("click",e.eventHandler.download)}))}},{key:"_removeDownloadEvent",value:function(){var e=this;r.default.forEach(this._buttonElements.download,(function(t){t.removeEventListener("click",e.eventHandler.download)}))}},{key:"_addLoadEvent",value:function(){var e=this;this.eventHandler.loadImage=function(t){return e._actions.main.load(t.target.files[0])},r.default.forEach(this._buttonElements.load,(function(t){t.addEventListener("change",e.eventHandler.loadImage)}))}},{key:"_removeLoadEvent",value:function(){var e=this;r.default.forEach(this._buttonElements.load,(function(t){t.removeEventListener("change",e.eventHandler.loadImage)}))}},{key:"_addMainMenuEvent",value:function(e){var t=this;this.eventHandler[e]=function(){return t.changeMenu(e)},this._buttonElements[e].addEventListener("click",this.eventHandler[e])}},{key:"_addSubMenuEvent",value:function(e){var t=this;this[e].addEvent(this._actions[e]),this[e].on(a.eventNames.INPUT_BOX_EDITING_STARTED,(function(){return t.fire(a.eventNames.INPUT_BOX_EDITING_STARTED)})),this[e].on(a.eventNames.INPUT_BOX_EDITING_STOPPED,(function(){return t.fire(a.eventNames.INPUT_BOX_EDITING_STOPPED)}))}},{key:"_addMenuEvent",value:function(){var e=this;r.default.forEach(this.options.menu,(function(t){e._addMainMenuEvent(t),e._addSubMenuEvent(t)}))}},{key:"_removeMainMenuEvent",value:function(){var e=this;r.default.forEach(this.options.menu,(function(t){e._buttonElements[t].removeEventListener("click",e.eventHandler[t]),e[t].off(a.eventNames.INPUT_BOX_EDITING_STARTED),e[t].off(a.eventNames.INPUT_BOX_EDITING_STOPPED)}))}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var e=this;r.default.forEach(this.options.menu,(function(t){e[t].destroy()})),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var e=this,t=this._getLoadImage();t.path&&this._actions.main.initLoadImage(t.path,t.name).then((function(){e.activeMenuEvent()})),this._addLoadEvent();var n=document.createElement("div");n.className=(0,o.cls)("grid-visual"),n.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(n)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(e,t,n),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(e,t,n){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-"+this.submenu),n&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===e&&t?this.submenu=null:(this._buttonElements[e].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-"+e),this.submenu=e,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(e)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var e=this._editorContainerElement.style,t=e.maxWidth,n=e.maxHeight;return{width:parseFloat(t),height:parseFloat(n)}}},{key:"_setEditorPosition",value:function(e){var t=this._getCanvasMaxDimension(),n=t.width,i=t.height,r=this._editorElement.style,o=0,a=0;this.submenu&&("bottom"===e?o=i>this._editorElementWrap.scrollHeight-150?(i-this._editorElementWrap.scrollHeight)/2:-75:"top"===e?o=i>this._editorElementWrap.offsetHeight-150?75-(i-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===e?a=n>this._editorElementWrap.offsetWidth-248?124-(n-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===e&&(a=n>this._editorElementWrap.scrollWidth-248?(n-this._editorElementWrap.scrollWidth)/2:-124)),r.top=o+"px",r.left=a+"px"}}]),e}();_.mixin(E),t.default=E},"./src/js/ui/crop.js":
/*!***************************!*\
        !*** ./src/js/ui/crop.js ***!
        \***************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=l(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),a=l(n(
/*! @/ui/template/submenu/crop */
"./src/js/ui/template/submenu/crop.js")),s=n(
/*! @/util */
"./src/js/util.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){var i=n.locale,r=n.makeSvgIcon,o=n.menuBarPosition,s=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"crop",makeSvgIcon:r,menuBarPosition:o,templateHtml:a.default,usageStatistics:s}));return l.status="active",l._els={apply:l.selector(".tie-crop-button .apply"),cancel:l.selector(".tie-crop-button .cancel"),preset:l.selector(".tie-crop-preset-button")},l.defaultPresetButton=l._els.preset.querySelector(".preset-none"),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),(0,s.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this._applyEventHandler.bind(this),n=this._cancelEventHandler.bind(this),i=this._cropzonePresetEventHandler.bind(this);this.eventHandler={apply:t,cancel:n,cropzonePreset:i},this.actions=e,this._els.apply.addEventListener("click",t),this._els.cancel.addEventListener("click",n),this._els.preset.addEventListener("click",i)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button.preset");if(t){var n=t.className.match(/preset-[^\s]+/)[0];this._setPresetButtonActive(t),this.actions.preset(n)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(e){e?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;r.default.forEach([].slice.call(this._els.preset.querySelectorAll(".preset")),(function(e){e.classList.remove("active")})),e&&e.classList.add("active")}}]),t}(o.default);t.default=c},"./src/js/ui/draw.js":
/*!***************************!*\
        !*** ./src/js/ui/draw.js ***!
        \***************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(
/*! @/ui/tools/colorpicker */
"./src/js/ui/tools/colorpicker.js")),o=u(n(
/*! @/ui/tools/range */
"./src/js/ui/tools/range.js")),a=u(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),s=u(n(
/*! @/ui/template/submenu/draw */
"./src/js/ui/template/submenu/draw.js")),l=n(
/*! @/util */
"./src/js/util.js"),c=n(
/*! @/consts */
"./src/js/consts.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){var i=n.locale,a=n.makeSvgIcon,l=n.menuBarPosition,u=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"draw",makeSvgIcon:a,menuBarPosition:l,templateHtml:s.default,usageStatistics:u}));return d._els={lineSelectButton:d.selector(".tie-draw-line-select-button"),drawColorPicker:new r.default(d.selector(".tie-draw-color"),"#00a9ff",d.toggleDirection,d.usageStatistics),drawRange:new o.default({slider:d.selector(".tie-draw-range"),input:d.selector(".tie-draw-range-value")},c.defaultDrawRangeValues)},d.type=null,d.color=d._els.drawColorPicker.color,d.width=d._els.drawRange.value,d.colorPickerInputBox=d._els.drawColorPicker.colorpickerElement.querySelector(c.selectorNames.COLOR_PICKER_INPUT_BOX),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),(0,l.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){this.eventHandler.changeDrawType=this._changeDrawType.bind(this),this.actions=e,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",this._changeDrawColor.bind(this)),this._els.drawRange.on("change",this._changeDrawRange.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"_removeEvent",value:function(){this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.removeEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:(0,l.getRgb)(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=this.getButtonType(t,["free","line"]);if(this.actions.discardSelection(),this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,this._els.lineSelectButton.classList.add(n),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(e){this.color=e||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(e){this.width=e,this.type?this.setDrawMode():this.changeStartMode()}}]),t}(a.default);t.default=d},"./src/js/ui/filter.js":
/*!*****************************!*\
        !*** ./src/js/ui/filter.js ***!
        \*****************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=d(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=d(n(
/*! @/ui/tools/colorpicker */
"./src/js/ui/tools/colorpicker.js")),a=d(n(
/*! @/ui/tools/range */
"./src/js/ui/tools/range.js")),s=d(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),l=d(n(
/*! @/ui/template/submenu/filter */
"./src/js/ui/template/submenu/filter.js")),c=n(
/*! @/util */
"./src/js/util.js"),u=n(
/*! @/consts */
"./src/js/consts.js");function d(e){return e&&e.__esModule?e:{default:e}}var h=["add","diff","subtract","multiply","screen","lighten","darken"],p=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],f={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},A=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],m=["filterBlendColor","filterMultiplyColor","filterTintColor"],g=function(e){function t(e,n){var i=n.locale,r=n.menuBarPosition,o=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"filter",menuBarPosition:r,templateHtml:l.default,usageStatistics:o}));return a.selectBoxShow=!1,a.checkedMap={},a._makeControlElement(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),(0,c.assignmentForDestroy)(this)}},{key:"_removeEvent",value:function(){var e=this;r.default.forEach(p,(function(t){var n=e.selector(".tie-"+t),i=(0,c.toCamelCase)(t);n.removeEventListener("change",e.eventHandler[i])})),r.default.forEach([].concat(A,m),(function(t){e._els[t].off()})),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),r.default.forEachArray(this.colorPickerInputBoxes,(function(t){t.removeEventListener(u.eventNames.FOCUS,e._onStartEditingInputBox.bind(e)),t.removeEventListener(u.eventNames.BLUR,e._onStopEditingInputBox.bind(e))}),this)}},{key:"_destroyToolInstance",value:function(){var e=this;r.default.forEach([].concat(A,m),(function(t){e._els[t].destroy()}))}},{key:"addEvent",value:function(e){var t=this,n=e.applyFilter,i=function(e){return t._changeFilterState.bind(t,n,e)},o=function(e){return function(i,r){return t._changeFilterState(n,e,r)}};this.eventHandler={changeBlendFilter:i("blend"),blandTypeClick:function(e){return e.stopPropagation()}},r.default.forEach(p,(function(e){var n=t.selector(".tie-"+e),r=(0,c.toCamelCase)(e);t.checkedMap[r]=n,t.eventHandler[r]=i(r),n.addEventListener("change",t.eventHandler[r])})),this._els.removewhiteDistanceRange.on("change",o("removeWhite")),this._els.colorfilterThresholdRange.on("change",o("colorFilter")),this._els.pixelateRange.on("change",o("pixelate")),this._els.noiseRange.on("change",o("noise")),this._els.brightnessRange.on("change",o("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",i("multiply")),this._els.filterTintColor.on("change",i("tint")),this._els.tintOpacity.on("change",o("tint")),this._els.filterMultiplyColor.on("changeShow",this.colorPickerChangeShow.bind(this)),this._els.filterTintColor.on("changeShow",this.colorPickerChangeShow.bind(this)),this._els.filterBlendColor.on("changeShow",this.colorPickerChangeShow.bind(this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),r.default.forEachArray(this.colorPickerInputBoxes,(function(e){e.addEventListener(u.eventNames.FOCUS,t._onStartEditingInputBox.bind(t)),e.addEventListener(u.eventNames.BLUR,t._onStopEditingInputBox.bind(t))}),this)}},{key:"setFilterState",value:function(e){var t=e.type,n=e.options,i=e.action,r=this._getFilterNameFromOptions(t,n),o="remove"===i;o||this._setFilterState(r,n),this.checkedMap[r].checked=!o}},{key:"initFilterCheckBoxState",value:function(){r.default.forEach(this.checkedMap,(function(e){e.checked=!1}),this)}},{key:"_setFilterState",value:function(e,t){"colorFilter"===e?this._els.colorfilterThresholdRange.value=t.distance:"removeWhite"===e?this._els.removewhiteDistanceRange.value=t.distance:"pixelate"===e?this._els.pixelateRange.value=t.blocksize:"brightness"===e?this._els.brightnessRange.value=t.brightness:"noise"===e?this._els.noiseRange.value=t.noise:"tint"===e?(this._els.tintOpacity.value=t.alpha,this._els.filterTintColor.color=t.color):"blend"===e?this._els.filterBlendColor.color=t.color:"multiply"===e&&(this._els.filterMultiplyColor.color=t.color)}},{key:"_getFilterNameFromOptions",value:function(e,t){var n=e;return"removeColor"===e?n=r.default.isExisty(t.useAlpha)?"removeWhite":"colorFilter":"blendColor"===e&&(n={add:"blend",multiply:"multiply",tint:"tint"}[t.mode]),n}},{key:"_changeFilterState",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.checkedMap[t].checked,r=f[t],o=this.checkedMap[t].closest(".tui-image-editor-checkbox-group");o&&(i?o.classList.remove("tui-image-editor-disabled"):o.classList.add("tui-image-editor-disabled")),e(i,r,this._getFilterOption(t),!n)}},{key:"_getFilterOption",value:function(e){var t={};switch(e){case"removeWhite":t.color="#FFFFFF",t.useAlpha=!1,t.distance=parseFloat(this._els.removewhiteDistanceRange.value);break;case"colorFilter":t.color="#FFFFFF",t.distance=parseFloat(this._els.colorfilterThresholdRange.value);break;case"pixelate":t.blocksize=(0,c.toInteger)(this._els.pixelateRange.value);break;case"noise":t.noise=(0,c.toInteger)(this._els.noiseRange.value);break;case"brightness":t.brightness=parseFloat(this._els.brightnessRange.value);break;case"blend":t.mode="add",t.color=this._els.filterBlendColor.color,t.mode=this._els.blendType.value;break;case"multiply":t.mode="multiply",t.color=this._els.filterMultiplyColor.color;break;case"tint":t.mode="tint",t.color=this._els.filterTintColor.color,t.alpha=this._els.tintOpacity.value;break;case"blur":t.blur=this._els.blurRange.value}return t}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new a.default({slider:this.selector(".tie-removewhite-distance-range")},u.defaultFilterRangeValues.removewhiteDistanceRange),brightnessRange:new a.default({slider:this.selector(".tie-brightness-range")},u.defaultFilterRangeValues.brightnessRange),noiseRange:new a.default({slider:this.selector(".tie-noise-range")},u.defaultFilterRangeValues.noiseRange),pixelateRange:new a.default({slider:this.selector(".tie-pixelate-range")},u.defaultFilterRangeValues.pixelateRange),colorfilterThresholdRange:new a.default({slider:this.selector(".tie-colorfilter-threshold-range")},u.defaultFilterRangeValues.colorfilterThresholdRange),filterTintColor:new o.default(this.selector(".tie-filter-tint-color"),"#03bd9e",this.toggleDirection,this.usageStatistics),filterMultiplyColor:new o.default(this.selector(".tie-filter-multiply-color"),"#515ce6",this.toggleDirection,this.usageStatistics),filterBlendColor:new o.default(this.selector(".tie-filter-blend-color"),"#ffbb3b",this.toggleDirection,this.usageStatistics),blurRange:u.defaultFilterRangeValues.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX))}},{key:"_pickerWithRange",value:function(e){var t=document.createElement("div"),n=document.createElement("label"),i=document.createElement("div");return i.id="tie-filter-tint-opacity",n.innerHTML="Opacity",t.appendChild(n),t.appendChild(i),e.appendChild(t),e.style.height="130px",new a.default({slider:i},u.defaultFilterRangeValues.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(e){var t=document.createElement("div"),n=document.createElement("select"),i=document.createElement("ul");return t.className="tui-image-editor-selectlist-wrap",i.className="tui-image-editor-selectlist",t.appendChild(n),t.appendChild(i),this._makeSelectOptionList(n),e.appendChild(t),e.style.height="130px",this._drawSelectOptionList(n,i),this._pickerWithSelectboxForAddEvent(n,i),n}},{key:"_drawSelectOptionList",value:function(e,t){var n=e.querySelectorAll("option");r.default.forEach(n,(function(e){var n=document.createElement("li");n.innerHTML=e.innerHTML,n.setAttribute("data-item",e.value),t.appendChild(n)}))}},{key:"_pickerWithSelectboxForAddEvent",value:function(e,t){var n=this;t.addEventListener("click",(function(i){var r=i.target.getAttribute("data-item"),o=document.createEvent("HTMLEvents");e.querySelector('[value="'+r+'"]').selected=!0,o.initEvent("change",!0,!0),e.dispatchEvent(o),n.selectBoxShow=!1,t.style.display="none"})),e.addEventListener("mousedown",(function(i){i.preventDefault(),n.selectBoxShow=!n.selectBoxShow,t.style.display=n.selectBoxShow?"block":"none",t.setAttribute("data-selectitem",e.value),t.querySelector("[data-item='"+e.value+"']").classList.add("active")}))}},{key:"_makeSelectOptionList",value:function(e){r.default.forEach(h,(function(t){var n=document.createElement("option");n.setAttribute("value",t),n.innerHTML=t.replace(/^[a-z]/,(function(e){return e.toUpperCase()})),e.appendChild(n)}))}}]),t}(s.default);t.default=g},"./src/js/ui/flip.js":
/*!***************************!*\
        !*** ./src/js/ui/flip.js ***!
        \***************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=l(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),a=l(n(
/*! @/ui/template/submenu/flip */
"./src/js/ui/template/submenu/flip.js")),s=n(
/*! @/util */
"./src/js/util.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){var i=n.locale,r=n.makeSvgIcon,o=n.menuBarPosition,s=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"flip",makeSvgIcon:r,menuBarPosition:o,templateHtml:a.default,usageStatistics:s}));return l.flipStatus=!1,l._els={flipButton:l.selector(".tie-flip-button")},l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),(0,s.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){this.eventHandler.changeFlip=this._changeFlip.bind(this),this._actions=e,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(e){var t=this,n=e.target.closest(".tui-image-editor-button");if(n){var i=this.getButtonType(n,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===i)return;this._actions.flip(i).then((function(e){var n=t._els.flipButton.classList;t.flipStatus=!1,n.remove("resetFlip"),r.default.forEach(["flipX","flipY"],(function(i){n.remove(i),e[i]&&(n.add(i),n.add("resetFlip"),t.flipStatus=!0)}))}))}}}]),t}(o.default);t.default=c},"./src/js/ui/history.js":
/*!******************************!*\
        !*** ./src/js/ui/history.js ***!
        \******************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(
/*! @/ui/panelMenu */
"./src/js/ui/panelMenu.js")),o=s(n(
/*! @/ui/template/submenu/history */
"./src/js/ui/template/submenu/history.js")),a=n(
/*! @/util */
"./src/js/util.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){var i=n.locale,r=n.makeSvgIcon;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{name:"history"}));return e.classList.add("enabled"),o.locale=i,o.makeSvgIcon=r,o._eventHandler={},o._historyIndex=o.getListLength(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"add",value:function(e){var t=e.name,n=e.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var i=(0,o.default)({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:t,detail:n}),r=this.makeListItemElement(i);this.pushListItemElement(r),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var e=this;this._eventHandler.history=function(t){return e._clickHistoryItem(t)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(e){var t=e.target.closest(".history-item");if(t){var n=Number.parseInt(t.getAttribute("data-index"),10);if(n!==this._historyIndex){var i=Math.abs(n-this._historyIndex);n<this._historyIndex?this._actions.undo(i):this._actions.redo(i)}}}},{key:"_selectItem",value:function(e){for(var t=0;t<this.getListLength();t+=1)this.removeClass(t,"selected-item"),this.removeClass(t,"disabled-item"),t>e&&this.addClass(t,"disabled-item");this.addClass(e,"selected-item")}},{key:"destroy",value:function(){this.removeEvent(),(0,a.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){this._actions=e,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),t}(r.default);t.default=l},"./src/js/ui/icon.js":
/*!***************************!*\
        !*** ./src/js/ui/icon.js ***!
        \***************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=u(n(
/*! @/ui/tools/colorpicker */
"./src/js/ui/tools/colorpicker.js")),a=u(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),s=u(n(
/*! @/ui/template/submenu/icon */
"./src/js/ui/template/submenu/icon.js")),l=n(
/*! @/util */
"./src/js/util.js"),c=n(
/*! @/consts */
"./src/js/consts.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){var i=n.locale,r=n.makeSvgIcon,a=n.menuBarPosition,l=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"icon",makeSvgIcon:r,menuBarPosition:a,templateHtml:s.default,usageStatistics:l}));return u.iconType=null,u._iconMap={},u._els={registerIconButton:u.selector(".tie-icon-image-file"),addIconButton:u.selector(".tie-icon-add-button"),iconColorpicker:new o.default(u.selector(".tie-icon-color"),"#ffbb3b",u.toggleDirection,u.usageStatistics)},u.colorPickerInputBox=u._els.iconColorpicker.colorpickerElement.querySelector(c.selectorNames.COLOR_PICKER_INPUT_BOX),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),(0,l.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this._registerIconHandler.bind(this),n=this._addIconHandler.bind(this);this.eventHandler={registerIcon:t,addIcon:n},this.actions=e,this._els.iconColorpicker.on("change",this._changeColorHandler.bind(this)),this._els.registerIconButton.addEventListener("change",t),this._els.addIconButton.addEventListener("click",n),this.colorPickerInputBox.addEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"_removeEvent",value:function(){this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.removeEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var e=this;r.default.forEach(c.defaultIconPath,(function(t,n){e.actions.registerDefaultIcons(n,t)}))}},{key:"setIconPickerColor",value:function(e){this._els.iconColorpicker.color=e}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(e){e=e||"transparent",this.actions.changeColor(e)}},{key:"_addIconHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=t.getAttribute("data-icontype"),i=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(n),this.iconType===n?this.changeStandbyMode():(this.actions.addIcon(n,i),this.iconType=n)}}},{key:"_registerIconHandler",value:function(e){var t=void 0;l.isSupportFileApi||alert("This browser does not support file-api");var n=e.target.files[0];n&&(t=URL.createObjectURL(n),this.actions.registerCustomIcon(t,n))}}]),t}(a.default);t.default=d},"./src/js/ui/locale/locale.js":
/*!************************************!*\
        !*** ./src/js/ui/locale/locale.js ***!
        \************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._locale=t}return i(e,[{key:"localize",value:function(e){return this._locale[e]||e}}]),e}();t.default=r},"./src/js/ui/mask.js":
/*!***************************!*\
        !*** ./src/js/ui/mask.js ***!
        \***************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),o=s(n(
/*! @/ui/template/submenu/mask */
"./src/js/ui/template/submenu/mask.js")),a=n(
/*! @/util */
"./src/js/util.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){var i=n.locale,r=n.makeSvgIcon,a=n.menuBarPosition,s=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"mask",makeSvgIcon:r,menuBarPosition:a,templateHtml:o.default,usageStatistics:s}));return l._els={applyButton:l.selector(".tie-mask-apply"),maskImageButton:l.selector(".tie-mask-image-file")},l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),(0,a.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this._loadMaskFile.bind(this),n=this._applyMask.bind(this);this.eventHandler={loadMaskFile:t,applyMask:n},this.actions=e,this._els.maskImageButton.addEventListener("change",t),this._els.applyButton.addEventListener("click",n)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(e){var t=void 0;(0,a.isSupportFileApi)()||alert("This browser does not support file-api");var n=e.target.files[0];n&&(t=URL.createObjectURL(n),this.actions.loadImageFromURL(t,n),this._els.applyButton.classList.add("active"))}}]),t}(r.default);t.default=l},"./src/js/ui/panelMenu.js":
/*!********************************!*\
        !*** ./src/js/ui/panelMenu.js ***!
        \********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){var i=n.name;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=i,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),t.appendChild(this.panelElement)}return i(e,[{key:"_makePanelElement",value:function(){var e=document.createElement("div");return e.className="tie-panel-"+this.name,e}},{key:"_makeListElement",value:function(){var e=document.createElement("ol");return e.className=this.name+"-list",e}},{key:"makeListItemElement",value:function(e){var t=document.createElement("li");return t.innerHTML=e,t.className=this.name+"-item",t.setAttribute("data-index",this.items.length),t}},{key:"pushListItemElement",value:function(e){this.listElement.appendChild(e),this.listElement.scrollTop+=e.offsetHeight,this.items.push(e)}},{key:"deleteListItemElement",value:function(e,t){for(var n=this.items,i=e;i<t;i+=1)this.listElement.removeChild(n[i]);n.splice(e,t-e+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(e,t){this.items[e]&&this.items[e].classList.add(t)}},{key:"removeClass",value:function(e,t){this.items[e]&&this.items[e].classList.remove(t)}},{key:"toggleClass",value:function(e,t){this.items[e]&&this.items[e].classList.toggle(t)}}]),e}();t.default=r},"./src/js/ui/rotate.js":
/*!*****************************!*\
        !*** ./src/js/ui/rotate.js ***!
        \*****************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(
/*! @/ui/tools/range */
"./src/js/ui/tools/range.js")),o=c(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),a=c(n(
/*! @/ui/template/submenu/rotate */
"./src/js/ui/template/submenu/rotate.js")),s=n(
/*! @/util */
"./src/js/util.js"),l=n(
/*! @/consts */
"./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){var i=n.locale,o=n.makeSvgIcon,s=n.menuBarPosition,c=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"rotate",makeSvgIcon:o,menuBarPosition:s,templateHtml:a.default,usageStatistics:c}));return u._value=0,u._els={rotateButton:u.selector(".tie-rotate-button"),rotateRange:new r.default({slider:u.selector(".tie-rotate-range"),input:u.selector(".tie-rotate-range-value")},l.defaultRotateRangeValues)},u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),(0,s.assignmentForDestroy)(this)}},{key:"setRangeBarAngle",value:function(e,t){var n=t;"rotate"===e&&(n=parseInt(this._els.rotateRange.value,10)+t),this._setRangeBarRatio(n)}},{key:"_setRangeBarRatio",value:function(e){this._els.rotateRange.value=e}},{key:"addEvent",value:function(e){this.eventHandler.rotationAngleChanged=this._changeRotateForButton.bind(this),this.actions=e,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",this._changeRotateForRange.bind(this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(e,t){var n=(0,s.toInteger)(e);this.actions.setAngle(n,!t),this._value=n}},{key:"_changeRotateForButton",value:function(e){var t=e.target.closest(".tui-image-editor-button"),n=this._els.rotateRange.value;if(t){var i={clockwise:30,counterclockwise:-30}[this.getButtonType(t,["counterclockwise","clockwise"])],r=parseInt(n,10)+i;r>=-360&&r<=360&&this.actions.rotate(i)}}}]),t}(o.default);t.default=u},"./src/js/ui/shape.js":
/*!****************************!*\
        !*** ./src/js/ui/shape.js ***!
        \****************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=d(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=d(n(
/*! @/ui/tools/colorpicker */
"./src/js/ui/tools/colorpicker.js")),a=d(n(
/*! @/ui/tools/range */
"./src/js/ui/tools/range.js")),s=d(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),l=d(n(
/*! @/ui/template/submenu/shape */
"./src/js/ui/template/submenu/shape.js")),c=n(
/*! @/util */
"./src/js/util.js"),u=n(
/*! @/consts */
"./src/js/consts.js");function d(e){return e&&e.__esModule?e:{default:e}}var h={stroke:"#ffbb3b",fill:"",strokeWidth:3},p=function(e){function t(e,n){var i=n.locale,r=n.makeSvgIcon,s=n.menuBarPosition,c=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"shape",makeSvgIcon:r,menuBarPosition:s,templateHtml:l.default,usageStatistics:c}));return d.type=null,d.options=h,d._els={shapeSelectButton:d.selector(".tie-shape-button"),shapeColorButton:d.selector(".tie-shape-color-button"),strokeRange:new a.default({slider:d.selector(".tie-stroke-range"),input:d.selector(".tie-stroke-range-value")},u.defaultShapeStrokeValues),fillColorpicker:new o.default(d.selector(".tie-color-fill"),"",d.toggleDirection,d.usageStatistics),strokeColorpicker:new o.default(d.selector(".tie-color-stroke"),"#ffbb3b",d.toggleDirection,d.usageStatistics)},d.colorPickerControls.push(d._els.fillColorpicker),d.colorPickerControls.push(d._els.strokeColorpicker),d.colorPickerInputBoxes=[],d.colorPickerInputBoxes.push(d._els.fillColorpicker.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX)),d.colorPickerInputBoxes.push(d._els.strokeColorpicker.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX)),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),(0,c.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this;this.eventHandler.shapeTypeSelected=this._changeShapeHandler.bind(this),this.actions=e,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",this._changeStrokeRangeHandler.bind(this)),this._els.fillColorpicker.on("change",this._changeFillColorHandler.bind(this)),this._els.strokeColorpicker.on("change",this._changeStrokeColorHandler.bind(this)),this._els.fillColorpicker.on("changeShow",this.colorPickerChangeShow.bind(this)),this._els.strokeColorpicker.on("changeShow",this.colorPickerChangeShow.bind(this)),r.default.forEachArray(this.colorPickerInputBoxes,(function(e){e.addEventListener(u.eventNames.FOCUS,t._onStartEditingInputBox.bind(t)),e.addEventListener(u.eventNames.BLUR,t._onStopEditingInputBox.bind(t))}),this)}},{key:"_removeEvent",value:function(){var e=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),r.default.forEachArray(this.colorPickerInputBoxes,(function(t){t.removeEventListener(u.eventNames.FOCUS,e._onStartEditingInputBox.bind(e)),t.removeEventListener(u.eventNames.BLUR,e._onStopEditingInputBox.bind(e))}),this)}},{key:"setShapeStatus",value:function(e){var t=e.strokeWidth,n=e.strokeColor,i=e.fillColor;this._els.strokeRange.value=t,this._els.strokeColorpicker.color=n,this._els.fillColorpicker.color=i,this.options.stroke=n,this.options.fill=i,this.options.strokeWidth=t,this.actions.setDrawingShape(this.type,{strokeWidth:t})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(e){var t=e;t<=0&&(t=u.defaultShapeStrokeValues.max),this._els.strokeRange.max=t}},{key:"setStrokeValue",value:function(e){this._els.strokeRange.value=e,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){this.actions.stopDrawingMode(),this.actions.discardSelection();var n=this.getButtonType(t,["circle","triangle","rect"]);if(this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,e.currentTarget.classList.add(n),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(e,t){this.options.strokeWidth=(0,c.toInteger)(e),this.actions.changeShape({strokeWidth:e},!t),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(e){e=e||"transparent",this.options.fill=e,this.actions.changeShape({fill:e})}},{key:"_changeStrokeColorHandler",value:function(e){e=e||"transparent",this.options.stroke=e,this.actions.changeShape({stroke:e})}}]),t}(s.default);t.default=p},"./src/js/ui/submenuBase.js":
/*!**********************************!*\
        !*** ./src/js/ui/submenuBase.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(
/*! tui-code-snippet */
"tui-code-snippet"),o=n(
/*! @/consts */
"./src/js/consts.js"),a=function(){function e(t,n){var i=n.locale,r=n.name,o=n.makeSvgIcon,a=n.menuBarPosition,s=n.templateHtml,l=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subMenuElement=t,this.menuBarPosition=a,this.toggleDirection="top"===a?"down":"up",this.colorPickerControls=[],this.usageStatistics=l,this.eventHandler={},this._makeSubMenuElement({locale:i,name:r,makeSvgIcon:o,templateHtml:s})}return i(e,[{key:"selector",value:function(e){return this.subMenuElement.querySelector(e)}},{key:"colorPickerChangeShow",value:function(e){this.colorPickerControls.forEach((function(t){e!==t&&t.hide()}))}},{key:"getButtonType",value:function(e,t){return e.className.match(RegExp("("+t.join("|")+")"))[0]}},{key:"changeClass",value:function(e,t,n){e.classList.remove(t),e.classList.add(n)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(e){var t=e.locale,n=e.name,i=e.iconStyle,r=e.makeSvgIcon,o=e.templateHtml,a=document.createElement("div");a.className="tui-image-editor-menu-"+n,a.innerHTML=o({locale:t,iconStyle:i,makeSvgIcon:r}),this.subMenuElement.appendChild(a)}},{key:"_onStartEditingInputBox",value:function(){this.fire(o.eventNames.INPUT_BOX_EDITING_STARTED)}},{key:"_onStopEditingInputBox",value:function(){this.fire(o.eventNames.INPUT_BOX_EDITING_STOPPED)}}]),e}();r.CustomEvents.mixin(a),t.default=a},"./src/js/ui/template/controls.js":
/*!****************************************!*\
        !*** ./src/js/ui/template/controls.js ***!
        \****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(
/*! @/util */
"./src/js/util.js");t.default=function(e){var t=e.locale,n=e.biImage,r=e.loadButtonStyle,o=e.downloadButtonStyle,a=e.menuBarPosition;return'\n    <ul class="tui-image-editor-help-menu '+(0,i.getHelpMenuBarPosition)(a)+'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="'+n+'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="'+r+'">\n                '+t.localize("Load")+'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="'+o+'">\n                '+t.localize("Download")+"\n            </button>\n        </div>\n    </div>\n"}},"./src/js/ui/template/mainContainer.js":
/*!*********************************************!*\
        !*** ./src/js/ui/template/mainContainer.js ***!
        \*********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.biImage,i=e.commonStyle,r=e.headerStyle,o=e.loadButtonStyle,a=e.downloadButtonStyle,s=e.submenuStyle;return'\n    <div class="tui-image-editor-main-container" style="'+i+'">\n        <div class="tui-image-editor-header" style="'+r+'">\n            <div class="tui-image-editor-header-logo">\n                <img src="'+n+'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="'+o+'">\n                    '+t.localize("Load")+'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="'+a+'">\n                    '+t.localize("Download")+'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="'+s+'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n'}},"./src/js/ui/template/style.js":
/*!*************************************!*\
        !*** ./src/js/ui/template/style.js ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.subMenuLabelActive,n=e.subMenuLabelNormal,i=e.subMenuRangeTitle,r=e.submenuPartitionVertical,o=e.submenuPartitionHorizontal,a=e.submenuCheckbox,s=e.submenuRangePointer,l=e.submenuRangeValue,c=e.submenuColorpickerTitle,u=e.submenuColorpickerButton,d=e.submenuRangeBar,h=e.submenuRangeSubbar,p=e.submenuDisabledRangePointer,f=e.submenuDisabledRangeBar,A=e.submenuDisabledRangeSubbar,m=e.submenuIconSize,g=e.menuIconSize,v=e.biSize,b=e.menuIconStyle,y=e.submenuIconStyle;return'\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.left .tui-image-editor-button.left label,\n    .tie-text-align-button.center .tui-image-editor-button.center label,\n    .tie-text-align-button.right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '+t+"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        "+n+"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        "+i+"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        "+r+"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        "+o+"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        "+a+"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        "+s+"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        "+d+"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        "+h+"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        "+p+"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        "+A+"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        "+f+"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        "+l+"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        "+c+"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        "+u+"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        "+g+"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        "+m+"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        "+v+"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: "+b.normal.color+";\n        stroke: "+b.normal.color+";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: "+b.active.color+";\n        stroke: "+b.active.color+";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: "+b.hover.color+";\n        stroke: "+b.hover.color+";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: "+b.disabled.color+";\n        stroke: "+b.disabled.color+";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: "+y.normal.color+";\n        stroke: "+y.normal.color+";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: "+y.active.color+";\n        stroke: "+y.active.color+";\n    }\n"}},"./src/js/ui/template/submenu/crop.js":
/*!********************************************!*\
        !*** ./src/js/ui/template/submenu/crop.js ***!
        \********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '+n(["normal","active"],"shape-rectangle",!0)+"\n                </div>\n                <label> "+t.localize("Custom")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("Square")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("3:2")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("4:3")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("5:4")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("7:5")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("16:9")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                '+n(["normal","active"],"apply")+"\n                <label>\n                    "+t.localize("Apply")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                '+n(["normal","active"],"cancel")+"\n                <label>\n                    "+t.localize("Cancel")+"\n                </label>\n            </div>\n        </li>\n    </ul>\n"}},"./src/js/ui/template/submenu/draw.js":
/*!********************************************!*\
        !*** ./src/js/ui/template/submenu/draw.js ***!
        \********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '+n(["normal","active"],"draw-free",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Free")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    '+n(["normal","active"],"draw-line",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Straight")+'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="'+t.localize("Color")+'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">'+t.localize("Range")+'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/filter.js":
/*!**********************************************!*\
        !*** ./src/js/ui/template/submenu/filter.js ***!
        \**********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'+t.localize("Grayscale")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>'+t.localize("Invert")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>'+t.localize("Sepia")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>'+t.localize("Sepia2")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>'+t.localize("Blur")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>'+t.localize("Sharpen")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>'+t.localize("Emboss")+'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>'+t.localize("Remove White")+'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>'+t.localize("Distance")+'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>'+t.localize("Brightness")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>'+t.localize("Noise")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>'+t.localize("Pixelate")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>'+t.localize("Color Filter")+'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>'+t.localize("Threshold")+'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="'+t.localize("Tint")+'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="'+t.localize("Multiply")+'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="'+t.localize("Blend")+'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/flip.js":
/*!********************************************!*\
        !*** ./src/js/ui/template/submenu/flip.js ***!
        \********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '+n(["normal","active"],"flip-x",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Flip X")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    '+n(["normal","active"],"flip-y",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Flip Y")+'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    '+n(["normal","active"],"flip-reset",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Reset")+"\n                </label>\n            </div>\n        </li>\n    </ul>\n"}},"./src/js/ui/template/submenu/history.js":
/*!***********************************************!*\
        !*** ./src/js/ui/template/submenu/history.js ***!
        \***********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon,i=e.name,r=e.detail;return'\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '+n(["normal","active"],"history-"+i.toLowerCase(),!0)+"\n        </div>\n        <span>\n            "+t.localize(i)+"\n            "+(r?"("+t.localize(r)+")":"")+'\n        </span>\n        <div class="history-item-checkbox">\n            '+n(["normal"],"history-check",!0)+"\n        </div>\n    </div>\n"}},"./src/js/ui/template/submenu/icon.js":
/*!********************************************!*\
        !*** ./src/js/ui/template/submenu/icon.js ***!
        \********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '+n(["normal","active"],"icon-arrow",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Arrow")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    '+n(["normal","active"],"icon-arrow-2",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Arrow-2")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    '+n(["normal","active"],"icon-arrow-3",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Arrow-3")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    '+n(["normal","active"],"icon-star",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Star-1")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    '+n(["normal","active"],"icon-star-2",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Star-2")+'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    '+n(["normal","active"],"icon-polygon",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Polygon")+'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    '+n(["normal","active"],"icon-location",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Location")+'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    '+n(["normal","active"],"icon-heart",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Heart")+'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    '+n(["normal","active"],"icon-bubble",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Bubble")+'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" style="margin:0">\n                <div>\n                    <input type="file" accept="image/*" class="tie-icon-image-file">\n                    '+n(["normal","active"],"icon-load",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Custom icon")+'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-icon-color" title="'+t.localize("Color")+'"></div>\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/mask.js":
/*!********************************************!*\
        !*** ./src/js/ui/template/submenu/mask.js ***!
        \********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '+n(["normal","active"],"mask-load",!0)+"\n                </div>\n                <label> "+t.localize("Load Mask Image")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                '+n(["normal","active"],"apply")+"\n                <label>\n                    "+t.localize("Apply")+"\n                </label>\n            </div>\n        </li>\n    </ul>\n"}},"./src/js/ui/template/submenu/rotate.js":
/*!**********************************************!*\
        !*** ./src/js/ui/template/submenu/rotate.js ***!
        \**********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '+n(["normal","active"],"rotate-clockwise",!0)+'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    '+n(["normal","active"],"rotate-counterclockwise",!0)+'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">'+t.localize("Range")+'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/shape.js":
/*!*********************************************!*\
        !*** ./src/js/ui/template/submenu/shape.js ***!
        \*********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '+n(["normal","active"],"shape-rectangle",!0)+"\n                </div>\n                <label> "+t.localize("Rectangle")+' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    '+n(["normal","active"],"shape-circle",!0)+"\n                </div>\n                <label> "+t.localize("Circle")+' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    '+n(["normal","active"],"shape-triangle",!0)+"\n                </div>\n                <label> "+t.localize("Triangle")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="'+t.localize("Fill")+'"></div>\n            <div class="tie-color-stroke" title="'+t.localize("Stroke")+'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">'+t.localize("Stroke")+'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/text.js":
/*!********************************************!*\
        !*** ./src/js/ui/template/submenu/text.js ***!
        \********************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-text-effect-button">\n            <div class="tui-image-editor-button bold">\n                <div>\n                    '+n(["normal","active"],"text-bold",!0)+"\n                </div>\n                <label> "+t.localize("Bold")+' </label>\n            </div>\n            <div class="tui-image-editor-button italic">\n                <div>\n                    '+n(["normal","active"],"text-italic",!0)+"\n                </div>\n                <label> "+t.localize("Italic")+' </label>\n            </div>\n            <div class="tui-image-editor-button underline">\n                <div>\n                    '+n(["normal","active"],"text-underline",!0)+"\n                </div>\n                <label> "+t.localize("Underline")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-text-align-button">\n            <div class="tui-image-editor-button left">\n                <div>\n                    '+n(["normal","active"],"text-align-left",!0)+"\n                </div>\n                <label> "+t.localize("Left")+' </label>\n            </div>\n            <div class="tui-image-editor-button center">\n                <div>\n                    '+n(["normal","active"],"text-align-center",!0)+"\n                </div>\n                <label> "+t.localize("Center")+' </label>\n            </div>\n            <div class="tui-image-editor-button right">\n                <div>\n                    '+n(["normal","active"],"text-align-right",!0)+"\n                </div>\n                <label> "+t.localize("Right")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-text-color" title="'+t.localize("Color")+'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">'+t.localize("Text size")+'</label>\n            <div class="tie-text-range"></div>\n            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n'}},"./src/js/ui/text.js":
/*!***************************!*\
        !*** ./src/js/ui/text.js ***!
        \***************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(
/*! @/ui/tools/range */
"./src/js/ui/tools/range.js")),o=u(n(
/*! @/ui/tools/colorpicker */
"./src/js/ui/tools/colorpicker.js")),a=u(n(
/*! @/ui/submenuBase */
"./src/js/ui/submenuBase.js")),s=u(n(
/*! @/ui/template/submenu/text */
"./src/js/ui/template/submenu/text.js")),l=n(
/*! @/util */
"./src/js/util.js"),c=n(
/*! @/consts */
"./src/js/consts.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){var i=n.locale,a=n.makeSvgIcon,l=n.menuBarPosition,u=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"text",makeSvgIcon:a,menuBarPosition:l,templateHtml:s.default,usageStatistics:u}));return d.effect={bold:!1,italic:!1,underline:!1},d.align="left",d._els={textEffectButton:d.selector(".tie-text-effect-button"),textAlignButton:d.selector(".tie-text-align-button"),textColorpicker:new o.default(d.selector(".tie-text-color"),"#ffbb3b",d.toggleDirection,d.usageStatistics),textRange:new r.default({slider:d.selector(".tie-text-range"),input:d.selector(".tie-text-range-value")},c.defaultTextRangeValues)},d.colorPickerInputBox=d._els.textColorpicker.colorpickerElement.querySelector(c.selectorNames.COLOR_PICKER_INPUT_BOX),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),(0,l.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this._setTextEffectHandler.bind(this),n=this._setTextAlignHandler.bind(this);this.eventHandler={setTextEffect:t,setTextAlign:n},this.actions=e,this._els.textEffectButton.addEventListener("click",t),this._els.textAlignButton.addEventListener("click",n),this._els.textRange.on("change",this._changeTextRnageHandler.bind(this)),this._els.textColorpicker.on("change",this._changeColorHandler.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"_removeEvent",value:function(){var e=this.eventHandler,t=e.setTextEffect,n=e.setTextAlign;this._els.textEffectButton.removeEventListener("click",t),this._els.textAlignButton.removeEventListener("click",n),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.removeEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"setTextStyleStateOnAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fill,n=e.fontSize,i=e.fontStyle,r=e.fontWeight,o=e.textDecoration,a=e.textAlign;this.textColor=t,this.fontSize=n,this.setEffectState("italic",i),this.setEffectState("bold",r),this.setEffectState("underline",o),this.setAlignState(a)}},{key:"setEffectState",value:function(e,t){var n="italic"===t||"bold"===t||"underline"===t,i=this._els.textEffectButton.querySelector(".tui-image-editor-button."+e);this.effect[e]=n,i.classList[n?"add":"remove"]("active")}},{key:"setAlignState",value:function(e){var t=this._els.textAlignButton;t.classList.remove(this.align),t.classList.add(e),this.align=e}},{key:"_setTextEffectHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=t.className.match(/(bold|italic|underline)/)[0],i={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[n];this.effect[n]=!this.effect[n],t.classList.toggle("active"),this.actions.changeTextStyle(i)}}},{key:"_setTextAlignHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=this.getButtonType(t,["left","center","right"]);e.currentTarget.classList.remove(this.align),this.align!==n&&e.currentTarget.classList.add(n),this.actions.changeTextStyle({textAlign:n}),this.align=n}}},{key:"_changeTextRnageHandler",value:function(e,t){this.actions.changeTextStyle({fontSize:e},!t)}},{key:"_changeColorHandler",value:function(e){e=e||"transparent",this.actions.changeTextStyle({fill:e})}},{key:"textColor",set:function(e){this._els.textColorpicker.color=e},get:function(){return this._els.textColorpicker.color}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(e){this._els.textRange.value=e}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}}]),t}(a.default);t.default=d},"./src/js/ui/theme/standard.js":
/*!*************************************!*\
        !*** ./src/js/ui/theme/standard.js ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"}},"./src/js/ui/theme/theme.js":
/*!**********************************!*\
        !*** ./src/js/ui/theme/theme.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(
/*! tui-code-snippet */
"tui-code-snippet"),o=c(n(
/*! @/ui/template/style */
"./src/js/ui/template/style.js")),a=c(n(
/*! @/ui/theme/standard */
"./src/js/ui/theme/standard.js")),s=c(n(
/*! @svg/default.svg */
"./src/svg/default.svg")),l=n(
/*! @/util */
"./src/js/util.js");function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.styles=this._changeToObject((0,r.extend)({},a.default,t)),(0,l.styleLoad)(this._styleMaker()),this._loadDefaultSvgIcon()}return i(e,[{key:"getStyle",value:function(e){var t=null,n=e.replace(/\..+$/,""),i=this.styles[e];switch(e){case"common.bi":t=this.styles[e].image;break;case"menu.icon":t={active:this.styles[n+".activeIcon"],normal:this.styles[n+".normalIcon"],hover:this.styles[n+".hoverIcon"],disabled:this.styles[n+".disabledIcon"]};break;case"submenu.icon":t={active:this.styles[n+".activeIcon"],normal:this.styles[n+".normalIcon"]};break;case"submenu.label":t={active:this._makeCssText(this.styles[n+".activeLabel"]),normal:this._makeCssText(this.styles[n+".normalLabel"])};break;case"submenu.partition":t={vertical:this._makeCssText((0,r.extend)({},i,{borderLeft:"1px solid "+i.color})),horizontal:this._makeCssText((0,r.extend)({},i,{borderBottom:"1px solid "+i.color}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":i.backgroundColor=i.color,t=this._makeCssText(i);break;default:t=this._makeCssText(i)}return t}},{key:"_styleMaker",value:function(){var e=this.getStyle("submenu.label"),t=this.getStyle("submenu.partition");return(0,o.default)({subMenuLabelActive:e.active,subMenuLabelNormal:e.normal,submenuPartitionVertical:t.vertical,submenuPartitionHorizontal:t.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(e){var t={};return(0,r.forEach)(e,(function(e,n){var i=n.match(/^(.+)\.([a-z]+)$/i),r=i[1],o=i[2];t[r]||(t[r]={}),t[r][o]=e})),t}},{key:"_makeCssText",value:function(e){var t=this,n=[];return(0,r.forEach)(e,(function(e,i){["backgroundImage"].indexOf(i)>-1&&"none"!==e&&(e="url("+e+")"),n.push(t._toUnderScore(i)+": "+e)})),n.join(";")}},{key:"_toUnderScore",value:function(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var e=(new DOMParser).parseFromString(s.default,"text/xml");document.body.appendChild(e.documentElement)}}},{key:"_makeIconClassName",value:function(e,t){var n=(t?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[e],i=n.path,r=n.name;return i&&r?e:e+" use-default"}},{key:"_makeSvgIconPrefix",value:function(e,t){var n=(t?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[e],i=n.path,r=n.name;return i&&r?i+"#"+r+"-":"#"}},{key:"_makeSvgItem",value:function(e,t,n){var i=this;return(0,r.map)(e,(function(e){return'<use xlink:href="'+i._makeSvgIconPrefix(e,n)+"ic-"+i._toUnderScore(t)+'" class="'+i._makeIconClassName(e,n)+'"/>'})).join("")}},{key:"makeMenSvgIconSet",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return'<svg class="svg_ic-'+(n?"submenu":"menu")+'">'+this._makeSvgItem(e,t,n)+"</svg>"}}]),e}();t.default=u},"./src/js/ui/tools/colorpicker.js":
/*!****************************************!*\
        !*** ./src/js/ui/tools/colorpicker.js ***!
        \****************************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=a(n(
/*! tui-color-picker */
"tui-color-picker"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#7e7e7e",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"up",r=arguments[3];s(this,e),this.colorpickerElement=t,this.usageStatistics=r,this._show=!1,this._colorpickerElement=t,this._toggleDirection=i,this._makePickerButtonElement(n),this._makePickerLayerElement(t,t.getAttribute("title")),this._color=n,this.picker=o.default.create({container:this.pickerElement,preset:l,color:n,usageStatistics:this.usageStatistics}),this._addEvent()}return i(e,[{key:"destroy",value:function(){var e=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",r.default.forEach(this,(function(t,n){e[n]=null}))}},{key:"_changeColorElement",value:function(e){e?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=e):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(e){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",e?this.colorElement.style.backgroundColor=e:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(e,t){var n=document.createElement("label"),i=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",n.innerHTML=t,i.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(i),e.appendChild(this.pickerControl),e.appendChild(this.colorElement),e.appendChild(n)}},{key:"_addEvent",value:function(){var e=this;this.picker.on("selectColor",(function(t){e._changeColorElement(t.color),e._color=t.color,e.fire("change",t.color)})),this.eventHandler={pickerToggle:this._pickerToggleEventHandler.bind(this),pickerHide:function(){return e.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(e){var t=e.target,n=t&&this._isElementInColorPickerControl(t);(!n||n&&this._isPaletteButton(t))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),e.stopPropagation()}},{key:"_isPaletteButton",value:function(e){return"tui-colorpicker-palette-button"===e.className}},{key:"_isElementInColorPickerControl",value:function(e){for(var t=e;t!==document.body&&t;){if(t===this.pickerControl)return!0;t=t.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var e=this.pickerControl.style,t=this._colorpickerElement.clientWidth/2+2,n=this.pickerControl.offsetWidth/2-t,i=-1*(this.pickerControl.offsetHeight+10);"down"===this._toggleDirection&&(i=30),e.top=i+"px",e.left="-"+n+"px"}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._changeColorElement(e)}}]),e}();r.default.CustomEvents.mixin(c),t.default=c},"./src/js/ui/tools/range.js":
/*!**********************************!*\
        !*** ./src/js/ui/tools/range.js ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! tui-code-snippet */
"tui-code-snippet")),o=n(
/*! @/util */
"./src/js/util.js"),a=n(
/*! @/consts */
"./src/js/consts.js");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this._value=n.value||0,this.rangeElement=t.slider,this.rangeInputElement=t.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=n.min||0,this._max=n.max||100,this._useDecimal=n.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=n.realTimeEvent||!1,this.eventHandler={startChangingSlide:this._startChangingSlide.bind(this),stopChangingSlide:this._stopChangingSlide.bind(this),changeSlide:this._changeSlide.bind(this),changeSlideFinally:this._changeSlideFinally.bind(this),changeInput:this._changeValueWithInput.bind(this,!1),changeInputFinally:this._changeValueWithInput.bind(this,!0),changeInputWithArrow:this._changeValueWithInputKeyEvent.bind(this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=n.value,this.trigger("change")}return i(e,[{key:"destroy",value:function(){var e=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",r.default.forEach(this,(function(t,n){e[n]=null}))}},{key:"trigger",value:function(e){this.fire(e,this._value)}},{key:"_getRangeWidth",value:function(){var e=function(e){return(0,o.toInteger)(window.getComputedStyle(e,null).width)};return e(this.rangeElement)-e(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keyup",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keyup",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(e){var t=e.keyCode,n=e.target;if(!([a.keyCodes.ARROW_UP,a.keyCodes.ARROW_DOWN].indexOf(t)<0)){var i=Number(n.value);if(!((i=this._valueUpDownForKeyEvent(i,t))<this._min||i>this._max)){var r=(0,o.clamp)(i,this._min,this.max);this.value=r,this.fire("change",r,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(e,t){var n=this._useDecimal?.1:1;return t===a.keyCodes.ARROW_UP?e+=n:t===a.keyCodes.ARROW_DOWN&&(e-=n),e}},{key:"_changeValueWithInput",value:function(e,t){var n=t.keyCode,i=t.target;if(!([a.keyCodes.ARROW_UP,a.keyCodes.ARROW_DOWN].indexOf(n)>=0)){var r=this._filterForInputText(i.value),s=!r||isNaN(r);if(i.value=r,!s){var l=this._useDecimal?Number(r):(0,o.toInteger)(r);l=(0,o.clamp)(l,this._min,this.max),this.value=l,this.fire("change",l,e)}}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(e){var t=e.screenX-this.firstPosition,n=this.firstLeft+t;n=(n=n>this.rangeWidth?this.rangeWidth:n)<0?0:n,this.pointer.style.left=n+"px",this.subbar.style.right=this.rangeWidth-n+"px";var i=n/this.rangeWidth,r=this._absMax*i+this._min,a=this._useDecimal?r:(0,o.toInteger)(r);this.value!==a&&(this.value=a,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(e){if(e.stopPropagation(),"tui-image-editor-range"===e.target.className){var t=e.offsetX/this.rangeWidth,n=this._absMax*t+this._min;this.pointer.style.left=t*this.rangeWidth+"px",this.subbar.style.right=(1-t)*this.rangeWidth+"px",this.value=n,this.fire("change",n,!0)}}},{key:"_startChangingSlide",value:function(e){this.firstPosition=e.screenX,this.firstLeft=(0,o.toInteger)(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(e){return e.replace(l,"$1$2$3")}},{key:"max",set:function(e){this._max=e,this._absMax=-1*this._min+this._max,this.value=this._value},get:function(){return this._max}},{key:"value",get:function(){return this._value},set:function(e){var t=((e=this._useDecimal?e:(0,o.toInteger)(e))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<t&&(t=this.rangeWidth),this.pointer.style.left=t+"px",this.subbar.style.right=this.rangeWidth-t+"px",this._value=e,this.rangeInputElement&&(this.rangeInputElement.value=e)}}]),e}();r.default.CustomEvents.mixin(c),t.default=c},"./src/js/util.js":
/*!************************!*\
        !*** ./src/js/util.js ***!
        \************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Promise=void 0,t.clamp=function(e,t,n){if(t>n){var i=[n,t];t=i[0],n=i[1]}return l(t,s(e,n))},t.keyMirror=function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,i.forEach)(n,(function(t){e[t]=t})),e},t.makeStyleText=function(e){var t="";return(0,i.forEach)(e,(function(e,n){t+=n+": "+e+";"})),t},t.getProperties=function(e,t){var n={},i=t.length,r=0,o=void 0;for(r=0;r<i;r+=1)o=t[r],n[o]=e[o];return n},t.toInteger=function(e){return parseInt(e,10)},t.toCamelCase=function(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))},t.isSupportFileApi=function(){return!!(window.File&&window.FileList&&window.FileReader)},t.getRgb=function(e,t){4===e.length&&(e=""+e+e.slice(1,4));var n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return"rgba("+n+", "+i+", "+r+", "+(t||1)+")"},t.sendHostName=function(){c||(c=!0,(0,i.sendHostname)("image-editor","UA-129999381-1"))},t.styleLoad=function(e,t){var n=document.getElementsByTagName("head")[0],i=document.createElement("link"),r=encodeURIComponent(e);t&&(i.id=t),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href","data:text/css;charset=UTF-8,"+r),n.appendChild(i)},t.getSelector=function(e){return function(t){return e.querySelector(t)}},t.base64ToBlob=function(e){var t="",n=void 0,i=void 0,r=void 0;n=e.replace(/data:(image\/.+);base64,/,(function(e,n){return t=n,""}));var o=(n=atob(n)).length;for(i=new Uint8Array(o),r=0;r<o;r+=1)i[r]=n.charCodeAt(r);return new Blob([i],{type:t})},t.fixFloatingPoint=function(e){return Number(e.toFixed(2))},t.assignmentForDestroy=function(e){(0,i.forEach)(e,(function(t,n){e[n]=null}))},t.cls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."===e.charAt(0)?"."+a+t+e.slice(1):""+a+t+e},t.changeOrigin=function(e,t){var n=t.originX,i=t.originY,r=e.getPointByOrigin(n,i),o=r.x,a=r.y;e.set({left:o,top:a,originX:n,originY:i}),e.setCoords()},t.flipObject=function(e){var t={};return Object.keys(e).forEach((function(n){t[e[n]]=n})),t},t.setCustomProperty=function(e,t){e.customProps=e.customProps||{},(0,i.extend)(e.customProps,t)},t.getCustomProperty=function(e,t){var n={};return(0,i.isString)(t)&&(t=[t]),(0,i.forEach)(t,(function(t){n[t]=e.customProps[t]})),n},t.capitalizeString=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.includes=u,t.getFillTypeFromOption=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.pick)(e,"type")||o.SHAPE_FILL_TYPE.COLOR},t.getFillTypeFromObject=function(e){var t=e.fill;return(void 0===t?{}:t).source?o.SHAPE_FILL_TYPE.FILTER:o.SHAPE_FILL_TYPE.COLOR},t.isShape=function(e){return(0,i.inArray)(e.get("type"),o.SHAPE_TYPE)>=0},t.getObjectType=function(e){if(u(o.SHAPE_TYPE,e))return"Shape";switch(e){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return h(e)}},t.isSilentCommand=function(e){var t=o.commandNames.LOAD_IMAGE;return"string"==typeof e?t===e:t===e.name},t.getHistoryTitle=function(e){var t=o.commandNames.FLIP_IMAGE,n=o.commandNames.ROTATE_IMAGE,i=o.commandNames.ADD_TEXT,r=o.commandNames.APPLY_FILTER,a=o.commandNames.REMOVE_FILTER,s=o.commandNames.CHANGE_SHAPE,l=o.commandNames.CHANGE_ICON_COLOR,c=o.commandNames.CHANGE_TEXT_STYLE,u=o.commandNames.CLEAR_OBJECTS,h=o.commandNames.ADD_IMAGE_OBJECT,p=o.commandNames.REMOVE_OBJECT,f=e.name,A=e.args,m=void 0;switch(f){case t:m={name:f,detail:"reset"===A[1]?A[1]:A[1].slice(4)};break;case n:m={name:f,detail:A[2]};break;case r:m={name:o.historyNames.APPLY_FILTER,detail:d(A[1],A[2])};break;case a:m={name:o.historyNames.REMOVE_FILTER,detail:"Remove"};break;case s:m={name:o.historyNames.CHANGE_SHAPE,detail:"Change"};break;case l:m={name:o.historyNames.CHANGE_ICON_COLOR,detail:"Change"};break;case c:m={name:o.historyNames.CHANGE_TEXT_STYLE,detail:"Change"};break;case p:m={name:o.historyNames.REMOVE_OBJECT,detail:A[2]};break;case u:m={name:o.historyNames.CLEAR_OBJECTS,detail:"All"};break;case h:m={name:o.historyNames.ADD_IMAGE_OBJECT,detail:"Add"};break;case i:m={name:o.historyNames.ADD_TEXT};break;default:m={name:f}}return"mask"===A[1]&&(m={name:o.historyNames.LOAD_MASK_IMAGE,detail:"Apply"}),m},t.getHelpMenuBarPosition=function(e){return"top"===e?"bottom":"left"===e?"right":"right"===e?"left":"top"},t.isEmptyCropzone=function(e){var t=e.left,n=e.top,i=e.width,r=e.height,a=o.emptyCropRectValues.LEFT,s=o.emptyCropRectValues.TOP,l=o.emptyCropRectValues.WIDTH,c=o.emptyCropRectValues.HEIGHT;return t===a&&n===s&&i===l&&r===c};var i=n(
/*! tui-code-snippet */
"tui-code-snippet"),r=function(e){return e&&e.__esModule?e:{default:e}}(n(
/*! core-js-pure/features/promise */
"./node_modules/core-js-pure/features/promise/index.js")),o=n(
/*! @/consts */
"./src/js/consts.js"),a="tui-image-editor-",s=Math.min,l=Math.max,c=!1;function u(e,t){return e.indexOf(t)>=0}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useAlpha,i=void 0===n||n,r=t.mode,a=o.filterType.VINTAGE,s=o.filterType.REMOVE_COLOR,l=o.filterType.BLEND_COLOR,c=o.filterType.SEPIA2,u=o.filterType.COLOR_FILTER,d=o.filterType.REMOVE_WHITE,p=o.filterType.BLEND,f=void 0;switch(e){case a:f=c;break;case s:f=i?u:d;break;case l:f="add"===r?p:r;break;default:f=e}return h(f)}function h(e){return e.replace(/[a-z]/,(function(e){return e.toUpperCase()}))}t.Promise=r.default},"./src/svg/default.svg":
/*!*****************************!*\
        !*** ./src/svg/default.svg ***!
        \*****************************/
/*! no static exports found */
function(e,t){e.exports='<svg display="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs id="tui-image-editor-svg-default-icons"><symbol id="ic-apply" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" stroke="none" fill="none"></path><path fill="none" stroke="inherit" d="M4 12.011l5 5L20.011 6"></path></symbol><symbol id="ic-cancel" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path fill="none" stroke="inherit" d="M6 6l12 12M18 6L6 18"></path></symbol><symbol id="ic-crop" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" stroke="none" fill="none"></path><path stroke="none" fill="inherit" d="M4 0h1v20a1 1 0 0 1-1-1V0zM20 17h-1V5h1v12zm0 2v5h-1v-5h1z"></path><path stroke="none" fill="inherit" d="M5 19h19v1H5zM4.762 4v1H0V4h4.762zM7 4h12a1 1 0 0 1 1 1H7V4z"></path></symbol><symbol id="ic-delete-all" viewBox="0 0 24 24"><path stroke="none" fill="inherit" d="M5 23H3a1 1 0 0 1-1-1V6h1v16h2v1zm16-10h-1V6h1v7zM9 13H8v-3h1v3zm3 0h-1v-3h1v3zm3 0h-1v-3h1v3zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z"></path><path stroke="none" fill="inherit" d="M0 3h23v1H0zM11.286 21H8.714L8 23H7l1-2.8V20h.071L9.5 16h1l1.429 4H12v.2l1 2.8h-1l-.714-2zm-.357-1L10 17.4 9.071 20h1.858zM20 22h3v1h-4v-7h1v6zm-5 0h3v1h-4v-7h1v6z"></path></symbol><symbol id="ic-delete" viewBox="0 0 24 24"><path stroke="none" fill="inherit" d="M3 6v16h17V6h1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6h1zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z"></path><path stroke="none" fill="inherit" d="M0 3h23v1H0zM8 10h1v6H8v-6zm3 0h1v6h-1v-6zm3 0h1v6h-1v-6z"></path></symbol><symbol id="ic-draw-free" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M2.5 20.929C2.594 10.976 4.323 6 7.686 6c5.872 0 2.524 19 7.697 19s1.89-14.929 6.414-14.929 1.357 10.858 5.13 10.858c1.802 0 2.657-2.262 2.566-6.786"></path></symbol><symbol id="ic-draw-line" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M2 15.5h28"></path></symbol><symbol id="ic-draw" viewBox="0 0 24 24"><path fill="none" stroke="inherit" d="M2.5 21.5H5c.245 0 .48-.058.691-.168l.124-.065.14.01c.429.028.85-.127 1.16-.437L22.55 5.405a.5.5 0 0 0 0-.707l-3.246-3.245a.5.5 0 0 0-.707 0L3.162 16.888a1.495 1.495 0 0 0-.437 1.155l.01.14-.065.123c-.111.212-.17.448-.17.694v2.5z"></path><path stroke="none" fill="inherit" d="M16.414 3.707l3.89 3.89-.708.706-3.889-3.889z"></path></symbol><symbol id="ic-filter" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path stroke="none" fill="inherit" d="M12 7v1H2V7h10zm6 0h4v1h-4V7zM12 16v1h10v-1H12zm-6 0H2v1h4v-1z"></path><path stroke="none" fill="inherit" d="M8.5 20a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM15.5 11a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"></path></symbol><symbol id="ic-flip-reset" viewBox="0 0 31 32"><path fill="none" stroke="none" d="M31 0H0v32h31z"></path><path stroke="none" fill="inherit" d="M28 16a8 8 0 0 1-8 8H3v-1h1v-7H3a8 8 0 0 1 8-8h17v1h-1v7h1zM11 9a7 7 0 0 0-7 7v7h16a7 7 0 0 0 7-7V9H11z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M24 5l3.5 3.5L24 12M7 20l-3.5 3.5L7 27"></path></symbol><symbol id="ic-flip-x" viewBox="0 0 32 32"><path fill="none" stroke="none" d="M32 32H0V0h32z"></path><path stroke="none" fill="inherit" d="M17 32h-1V0h1zM27.167 11l.5 3h-1.03l-.546-3h1.076zm-.5-3h-1.122L25 5h-5V4h5.153a1 1 0 0 1 .986.836L26.667 8zm1.5 9l.5 3h-.94l-.545-3h.985zm1 6l.639 3.836A1 1 0 0 1 28.819 28H26v-1h3l-.726-4h.894zM23 28h-3v-1h3v1zM13 4v1H7L3 27h10v1H3.18a1 1 0 0 1-.986-1.164l3.666-22A1 1 0 0 1 6.847 4H13z"></path></symbol><symbol id="ic-flip-y" viewBox="0 0 32 32"><path fill="none" stroke="none" d="M0 0v32h32V0z"></path><path stroke="none" fill="inherit" d="M0 16v1h32v-1zM11 27.167l3 .5v-1.03l-3-.546v1.076zm-3-.5v-1.122L5 25v-5H4v5.153a1 1 0 0 0 .836.986L8 26.667zm9 1.5l3 .5v-.94l-3-.545v.985zm6 1l3.836.639A1 1 0 0 0 28 28.82V26h-1v3l-4-.727v.894zM28 23v-3h-1v3h1zM4 13h1V7l22-4v10h1V3.18a1 1 0 0 0-1.164-.986l-22 3.667A1 1 0 0 0 4 6.847V13z"></path></symbol><symbol id="ic-flip" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path fill="inherit" stroke="none" d="M11 0h1v24h-1zM19 21v-1h2v-2h1v2a1 1 0 0 1-1 1h-2zm-2 0h-3v-1h3v1zm5-5h-1v-3h1v3zm0-5h-1V8h1v3zm0-5h-1V4h-2V3h2a1 1 0 0 1 1 1v2zm-5-3v1h-3V3h3zM9 3v1H2v16h7v1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7z"></path></symbol><symbol id="ic-history" viewBox="0 0 24 24"><path fill="none" stroke="none" d="M0 0H24V24H0z" transform="translate(-740 -16) translate(547 8) translate(193 8)"></path><path fill="inherit" stroke="none" d="M12.5 1C18.299 1 23 5.701 23 11.5S18.299 22 12.5 22c-5.29 0-9.665-3.911-10.394-8.999h1.012C3.838 17.534 7.764 21 12.5 21c5.247 0 9.5-4.253 9.5-9.5S17.747 2 12.5 2C8.49 2 5.06 4.485 3.666 8H3h4v1H2V4h1v3.022C4.68 3.462 8.303 1 12.5 1zm.5 5l-.001 5.291 2.537 2.537-.708.708L12.292 12H12V6h1z" transform="translate(-740 -16) translate(547 8) translate(193 8)"></path></symbol><symbol id="ic-history-check" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path stroke="#555555" d="M4.5 -1L1.5 2 6.5 7" transform="translate(-60 -804) translate(60 804) translate(2 3) rotate(-90 4 3)"></path></g></symbol><symbol id="ic-history-crop" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-84 -804) translate(84 804)"></path><path fill="#434343" d="M2 0h1v10c-.552 0-1-.448-1-1V0zM10 9v3H9V9h1zM9 2h1v6H9V2z" transform="translate(-84 -804) translate(84 804)"></path><path fill="#434343" d="M2 9H12V10H2zM9 2c.513 0 .936.386.993.883L10 3H3V2h6zM2 3H0V2h2v1z" transform="translate(-84 -804) translate(84 804)"></path></g></symbol><symbol id="ic-history-draw" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 1H12V13H0z" transform="translate(-156 -804) translate(156 803)"></path><path stroke="#434343" d="M9.622 1.584l1.835 1.658-8.31 8.407L.5 12.5V11l9.122-9.416z" transform="translate(-156 -804) translate(156 803)"></path><path fill="#434343" d="M7.628 3.753L10.378 3.753 10.378 4.253 7.628 4.253z" transform="translate(-156 -804) translate(156 803) rotate(45 9.003 4.003)"></path></g></symbol><symbol id="ic-history-filter" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-276 -804) translate(276 804)"></path><path fill="#434343" d="M12 3v1H9V3h3zM7 4H0V3h7v1z" transform="translate(-276 -804) translate(276 804)"></path><path fill="#434343" d="M12 8v1H9V8h3zM7 9H0V8h7v1z" transform="translate(-276 -804) translate(276 804) matrix(-1 0 0 1 12 0)"></path><path fill="#434343" d="M8 1c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zM4 7c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1z" transform="translate(-276 -804) translate(276 804)"></path></g></symbol><symbol id="ic-history-flip" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-108 -804) translate(108 804)"></path><path fill="#434343" d="M6 0L7 0 7 12 6 12zM11 10V9h1v1.5c0 .276-.224.5-.5.5H10v-1h1zM5 1v1H1v8h4v1H.5c-.276 0-.5-.224-.5-.5v-9c0-.276.224-.5.5-.5H5zm7 5v2h-1V6h1zm0-3v2h-1V3h1zM9 1v1H7V1h2zm2.5 0c.276 0 .5.224.5.5V2h-2V1h1.5zM9 11H7v-1h2v1z" transform="translate(-108 -804) translate(108 804)"></path></g></symbol><symbol id="ic-history-icon" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-204 -804) translate(204 804)"></path><path stroke="#434343" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1" d="M6 9.568L2.601 11 2.975 7.467 0.5 4.82 4.13 4.068 6 1 7.87 4.068 11.5 4.82 9.025 7.467 9.399 11z" transform="translate(-204 -804) translate(204 804)"></path></g></symbol><symbol id="ic-history-mask" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><g transform="translate(-252 -804) translate(252 804)"><path d="M0 0H12V12H0z"></path><circle cx="6" cy="6" r="2.5" stroke="#444"></circle><path fill="#434343" d="M11.5 0c.276 0 .5.224.5.5v11c0 .276-.224.5-.5.5H.5c-.276 0-.5-.224-.5-.5V.5C0 .224.224 0 .5 0h11zM11 1H1v10h10V1z"></path></g></g></symbol><symbol id="ic-history-rotate" viewBox="0 0 24 24"><defs><path id="rfn4rylffa" d="M7 12c-.335 0-.663-.025-.983-.074C3.171 11.492 1 9.205 1 6.444c0-1.363.534-2.613 1.415-3.58"></path><mask id="6f9gn2dysb" width="6" height="9.136" x="0" y="0" maskUnits="objectBoundingBox"><use xlink:href="#rfn4rylffa" stroke="434343"></use></mask></defs><g fill="none" stroke="none" fill-rule="evenodd"><g transform="translate(-132 -804) translate(132 804)"><path d="M0 0.5H12V12.5H0z"></path><path fill="#434343" d="M6.5 1C9.538 1 12 3.462 12 6.5c0 2.37-1.5 4.39-3.6 5.163l-.407-.916C9.744 10.13 11 8.462 11 6.5 11 4.015 8.985 2 6.5 2c-.777 0-1.509.197-2.147.544L4 1.75l-.205-.04C4.594 1.258 5.517 1 6.5 1z"></path><use stroke="#434343" stroke-dasharray="2 1.25" stroke-width="1" mask="url(#6f9gn2dysb)" xlink:href="#rfn4rylffa"></use><path fill="#434343" d="M4.279 0L6 1.75 4.25 3.571 3.543 2.864 4.586 1.75 3.572 0.707z" transform="matrix(-1 0 0 1 9.543 0)"></path></g></g></symbol><symbol id="ic-history-shape" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-180 -804) translate(180 804)"></path><path fill="#434343" d="M11.5 4c.276 0 .5.224.5.5v7c0 .276-.224.5-.5.5h-7c-.276 0-.5-.224-.5-.5V8.8h1V11h6V5H8.341l-.568-1H11.5z" transform="translate(-180 -804) translate(180 804)"></path><path stroke="#434343" stroke-linecap="round" stroke-linejoin="round" d="M4.5 0.5L8.5 7.611 0.5 7.611z" transform="translate(-180 -804) translate(180 804)"></path></g></symbol><symbol id="ic-history-text" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-228 -804) translate(228 804)"></path><path fill="#434343" d="M2 1h8c.552 0 1 .448 1 1H1c0-.552.448-1 1-1z" transform="translate(-228 -804) translate(228 804)"></path><path fill="#434343" d="M1 1H2V3H1zM10 1H11V3H10zM5.5 1L6.5 1 6.5 11 5.5 11z" transform="translate(-228 -804) translate(228 804)"></path><path fill="#434343" d="M4 10H8V11H4z" transform="translate(-228 -804) translate(228 804)"></path></g></symbol><symbol id="ic-history-load" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-324 -805) translate(324 805)"></path><path fill="#434343" d="M5 0c.552 0 1 .448 1 1v1h5.5c.276 0 .5.224.5.5v8c0 .276-.224.5-.5.5H.5c-.276 0-.5-.224-.5-.5V1c0-.552.448-1 1-1h4zm0 1H1v9h10V3H5V1z" transform="translate(-324 -805) translate(324 805)"></path><path fill="#434343" d="M1 2L5 2 5 3 1 3z" transform="translate(-324 -805) translate(324 805)"></path></g></symbol><symbol id="ic-history-delete" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><g fill="#434343"><path d="M2 9h8V1h1v8.5c0 .276-.224.5-.5.5h-9c-.276 0-.5-.224-.5-.5V1h1v8zM0 0H12V1H0z" transform="translate(-300 -804) translate(300 804) translate(0 2)"></path><path d="M4 3H5V7H4zM7 3H8V7H7z" transform="translate(-300 -804) translate(300 804) translate(0 2)"></path><path d="M4 1h4V0h1v1.5c0 .276-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5V0h1v1z" transform="translate(-300 -804) translate(300 804) matrix(1 0 0 -1 0 2)"></path></g></g></symbol><symbol id="ic-history-group" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><g transform="translate(-348 -804) translate(348 804)"><path d="M0 0H12V12H0z"></path><path fill="#434343" d="M1 9v2h1v1H.5c-.276 0-.5-.224-.5-.5V9h1zm11 1v1.5c0 .276-.224.5-.5.5H9v-1h2v-1h1zm-4 1v1H6v-1h2zm-3 0v1H3v-1h2zm7-4v2h-1V7h1zM1 6v2H0V6h1zm11-2v2h-1V4h1zM1 3v2H0V3h1zm10.5-3c.276 0 .5.224.5.5V3h-1V1h-1V0h1.5zM6 0v1H4V0h2zm3 0v1H7V0h2zM0 .5C0 .224.224 0 .5 0H3v1H1v1H0V.5zM9.5 4c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5V8.355c.317.094.652.145 1 .145V9h4V5h-.5c0-.348-.05-.683-.145-1H9.5z"></path><circle cx="5" cy="5" r="2.5" stroke="#434343"></circle></g></g></symbol><symbol id="ic-icon-arrow-2" viewBox="0 0 32 32"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M21.793 18.5H2.5v-5h18.935l-7.6-8h5.872l10.5 10.5-10.5 10.5h-5.914l8-8z"></path></symbol><symbol id="ic-icon-arrow-3" viewBox="0 0 32 32"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M25.288 16.42L14.208 27.5H6.792l11.291-11.291L6.826 4.5h7.381l11.661 11.661-.58.258z"></path></symbol><symbol id="ic-icon-arrow" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M2.5 11.5v9h18v5.293L30.293 16 20.5 6.207V11.5h-18z"></path></symbol><symbol id="ic-icon-bubble" viewBox="0 0 32 32"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M22.207 24.5L16.5 30.207V24.5H8A6.5 6.5 0 0 1 1.5 18V9A6.5 6.5 0 0 1 8 2.5h16A6.5 6.5 0 0 1 30.5 9v9a6.5 6.5 0 0 1-6.5 6.5h-1.793z"></path></symbol><symbol id="ic-icon-heart" viewBox="0 0 32 32"><path fill-rule="nonzero" fill="none" stroke="inherit" d="M15.996 30.675l1.981-1.79c7.898-7.177 10.365-9.718 12.135-13.012.922-1.716 1.377-3.37 1.377-5.076 0-4.65-3.647-8.297-8.297-8.297-2.33 0-4.86 1.527-6.817 3.824l-.38.447-.381-.447C13.658 4.027 11.126 2.5 8.797 2.5 4.147 2.5.5 6.147.5 10.797c0 1.714.46 3.375 1.389 5.098 1.775 3.288 4.26 5.843 12.123 12.974l1.984 1.806z"></path></symbol><symbol id="ic-icon-load" viewBox="0 0 32 32"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M17.314 18.867l1.951-2.53 4 5.184h-17l6.5-8.84 4.549 6.186z"></path><path stroke="none" fill="inherit" d="M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01z"></path><path stroke="none" fill="inherit" d="M25 3h1v9h-1z"></path><path fill="none" stroke="inherit" d="M22 6l3.5-3.5L29 6"></path></symbol><symbol id="ic-icon-location" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M16 31.28C23.675 23.302 27.5 17.181 27.5 13c0-6.351-5.149-11.5-11.5-11.5S4.5 6.649 4.5 13c0 4.181 3.825 10.302 11.5 18.28z"></path><circle fill="none" stroke="inherit" cx="16" cy="13" r="4.5"></circle></symbol><symbol id="ic-icon-polygon" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M.576 16L8.29 29.5h15.42L31.424 16 23.71 2.5H8.29L.576 16z"></path></symbol><symbol id="ic-icon-star-2" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M19.446 31.592l2.265-3.272 3.946.25.636-3.94 3.665-1.505-1.12-3.832 2.655-2.962-2.656-2.962 1.12-3.832-3.664-1.505-.636-3.941-3.946.25-2.265-3.271L16 3.024 12.554 1.07 10.289 4.34l-3.946-.25-.636 3.941-3.665 1.505 1.12 3.832L.508 16.33l2.656 2.962-1.12 3.832 3.664 1.504.636 3.942 3.946-.25 2.265 3.27L16 29.638l3.446 1.955z"></path></symbol><symbol id="ic-icon-star" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M25.292 29.878l-1.775-10.346 7.517-7.327-10.388-1.51L16 1.282l-4.646 9.413-10.388 1.51 7.517 7.327-1.775 10.346L16 24.993l9.292 4.885z"></path></symbol><symbol id="ic-icon" viewBox="0 0 24 24"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M11.923 19.136L5.424 22l.715-7.065-4.731-5.296 6.94-1.503L11.923 2l3.574 6.136 6.94 1.503-4.731 5.296L18.42 22z"></path></symbol><symbol id="ic-mask-load" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01zM15 23a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-1a5 5 0 1 0 0-10 5 5 0 0 0 0 10z"></path><path stroke="none" fill="inherit" d="M25 3h1v9h-1z"></path><path fill="none" stroke="inherit" d="M22 6l3.5-3.5L29 6"></path></symbol><symbol id="ic-mask" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4.5" stroke="inherit" fill="none"></circle><path stroke="none" fill="inherit" d="M2 1h20a1 1 0 0 1 1 1v20a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm0 1v20h20V2H2z"></path></symbol><symbol id="ic-redo" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" opacity=".5" fill="none" stroke="none"></path><path stroke="none" fill="inherit" d="M21 6H9a6 6 0 1 0 0 12h12v1H9A7 7 0 0 1 9 5h12v1z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M19 3l2.5 2.5L19 8"></path></symbol><symbol id="ic-reset" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" opacity=".5" stroke="none" fill="none"></path><path stroke="none" fill="inherit" d="M2 13v-1a7 7 0 0 1 7-7h13v1h-1v5h1v1a7 7 0 0 1-7 7H2v-1h1v-5H2zm7-7a6 6 0 0 0-6 6v6h12a6 6 0 0 0 6-6V6H9z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M19 3l2.5 2.5L19 8M5 16l-2.5 2.5L5 21"></path></symbol><symbol id="ic-rotate-clockwise" viewBox="0 0 32 32"><path stroke="none" fill="inherit" d="M29 17h-.924c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12C4.076 10.398 9.407 5.041 16 5V4C8.82 4 3 9.82 3 17s5.82 13 13 13 13-5.82 13-13z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M16 1.5l4 3-4 3"></path><path stroke="none" fill="inherit" fill-rule="nonzero" d="M16 4h4v1h-4z"></path></symbol><symbol id="ic-rotate-counterclockwise" viewBox="0 0 32 32"><path stroke="none" d="M3 17h.924c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.602-5.331-11.96-11.924-12V4c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 24.18 3 17z"></path><path stroke="none" fill="inherit" fill-rule="nonzero" d="M12 4h4v1h-4z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M16 1.5l-4 3 4 3"></path></symbol><symbol id="ic-rotate" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path fill="inherit" stroke="none" d="M8.349 22.254a10.002 10.002 0 0 1-2.778-1.719l.65-.76a9.002 9.002 0 0 0 2.495 1.548l-.367.931zm2.873.704l.078-.997a9 9 0 1 0-.557-17.852l-.14-.99A10.076 10.076 0 0 1 12.145 3c5.523 0 10 4.477 10 10s-4.477 10-10 10c-.312 0-.62-.014-.924-.042zm-7.556-4.655a9.942 9.942 0 0 1-1.253-2.996l.973-.234a8.948 8.948 0 0 0 1.124 2.693l-.844.537zm-1.502-5.91A9.949 9.949 0 0 1 2.88 9.23l.925.382a8.954 8.954 0 0 0-.644 2.844l-.998-.062zm2.21-5.686c.687-.848 1.51-1.58 2.436-2.166l.523.852a9.048 9.048 0 0 0-2.188 1.95l-.771-.636z"></path><path stroke="inherit" fill="none" stroke-linecap="square" d="M13 1l-2.5 2.5L13 6"></path></symbol><symbol id="ic-shape-circle" viewBox="0 0 32 32"><circle cx="16" cy="16" r="14.5" fill="none" stroke="inherit"></circle></symbol><symbol id="ic-shape-rectangle" viewBox="0 0 32 32"><rect width="27" height="27" x="2.5" y="2.5" fill="none" stroke="inherit" rx="1"></rect></symbol><symbol id="ic-shape-triangle" viewBox="0 0 32 32"><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M16 2.5l15.5 27H.5z"></path></symbol><symbol id="ic-shape" viewBox="0 0 24 24"><path stroke="none" fill="inherit" d="M14.706 8H21a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4h1v4h12V9h-5.706l-.588-1z"></path><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M8.5 1.5l7.5 13H1z"></path></symbol><symbol id="ic-text-align-center" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M2 5h28v1H2zM8 12h16v1H8zM2 19h28v1H2zM8 26h16v1H8z"></path></symbol><symbol id="ic-text-align-left" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M2 5h28v1H2zM2 12h16v1H2zM2 19h28v1H2zM2 26h16v1H2z"></path></symbol><symbol id="ic-text-align-right" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M2 5h28v1H2zM14 12h16v1H14zM2 19h28v1H2zM14 26h16v1H14z"></path></symbol><symbol id="ic-text-bold" viewBox="0 0 32 32"><path fill="none" stroke="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M7 2h2v2H7zM7 28h2v2H7z"></path><path fill="none" stroke="inherit" stroke-width="2" d="M9 3v12h9a6 6 0 1 0 0-12H9zM9 15v14h10a7 7 0 0 0 0-14H9z"></path></symbol><symbol id="ic-text-italic" viewBox="0 0 32 32"><path fill="none" stroke="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M15 2h5v1h-5zM11 29h5v1h-5zM17 3h1l-4 26h-1z"></path></symbol><symbol id="ic-text-underline" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M8 2v14a8 8 0 1 0 16 0V2h1v14a9 9 0 0 1-18 0V2h1zM3 29h26v1H3z"></path><path stroke="none" fill="inherit" d="M5 2h5v1H5zM22 2h5v1h-5z"></path></symbol><symbol id="ic-text" viewBox="0 0 24 24"><path stroke="none" fill="inherit" d="M4 3h15a1 1 0 0 1 1 1H3a1 1 0 0 1 1-1zM3 4h1v1H3zM19 4h1v1h-1z"></path><path stroke="none" fill="inherit" d="M11 3h1v18h-1z"></path><path stroke="none" fill="inherit" d="M10 20h3v1h-3z"></path></symbol><symbol id="ic-undo" viewBox="0 0 24 24"><path d="M24 0H0v24h24z" opacity=".5" fill="none" stroke="none"></path><path stroke="none" fill="inherit" d="M3 6h12a6 6 0 1 1 0 12H3v1h12a7 7 0 0 0 0-14H3v1z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M5 3L2.5 5.5 5 8"></path></symbol><symbol id="ic-zoom-in" viewBox="0 0 24 24"><g transform="translate(-229 -290) translate(229 290)"><circle cx="10.5" cy="10.5" r="9" stroke="inherit" fill="none"></circle><path fill="inherit" d="M18.828 15.828H19.828V22.828H18.828z" transform="rotate(-45 19.328 19.328)"></path><path fill="inherit" d="M7 10H14V11H7z"></path><path fill="inherit" d="M10 7H11V14H10z"></path></g></symbol><symbol id="ic-zoom-out" viewBox="0 0 24 24"><g transform="translate(-263 -290) translate(263 290)"><circle cx="10.5" cy="10.5" r="9" stroke="inherit" fill="none"></circle><path fill="inherit" d="M18.828 15.828H19.828V22.828H18.828z" transform="rotate(-45 19.328 19.328)"></path><path fill="inherit" d="M7 10H14V11H7z"></path></g></symbol><symbol id="ic-hand" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd" stroke-linejoin="round"><path fill="inherit" fill-rule="nonzero" d="M8.672 3.36c1.328 0 2.114.78 2.29 1.869l.014.101.023.006v1.042l-.638-.185c-.187-.055-.323-.211-.354-.399L10 5.713c0-.825-.42-1.353-1.328-1.353C7.695 4.36 7 5.041 7 5.713v7.941c0 .439-.524.665-.843.364l-1.868-1.761c-.595-.528-1.316-.617-1.918-.216-.522.348-.562 1.203-.18 1.8L7.738 22h11.013l.285-.518c1.247-2.326 1.897-4.259 1.96-5.785l.004-.239V8.035c0-.656-.5-1.17-1-1.17-.503 0-1 .456-1 1.17 0 .333-.32.573-.64.48L18 8.41V7.368l.086.026.042-.136c.279-.805.978-1.332 1.738-1.388L20 5.865c1.057 0 2 .967 2 2.17v7.423c0 1.929-.845 4.352-2.521 7.29-.09.156-.255.252-.435.252H7.474c-.166 0-.321-.082-.414-.219l-5.704-8.39c-.653-1.019-.584-2.486.46-3.182 1-.666 2.216-.516 3.148.31L6 12.495V5.713c0-1.18 1.058-2.263 2.49-2.348z" transform="translate(-297 -290) translate(297 290)"></path><path fill="inherit" fill-rule="nonzero" d="M12.5 1.5c1.325 0 2.41 1.032 2.495 2.336L15 4v7.22h-1V4c0-.828-.672-1.5-1.5-1.5-.78 0-1.42.595-1.493 1.356L11 4v7.22h-1V4c0-1.38 1.12-2.5 2.5-2.5z" transform="translate(-297 -290) translate(297 290)"></path><path fill="inherit" fill-rule="nonzero" d="M16.5 3.5c1.325 0 2.41 1.032 2.495 2.336L19 6v6.3h-1V6c0-.828-.672-1.5-1.5-1.5-.78 0-1.42.595-1.493 1.356L15 6v2.44h-1V6c0-1.38 1.12-2.5 2.5-2.5z" transform="translate(-297 -290) translate(297 290)"></path></g></symbol></defs></svg>'},fabric:
/*!****************************************************************************************************************!*\
        !*** external {"commonjs":["fabric","fabric"],"commonjs2":["fabric","fabric"],"amd":"fabric","root":"fabric"} ***!
        \****************************************************************************************************************/
/*! no static exports found */
function(t,n){t.exports=e},"tui-code-snippet":
/*!******************************************************************************************************************************!*\
        !*** external {"commonjs":"tui-code-snippet","commonjs2":"tui-code-snippet","amd":"tui-code-snippet","root":["tui","util"]} ***!
        \******************************************************************************************************************************/
/*! no static exports found */
function(e,n){e.exports=t},"tui-color-picker":
/*!*************************************************************************************************************************************!*\
        !*** external {"commonjs":"tui-color-picker","commonjs2":"tui-color-picker","amd":"tui-color-picker","root":["tui","colorPicker"]} ***!
        \*************************************************************************************************************************************/
/*! no static exports found */
function(e,t){e.exports=n}})},e.exports=i(n(4).fabric,n(43),n(44))},function(e,t,n){
/*!
 * tui-code-snippet.js
 * @version 1.5.2
 * @author NHN. FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="dist",n(0)}([function(e,t,n){"use strict";var i={},r=n(1),o=r.extend;o(i,r),o(i,n(3)),o(i,n(2)),o(i,n(4)),o(i,n(5)),o(i,n(6)),o(i,n(7)),o(i,n(8)),o(i,n(9)),i.browser=n(10),i.popup=n(11),i.formatDate=n(12),i.defineClass=n(13),i.defineModule=n(14),i.defineNamespace=n(15),i.CustomEvents=n(16),i.Enum=n(17),i.ExMap=n(18),i.HashMap=n(20),i.Map=n(19),e.exports=i},function(e,t,n){"use strict";var i=n(2),r=n(3),o=0;function a(e,t){var n,o=[],s=[];if(isNaN(e)&&isNaN(t)&&i.isNumber(e)&&i.isNumber(t))return!0;if(e===t)return!0;if(i.isFunction(e)&&i.isFunction(t)||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return e.toString()===t.toString();if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e)||e.constructor!==t.constructor||e.prototype!==t.prototype)return!1;if(r.inArray(e,o)>-1||r.inArray(t,s)>-1)return!1;for(n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!=typeof e[n])return!1}for(n in e){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!=typeof e[n])return!1;if("object"==typeof e[n]||"function"==typeof e[n]){if(o.push(e),s.push(t),!a(e[n],t[n]))return!1;o.pop(),s.pop()}else if(e[n]!==t[n])return!1}return!0}function s(e,t){for(var n=arguments,r=n[0],o=1,a=n.length;o<a;o+=1){if(i.isUndefined(r)||i.isNull(r))return;r=r[n[o]]}return r}e.exports={extend:function(e,t){var n,i,r,o,a=Object.prototype.hasOwnProperty;for(r=1,o=arguments.length;r<o;r+=1)for(i in n=arguments[r])a.call(n,i)&&(e[i]=n[i]);return e},stamp:function(e){return e.__fe_id||(o+=1,e.__fe_id=o),e.__fe_id},hasStamp:function(e){return i.isExisty(s(e,"__fe_id"))},resetLastId:function(){o=0},keys:Object.prototype.keys||function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},compareJSON:function(e){var t=arguments.length,n=1;if(t<1)return!0;for(;n<t;n+=1)if(!a(e,arguments[n]))return!1;return!0},pick:s}},function(e,t){"use strict";var n=Object.prototype.toString;function i(e){return!r(e)&&!o(e)}function r(e){return void 0===e}function o(e){return null===e}function a(e){return i(e)&&!1!==e}function s(e){return i(e)&&("[object Arguments]"===n.call(e)||!!e.callee)}function l(e){return e instanceof Array}function c(e){return e===Object(e)}function u(e){return e instanceof Function}function d(e){return"string"==typeof e||e instanceof String}function h(e){return!(i(e)&&!function(e){return d(e)&&""===e}(e)&&(l(e)||s(e)?0!==e.length:c(e)&&!u(e)&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(e)))}e.exports={isExisty:i,isUndefined:r,isNull:o,isTruthy:a,isFalsy:function(e){return!a(e)},isArguments:s,isArray:l,isArraySafe:function(e){return"[object Array]"===n.call(e)},isObject:c,isFunction:u,isFunctionSafe:function(e){return"[object Function]"===n.call(e)},isNumber:function(e){return"number"==typeof e||e instanceof Number},isNumberSafe:function(e){return"[object Number]"===n.call(e)},isDate:function(e){return e instanceof Date},isDateSafe:function(e){return"[object Date]"===n.call(e)},isString:d,isStringSafe:function(e){return"[object String]"===n.call(e)},isBoolean:function(e){return"boolean"==typeof e||e instanceof Boolean},isBooleanSafe:function(e){return"[object Boolean]"===n.call(e)},isHTMLNode:function(e){return"object"==typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!(!e||!e.nodeType)},isHTMLTag:function(e){return"object"==typeof HTMLElement?e&&e instanceof HTMLElement:!(!e||!e.nodeType||1!==e.nodeType)},isEmpty:h,isNotEmpty:function(e){return!h(e)}}},function(e,t,n){"use strict";var i,r=n(4),o=n(2),a=Array.prototype.slice;i={inArray:function(e,t,n){var i,r;if(n=n||0,!o.isArray(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(r=t.length,i=n;n>=0&&i<r;i+=1)if(t[i]===e)return i;return-1},range:function(e,t,n){var i,r=[];for(o.isUndefined(t)&&(t=e||0,e=0),t*=i=(n=n||1)<0?-1:1;e*i<t;e+=n)r.push(e);return r},zip:function(){var e=a.call(arguments),t=[];return r.forEach(e,(function(e){r.forEach(e,(function(e,n){t[n]||(t[n]=[]),t[n].push(e)}))})),t}},e.exports=i},function(e,t,n){"use strict";var i=n(2),r=n(1);function o(e,t,n){var i=0,r=e.length;for(n=n||null;i<r&&!1!==t.call(n,e[i],i,e);i+=1);}function a(e,t,n){var i;for(i in n=n||null,e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))break}function s(e,t,n){i.isArray(e)?o(e,t,n):a(e,t,n)}function l(e,t,n){var i=[];return n=n||null,s(e,(function(){i.push(t.apply(n,arguments))})),i}e.exports={forEachOwnProperties:a,forEachArray:o,forEach:s,toArray:function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],o(e,(function(e){t.push(e)}))}return t},map:l,reduce:function(e,t,n){var o,a,s,l=0;for(n=n||null,i.isArray(e)?(a=e.length,s=e[l]):(a=(o=r.keys(e)).length,s=e[o[l+=1]]),l+=1;l<a;l+=1)s=t.call(n,s,e[o?o[l]:l]);return s},filter:function(e,t,n){var r,o;if(n=n||null,!i.isObject(e)||!i.isFunction(t))throw new Error("wrong parameter");return i.isArray(e)?(r=[],o=function(e,t){e.push(t[0])}):(r={},o=function(e,t){e[t[1]]=t[0]}),s(e,(function(){t.apply(n,arguments)&&o(r,arguments)}),n),r},pluck:function(e,t){return l(e,(function(e){return e[t]}))}}},function(e,t){"use strict";e.exports={bind:function(e,t){var n,i=Array.prototype.slice;return e.bind?e.bind.apply(e,i.call(arguments,1)):(n=i.call(arguments,2),function(){return e.apply(t,n.length?n.concat(i.call(arguments)):arguments)})}}},function(e,t){"use strict";function n(e){function t(){}return t.prototype=e,new t}e.exports={createObject:n,inherit:function(e,t){var i=n(t.prototype);i.constructor=e,e.prototype=i}}},function(e,t,n){"use strict";var i=n(4),r=n(1);e.exports={decodeHTMLEntity:function(e){var t={"&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&nbsp;":" "};return e.replace(/&amp;|&lt;|&gt;|&quot;|&#39;|&nbsp;/g,(function(e){return t[e]?t[e]:e}))},encodeHTMLEntity:function(e){var t={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};return e.replace(/[<>&"']/g,(function(e){return t[e]?"&"+t[e]+";":e}))},hasEncodableString:function(e){return/[<>&"']/.test(e)},getDuplicatedChar:function(e,t){for(var n,o=0,a=e.length,s={};o<a;o+=1)s[n=e.charAt(o)]=1;for(o=0,a=t.length;o<a;o+=1)s[n=t.charAt(o)]&&(s[n]+=1);return s=i.filter(s,(function(e){return e>1})),(s=r.keys(s).sort()).join("")}}},function(e,t){"use strict";var n={},i=Array.prototype.slice;n.timestamp=function(){return Number(new Date)},n.debounce=function(e,t){var n,r;return t=t||0,function(){r=i.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,r)}),t)}},n.throttle=function(e,t){var r,o,a,s,l=!0,c=function(t){e.apply(null,t),r=null};function u(){if(s=i.call(arguments),l)return c(s),void(l=!1);a=n.timestamp(),r=r||a,o(s),a-r>=t&&c(s)}return t=t||0,o=n.debounce(c,t),u.reset=function(){l=!0,r=null},u},e.exports=n},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(2);function a(e,t){var n=r.map(i.keys(t),(function(e,n){return(0===n?"":"&")+e+"="+t[e]})).join(""),o=document.createElement("img");return o.src=e+"?"+n,o.style.display="none",document.body.appendChild(o),document.body.removeChild(o),o}e.exports={imagePing:a,sendHostname:function(e,t){var n=location.hostname,i="TOAST UI "+e+" for "+n+": Statistics",r=window.localStorage.getItem(i);(o.isUndefined(window.tui)||!1!==window.tui.usageStatistics)&&(r&&!function(e){return(new Date).getTime()-e>6048e5}(r)||(window.localStorage.setItem(i,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||a("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}}},function(e,t){"use strict";var n,i,r,o,a,s,l,c,u,d,h={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};window&&window.navigator&&(r=window.navigator,o=r.appName.replace(/\s/g,"_"),a=r.userAgent,s=/MSIE\s([0-9]+[.0-9]*)/,l=/Trident.*rv:11\./,c=/Edge\/(\d+)\./,u={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},(d={Microsoft_Internet_Explorer:function(){var e=a.match(s);e?(h.msie=!0,h.version=parseFloat(e[1])):h.others=!0},Netscape:function(){var e=!1;if(l.exec(a))h.msie=!0,h.version=11,e=!0;else if(c.exec(a))h.edge=!0,h.version=a.match(c)[1],e=!0;else for(n in u)if(u.hasOwnProperty(n)&&(i=a.match(u[n]))&&i.length>1){h[n]=e=!0,h.version=parseFloat(i[1]||0);break}e||(h.others=!0)}})[o]&&d[o]()),e.exports=h},function(e,t,n){"use strict";var i=n(4),r=n(2),o=n(5),a=n(10),s=n(1),l=0;function c(){this.openedPopup={},this.closeWithParentPopup={},this.postBridgeUrl=""}c.prototype.getPopupList=function(e){return r.isExisty(e)?this.openedPopup[e]:this.openedPopup},c.prototype.openPopup=function(e,t){var n,i,c;if((t=s.extend({popupName:"popup_"+l+"_"+Number(new Date),popupOptionStr:"",useReload:!0,closeWithParent:!0,method:"get",param:{}},t||{})).method=t.method.toUpperCase(),this.postBridgeUrl=t.postBridgeUrl||this.postBridgeUrl,c="POST"===t.method&&t.param&&a.msie&&11===a.version,!r.isExisty(e))throw new Error("Popup#open() need popup url.");l+=1,t.param&&("GET"===t.method?e=e+(/\?/.test(e)?"&":"?")+this._parameterize(t.param):"POST"===t.method&&(c||(i=this.createForm(e,t.param,t.method,t.popupName),e="about:blank"))),n=this.openedPopup[t.popupName],r.isExisty(n)?n.closed?this.openedPopup[t.popupName]=n=this._open(c,t.param,e,t.popupName,t.popupOptionStr):(t.useReload&&n.location.replace(e),n.focus()):this.openedPopup[t.popupName]=n=this._open(c,t.param,e,t.popupName,t.popupOptionStr),this.closeWithParentPopup[t.popupName]=t.closeWithParent,(!n||n.closed||r.isUndefined(n.closed))&&alert("please enable popup windows for this website"),t.param&&"POST"===t.method&&!c&&(n&&i.submit(),i.parentNode&&i.parentNode.removeChild(i)),window.onunload=o.bind(this.closeAllPopup,this)},c.prototype.close=function(e,t){var n=t||window;(e=!!r.isExisty(e)&&e)&&(window.onunload=null),n.closed||(n.opener=window.location.href,n.close())},c.prototype.closeAllPopup=function(e){var t=r.isExisty(e);i.forEachOwnProperties(this.openedPopup,(function(e,n){(t&&this.closeWithParentPopup[n]||!t)&&this.close(!1,e)}),this)},c.prototype.focus=function(e){this.getPopupList(e).focus()},c.prototype.parseQuery=function(){var e,t,n={};return e=window.location.search.substr(1),i.forEachArray(e.split("&"),(function(e){t=e.split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])})),n},c.prototype.createForm=function(e,t,n,r,o){var a,s=document.createElement("form");return o=o||document.body,s.method=n||"POST",s.action=e||"",s.target=r||"",s.style.display="none",i.forEachOwnProperties(t,(function(e,t){(a=document.createElement("input")).name=t,a.type="hidden",a.value=e,s.appendChild(a)})),o.appendChild(s),s},c.prototype._parameterize=function(e){var t=[];return i.forEachOwnProperties(e,(function(e,n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})),t.join("&")},c.prototype._open=function(e,t,n,i,r){var o;return e?(o=window.open(this.postBridgeUrl,i,r),setTimeout((function(){o.redirect(n,t)}),100)):o=window.open(n,i,r),o},e.exports=new c},function(e,t,n){"use strict";var i=n(2),r=n(1),o=/[\\]*YYYY|[\\]*YY|[\\]*MMMM|[\\]*MMM|[\\]*MM|[\\]*M|[\\]*DD|[\\]*D|[\\]*HH|[\\]*H|[\\]*A/gi,a=["Invalid month","January","February","March","April","May","June","July","August","September","October","November","December"],s=[0,31,28,31,30,31,30,31,31,30,31,30,31],l={M:function(e){return Number(e.month)},MM:function(e){var t=e.month;return Number(t)<10?"0"+t:t},MMM:function(e){return a[Number(e.month)].substr(0,3)},MMMM:function(e){return a[Number(e.month)]},D:function(e){return Number(e.date)},d:function(e){return l.D(e)},DD:function(e){var t=e.date;return Number(t)<10?"0"+t:t},dd:function(e){return l.DD(e)},YY:function(e){return Number(e.year)%100},yy:function(e){return l.YY(e)},YYYY:function(e){var t="20",n=e.year;return n>69&&n<100&&(t="19"),Number(n)<100?t+String(n):n},yyyy:function(e){return l.YYYY(e)},A:function(e){return e.meridiem},a:function(e){return e.meridiem},hh:function(e){var t=e.hour;return Number(t)<10?"0"+t:t},HH:function(e){return l.hh(e)},h:function(e){return String(Number(e.hour))},H:function(e){return l.h(e)},m:function(e){return String(Number(e.minute))},mm:function(e){var t=e.minute;return Number(t)<10?"0"+t:t}};e.exports=function(e,t,n){var a,c,u=r.pick(n,"meridiemSet","AM")||"AM",d=r.pick(n,"meridiemSet","PM")||"PM";return!!function(e,t,n){var i;return e=Number(e),t=Number(t),n=Number(n),(e>-1&&e<100||e>1969&&e<2070)&&t>0&&t<13&&(i=s[t],2===t&&e%4==0&&(e%100==0&&e%400!=0||(i=29)),n>0&&n<=i)}((c=i.isDate(t)?{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hour:t.getHours(),minute:t.getMinutes()}:{year:t.year,month:t.month,date:t.date,hour:t.hour,minute:t.minute}).year,c.month,c.date)&&(c.meridiem="",/([^\\]|^)[aA]\b/.test(e)&&(a=c.hour>11?d:u,c.hour>12&&(c.hour%=12),0===c.hour&&(c.hour=12),c.meridiem=a),e.replace(o,(function(e){return e.indexOf("\\")>-1?e.replace(/\\/,""):l[e](c)||""})))}},function(e,t,n){"use strict";var i=n(6).inherit,r=n(1).extend;e.exports=function(e,t){var n;return t||(t=e,e=null),n=t.init||function(){},e&&i(n,e),t.hasOwnProperty("static")&&(r(n,t.static),delete t.static),r(n.prototype,t),n}},function(e,t,n){"use strict";var i=n(15),r=n(2);e.exports=function(e,t){var n=t||{};return r.isFunction(n.initialize)&&n.initialize(),i(e,n)}},function(e,t,n){"use strict";var i=n(4),r=n(1);e.exports=function(e,t,n){var o,a,s;return(o=e.split(".")).unshift(window),a=i.reduce(o,(function(e,t){return e[t]=e[t]||{},e[t]})),n?(s=o.pop(),a=r.pick.apply(null,o)[s]=t):r.extend(a,t),a}},function(e,t,n){"use strict";var i=n(4),r=n(2),o=n(1),a=/\s+/g;function s(){this.events=null,this.contexts=null}s.mixin=function(e){o.extend(e.prototype,s.prototype)},s.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},s.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},s.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},s.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},s.prototype._memorizeContext=function(e){var t,n;r.isExisty(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},s.prototype._forgetContext=function(e){var t,n;r.isExisty(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},s.prototype._bindEvent=function(e,t,n){var i=this._safeEvent(e);this._memorizeContext(n),i.push(this._getHandlerItem(t,n))},s.prototype.on=function(e,t,n){var o=this;r.isString(e)?(e=e.split(a),i.forEach(e,(function(e){o._bindEvent(e,t,n)}))):r.isObject(e)&&(n=t,i.forEach(e,(function(e,t){o.on(t,e,n)})))},s.prototype.once=function(e,t,n){var o=this;if(r.isObject(e))return n=t,void i.forEach(e,(function(e,t){o.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),o.off(e,i,n)}),n)},s.prototype._spliceMatches=function(e,t){var n,i=0;if(r.isArray(e))for(n=e.length;i<n;i+=1)!0===t(e[i])&&(e.splice(i,1),n-=1,i-=1)},s.prototype._matchHandler=function(e){var t=this;return function(n){var i=e===n.handler;return i&&t._forgetContext(n.context),i}},s.prototype._matchContext=function(e){var t=this;return function(n){var i=e===n.context;return i&&t._forgetContext(n.context),i}},s.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(i){var r=e===i.handler,o=t===i.context,a=r&&o;return a&&n._forgetContext(i.context),a}},s.prototype._offByEventName=function(e,t){var n=this,o=i.forEachArray,s=r.isFunction(t),l=n._matchHandler(t);e=e.split(a),o(e,(function(e){var t=n._safeEvent(e);s?n._spliceMatches(t,l):(o(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},s.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);i.forEach(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},s.prototype._offByObject=function(e,t){var n,o=this;this._indexOfContext(e)<0?i.forEach(e,(function(e,t){o.off(t,e)})):r.isString(t)?(n=this._matchContext(e),o._spliceMatches(this._safeEvent(t),n)):r.isFunction(t)?(n=this._matchHandlerAndContext(t,e),i.forEach(this._safeEvent(),(function(e){o._spliceMatches(e,n)}))):(n=this._matchContext(e),i.forEach(this._safeEvent(),(function(e){o._spliceMatches(e,n)})))},s.prototype.off=function(e,t){r.isString(e)?this._offByEventName(e,t):arguments.length?r.isFunction(e)?this._offByHandler(e):r.isObject(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},s.prototype.fire=function(e){this.invoke.apply(this,arguments)},s.prototype.invoke=function(e){var t,n,i,r;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),i=0;t[i];){if(!1===(r=t[i]).handler.apply(r.context,n))return!1;i+=1}return!0},s.prototype.hasListener=function(e){return this.getListenerLength(e)>0},s.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=s},function(e,t,n){"use strict";var i=n(4),r=n(2),o=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}(),a=0;function s(e){e&&this.set.apply(this,arguments)}s.prototype.set=function(e){var t=this;r.isArray(e)||(e=i.toArray(arguments)),i.forEach(e,(function(e){t._addItem(e)}))},s.prototype.getName=function(e){var t,n=this;return i.forEach(this,(function(i,r){if(n._isEnumItem(r)&&e===i)return t=r,!1})),t},s.prototype._addItem=function(e){var t;this.hasOwnProperty(e)||(t=this._makeEnumValue(),o?Object.defineProperty(this,e,{enumerable:!0,configurable:!1,writable:!1,value:t}):this[e]=t)},s.prototype._makeEnumValue=function(){var e;return e=a,a+=1,e},s.prototype._isEnumItem=function(e){return r.isNumber(this[e])},e.exports=s},function(e,t,n){"use strict";var i=n(4),r=n(19);function o(e){this._map=new r(e),this.size=this._map.size}i.forEachArray(["get","has","forEach","keys","values","entries"],(function(e){o.prototype[e]=function(){return this._map[e].apply(this._map,arguments)}})),i.forEachArray(["delete","clear"],(function(e){o.prototype[e]=function(){var t=this._map[e].apply(this._map,arguments);return this.size=this._map.size,t}})),o.prototype.set=function(){return this._map.set.apply(this._map,arguments),this.size=this._map.size,this},o.prototype.setObject=function(e){i.forEachOwnProperties(e,(function(e,t){this.set(t,e)}),this)},o.prototype.deleteByKeys=function(e){i.forEachArray(e,(function(e){this.delete(e)}),this)},o.prototype.merge=function(e){e.forEach((function(e,t){this.set(t,e)}),this)},o.prototype.filter=function(e){var t=new o;return this.forEach((function(n,i){e(n,i)&&t.set(i,n)})),t},e.exports=o},function(e,t,n){"use strict";var i=n(4),r=n(2),o=n(3),a=n(10),s=n(5),l={},c={};function u(e,t){this._keys=e,this._valueGetter=t,this._length=this._keys.length,this._index=-1,this._done=!1}function d(e){this._valuesForString={},this._valuesForIndex={},this._keys=[],e&&this._setInitData(e),this.size=0}u.prototype.next=function(){var e={};do{this._index+=1}while(r.isUndefined(this._keys[this._index])&&this._index<this._length);return this._index>=this._length?e.done=!0:(e.done=!1,e.value=this._valueGetter(this._keys[this._index],this._index)),e},d.prototype._setInitData=function(e){if(!r.isArray(e))throw new Error("Only Array is supported.");i.forEachArray(e,(function(e){this.set(e[0],e[1])}),this)},d.prototype._isNaN=function(e){return"number"==typeof e&&e!=e},d.prototype._getKeyIndex=function(e){var t,n=-1;return r.isString(e)?(t=this._valuesForString[e])&&(n=t.keyIndex):n=o.inArray(e,this._keys),n},d.prototype._getOriginKey=function(e){var t=e;return e===l?t=void 0:e===c&&(t=NaN),t},d.prototype._getUniqueKey=function(e){var t=e;return r.isUndefined(e)?t=l:this._isNaN(e)&&(t=c),t},d.prototype._getValueObject=function(e,t){return r.isString(e)?this._valuesForString[e]:(r.isUndefined(t)&&(t=this._getKeyIndex(e)),t>=0?this._valuesForIndex[t]:void 0)},d.prototype._getOriginValue=function(e,t){return this._getValueObject(e,t).origin},d.prototype._getKeyValuePair=function(e,t){return[this._getOriginKey(e),this._getOriginValue(e,t)]},d.prototype._createValueObject=function(e,t){return{keyIndex:t,origin:e}},d.prototype.set=function(e,t){var n,i=this._getUniqueKey(e),o=this._getKeyIndex(i);return o<0&&(o=this._keys.push(i)-1,this.size+=1),n=this._createValueObject(t,o),r.isString(e)?this._valuesForString[e]=n:this._valuesForIndex[o]=n,this},d.prototype.get=function(e){var t=this._getUniqueKey(e),n=this._getValueObject(t);return n&&n.origin},d.prototype.keys=function(){return new u(this._keys,s.bind(this._getOriginKey,this))},d.prototype.values=function(){return new u(this._keys,s.bind(this._getOriginValue,this))},d.prototype.entries=function(){return new u(this._keys,s.bind(this._getKeyValuePair,this))},d.prototype.has=function(e){return!!this._getValueObject(e)},d.prototype.delete=function(e){var t;r.isString(e)?this._valuesForString[e]&&(t=this._valuesForString[e].keyIndex,delete this._valuesForString[e]):(t=this._getKeyIndex(e))>=0&&delete this._valuesForIndex[t],t>=0&&(delete this._keys[t],this.size-=1)},d.prototype.forEach=function(e,t){t=t||this,i.forEachArray(this._keys,(function(n){r.isUndefined(n)||e.call(t,this._getValueObject(n).origin,n,this)}),this)},d.prototype.clear=function(){d.call(this)},window.Map&&(a.firefox&&a.version>=37||a.chrome&&a.version>=42)&&(d=window.Map),e.exports=d},function(e,t,n){"use strict";var i=n(4),r=n(2);function o(e){this.length=0,e&&this.setObject(e)}o.prototype.set=function(e,t){2===arguments.length?this.setKeyValue(e,t):this.setObject(e)},o.prototype.setKeyValue=function(e,t){this.has(e)||(this.length+=1),this[this.encodeKey(e)]=t},o.prototype.setObject=function(e){var t=this;i.forEachOwnProperties(e,(function(e,n){t.setKeyValue(n,e)}))},o.prototype.merge=function(e){var t=this;e.each((function(e,n){t.setKeyValue(n,e)}))},o.prototype.encodeKey=function(e){return"å"+e},o.prototype.decodeKey=function(e){var t=e.split("å");return t[t.length-1]},o.prototype.get=function(e){return this[this.encodeKey(e)]},o.prototype.has=function(e){return this.hasOwnProperty(this.encodeKey(e))},o.prototype.remove=function(e){return arguments.length>1&&(e=i.toArray(arguments)),r.isArray(e)?this.removeByKeyArray(e):this.removeByKey(e)},o.prototype.removeByKey=function(e){var t=this.has(e)?this.get(e):null;return null!==t&&(delete this[this.encodeKey(e)],this.length-=1),t},o.prototype.removeByKeyArray=function(e){var t=[],n=this;return i.forEach(e,(function(e){t.push(n.removeByKey(e))})),t},o.prototype.removeAll=function(){var e=this;this.each((function(t,n){e.remove(n)}))},o.prototype.each=function(e){var t,n=this;i.forEachOwnProperties(this,(function(i,r){if("å"===r.charAt(0)&&(t=e(i,n.decodeKey(r))),!1===t)return t}))},o.prototype.keys=function(){var e=[],t=this;return this.each((function(n,i){e.push(t.decodeKey(i))})),e},o.prototype.find=function(e){var t=[];return this.each((function(n,i){e(n,i)&&t.push(n)})),t},o.prototype.toArray=function(){var e=[];return this.each((function(t){e.push(t)})),e},e.exports=o}])},e.exports=i()},function(e,t,n){
/*!
 * TOAST UI Color Picker
 * @version 2.2.7
 * @author NHN FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */
var i;window,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=33)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,a=Object.prototype.hasOwnProperty;for(r=1,o=arguments.length;r<o;r+=1)for(i in n=arguments[r])a.call(n,i)&&(e[i]=n[i]);return e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(7);e.exports=function(e,t,n){i(e)?r(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var i=n(22),r=n(2),o=n(6),a=n(7),s=n(37),l=0,c={getLength:function(e){var t=0;return a(e,(function(){t+=1})),t},map:function(e,t,n){var i=[];return r(e,(function(){i.push(t.apply(n||null,arguments))})),i},filter:function(e,t,n){var i=[];return o(e,(function(e){t.apply(n||null,arguments)&&i.push(e)})),i},generateId:function(){return l+=1},isOldBrowser:i.msie&&i.version<9,sendHostName:function(){s("color-picker","UA-129987462-1")}};e.exports=c},function(e,t,n){"use strict";var i=n(1);e.exports=function(e,t,n){var r,o;if(n=n||0,!i(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,r=n;n>=0&&r<o;r+=1)if(t[r]===e)return r;return-1}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=0,r=e.length;for(n=n||null;i<r&&!1!==t.call(n,e[i],i,e);i+=1);}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i;for(i in n=n||null,e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))break}},function(e,t,n){"use strict";var i=n(39),r=n(13),o=n(41),a=n(3),s=n(9),l=n(19),c=n(4);function u(e,t){var n=c.generateId();e=e||{},a(t)&&(t=s.appendHTMLElement("div")),i(t,"tui-view-"+n),this.id=n,this.container=t,this.childs=new l((function(e){return e.id})),this.parent=null}u.prototype.addChild=function(e,t){t&&t.call(e,this),e.parent=this,this.childs.add(e)},u.prototype.removeChild=function(e,t){var n=o(e)?this.childs.items[e]:e;t&&t.call(n,this),this.childs.remove(n.id)},u.prototype.render=function(){this.childs.each((function(e){e.render()}))},u.prototype.recursive=function(e,t){r(e)&&(t||e(this),this.childs.each((function(t){t.recursive(e)})))},u.prototype.resize=function(){for(var e=Array.prototype.slice.call(arguments),t=this.parent;t;)r(t._onResize)&&t._onResize.apply(t,e),t=t.parent},u.prototype._beforeDestroy=function(){},u.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},u.prototype.destroy=function(e){this.childs&&(this.childs.each((function(e){e.destroy(!0),e._destroy()})),this.childs.clear()),e||this._destroy()},u.prototype.getViewBound=function(){var e=this.container.getBoundingClientRect();return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},e.exports=u},function(e,t,n){"use strict";var i={appendHTMLElement:function(e,t,n){var i=document.createElement(e);return i.className=n||"",t?t.appendChild(i):document.body.appendChild(i),i}};e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n(20),o=n(11),a=n(21),s=n(1),l=n(13),c=n(2),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){i(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;r(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;r(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var i=this._safeEvent(e);this._memorizeContext(n),i.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var i=this;o(e)?(e=e.split(u),c(e,(function(e){i._bindEvent(e,t,n)}))):a(e)&&(n=t,c(e,(function(e,t){i.on(t,e,n)})))},d.prototype.once=function(e,t,n){var i=this;if(a(e))return n=t,void c(e,(function(e,t){i.once(t,e,n)}));this.on(e,(function r(){t.apply(n,arguments),i.off(e,r,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,i=0;if(s(e))for(n=e.length;i<n;i+=1)!0===t(e[i])&&(e.splice(i,1),n-=1,i-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var i=e===n.handler;return i&&t._forgetContext(n.context),i}},d.prototype._matchContext=function(e){var t=this;return function(n){var i=e===n.context;return i&&t._forgetContext(n.context),i}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(i){var r=e===i.handler,o=t===i.context,a=r&&o;return a&&n._forgetContext(i.context),a}},d.prototype._offByEventName=function(e,t){var n=this,i=l(t),r=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);i?n._spliceMatches(t,r):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,i=this;this._indexOfContext(e)<0?c(e,(function(e,t){i.off(t,e)})):o(t)?(n=this._matchContext(e),i._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){i._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){i._spliceMatches(e,n)})))},d.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,i,r;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),i=0;t[i];){if(!1===(r=t[i]).handler.apply(r.context,n))return!1;i+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t,n){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,n){"use strict";var i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,r={leadingZero:function(e,t){var n="",i=0;if((e+"").length>t)return e+"";for(;i<t-1;i+=1)n+="0";return(n+e).slice(-1*t)},isValidRGB:function(e){return i.test(e)},
// @license RGB <-> HSV conversion utilities based off of http://www.cs.rit.edu/~ncs/color/t_convert.html
hexToRGB:function(e){return!!r.isValidRGB(e)&&(e=e.substring(1),[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)])},rgbToHEX:function(e,t,n){var i="#"+r.leadingZero(e.toString(16),2)+r.leadingZero(t.toString(16),2)+r.leadingZero(n.toString(16),2);return!!r.isValidRGB(i)&&i},rgbToHSV:function(e,t,n){var i,r,o,a,s,l;if(e/=255,t/=255,n/=255,s=i=Math.max(e,t,n),l=i-(r=Math.min(e,t,n)),a=0===i?0:l/i,i===r)o=0;else{switch(i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*s)]},hsvToRGB:function(e,t,n){var i,r,o,a,s,l,c,u;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),n=Math.max(0,Math.min(100,n)),n/=100,0==(t/=100))return i=r=o=n,[Math.round(255*i),Math.round(255*r),Math.round(255*o)];switch(l=n*(1-t),c=n*(1-t*(s=(e/=60)-(a=Math.floor(e)))),u=n*(1-t*(1-s)),a){case 0:i=n,r=u,o=l;break;case 1:i=c,r=n,o=l;break;case 2:i=l,r=n,o=u;break;case 3:i=l,r=c,o=n;break;case 4:i=u,r=l,o=n;break;default:i=n,r=l,o=c}return[Math.round(255*i),Math.round(255*r),Math.round(255*o)]}};e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var i=n(11),r=n(2),o=n(26);function a(e,t,n,i){function a(t){n.call(i||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,a):"attachEvent"in e&&e.attachEvent("on"+t,a),function(e,t,n,i){var a=o(e,t),s=!1;r(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:i})}(e,t,n,a)}e.exports=function(e,t,n,o){i(t)?r(t.split(/\s+/g),(function(t){a(e,t,n,o)})):r(t,(function(t,i){a(e,i,t,n)}))}},function(e,t,n){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}},function(e,t,n){"use strict";var i=n(11),r=n(2),o=n(26);function a(e,t,n){var i,a=o(e,t);n?(r(a,(function(r,o){return n!==r.handler||(s(e,t,r.wrappedHandler),i=o,!1)})),a.splice(i,1)):(r(a,(function(n){s(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function s(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){i(t)?r(t.split(/\s+/g),(function(t){a(e,t,n)})):r(t,(function(t,n){a(e,n,t)}))}},function(e,t,n){"use strict";var i=n(50);e.exports=function(e,t){var n=i(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";var i=n(6),r=n(7),o=n(0),a=n(1),s=n(20),l=n(13),c=n(21),u=n(4),d=Array.prototype.slice;function h(e){this.items={},this.length=0,l(e)&&(this.getItemID=e)}h.and=function(e){var t;return e=d.call(arguments),t=e.length,function(n){for(var i=0;i<t;i+=1)if(!e[i].call(null,n))return!1;return!0}},h.or=function(e){var t;return e=d.call(arguments),t=e.length,function(n){for(var i=1,r=e[0].call(null,n);i<t;i+=1)r=r||e[i].call(null,n);return r}},h.merge=function(e){var t={},n=new h(e.getItemID);return i(arguments,(function(e){o(t,e.items)})),n.items=t,n.length=u.getLength(n.items),n},h.prototype.getItemID=function(e){return e._id+""},h.prototype.add=function(e){var t,n;arguments.length>1?i(d.call(arguments),(function(e){this.add(e)}),this):(t=this.getItemID(e),(n=this.items)[t]||(this.length+=1),n[t]=e)},h.prototype.remove=function(e){var t,n,i=[];return this.length?arguments.length>1?i=u.map(d.call(arguments),(function(e){return this.remove(e)}),this):(t=this.items,c(e)&&(e=this.getItemID(e)),t[e]?(this.length-=1,n=t[e],delete t[e],n):i):i},h.prototype.clear=function(){this.items={},this.length=0},h.prototype.has=function(e){var t,n;return!!this.length&&(t=l(e),n=!1,t?this.each((function(t){return!0!==e(t)||(n=!0,!1)})):(e=c(e)?this.getItemID(e):e,n=s(this.items[e])),n)},h.prototype.doWhenHas=function(e,t,n){var i=this.items[e];s(i)&&t.call(n||this,i)},h.prototype.find=function(e){var t=new h;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.each((function(n){!0===e(n)&&t.add(n)})),t},h.prototype.groupBy=function(e,t){var n,r,o={},s=l(e),c=this.getItemID;if(a(e)){if(i(e,(function(e){o[e+""]=new h(c)})),!t)return o;e=t,s=!0}return this.each((function(t){s?r=e(t):(r=t[e],l(r)&&(r=r.apply(t))),(n=o[r])||(n=o[r]=new h(c)),n.add(t)})),o},h.prototype.single=function(){var e;return this.each((function(t){return e=t,!1}),this),e},h.prototype.sort=function(e){var t=[];return this.each((function(e){t.push(e)})),l(e)&&(t=t.sort(e)),t},h.prototype.each=function(e,t){r(this.items,e,t||this)},h.prototype.toArray=function(){return this.length?u.map(this.items,(function(e){return e})):[]},e.exports=h},function(e,t,n){"use strict";var i=n(3),r=n(36);e.exports=function(e){return!i(e)&&!r(e)}},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";var i,r,o,a,s,l,c,u,d,h,p={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!=typeof window&&window.navigator&&(o=window.navigator,a=o.appName.replace(/\s/g,"_"),s=o.userAgent,l=/MSIE\s([0-9]+[.0-9]*)/,c=/Trident.*rv:11\./,u=/Edge\/(\d+)\./,d={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},(h={Microsoft_Internet_Explorer:function(){var e=s.match(l);e?(p.msie=!0,p.version=parseFloat(e[1])):p.others=!0},Netscape:function(){var e=!1;if(c.exec(s))p.msie=!0,p.version=11,e=!0;else if(u.exec(s))p.edge=!0,p.version=s.match(u)[1],e=!0;else for(i in d)if(d.hasOwnProperty(i)&&(r=s.match(d[i]))&&r.length>1){p[i]=e=!0,p.version=parseFloat(r[1]||0);break}e||(p.others=!0)}})[a]&&h[a]()),e.exports=p},function(e,t,n){"use strict";var i=n(3);e.exports=function(e){return e&&e.className?i(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";(function(t){var i=n(10),r=n(42),o=n(44),a=n(47),s=n(28),l=n(17),c=n(14),u=n(15),d=n(0);function h(e,t){c(t,"mousedown",this._onMouseDown,this),this.options=d({distance:10},e),this.container=t,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}h.prototype.destroy=function(){l(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},h.prototype._toggleDragEvent=function(e){var n=this.container;e?(r(n),c(window,"dragstart",u),c(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(o(n),l(window,"dragstart",u),l(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},h.prototype._getEventData=function(e){return{target:s(e),originEvent:e}},h.prototype._onMouseDown=function(e){0===a(e)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(e),this._toggleDragEvent(!0))},h.prototype._onMouseMove=function(e){var t=this.options.distance;u(e),this._isMoved=!0,this._distance<t?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(e)):this._toggleDragEvent(!1)},h.prototype._onMouseUp=function(e){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(e));this.fire("click",this._getEventData(e))},i.mixin(h),e.exports=h}).call(this,n(25))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){var n,i=e._feEventKey;return i||(i=e._feEventKey={}),(n=i[t])||(n=i[t]=[]),n}},function(e,t,n){"use strict";e.exports=function(e){var t,n,i=document.documentElement.style;for(t=0,n=e.length;t<n;t+=1)if(e[t]in i)return e[t];return!1}},function(e,t,n){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,n){"use strict";var i=n(10),r=n(28),o=n(17),a=n(14),s=n(30),l=n(0),c=n(18),u=n(9),d=n(12),h=n(8),p=n(51);function f(e,t){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},e),t=u.appendHTMLElement("div",t,this.options.cssPrefix+"palette-container"),h.call(this,e,t)}c(f,h),f.prototype._onClick=function(e){var t=this.options,n=r(e),i={};if(s(n,t.cssPrefix+"palette-button"))return i.color=n.value,void this.fire("_selectColor",i);s(n,t.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},f.prototype._onChange=function(e){var t=this.options,n=r(e),i={};s(n,t.cssPrefix+"palette-hex")&&(i.color=n.value,this.fire("_selectColor",i))},f.prototype._beforeDestroy=function(){this._toggleEvent(!1)},f.prototype._toggleEvent=function(e){var t,n=this.options,i=this.container,r=e?a:o;r(i,"click",this._onClick,this),(t=i.querySelector("."+n.cssPrefix+"palette-hex",i))&&r(t,"change",this._onChange,this)},f.prototype.render=function(e){var t,n=this.options;this._toggleEvent(!1),t=p({cssPrefix:n.cssPrefix,preset:n.preset,detailTxt:n.detailTxt,color:e,isValidRGB:d.isValidRGB,getItemClass:function(e){return e?"":" "+n.cssPrefix+"color-transparent"},isSelected:function(t){return t===e?" "+n.cssPrefix+"selected":""}}),this.container.innerHTML=t,this._toggleEvent(!0)},i.mixin(f),e.exports=f},function(e,t,n){"use strict";var i=n(5),r=n(23);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=r(e).split(/\s+/),i(t,n)>-1)}},function(e,t,n){"use strict";var i=n(10),r=n(53),o=n(54),a=n(30),s=n(0),l=n(18),c=n(9),u=n(32),d=n(12),h=n(8),p=n(24),f=n(57),A=[-7,112],m=[-3,115];function g(e,t){(t=c.appendHTMLElement("div",t,e.cssPrefix+"slider-container")).style.display="none",h.call(this,e,t),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},e),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new p({distance:0},t),this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(g,h),g.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},g.prototype.toggle=function(e){this.container.style.display=e?"block":"none"},g.prototype.isVisible=function(){return"block"===this.container.style.display},g.prototype.render=function(e){var t,n,i=this.container,r=this.options,o=f.layout;d.isValidRGB(e)&&(o=(o=(o=(o=o.replace(/{{slider}}/,f.slider)).replace(/{{huebar}}/,f.huebar)).replace(/{{cssPrefix}}/g,r.cssPrefix)).replace(/{{id}}/g,r.id),this.container.innerHTML=o,this.sliderHandleElement=i.querySelector("."+r.cssPrefix+"slider-handle"),this.huebarHandleElement=i.querySelector("."+r.cssPrefix+"huebar-handle"),this.baseColorElement=i.querySelector("."+r.cssPrefix+"slider-basecolor"),t=d.hexToRGB(e),n=d.rgbToHSV.apply(null,t),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},g.prototype._moveColorSliderHandle=function(e,t,n){var i,r=this.sliderHandleElement;t=Math.max(A[0],t),t=Math.min(A[1],t),e=Math.max(A[0],e),e=Math.min(A[1],e),u.setTranslateXY(r,e,t),i=t>50?"white":"black",u.setStrokeColor(r,i),n||this.fire("_selectColor",{color:d.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveSaturationAndValue=function(e,t,n){var i,r,o,a;e=e||0,t=t||0,i=Math.abs(A[0]),o=e*(r=A[1])/100-i,a=r-t*r/100-i,this._moveColorSliderHandle(o,a,n)},g.prototype._moveColorSliderByPosition=function(e,t){var n=A[0];this._moveColorSliderHandle(e+n,t+n)},g.prototype.getSaturationAndValue=function(){var e=Math.abs(A[0]),t=e+A[1],n=u.getTranslateXY(this.sliderHandleElement);return[(n[1]+e)/t*100,100-(n[0]+e)/t*100]},g.prototype._moveHueHandle=function(e,t){var n,i,r=this.huebarHandleElement,o=this.baseColorElement;e=Math.max(m[0],e),e=Math.min(m[1],e),u.setTranslateY(r,e),n=d.hsvToRGB(this.getHue(),100,100),i=d.rgbToHEX.apply(null,n),u.setGradientColorStop(o,i),t||this.fire("_selectColor",{color:d.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveHue=function(e,t){var n,i;n=((i=Math.abs(m[0]))+m[1])*(e=e||0)/359.99-i,this._moveHueHandle(n,t)},g.prototype._moveHueByPosition=function(e){var t=m[0];this._moveHueHandle(e+t)},g.prototype.getHue=function(){var e,t,n=this.huebarHandleElement,i=u.getTranslateXY(n);return t=(e=Math.abs(m[0]))+m[1],359.99*(i[0]+e)/t},g.prototype.getHSV=function(){var e=this.getSaturationAndValue();return[this.getHue()].concat(e)},g.prototype.getRGB=function(){return d.hsvToRGB.apply(null,this.getHSV())},g.prototype._prepareColorSliderForMouseEvent=function(e){var t=this.options,n=o(e.target,"."+t.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:a(n,t.cssPrefix+"slider-left"),parentElement:n}},g.prototype._onClick=function(e){var t=this._prepareColorSliderForMouseEvent(e),n=r(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},g.prototype._onDragStart=function(e){this._prepareColorSliderForMouseEvent(e)},g.prototype._onDrag=function(e){var t=this._dragDataCache,n=r(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},g.prototype._onDragEnd=function(){this._dragDataCache=null},i.mixin(g),e.exports=g},function(e,t,n){"use strict";var i=n(4).isOldBrowser,r=/[\.\-0-9]+/g,o={getTranslateXY:function(e){var t;return i?(t=e.style,[parseFloat(t.top),parseFloat(t.left)]):(t=e.getAttribute("transform"))?(t=t.match(r),[parseFloat(t[1]),parseFloat(t[0])]):[0,0]},setTranslateXY:function(e,t,n){i?(e.style.left=t+"px",e.style.top=n+"px"):e.setAttribute("transform","translate("+t+","+n+")")},setTranslateY:function(e,t){i?e.style.top=t+"px":e.setAttribute("transform","translate(-6,"+t+")")},setStrokeColor:function(e,t){i?e.strokecolor=t:e.setAttribute("stroke",t)},setGradientColorStop:function(e,t){i?e.color=t:e.setAttribute("stop-color",t)}};e.exports=o},function(e,t,n){n(34),e.exports=n(35)},function(e,t,n){},function(e,t,n){"use strict";var i={Collection:n(19),View:n(8),Drag:n(24),create:n(48),Palette:n(29),Slider:n(31),colorutil:n(12),svgvml:n(32)};e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";var i=n(3),r=n(38);e.exports=function(e,t){var n=location.hostname,o="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(o);(i(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||r("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var i=n(7);e.exports=function(e,t){var n=document.createElement("img"),r="";return i(t,(function(e,t){r+="&"+t+"="+e})),r=r.substring(1),n.src=e+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){"use strict";var i=n(2),r=n(5),o=n(23),a=n(40);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?i(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),i(n,(function(e){r(e,l)<0&&l.push(e)})),a(e,l))}},function(e,t,n){"use strict";var i=n(1),r=n(3);e.exports=function(e,t){t=(t=i(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),r(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e){return"number"==typeof e||e instanceof Number}},function(e,t,n){"use strict";var i=n(14),r=n(15),o=n(43),a=n(27),s="onselectstart"in document,l=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),s?i(e,"selectstart",r):(e=e===document?document.documentElement:e,o(e,"prevUserSelect",e.style[l]),e.style[l]="none")}},function(e,t,n){"use strict";var i=n(16);e.exports=function(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+i(t),n)}},function(e,t,n){"use strict";var i=n(17),r=n(15),o=n(45),a=n(46),s=n(27),l="onselectstart"in document,c=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),l?i(e,"selectstart",r):((e=e===document?document.documentElement:e).style[c]=o(e,"prevUserSelect")||"auto",a(e,"prevUserSelect"))}},function(e,t,n){"use strict";var i=n(16);e.exports=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+i(t))}},function(e,t,n){"use strict";var i=n(16);e.exports=function(e,t){e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+i(t))}},function(e,t,n){"use strict";var i=n(22),r=n(5),o=["0","1","3","5","7"],a=["2","6"],s=["4"];e.exports=function(e){return i.msie&&i.version<=8?function(e){var t=String(e.button);return r(t,o)>-1?0:r(t,a)>-1?2:r(t,s)>-1?1:null}(e):e.button}},function(e,t,n){"use strict";var i=n(10),r=n(0),o=n(4),a=n(12),s=n(49),l=n(29),c=n(31),u=0;function d(e){var t;if(!(this instanceof d))return new d(e);if(!(e=this.options=r({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:u+=1,usageStatistics:!0},e)).container)throw new Error("ColorPicker(): need container option.");t=this.layout=new s(e,e.container),this.palette=new l(e,t.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(e,t.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),t.addChild(this.palette),t.addChild(this.slider),this.render(e.color),e.usageStatistics&&o.sendHostName()}d.prototype._onSelectColorInPalette=function(e){var t=e.color,n=this.options;a.isValidRGB(t)||""===t?(this.fire("selectColor",{color:t,origin:"palette"}),n.color!==t&&(n.color=t,this.render(t))):this.render()},d.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},d.prototype._onSelectColorInSlider=function(e){var t=e.color,n=this.options;this.fire("selectColor",{color:t,origin:"slider"}),n.color!==t&&(n.color=t,this.palette.render(t))},d.prototype.setColor=function(e){if(!a.isValidRGB(e))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=e,this.render(e)},d.prototype.getColor=function(){return this.options.color},d.prototype.toggle=function(e){this.layout.container.style.display=e?"block":"none"},d.prototype.render=function(e){this.layout.render(e||this.options.color)},d.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},i.mixin(d),e.exports=d},function(e,t,n){"use strict";var i=n(0),r=n(18),o=n(9),a=n(8);function s(e,t){this.options=i({cssPrefix:"tui-colorpicker-"},e),t=o.appendHTMLElement("div",t,this.options.cssPrefix+"container"),a.call(this,e,t),this.render()}r(s,a),s.prototype.render=function(e){this.recursive((function(t){t.render(e)}),!0)},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var i=n(52);e.exports=function(e){var t=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return i(t,e)}},function(e,t,n){"use strict";var i=n(5),r=n(2),o=n(1),a=n(11),s=n(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,d=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,p=/^["']\w+["']$/,f=/"|'/g,A=/^-?\d+\.?\d*$/,m={if:function(e,t,n){var i=function(e,t){var n=[e],i=[],o=0,a=0;return r(t,(function(e,r){0===e.indexOf("if")?o+=1:"/if"===e?o-=1:o||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),i.push(t.slice(a,r)),a=r+1)})),i.push(t.slice(a)),{exps:n,sourcesInsideIf:i}}(e,t),o=!1,a="";return r(i.exps,(function(e,t){return(o=y(e,n))&&(a=x(i.sourcesInsideIf[t],n)),!o})),a},each:function(e,t,n){var i=y(e,n),a=o(i)?"@index":"@key",l={},c="";return r(i,(function(e,i){l[a]=i,l["@this"]=e,s(n,l),c+=x(t.slice(),n)})),c},with:function(e,t,n){var r=i("as",e),o=e[r+1],a=y(e.slice(0,r),n),l={};return l[o]=a,x(t,s(n,l))||""}},g=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,i,r=[],o=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)i=n.index,r.push(e.slice(o,i)),o=i+n[0].length,n=t.exec(e);return r.push(e.slice(o)),r};function v(e,t){var n,i=t[e];return"true"===e?i=!0:"false"===e?i=!1:p.test(e)?i=e.replace(f,""):c.test(e)?i=v((n=e.split(u))[0],t)[v(n[1],t)]:d.test(e)?i=v((n=e.split(h))[0],t)[n[1]]:A.test(e)&&(i=parseFloat(e)),i}function b(e,t,n){for(var i,r,o,s,l=m[e],c=1,u=2,d=t[u];c&&a(d);)0===d.indexOf(e)?c+=1:0===d.indexOf("/"+e)&&(c-=1,i=u),d=t[u+=2];if(c)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=l(t[0].split(" ").slice(1),(r=0,o=i,(s=t.splice(r+1,o-r)).pop(),s),n),t}function y(e,t){var n=v(e[0],t);return n instanceof Function?function(e,t,n){var i=[];return r(t,(function(e){i.push(v(e,n))})),e.apply(null,i)}(n,e.slice(1),t):n}function x(e,t){for(var n,i,r,o=1,s=e[o];a(s);)i=(n=s.split(" "))[0],m[i]?(r=b(i,e.splice(o,e.length-o),t),e=e.concat(r)):e[o]=y(n,t),s=e[o+=2];return e.join("")}e.exports=function(e,t){return x(g(e,l),t)}},function(e,t,n){"use strict";var i=n(1);e.exports=function(e,t){var n,r=i(e),o=r?e[0]:e.clientX,a=r?e[1]:e.clientY;return t?[o-(n=t.getBoundingClientRect()).left-t.clientLeft,a-n.top-t.clientTop]:[o,a]}},function(e,t,n){"use strict";var i=n(55);e.exports=function(e,t){var n=e.parentNode;if(i(e,t))return e;for(;n&&n!==document;){if(i(n,t))return n;n=n.parentNode}return null}},function(e,t,n){"use strict";var i=n(5),r=n(56),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return i(this,r(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return a.call(e,t)}},function(e,t,n){"use strict";var i=n(6);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],i(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";(function(t){var i=n(4).isOldBrowser,r=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),o=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),a=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),s=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),l=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");i&&t.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),e.exports={layout:r,slider:i?a:o,huebar:i?l:s}}).call(this,n(25))}])},e.exports=i()},function(e,t,n){},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t);var a=n(2),s=n.n(a);function l(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){l(o,i,r,a,s,"next",e)}function s(e){l(o,i,r,a,s,"throw",e)}a(void 0)}))}}n(15);var u=n(1),d=n.n(u),h=n(5),p=n.n(h);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function A(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function x(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?v(e):t}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return E(this,n)}}var k=n(8),S=n.n(k),O=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(d.a.Component);O.memo=function(e,t){return e.value===t.value&&e.interpretation===t.interpretation},O.postprocess=function(e){return e};var M=n(0),T=function(e){_(i,e);var t,n=B(i);function i(){return b(this,i),n.apply(this,arguments)}return x(i,[{key:"render",value:function(){return Object(M.jsx)("div",{children:this.props.value})}}],[{key:"preprocess",value:(t=c(s.a.mark((function e(t,n,i){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,n,i){return t.apply(this,arguments)})}]),i}(d.a.Component),F=function(e){_(i,e);var t,n=B(i);function i(){return b(this,i),n.apply(this,arguments)}return x(i,null,[{key:"preprocess",value:(t=c(s.a.mark((function e(t,n,i){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:t,data:n+"/"+t,is_example:!0});case 1:case"end":return e.stop()}}),e)}))),function(e,n,i){return t.apply(this,arguments)})}]),i}(T),N=function(e){_(i,e);var t,n=B(i);function i(){return b(this,i),n.apply(this,arguments)}return x(i,null,[{key:"preprocess",value:(t=c(s.a.mark((function e(t,n,i){var r,o,a,l=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n+"/"+t,e.next=3,fetch(r);case 3:if((o=e.sent).ok){e.next=6;break}throw new Error("HTTP error! status: ".concat(o.status));case 6:return e.next=8,o.blob();case 8:return a=e.sent,e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.addEventListener("load",(function(){e(n.result)}),!1),n.onerror=function(){return t(l)},n.readAsDataURL(a)})));case 10:case"end":return e.stop()}}),e)}))),function(e,n,i){return t.apply(this,arguments)})}]),i}(T),I=n(9),L=n.n(I),D=n(24);function U(e){for(var t=0;e>1024;)e/=1024,t++;var n=["B","KB","MB","GB","PB"][t];return e.toFixed(1)+" "+n}function P(e){var t=null;return t=e<0?[52,152,219]:[231,76,60],function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}(function(e,t,n){e>1&&(e=1);e=Math.sqrt(e);var i,r=[0,0,0];for(i=0;i<3;i++)r[i]=Math.round(t[i]*(1-e)+n[i]*e);return r}(Math.abs(e),[255,255,255],t))}function H(e,t,n,i,r){var o=i/r,a=t/n,s=0,l=0;return(e?o>a:o<a)?l=(s=t)/o:s=(l=n)*o,{width:s,height:l,x:(t-s)/2,y:(n-l)/2}}function R(e,t){return Math.floor(Math.random()*(t-e)+e)}function Q(e,t){if("audio"==e){var n=new Audio,i=D.lookup(t);return""!=n.canPlayType(i)}var r=document.createElement("video"),o=D.lookup(t);return""!=r.canPlayType(o)}function z(e,t){t=t||1;var n=[[255,99,132],[54,162,235],[240,176,26],[153,102,255],[75,192,192],[255,159,64]];if(e<n.length)var i=n[e];else i=[R(64,196),R(64,196),R(64,196)];return"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+t+")"}var V=n(3),K=n.n(V),W=n.p+"static/media/edit.44bd4fe1.svg",X=n.p+"static/media/clear.33f9b5f3.svg",Y=(n(29),function(e){var t=e.min,n=e.max,i=e.onChange,r=m(Object(u.useState)(t),2),o=r[0],a=r[1],s=m(Object(u.useState)(n),2),l=s[0],c=s[1],d=m(Object(u.useState)("min"),2),h=d[0],p=d[1],f=Object(u.useRef)(t),A=Object(u.useRef)(n),g=Object(u.useRef)(null),v=Object(u.useCallback)((function(e){return Math.round((e-t)/(n-t)*100)}),[t,n]);return Object(u.useEffect)((function(){var e=v(o),t=v(A.current);g.current&&(g.current.style.left="".concat(e,"%"),g.current.style.width="".concat(t-e,"%"))}),[o,v]),Object(u.useEffect)((function(){var e=v(f.current),t=v(l);g.current&&(g.current.style.width="".concat(t-e,"%"))}),[l,v]),Object(u.useEffect)((function(){i({min:o,max:l,lastChange:h})}),[o,l,i,h]),Object(M.jsxs)("div",{className:"slider_container",children:[Object(M.jsx)("input",{type:"range",min:t,max:n,value:o,onChange:function(e){var t=Math.min(Number(e.target.value),l-1);p("min"),a(t),f.current=t},className:"thumb thumb--left",style:{zIndex:o>n-100&&"5"}}),Object(M.jsx)("input",{type:"range",min:t,max:n,value:l,onChange:function(e){var t=Math.max(Number(e.target.value),o+1);p("max"),c(t),A.current=t},className:"thumb thumb--right"}),Object(M.jsxs)("div",{className:"slider",children:[Object(M.jsx)("div",{className:"slider__track"}),Object(M.jsx)("div",{ref:g,className:"slider__range"})]})]})}),G=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).start=function(){if(i.started)i.recorder.start();else{var e=new(window.AudioContext||window.webkitAudioContext);i.recorder=new L.a(e),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){i.recorder.init(e),i.recorder.start()})),i.started=!0}i.setState({recording:!0})},i.stop=function(){i.recorder.stop().then((function(e){var t=e.blob,n=(e.buffer,new FileReader);n.onload=function(e){this.props.handleChange({name:"sample.wav",data:e.target.result,is_example:!1})}.bind(v(i)),n.readAsDataURL(t)})),i.setState({recording:!1})},i.openFileUpload=function(){i.uploader.current.click()},i.toggleEditor=function(){i.props.handleChange({name:i.props.value.name,data:i.props.value.data,is_example:i.props.value.is_example,crop_min:0,crop_max:100}),i.setState({editorMode:!i.state.editorMode})},i.crop=function(e,t,n){i.state.duration&&(i.audioRef.current.currentTime="min"===n?e/100*i.state.duration:t/100*i.state.duration),i.props.handleChange({name:i.props.value.name,data:i.props.value.data,is_example:i.props.value.is_example,crop_min:e,crop_max:t})},i.reset_playback_within_crop=function(){var e=i.audioRef.current.currentTime/i.state.duration,t=i.props.value.crop_min/100;return(e>i.props.value.crop_max/100-1e-5||e<t-1e-5)&&(i.audioRef.current.currentTime=i.state.duration*t,!0)},i.load_preview_from_drop=function(e){i.load_preview_from_files(e.dataTransfer.files)},i.load_preview_from_upload=function(e){i.load_preview_from_files(e.target.files)},i.load_preview_from_files=function(e){if(e.length&&window.FileReader){var t=v(i),n=new FileReader,r=e[0];n.readAsDataURL(r),n.onloadend=function(){t.props.handleChange({name:r.name,data:this.result,is_example:!1})}}},i.state={recording:!1,editorMode:!1},i.src={},i.key=0,i.uploader=d.a.createRef(),i.audioRef=d.a.createRef(),i.started=!1,i}return x(n,[{key:"render",value:function(){var e=this;if(null!==this.props.value)return this.props.value.name==this.src.name&&this.props.value.data===this.src.data||(this.key+=1,this.src={name:this.props.value.name,data:this.props.value.data}),Object(M.jsxs)("div",{className:"input_audio",children:[Object(M.jsxs)("div",{className:"edit_buttons",children:[Object(M.jsx)("button",{className:K()("edit_button",{active:this.state.editorMode}),onClick:this.toggleEditor,children:Object(M.jsx)("img",{src:W})}),Object(M.jsx)("button",{className:"clear_button",onClick:this.props.handleChange.bind(this,null),children:Object(M.jsx)("img",{src:X})})]}),Object(M.jsx)("audio",{controls:!0,ref:this.audioRef,onLoadedMetadata:function(t){return e.setState({duration:t.nativeEvent.target.duration})},onPlay:function(){e.reset_playback_within_crop(),e.audioRef.current.play()},onTimeUpdate:function(){e.audioRef.current.paused||e.reset_playback_within_crop()&&e.audioRef.current.pause()},children:Object(M.jsx)("source",{src:this.props.value.data})},this.key),null!==this.props.interpretation&&Object(M.jsx)("div",{class:"interpret_range",children:this.props.interpretation.map((function(e){return Object(M.jsx)("div",{style:{"background-color":P(e)}})}))}),!!this.state.editorMode&&Object(M.jsx)(Y,{min:0,max:100,onChange:function(t){var n=t.min,i=t.max,r=t.lastChange;return e.crop(n,i,r)}})]});if("microphone"===this.props.source)return Object(M.jsx)("div",{className:"input_audio",children:this.state.recording?Object(M.jsx)("button",{className:"stop",onClick:this.stop,children:"Recording..."}):Object(M.jsx)("button",{className:"start",onClick:this.start,children:"Record"})});if("upload"===this.props.source){var t=function(e){e.preventDefault(),e.stopPropagation()};return Object(M.jsxs)("div",{className:"input_image",onDrag:t,onDragStart:t,onDragEnd:t,onDragOver:t,onDragEnter:t,onDragLeave:t,onDrop:t,children:[Object(M.jsxs)("div",{className:"upload_zone",onClick:this.openFileUpload,onDrop:this.load_preview_from_drop,children:["Drop Audio Here",Object(M.jsx)("br",{}),"- or -",Object(M.jsx)("br",{}),"Click to Upload"]}),Object(M.jsx)("input",{className:"hidden_upload",type:"file",ref:this.uploader,onChange:this.load_preview_from_upload,accept:"audio/*",style:{display:"none"}})]})}}}]),n}(O);G.memo=function(e,t){return e.value instanceof Object&&t.value instanceof Object?e.value.name===t.value.name&&e.value.data===t.value.data&&e.value.crop_min===t.value.crop_min&&e.value.crop_max===t.value.crop_max:e===t};var q=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_audio_example",children:this.props.value})}}]),n}(F);function J(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=function(e){var t=J(i.props.value);t.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),i.props.handleChange(t)},i}return x(n,[{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{className:"input_checkbox_group",children:this.props.choices.map((function(t,n){return Object(M.jsxs)("div",{className:K()("checkbox_item",{selected:e.props.value.includes(t)}),onClick:e.handleChange.bind(e,t),children:[null===e.props.interpretation?Object(M.jsx)("div",{className:"checkbox",children:Object(M.jsxs)("svg",{className:"check",viewBox:"-10 -10 20 20",children:[Object(M.jsx)("line",{x1:"-7.5",y1:"0",x2:"-2.5",y2:"5"}),Object(M.jsx)("line",{x1:"-2.5",y1:"5",x2:"7.5",y2:"-7.5"})]})}):Object(M.jsxs)("div",{class:"interpretation",children:[Object(M.jsx)("div",{class:"interpretation_box",style:{backgroundColor:P(e.props.interpretation[n][0])}}),Object(M.jsx)("div",{class:"interpretation_box",style:{backgroundColor:P(e.props.interpretation[n][1])},children:Object(M.jsxs)("svg",{className:"interpret_check",viewBox:"-10 -10 20 20",children:[Object(M.jsx)("line",{x1:"-7.5",y1:"0",x2:"-2.5",y2:"5"}),Object(M.jsx)("line",{x1:"-2.5",y1:"5",x2:"7.5",y2:"-7.5"})]})})]}),t]},n)}))})}}]),n}(O),$=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_checkbox_group_example",children:this.props.value.join(", ")})}}]),n}(T),ee=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=function(){i.props.handleChange(!0!==i.props.value)},i}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_checkbox",children:Object(M.jsx)("div",{className:K()("checkbox_item",{selected:this.props.value}),onClick:this.handleChange,children:null===this.props.interpretation?Object(M.jsx)("div",{className:"checkbox",children:Object(M.jsxs)("svg",{className:"check",viewBox:"-10 -10 20 20",children:[Object(M.jsx)("line",{x1:"-7.5",y1:"0",x2:"-2.5",y2:"5"}),Object(M.jsx)("line",{x1:"-2.5",y1:"5",x2:"7.5",y2:"-7.5"})]})}):Object(M.jsxs)("div",{class:"interpretation",children:[Object(M.jsx)("div",{class:"interpretation_box",style:{backgroundColor:P(this.props.interpretation[0])}}),Object(M.jsx)("div",{class:"interpretation_box",style:{backgroundColor:P(this.props.interpretation[1])},children:Object(M.jsxs)("svg",{className:"interpret_check",viewBox:"-10 -10 20 20",children:[Object(M.jsx)("line",{x1:"-7.5",y1:"0",x2:"-2.5",y2:"5"}),Object(M.jsx)("line",{x1:"-2.5",y1:"5",x2:"7.5",y2:"-7.5"})]})})]})})})}}]),n}(O),te=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_checkbox_example",children:JSON.stringify(this.props.value)})}}]),n}(T),ne=n(10),ie=n.n(ne),re=(n(31),n(32),function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).getConfig=function(){var e=i.props.col_count,t={};if(i.props.headers||i.props.datatype){for(var n=[],r=0;r<e;r++){var o={};if(i.props.datatype){var a=i.props.datatype instanceof Array?i.props.datatype[r]:i.props.datatype,s=i.props.col_width instanceof Array?i.props.col_width[r]:i.props.col_width;o.type={str:"text",bool:"checkbox",number:"numeric",date:"calendar"}[a],o.width=s}i.props.headers&&(o.title=i.props.headers[r]),n.push(o)}t.columns=n}return t.data=i.props.value,t},i.wrapper=d.a.createRef(),i}return x(n,[{key:"componentDidMount",value:function(){this.el=ie()(this.wrapper.current,this.getConfig())}},{key:"resetData",value:function(e){var t=[e.length,e[0].length],n=t[0],i=t[1],r=this.el.getData(),o=[r.length,r[0].length],a=o[0],s=o[1];a<n?this.el.insertRow(n-a):a>n&&this.el.deleteRow(0,a-n),s<i?this.el.insertColumn(i-s):s>i&&this.el.deleteColumn(0,s-i),this.el.setData(e)}},{key:"render",value:function(){return JSON.stringify(this.props.value)!==JSON.stringify(this.data)&&this.el&&(this.resetData(this.props.value),this.data=this.props.value),Object(M.jsx)("div",{className:"input_dataframe",children:Object(M.jsx)("div",{ref:this.wrapper})})}}]),n}(O)),oe=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){var e,t=[],n=g(this.props.value.slice(0,3));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.slice(0,3);i.length>3&&r.push("..."),t.push(r)}}catch(e){n.e(e)}finally{n.f()}if(this.props.value.length>3){var o=Array(t[0].length).fill("...");t.push(o)}return Object(M.jsx)("table",{className:"input_dataframe_example",children:Object(M.jsx)("tbody",{children:t.map((function(e){return Object(M.jsx)("tr",{children:e.map((function(e){return Object(M.jsx)("td",{children:e})}))})}))})})}}]),n}(T),ae=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=i.handleChange.bind(v(i)),i}return x(n,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{className:"input_dropdown",children:null===this.props.interpretation?Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsxs)("button",{className:"selector",children:[this.props.value,Object(M.jsxs)("svg",{className:"caret",viewBox:"0 0 20 20",children:[Object(M.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})," "]})]}),Object(M.jsx)("div",{class:"dropdown_menu_holder",children:Object(M.jsx)("ul",{className:"dropdown_menu",children:this.props.choices.map((function(t,n){return Object(M.jsx)("li",{className:K()("dropdown_item",{selected:t===e.props.value}),onClick:e.handleChange.bind(e,t),children:t},n)}))})})]}):Object(M.jsx)("div",{class:"interpretation",children:this.props.interpretation.map((function(t,n){return Object(M.jsx)("div",{class:"interpretation_box",style:{backgroundColor:P(t)},children:e.props.choices[n]},n)}))})})}}]),n}(O),se=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_dropdown_example",children:this.props.value})}}]),n}(T),le=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=i.handleChange.bind(v(i)),i.uploader=d.a.createRef(),i.openFileUpload=i.openFileUpload.bind(v(i)),i.load_preview_from_files=i.load_preview_from_files.bind(v(i)),i.load_preview_from_upload=i.load_preview_from_upload.bind(v(i)),i.load_preview_from_drop=i.load_preview_from_drop.bind(v(i)),i}return x(n,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"openFileUpload",value:function(){this.uploader.current.click()}},{key:"render",value:function(){var e,t,n=function(e){e.preventDefault(),e.stopPropagation()};if(null!==this.props.value){if("single"===this.props.file_count){var i=Array.isArray(this.props.value)?this.props.value[0]:this.props.value;e=i.name,t=i.size}else{e=this.props.value.length+" files.",t=0;var r,o=g(Array.isArray(this.props.value)?this.props.value:[this.props.value]);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(null===a.size){t=null;break}t+=a.size}}catch(e){o.e(e)}finally{o.f()}}return Object(M.jsx)("div",{className:"input_file",children:Object(M.jsxs)("div",{className:"file_preview_holder",children:[Object(M.jsx)("div",{class:"edit_buttons",children:Object(M.jsx)("button",{className:"clear_button",onClick:this.handleChange.bind(this,null),children:Object(M.jsx)("img",{src:X})})}),Object(M.jsx)("div",{className:"file_name",children:e}),Object(M.jsx)("div",{className:"file_size",children:null==t?"":U(t)})]})})}return Object(M.jsxs)("div",{className:"input_file",onDrag:n,onDragStart:n,onDragEnd:n,onDragOver:n,onDragEnter:n,onDragLeave:n,onDrop:n,children:[Object(M.jsxs)("div",{className:"upload_zone",onClick:this.openFileUpload,onDrop:this.load_preview_from_drop,children:["Drop File Here",Object(M.jsx)("br",{}),"- or -",Object(M.jsx)("br",{}),"Click to Upload"]}),Object(M.jsx)("input",{className:"hidden_upload",type:"file",multiple:"multiple"===this.props.file_count,webkitdirectory:"directory"===this.props.file_count,mozdirectory:"directory"===this.props.file_count,ref:this.uploader,onChange:this.load_preview_from_upload,style:{display:"none"}})]})}},{key:"load_preview_from_drop",value:function(e){this.load_preview_from_files(e.dataTransfer.files)}},{key:"load_preview_from_upload",value:function(e){this.load_preview_from_files(e.target.files)}},{key:"add_file_to_list",value:function(e,t,n){this.file_data.push({name:t.name,size:t.size,data:e.result,is_example:!1}),this.file_data.length===n&&this.handleChange(this.file_data)}},{key:"load_preview_from_files",value:function(e){if(e.length&&window.FileReader){this.file_data=[];var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=new FileReader;r.readAsDataURL(i),r.onloadend=this.add_file_to_list.bind(this,r,i,e.length)}}catch(e){n.e(e)}finally{n.f()}}}}]),n}(O),ce=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_file_example",children:this.props.value})}}]),n}(F),ue=n(11),de=n.n(ue);n(33);function he(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var pe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b(this,e),this.undoLimit=t,this.undoList=[],this.redoList=[],this.current=null,this.debug=n}return x(e,[{key:"getUndoLimit",value:function(){return this.undoLimit}},{key:"getCurrent",value:function(){return this.current}},{key:"keep",value:function(e){try{this.redoList=[],this.current&&this.undoList.push(this.current),this.undoList.length>this.undoLimit&&this.undoList.shift(),this.current=e}finally{this.print()}}},{key:"undo",value:function(){try{return this.current&&(this.redoList.push(this.current),this.redoList.length>this.undoLimit&&this.redoList.shift(),0===this.undoList.length&&(this.current=null)),this.undoList.length>0?(this.current=this.undoList.pop(),this.current):null}finally{this.print()}}},{key:"redo",value:function(){try{return this.redoList.length>0?(this.current&&this.undoList.push(this.current),this.current=this.redoList.pop(),this.current):null}finally{this.print()}}},{key:"canRedo",value:function(){return this.redoList.length>0}},{key:"canUndo",value:function(){return this.undoList.length>0||null!==this.current}},{key:"clear",value:function(){this.undoList=[],this.redoList=[],this.current=null,this.print()}},{key:"print",value:function(){this.debug&&console.log(this.undoList," -> "+this.current+" <- ",this.redoList.slice(0).reverse())}}]),e}(),fe=function(){var e,t="";for(e=0;e<32;e+=1)switch(e){case 8:case 20:t+="-",t+=(16*Math.random()|0).toString(16);break;case 12:t+="-",t+="4";break;case 16:t+="-",t+=(4*Math.random()|8).toString(16);break;default:t+=(16*Math.random()|0).toString(16)}return t},Ae=function(e){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),"rgba("+[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t].join(",")+",0.4)";throw new Error("Bad Hex")},me=function(){function e(t){b(this,e),this._canvas=t}return x(e,[{key:"configureCanvas",value:function(e){}},{key:"doMouseUp",value:function(e){}},{key:"doMouseDown",value:function(e){}},{key:"doMouseMove",value:function(e){}},{key:"doMouseOut",value:function(e){}}]),e}(),ge=n(4).fabric,ve=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){var t=this._canvas;t.isDrawingMode=t.selection=!1,t.forEachObject((function(e){return e.selectable=e.evented=!1})),this._width=e.lineWidth,this._color=e.lineColor}},{key:"doMouseDown",value:function(e){this.isDown=!0;var t=this._canvas,n=t.getPointer(e.e),i=[n.x,n.y,n.x,n.y];this.line=new ge.Line(i,{strokeWidth:this._width,fill:this._color,stroke:this._color,originX:"center",originY:"center",selectable:!1,evented:!1}),this.head=new ge.Triangle({fill:this._color,left:n.x,top:n.y,originX:"center",originY:"center",height:3*this._width,width:3*this._width,selectable:!1,evented:!1,angle:90}),t.add(this.line),t.add(this.head)}},{key:"doMouseMove",value:function(e){if(this.isDown){var t=this._canvas,n=t.getPointer(e.e);this.line.set({x2:n.x,y2:n.y}),this.line.setCoords();var i=n.x-this.line.x1,r=n.y-this.line.y1;this.head.set({left:n.x,top:n.y,angle:90+180*Math.atan2(r,i)/Math.PI}),t.renderAll()}}},{key:"doMouseUp",value:function(e){this.isDown=!1;var t=this._canvas;t.remove(this.line),t.remove(this.head);var n=new ge.Group([this.line,this.head]);t.add(n)}},{key:"doMouseOut",value:function(e){this.isDown=!1}}]),n}(me),be={Circle:"circle",Line:"line",Arrow:"arrow",Pencil:"pencil",Rectangle:"rectangle",RectangleLabel:"rectangle-label",Select:"select",Pan:"pan",Highlighter:"highlighter",DefaultTool:"default-tool"},ye=(n(4).fabric,function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){var t=this._canvas;t.isDrawingMode=t.selection=!1,t.forEachObject((function(e){return e.selectable=e.evented=!1})),t.discardActiveObject(),t.defaultCursor="pointer",t.renderAll()}}]),n}(me)),xe=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){var t=this._canvas;t.isDrawingMode=!1,t.selection=!0,t.forEachObject((function(e){e.selectable=e.evented=!0}))}}]),n}(me),we=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){this._canvas.isDrawingMode=!0,this._canvas.freeDrawingBrush.width=e.lineWidth,this._canvas.freeDrawingBrush.color=e.lineColor}}]),n}(me),_e=n(4).fabric,je=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){var t=this._canvas;t.isDrawingMode=t.selection=!1,t.forEachObject((function(e){return e.selectable=e.evented=!1})),this._width=e.lineWidth,this._color=e.lineColor}},{key:"doMouseDown",value:function(e){this.isDown=!0;var t=this._canvas,n=t.getPointer(e.e),i=[n.x,n.y,n.x,n.y];this.line=new _e.Line(i,{strokeWidth:this._width,fill:this._color,stroke:this._color,originX:"center",originY:"center",selectable:!1,evented:!1}),t.add(this.line)}},{key:"doMouseMove",value:function(e){if(this.isDown){var t=this._canvas,n=t.getPointer(e.e);this.line.set({x2:n.x,y2:n.y}),this.line.setCoords(),t.renderAll()}}},{key:"doMouseUp",value:function(e){this.isDown=!1}},{key:"doMouseOut",value:function(e){this.isDown=!1}}]),n}(me),Ce=n(4).fabric,Ee=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){var t=this._canvas;t.isDrawingMode=t.selection=!1,t.forEachObject((function(e){return e.selectable=e.evented=!1})),this._width=e.lineWidth,this._color=e.lineColor,this._fill=e.fillColor}},{key:"doMouseDown",value:function(e){var t=this._canvas;this.isDown=!0;var n=t.getPointer(e.e);this.startX=n.x,this.startY=n.y,this.rect=new Ce.Rect({left:this.startX,top:this.startY,originX:"left",originY:"top",width:n.x-this.startX,height:n.y-this.startY,stroke:this._color,strokeWidth:this._width,fill:this._fill,transparentCorners:!1,selectable:!1,evented:!1,strokeUniform:!0,noScaleCache:!1,angle:0}),t.add(this.rect)}},{key:"doMouseMove",value:function(e){if(this.isDown){var t=this._canvas,n=t.getPointer(e.e);this.startX>n.x&&this.rect.set({left:Math.abs(n.x)}),this.startY>n.y&&this.rect.set({top:Math.abs(n.y)}),this.rect.set({width:Math.abs(this.startX-n.x)}),this.rect.set({height:Math.abs(this.startY-n.y)}),this.rect.setCoords(),t.renderAll()}}},{key:"doMouseUp",value:function(e){this.isDown=!1}}]),n}(me),Be=n(4).fabric,ke=function(){function e(t,n,i,r){var o=this;b(this,e),this.update=function(e){o._textObj&&o._rectObj&&e.target===o._rectObj&&o._textObj.set({width:o._rectObj.getScaledWidth(),scaleX:1,scaleY:1,top:o._rectObj.top-o._textObj.getScaledHeight(),left:o._rectObj.left})},this._canvas=t,this._text=n,this._rectObj=new Be.Rect(i),this._textObj=new Be.Textbox(n,r),t.on({"object:scaling":this.update}),t.on({"object:moving":this.update})}return x(e,[{key:"setText",value:function(e){this._text=e,this._textObj.set({text:e})}}]),e}(),Se=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){var t=this._canvas;t.isDrawingMode=t.selection=!1,t.forEachObject((function(e){return e.selectable=e.evented=!1})),this._width=e.lineWidth,this._color=e.lineColor,this._fill=e.fillColor,this._textString=e.text,this._maxFontSize=12}},{key:"doMouseDown",value:function(e){var t=this._canvas;this.isDown=!0;var n=t.getPointer(e.e);for(this.startX=n.x,this.startY=n.y,this.rectangleLabel=new ke(t,"New drawing",{left:this.startX,top:this.startY,originX:"left",originY:"top",width:n.x-this.startX,height:n.y-this.startY,stroke:this._color,strokeWidth:this._width,fill:this._fill,transparentCorners:!1,selectable:!1,evented:!1,strokeUniform:!0,noScaleCache:!1,angle:0},{left:this.startX,top:this.startY-12,originX:"left",originY:"top",width:n.x-this.startX-this._width,height:t.height/3,fontSize:this._maxFontSize,noScaleCache:!1,backgroundColor:this._color,transparentCorners:!0,hasControls:!1,angle:0}),this._objects&&this._objects.length>0?this._objects.push(this.rectangleLabel):this._objects=[this.rectangleLabel];this.rectangleLabel._textObj.height>t.height/3;)this.rectangleLabel._textObj.set({fontSize:this.rectangleLabel._textObj.fontSize-1,top:this.startY-this.rectangleLabel._textObj.fontSize-12});t.add(this.rectangleLabel._rectObj),t.add(this.rectangleLabel._textObj),t.renderAll()}},{key:"doMouseMove",value:function(e){if(this.isDown){var t=this._canvas,n=t.getPointer(e.e);this.startX>n.x&&(this.rectangleLabel._rectObj.set({left:Math.abs(n.x)}),this.rectangleLabel._textObj.set({left:Math.abs(n.x)})),this.startY>n.y&&(this.rectangleLabel._rectObj.set({left:Math.abs(n.x)}),this.rectangleLabel._textObj.set({top:Math.abs(n.y)})),this.rectangleLabel._textObj.setCoords(),this.rectangleLabel._rectObj.set({width:Math.abs(this.startX-n.x)}),this.rectangleLabel._textObj.set({width:this.rectangleLabel._rectObj.getScaledWidth()}),this.rectangleLabel._rectObj.set({height:Math.abs(this.startY-n.y)}),this.rectangleLabel._rectObj.setCoords(),t.renderAll()}}},{key:"doMouseUp",value:function(e){this.isDown=!1,this._canvas.renderAll()}}]),n}(me),Oe=n(4).fabric,Me=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){var t=this._canvas;t.isDrawingMode=t.selection=!1,t.forEachObject((function(e){return e.selectable=e.evented=!1})),this._width=e.lineWidth,this._color=e.lineColor,this._fill=e.fillColor}},{key:"doMouseDown",value:function(e){var t=this._canvas;this.isDown=!0;var n=t.getPointer(e.e),i=[n.x,n.y];this.startX=i[0],this.startY=i[1],this.circle=new Oe.Circle({left:this.startX,top:this.startY,originX:"left",originY:"center",strokeWidth:this._width,stroke:this._color,fill:this._fill,selectable:!1,evented:!1,radius:1}),t.add(this.circle)}},{key:"doMouseMove",value:function(e){if(this.isDown){var t,n,i,r,o=this._canvas,a=o.getPointer(e.e);this.circle.set({radius:(t={x:this.startX,y:this.startY},n={x:a.x,y:a.y},i=n.x-t.x,r=n.y-t.y,Math.sqrt(i*i+r*r)/2),angle:180*Math.atan2(a.y-this.startY,a.x-this.startX)/Math.PI}),this.circle.setCoords(),o.renderAll()}}},{key:"doMouseUp",value:function(e){this.isDown=!1}}]),n}(me),Te=(n(4).fabric,function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){var t=this._canvas;t.isDrawingMode=t.selection=!1,t.forEachObject((function(e){return e.selectable=e.evented=!1})),t.defaultCursor="move"}},{key:"doMouseDown",value:function(e){var t=this._canvas;this.isDown=!0;var n=t.getPointer(e.e);this.startX=n.x,this.startY=n.y}},{key:"doMouseMove",value:function(e){if(this.isDown){var t=this._canvas,n=t.getPointer(e.e);t.relativePan({x:n.x-this.startX,y:n.y-this.startY}),t.renderAll()}}},{key:"doMouseUp",value:function(e){this.isDown=!1}}]),n}(me)),Fe=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"configureCanvas",value:function(e){this._canvas.isDrawingMode=!0,this._canvas.freeDrawingBrush.width=e.lineWidth,this._canvas.freeDrawingBrush.color=e.lineColor.indexOf("#")>-1?Ae(e.lineColor):Ae(function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==t[e.toLowerCase()]&&t[e.toLowerCase()]}(e.lineColor))}}]),n}(me),Ne=n(4),Ie=function(e){_(n,e);var t=B(n);function n(){var e;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={action:!0},e._initTools=function(t){e._tools={},e._tools[be.Select]=new xe(t),e._tools[be.Pencil]=new we(t),e._tools[be.Line]=new je(t),e._tools[be.Arrow]=new ve(t),e._tools[be.Rectangle]=new Ee(t),e._tools[be.RectangleLabel]=new Se(t),e._tools[be.Circle]=new Me(t),e._tools[be.Pan]=new Te(t),e._tools[be.Highlighter]=new Fe(t),e._tools[be.DefaultTool]=new ye(t)},e.enableTouchScroll=function(){var t=e._fc;t.allowTouchScrolling||(t.allowTouchScrolling=!0)},e.disableTouchScroll=function(){var t=e._fc;t.allowTouchScrolling&&(t.allowTouchScrolling=!1)},e.addImg=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e._fc;Ne.fabric.Image.fromURL(t,(function(e){var t={left:Math.random()*(i.getWidth()-.5*e.width),top:Math.random()*(i.getHeight()-.5*e.height),scale:.5};Object.assign(t,n),e.scale(t.scale),e.set({left:t.left,top:t.top}),i.add(e)}))},e._onObjectAdded=function(t){var n=e.props.onObjectAdded;if(e.state.action){var i=t.target;i.__version=1;var r=i.toJSON();i.__originalState=r;var o=JSON.stringify(r);e._history.keep([i,o,o]),n(t)}else e.setState({action:!0})},e._onObjectMoving=function(t){(0,e.props.onObjectMoving)(t)},e._onObjectScaling=function(t){(0,e.props.onObjectScaling)(t)},e._onObjectRotating=function(t){(0,e.props.onObjectRotating)(t)},e._onObjectModified=function(t){var n=e.props.onObjectModified,i=t.target;i.__version+=1;var r=JSON.stringify(i.__originalState),o=i.toJSON();i.__originalState=o;var a=JSON.stringify(o);e._history.keep([i,r,a]),n(t)},e._onObjectRemoved=function(t){var n=e.props.onObjectRemoved,i=t.target;i.__removed?i.__version+=1:(i.__version=0,n(t))},e._onMouseDown=function(t){var n=e.props.onMouseDown;e._selectedTool.doMouseDown(t),n(t)},e._onMouseMove=function(t){var n=e.props.onMouseMove;e._selectedTool.doMouseMove(t),n(t)},e._onMouseOut=function(t){var n=e.props.onMouseOut;if(e._selectedTool.doMouseOut(t),e.props.onChange){var i=e.props.onChange;setTimeout((function(){i(t.e)}),10)}n(t)},e._onMouseUp=function(t){var n=e.props.onMouseUp;if(e._selectedTool.doMouseUp(t),e.props.tool!==be.Pencil){var i=e._fc.getObjects(),r=i[i.length-1];r&&1===r.__version&&(r.__originalState=r.toJSON())}if(e.props.onChange){var o=e.props.onChange;setTimeout((function(){o(t.e)}),10)}n(t)},e._resize=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t&&t.preventDefault();var r=e.props,o=r.widthCorrection,a=r.heightCorrection,s=e._fc,l=e._container,c=l.offsetWidth,u=l.clientHeight,d=n||s.getWidth(),h=i||s.getHeight(),p=((c-o)/d).toFixed(2),f=((u-a)/h).toFixed(2);if(s.setWidth(c-o),s.setHeight(u-a),s.backgroundImage){var A=s.backgroundImage;A.width=A.width*p,A.height=A.height*f}var m=s.getObjects();for(var g in m){var v=m[g],b=v.scaleX,y=v.scaleY,x=v.left,w=v.top,_=b*p,j=y*f,C=x*p,E=w*f;v.scaleX=_,v.scaleY=j,v.left=C,v.top=E,v.setCoords()}s.renderAll(),s.calcOffset()},e._backgroundColor=function(t){if(t){var n=e._fc;n.setBackgroundColor(t,(function(){return n.renderAll()}))}},e.zoom=function(t){var n=e._fc,i=n.getObjects();for(var r in i)i[r].scaleX=i[r].scaleX*t,i[r].scaleY=i[r].scaleY*t,i[r].left=i[r].left*t,i[r].top=i[r].top*t,i[r].setCoords();n.renderAll(),n.calcOffset()},e.undo=function(){var t=e._history,n=m(t.getCurrent(),3),i=n[0],r=n[1];n[2];t.undo(),i.__removed?e.setState({action:!1},(function(){e._fc.add(i),i.__version-=1,i.__removed=!1})):i.__version<=1?e._fc.remove(i):(i.__version-=1,i.setOptions(JSON.parse(r)),i.setCoords(),e._fc.renderAll()),e.props.onChange&&e.props.onChange()},e.redo=function(){var t=e._history;if(t.canRedo()){var n=e._fc,i=m(t.redo(),3),r=i[0],o=(i[1],i[2]);0===r.__version?e.setState({action:!1},(function(){n.add(r),r.__version=1})):(r.__version+=1,r.setOptions(JSON.parse(o))),r.setCoords(),n.renderAll(),e.props.onChange&&e.props.onChange()}},e.canUndo=function(){return e._history.canUndo()},e.canRedo=function(){return e._history.canRedo()},e.toDataURL=function(t){return e._fc.toDataURL(t)},e.toJSON=function(t){return e._fc.toJSON(t)},e.fromJSON=function(t){if(t){var n=e._fc;setTimeout((function(){n.loadFromJSON(t,(function(){e.props.tool===be.DefaultTool&&(n.isDrawingMode=n.selection=!1,n.forEachObject((function(e){return e.selectable=e.evented=!1}))),n.renderAll(),e.props.onChange&&e.props.onChange()}))}),100)}},e.clear=function(t){var n=e.toJSON(t);return e._fc.clear(),e._history.clear(),n},e.hasSelection=function(){return!!e._fc.getActiveObject()},e.clearSelection=function(){var t=e._fc;t.discardActiveObject(),t.requestRenderAll()},e.removeSelected=function(){var t=e._fc,n=t.getActiveObject();if(n){var i=[];"activeSelection"===n.type?n.forEachObject((function(e){return i.push(e)})):i.push(n),i.forEach((function(n){n.__removed=!0;var i=n.toJSON();n.__originalState=i;var r=JSON.stringify(i);e._history.keep([n,r,r]),t.remove(n)})),t.discardActiveObject(),t.requestRenderAll()}},e.copy=function(){e._fc.getActiveObject().clone((function(t){return e._clipboard=t}))},e.paste=function(){e._clipboard.clone((function(t){var n=e._fc;n.discardActiveObject(),t.set({left:t.left+10,top:t.top+10,evented:!0}),"activeSelection"===t.type?(t.canvas=n,t.forEachObject((function(e){return n.add(e)})),t.setCoords()):n.add(t),e._clipboard.top+=10,e._clipboard.left+=10,n.setActiveObject(t),n.requestRenderAll()}))},e.setBackgroundFromDataUrl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e._fc,r=new Image;r.setAttribute("crossOrigin","anonymous");var o=n.stretched,a=n.stretchedX,s=n.stretchedY,l=he(n,["stretched","stretchedX","stretchedY"]);r.onload=function(){var e=new Ne.fabric.Image(r);(o||a)&&e.scaleToWidth(i.width),(o||s)&&e.scaleToHeight(i.height),i.setBackgroundImage(e,(function(){return i.renderAll()}),l)},r.src=t},e.addText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e._fc,r=new Ne.fabric.IText(t,n),o={left:.5*(i.getWidth()-r.width),top:.5*(i.getHeight()-r.height)};Object.assign(n,o),r.set({left:n.left,top:n.top}),i.add(r)},e.callEvent=function(t,n){e._selectedTool&&n(t)},e.componentDidMount=function(){var t=e.props,n=t.tool,i=t.value,r=t.undoSteps,o=t.defaultValue,a=t.backgroundColor,s=e._fc=new Ne.fabric.Canvas(e._canvas);e._initTools(s),e._backgroundColor(a);var l=e._tools[n];l&&l.configureCanvas(e.props),e._selectedTool=l,window.addEventListener("resize",e._resize,!1),e._history=new pe(r),s.on("object:added",(function(t){return e.callEvent(t,e._onObjectAdded)})),s.on("object:modified",(function(t){return e.callEvent(t,e._onObjectModified)})),s.on("object:removed",(function(t){return e.callEvent(t,e._onObjectRemoved)})),s.on("mouse:down",(function(t){return e.callEvent(t,e._onMouseDown)})),s.on("mouse:move",(function(t){return e.callEvent(t,e._onMouseMove)})),s.on("mouse:up",(function(t){return e.callEvent(t,e._onMouseUp)})),s.on("mouse:out",(function(t){return e.callEvent(t,e._onMouseOut)})),s.on("object:moving",(function(t){return e.callEvent(t,e._onObjectMoving)})),s.on("object:scaling",(function(t){return e.callEvent(t,e._onObjectScaling)})),s.on("object:rotating",(function(t){return e.callEvent(t,e._onObjectRotating)})),e.disableTouchScroll(),e._resize(),(i||o)&&e.fromJSON(i||o)},e.componentWillUnmount=function(){return window.removeEventListener("resize",e._resize)},e.componentDidUpdate=function(t,n){e.props.width===t.width&&e.props.height===t.height||e._resize(),e.props.tool!==t.tool&&(e._selectedTool=e._tools[e.props.tool],e._fc.defaultCursor="default",e._selectedTool&&e._selectedTool.configureCanvas(e.props)),e.props.backgroundColor!==t.backgroundColor&&e._backgroundColor(e.props.backgroundColor),(e.props.value!==t.value||e.props.value&&e.props.forceValue)&&e.fromJSON(e.props.value)},e.render=function(){var t=e.props,n=t.className,i=t.style,r=t.width,o=t.height,a=Object.assign({},i||{},r?{width:r}:{},o?{height:o}:{height:512});return Object(M.jsx)("div",{className:n,ref:function(t){return e._container=t},style:a,children:Object(M.jsx)("canvas",{id:fe(),ref:function(t){return e._canvas=t},children:"Sorry, Canvas HTML5 element is not supported by your browser :("})})},e}return n}(u.PureComponent);Ie.defaultProps={lineColor:"black",lineWidth:10,fillColor:"transparent",backgroundColor:"transparent",opacity:1,undoSteps:25,tool:null,widthCorrection:0,heightCorrection:0,forceValue:!1,onObjectAdded:function(){return null},onObjectModified:function(){return null},onObjectRemoved:function(){return null},onMouseDown:function(){return null},onMouseMove:function(){return null},onMouseUp:function(){return null},onMouseOut:function(){return null},onObjectMoving:function(){return null},onObjectScaling:function(){return null},onObjectRotating:function(){return null}};var Le=Ie,De=(n(41),n(12)),Ue=n.n(De),Pe=n(13),He=n.n(Pe),Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Qe(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}var ze=d.a.forwardRef((function(e,t){var n=Qe(e,[]),i=n.dragMode,r=void 0===i?"crop":i,o=n.src,a=n.style,s=n.className,l=n.crossOrigin,c=n.scaleX,h=n.scaleY,p=n.enable,f=n.zoomTo,A=n.rotateTo,m=n.alt,g=void 0===m?"picture":m,v=n.ready,b=n.onInitialized,y=Qe(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),x={scaleY:h,scaleX:c,enable:p,zoomTo:f,rotateTo:A},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(u.useRef)(null);return d.a.useEffect((function(){e.forEach((function(e){e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e]),n}(t,Object(u.useRef)(null));return Object(u.useEffect)((function(){var e;(null===(e=w.current)||void 0===e?void 0:e.cropper)&&"number"==typeof f&&w.current.cropper.zoomTo(f)}),[n.zoomTo]),Object(u.useEffect)((function(){var e;(null===(e=w.current)||void 0===e?void 0:e.cropper)&&void 0!==o&&w.current.cropper.reset().clear().replace(o)}),[o]),Object(u.useEffect)((function(){if(null!==w.current){var e=new He.a(w.current,Re(Re({dragMode:r},y),{ready:function(e){null!==e.currentTarget&&function(e,t){void 0===t&&(t={});var n=t.enable,i=void 0===n||n,r=t.scaleX,o=void 0===r?1:r,a=t.scaleY,s=void 0===a?1:a,l=t.zoomTo,c=void 0===l?0:l,u=t.rotateTo;i?e.enable():e.disable(),e.scaleX(o),e.scaleY(s),void 0!==u&&e.rotateTo(u),c>0&&e.zoomTo(c)}(e.currentTarget.cropper,x),v&&v(e)}}));b&&b(e)}return function(){var e,t;null===(t=null===(e=w.current)||void 0===e?void 0:e.cropper)||void 0===t||t.destroy()}}),[w]),d.a.createElement("div",{style:a,className:s},d.a.createElement("img",{crossOrigin:l,src:o,alt:g,style:{opacity:0,maxWidth:"100%"},ref:w}))})),Ve=(n(45),function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).onCrop=function(){var e=i.cropperRef.current.cropper.getCroppedCanvas().toDataURL();i.handleChange({src:i.props.value.src,crop:e})},i.handleChange=i.handleChange.bind(v(i)),i.uploader=d.a.createRef(),i.openFileUpload=i.openFileUpload.bind(v(i)),i.onImgLoad=i.onImgLoad.bind(v(i)),i.load_preview_from_files=i.load_preview_from_files.bind(v(i)),i.load_preview_from_upload=i.load_preview_from_upload.bind(v(i)),i.load_preview_from_drop=i.load_preview_from_drop.bind(v(i)),i.saveEditor=i.saveEditor.bind(v(i)),i.cancelEditor=i.cancelEditor.bind(v(i)),i.snapshot=i.snapshot.bind(v(i)),i.getSketch=i.getSketch.bind(v(i)),i.openEditor=i.openEditor.bind(v(i)),i.imgRef=d.a.createRef(),i.webcamRef=d.a.createRef(),i.sketchRef=d.a.createRef(),i.editorRef=d.a.createRef(),i.cropperRef=d.a.createRef(),i.sketchKey=0,i.state={editorMode:!1},i}return x(n,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"openFileUpload",value:function(){this.uploader.current.click()}},{key:"snapshot",value:function(){var e=this.webcamRef.current.getScreenshot();this.handleChange({src:e,crop:null})}},{key:"getSketch",value:function(){var e=this.sketchRef.current.toDataURL();this.handleChange({src:e,crop:null})}},{key:"cancelEditor",value:function(){this.setState({editorMode:!1})}},{key:"saveEditor",value:function(){var e=this.editorRef.current.getInstance();this.handleChange({src:e.toDataURL(),crop:null}),this.setState({editorMode:!1})}},{key:"onImgLoad",value:function(e){var t=e.target;this.setState({dimensions:{height:t.offsetHeight,width:t.offsetWidth}})}},{key:"openEditor",value:function(){this.setState({editorMode:!0})}},{key:"render",value:function(){var e=function(e){e.preventDefault(),e.stopPropagation()};if(null!==this.props.value&&"canvas"!==this.props.source){var t=!1;if(null!==this.props.interpretation){var n=this.imgRef.current,i=H(!0,n.width,n.height,n.naturalWidth,n.naturalHeight);this.props.shape&&(i=H(!0,i.width,i.height,this.props.shape[0],this.props.shape[1]));var r=i.width,o=i.height,a=document.createElement("canvas");a.setAttribute("height",o),a.setAttribute("width",r),function(e,t,n,i){var r=n/e[0].length,o=i/e.length,a=0;e.forEach((function(e){var n=0;e.forEach((function(e){t.fillStyle=P(e),t.fillRect(n*r,a*o,r,o),n++})),a++}))}(this.props.interpretation,a.getContext("2d"),r,o),t=Object(M.jsx)("div",{class:"interpretation",children:Object(M.jsx)("img",{src:a.toDataURL()})})}return Object(M.jsxs)("div",{className:"input_image",children:[Object(M.jsxs)("div",{className:"image_preview_holder",children:["editor"===this.props.tool&&(this.state.editorMode?Object(M.jsxs)("div",{className:"image_editor",children:[Object(M.jsxs)("div",{className:"image_editor_buttons",children:[Object(M.jsx)("button",{onClick:this.saveEditor,children:"Save"}),Object(M.jsx)("button",{onClick:this.cancelEditor,children:"Cancel"})]}),Object(M.jsx)(Ue.a,{ref:this.editorRef,includeUI:{loadImage:{path:this.props.value.src,name:"value"},uiSize:{width:"800px",height:"600px"},menuBarPosition:"left"},cssMaxHeight:500,cssMaxWidth:700,usageStatistics:!1})]}):Object(M.jsxs)("div",{className:"edit_buttons",children:[Object(M.jsx)("button",{className:"edit_button",onClick:this.openEditor,children:Object(M.jsx)("img",{src:W})}),Object(M.jsx)("button",{className:"clear_button",onClick:this.handleChange.bind(this,null),children:Object(M.jsx)("img",{src:X})})]})),"select"===this.props.tool?Object(M.jsx)(ze,{src:this.props.value.src,style:{height:"100%",width:"100%"},ref:this.cropperRef,crop:this.onCrop,autoCropArea:1}):Object(M.jsx)("img",{ref:this.imgRef,onLoad:this.onImgLoad,className:"image_preview",alt:"",src:this.props.value.src})]}),t]})}return"upload"===this.props.source?Object(M.jsxs)("div",{className:"input_image",onDrag:e,onDragStart:e,onDragEnd:e,onDragOver:e,onDragEnter:e,onDragLeave:e,onDrop:e,children:[Object(M.jsxs)("div",{className:"upload_zone",onClick:this.openFileUpload,onDrop:this.load_preview_from_drop,children:["Drop Image Here",Object(M.jsx)("br",{}),"- or -",Object(M.jsx)("br",{}),"Click to Upload"]}),Object(M.jsx)("input",{className:"hidden_upload",type:"file",ref:this.uploader,onChange:this.load_preview_from_upload,accept:"image/x-png,image/gif,image/jpeg",style:{display:"none"}})]}):"webcam"===this.props.source?Object(M.jsx)("div",{className:"input_image",children:Object(M.jsxs)("div",{className:"image_preview_holder",children:[Object(M.jsx)(de.a,{ref:this.webcamRef}),Object(M.jsx)("div",{class:"snapshot",children:Object(M.jsx)("button",{onClick:this.snapshot,children:"Click to Take Snapshot"})})]})}):"canvas"===this.props.source?(null===this.props.value&&this.sketchRef&&this.sketchRef.current&&(this.sketchKey+=1),Object(M.jsx)("div",{className:"input_image",children:Object(M.jsx)("div",{className:"image_preview_holder sketch",children:Object(M.jsx)(Le,{ref:this.sketchRef,width:"320px",height:"100%",tool:be.Pencil,lineColor:"black",lineWidth:20,backgroundColor:"white",onChange:this.getSketch},this.sketchKey)})})):void 0}},{key:"load_preview_from_drop",value:function(e){this.load_preview_from_files(e.dataTransfer.files)}},{key:"load_preview_from_upload",value:function(e){this.load_preview_from_files(e.target.files)}},{key:"load_preview_from_files",value:function(e){if(e.length&&window.FileReader&&/^image/.test(e[0].type)){var t=this,n=new FileReader;n.readAsDataURL(e[0]),n.onloadend=function(){t.props.handleChange({src:this.result,crop:null})}}}}]),n}(O));Ve.memo=function(e,t){return e.interpretation==t.interpretation&&(null===e.value&&null===t.value||null!==e.value&&null!==t.value&&e.value.src===t.value.src)},Ve.postprocess=function(e){return null===e?null:null===e.crop?e.src:e.crop};var Ke=function(e){_(i,e);var t,n=B(i);function i(){return b(this,i),n.apply(this,arguments)}return x(i,[{key:"render",value:function(){return Object(M.jsx)("img",{className:"input_image_example",src:this.props.examples_dir+"/"+this.props.value,alt:""})}}],[{key:"preprocess",value:(t=c(s.a.mark((function e(t,n){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.preprocess(t,n);case 2:return i=e.sent,e.abrupt("return",{src:i,crop:null});case 4:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),i}(N),We=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=i.handleChange.bind(v(i)),i}return x(n,[{key:"handleChange",value:function(e){var t=e.target.value;isNaN(parseFloat(t))&&!["","-",".","-."].includes(t)||this.props.handleChange(e.target.value)}},{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_number",children:null===this.props.interpretation?Object(M.jsx)("input",{type:"text",onChange:this.handleChange,value:null===this.props.value?"":this.props.value}):Object(M.jsx)("div",{class:"interpretation",children:this.props.interpretation.map((function(e,t){return Object(M.jsx)("div",{class:"interpretation_box",style:{backgroundColor:P(e[1])},children:e[0]},t)}))})})}}]),n}(O),Xe=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_number_example",children:this.props.value})}}]),n}(T),Ye=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=i.handleChange.bind(v(i)),i}return x(n,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{className:"input_radio",children:this.props.choices.map((function(t,n){return Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:K()("radio_item",{selected:t===e.props.value}),onClick:e.handleChange.bind(e,t),children:[null===e.props.interpretation?Object(M.jsx)("div",{className:"radio_circle"}):Object(M.jsx)("div",{className:"radio_circle",style:{backgroundColor:P(e.props.interpretation[n])}}),t]})},n)}))})}}]),n}(O),Ge=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_radio_example",children:this.props.value})}}]),n}(T),qe=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=i.handleChange.bind(v(i)),i}return x(n,[{key:"handleChange",value:function(e){this.props.handleChange(parseFloat(e.target.value))}},{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_slider",children:null===this.props.interpretation?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("input",{type:"range",className:"range",onChange:this.handleChange,value:this.props.value,min:this.props.minimum,max:this.props.maximum,step:this.props.step}),Object(M.jsx)("div",{className:"value",children:this.props.value})]}):Object(M.jsx)("div",{class:"interpret_range",children:this.props.interpretation.map((function(e){return Object(M.jsx)("div",{style:{"background-color":P(e)}})}))})})}}]),n}(O),Je=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_slider_example",children:this.props.value})}}]),n}(T),Ze=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=i.handleChange.bind(v(i)),i}return x(n,[{key:"handleChange",value:function(e){this.props.handleChange(e.target.value)}},{key:"render",value:function(){return null!==this.props.interpretation?Object(M.jsx)("div",{className:"input_text",children:Object(M.jsx)("div",{class:"interpretation",children:this.props.interpretation.map((function(e,t){return Object(M.jsx)("div",{class:"interpretation_box",style:{backgroundColor:P(e[1])},children:e[0]},t)}))})}):this.props.lines>1?Object(M.jsx)("div",{className:"input_text",children:Object(M.jsx)("textarea",{value:this.props.value||"",rows:this.props.lines,onChange:this.handleChange,placeholder:this.props.placeholder||""})}):Object(M.jsx)("div",{className:"input_text",children:Object(M.jsx)("input",{type:"text",onChange:this.handleChange,value:this.props.value||"",placeholder:this.props.placeholder||""})})}}]),n}(O),$e=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_textbox_example",children:this.props.value})}}]),n}(T);function et(e,t,n){return(et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}
/*!
 * Chart.js v3.6.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */var tt="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function nt(e,t,n){var i=n||function(e){return Array.prototype.slice.call(e)},r=!1,o=[];return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];o=i(a),r||(r=!0,tt.call(window,(function(){r=!1,e.apply(t,o)})))}}var it=function(e){return"start"===e?"left":"end"===e?"right":"center"},rt=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2};function ot(){}var at,st=(at=0,function(){return at++});function lt(e){return null==e}function ct(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function ut(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}var dt=function(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)};function ht(e,t){return dt(e)?e:t}function pt(e,t){return void 0===e?t:e}var ft=function(e,t){return"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function At(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function mt(e,t,n,i){var r,o,a;if(ct(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(ut(e))for(o=(a=Object.keys(e)).length,r=0;r<o;r++)t.call(n,e[a[r]],a[r])}function gt(e,t){var n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function vt(e){if(ct(e))return e.map(vt);if(ut(e)){for(var t=Object.create(null),n=Object.keys(e),i=n.length,r=0;r<i;++r)t[n[r]]=vt(e[n[r]]);return t}return e}function bt(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function yt(e,t,n,i){if(bt(e)){var r=t[e],o=n[e];ut(r)&&ut(o)?xt(r,o,i):t[e]=vt(o)}}function xt(e,t,n){var i=ct(t)?t:[t],r=i.length;if(!ut(e))return e;for(var o=(n=n||{}).merger||yt,a=0;a<r;++a)if(ut(t=i[a]))for(var s=Object.keys(t),l=0,c=s.length;l<c;++l)o(s[l],e,t,n);return e}function wt(e,t){return xt(e,t,{merger:_t})}function _t(e,t,n){if(bt(e)){var i=t[e],r=n[e];ut(i)&&ut(r)?wt(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=vt(r))}}function jt(e,t){var n=e.indexOf(".",t);return-1===n?e.length:n}function Ct(e,t){if(""===t)return e;for(var n=0,i=jt(t,n);e&&i>n;)e=e[t.substr(n,i-n)],i=jt(t,n=i+1);return e}function Et(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Bt=function(e){return void 0!==e},kt=function(e){return"function"==typeof e},St=Math.PI,Ot=2*St,Mt=Ot+St,Tt=Number.POSITIVE_INFINITY,Ft=St/180,Nt=St/2,It=St/4,Lt=2*St/3,Dt=Math.log10,Ut=Math.sign;function Pt(e){var t=Math.round(e);e=Rt(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(Dt(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Ht(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Rt(e,t,n){return Math.abs(e-t)<n}function Qt(e,t,n){var i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function zt(e){return e*(St/180)}function Vt(e){return e*(180/St)}function Kt(e){if(dt(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function Wt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Xt(e,t){return(e-t+Mt)%Ot-St}function Yt(e){return(e%Ot+Ot)%Ot}function Gt(e,t,n,i){var r=Yt(e),o=Yt(t),a=Yt(n),s=Yt(o-r),l=Yt(a-r),c=Yt(r-o),u=Yt(r-a);return r===o||r===a||i&&o===a||s>l&&c<u}function qt(e,t,n){return Math.max(t,Math.min(n,e))}var Jt=function(e){return 0===e||1===e},Zt=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ot/n)},$t=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*Ot/n)+1},en={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*Nt)},easeOutSine:function(e){return Math.sin(e*Nt)},easeInOutSine:function(e){return-.5*(Math.cos(St*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return Jt(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return Jt(e)?e:Zt(e,.075,.3)},easeOutElastic:function(e){return Jt(e)?e:$t(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return Jt(e)?e:e<.5?.5*Zt(2*e,t,.45):.5+.5*$t(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-en.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*en.easeInBounce(2*e):.5*en.easeOutBounce(2*e-1)+.5}},tn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nn="0123456789ABCDEF",rn=function(e){return nn[15&e]},on=function(e){return nn[(240&e)>>4]+nn[15&e]},an=function(e){return(240&e)>>4==(15&e)};function sn(e){var t=function(e){return an(e.r)&&an(e.g)&&an(e.b)&&an(e.a)}(e)?rn:on;return e?"#"+t(e.r)+t(e.g)+t(e.b)+(e.a<255?t(e.a):""):e}function ln(e){return e+.5|0}var cn=function(e,t,n){return Math.max(Math.min(e,n),t)};function un(e){return cn(ln(2.55*e),0,255)}function dn(e){return cn(ln(255*e),0,255)}function hn(e){return cn(ln(e/2.55)/100,0,1)}function pn(e){return cn(ln(100*e),0,100)}var fn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var An=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mn(e,t,n){var i=t*Math.min(n,1-n),r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function gn(e,t,n){var i=function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function vn(e,t,n){var i,r=mn(e,1,.5);for(t+n>1&&(t*=i=1/(t+n),n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function bn(e){var t,n,i,r=e.r/255,o=e.g/255,a=e.b/255,s=Math.max(r,o,a),l=Math.min(r,o,a),c=(s+l)/2;return s!==l&&(i=s-l,n=c>.5?i/(2-s-l):i/(s+l),t=60*(t=s===r?(o-a)/i+(o<a?6:0):s===o?(a-r)/i+2:(r-o)/i+4)+.5),[0|t,n||0,c]}function yn(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(dn)}function xn(e,t,n){return yn(mn,e,t,n)}function wn(e){return(e%360+360)%360}function _n(e){var t,n=An.exec(e),i=255;if(n){n[5]!==t&&(i=n[6]?un(+n[5]):dn(+n[5]));var r=wn(+n[2]),o=+n[3]/100,a=+n[4]/100;return{r:(t="hwb"===n[1]?function(e,t,n){return yn(vn,e,t,n)}(r,o,a):"hsv"===n[1]?function(e,t,n){return yn(gn,e,t,n)}(r,o,a):xn(r,o,a))[0],g:t[1],b:t[2],a:i}}}var jn,Cn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},En={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Bn(e){jn||((jn=function(){var e,t,n,i,r,o={},a=Object.keys(En),s=Object.keys(Cn);for(e=0;e<a.length;e++){for(i=r=a[e],t=0;t<s.length;t++)n=s[t],r=r.replace(n,Cn[n]);n=parseInt(En[i],16),o[r]=[n>>16&255,n>>8&255,255&n]}return o}()).transparent=[0,0,0,0]);var t=jn[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}function kn(e,t,n){if(e){var i=bn(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=xn(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Sn(e,t){return e?Object.assign(t||{},e):e}function On(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=dn(e[3]))):(t=Sn(e,{r:0,g:0,b:0,a:1})).a=dn(t.a),t}function Mn(e){return"r"===e.charAt(0)?function(e){var t,n,i,r=fn.exec(e),o=255;if(r){if(r[7]!==t){var a=+r[7];o=255&(r[8]?un(a):255*a)}return t=+r[1],n=+r[3],i=+r[5],{r:t=255&(r[2]?un(t):t),g:n=255&(r[4]?un(n):n),b:i=255&(r[6]?un(i):i),a:o}}}(e):_n(e)}var Tn=function(){function e(t){if(b(this,e),t instanceof e)return t;var n,i,r,o,a=typeof t;"object"===a?n=On(t):"string"===a&&(o=(i=t).length,"#"===i[0]&&(4===o||5===o?r={r:255&17*tn[i[1]],g:255&17*tn[i[2]],b:255&17*tn[i[3]],a:5===o?17*tn[i[4]]:255}:7!==o&&9!==o||(r={r:tn[i[1]]<<4|tn[i[2]],g:tn[i[3]]<<4|tn[i[4]],b:tn[i[5]]<<4|tn[i[6]],a:9===o?tn[i[7]]<<4|tn[i[8]]:255})),n=r||Bn(t)||Mn(t)),this._rgb=n,this._valid=!!n}return x(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=Sn(this._rgb);return e&&(e.a=hn(e.a)),e},set:function(e){this._rgb=On(e)}},{key:"rgbString",value:function(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(hn(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):this._rgb;var e}},{key:"hexString",value:function(){return this._valid?sn(this._rgb):this._rgb}},{key:"hslString",value:function(){return this._valid?function(e){if(e){var t=bn(e),n=t[0],i=pn(t[1]),r=pn(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(hn(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}}(this._rgb):this._rgb}},{key:"mix",value:function(e,t){if(e){var n,i=this.rgb,r=e.rgb,o=t===n?.5:t,a=2*o-1,s=i.a-r.a,l=((a*s==-1?a:(a+s)/(1+a*s))+1)/2;n=1-l,i.r=255&l*i.r+n*r.r+.5,i.g=255&l*i.g+n*r.g+.5,i.b=255&l*i.b+n*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}},{key:"clone",value:function(){return new e(this.rgb)}},{key:"alpha",value:function(e){return this._rgb.a=dn(e),this}},{key:"clearer",value:function(e){return this._rgb.a*=1-e,this}},{key:"greyscale",value:function(){var e=this._rgb,t=ln(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}},{key:"opaquer",value:function(e){return this._rgb.a*=1+e,this}},{key:"negate",value:function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}},{key:"lighten",value:function(e){return kn(this._rgb,2,e),this}},{key:"darken",value:function(e){return kn(this._rgb,2,-e),this}},{key:"saturate",value:function(e){return kn(this._rgb,1,e),this}},{key:"desaturate",value:function(e){return kn(this._rgb,1,-e),this}},{key:"rotate",value:function(e){return function(e,t){var n=bn(e);n[0]=wn(n[0]+t),n=xn(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}]),e}();function Fn(e){return new Tn(e)}var Nn=function(e){return e instanceof CanvasGradient||e instanceof CanvasPattern};function In(e){return Nn(e)?e:Fn(e)}function Ln(e){return Nn(e)?e:Fn(e).saturate(.5).darken(.1).hexString()}var Dn=Object.create(null),Un=Object.create(null);function Pn(e,t){if(!t)return e;for(var n=t.split("."),i=0,r=n.length;i<r;++i){var o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function Hn(e,t,n){return"string"==typeof t?xt(Pn(e,t),n):xt(Pn(e,""),t)}var Rn=new(function(){function e(t){b(this,e),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return Ln(t.backgroundColor)},this.hoverBorderColor=function(e,t){return Ln(t.borderColor)},this.hoverColor=function(e,t){return Ln(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(t)}return x(e,[{key:"set",value:function(e,t){return Hn(this,e,t)}},{key:"get",value:function(e){return Pn(this,e)}},{key:"describe",value:function(e,t){return Hn(Un,e,t)}},{key:"override",value:function(e,t){return Hn(Dn,e,t)}},{key:"route",value:function(e,t,n,r){var o,a=Pn(this,e),s=Pn(this,n),l="_"+t;Object.defineProperties(a,(i(o={},l,{value:a[t],writable:!0}),i(o,t,{enumerable:!0,get:function(){var e=this[l],t=s[r];return ut(e)?Object.assign({},t,e):pt(e,t)},set:function(e){this[l]=e}}),o))}}]),e}())({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Qn(e,t,n,i,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i}function zn(e,t,n,i){var r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;var a,s,l,c,u,d=0,h=n.length;for(a=0;a<h;a++)if(null!=(c=n[a])&&!0!==ct(c))d=Qn(e,r,o,d,c);else if(ct(c))for(s=0,l=c.length;s<l;s++)null==(u=c[s])||ct(u)||(d=Qn(e,r,o,d,u));e.restore();var p=o.length/2;if(p>n.length){for(a=0;a<p;a++)delete r[o[a]];o.splice(0,p)}return d}function Vn(e,t,n){var i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function Kn(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Wn(e,t,n,i){var r,o,a,s,l,c=t.pointStyle,u=t.rotation,d=t.radius,h=(u||0)*Ft;if(c&&"object"==typeof c&&("[object HTMLImageElement]"===(r=c.toString())||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(n,i),e.rotate(h),e.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void e.restore();if(!(isNaN(d)||d<=0)){switch(e.beginPath(),c){default:e.arc(n,i,d,0,Ot),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(h)*d,i-Math.cos(h)*d),h+=Lt,e.lineTo(n+Math.sin(h)*d,i-Math.cos(h)*d),h+=Lt,e.lineTo(n+Math.sin(h)*d,i-Math.cos(h)*d),e.closePath();break;case"rectRounded":s=d-(l=.516*d),o=Math.cos(h+It)*s,a=Math.sin(h+It)*s,e.arc(n-o,i-a,l,h-St,h-Nt),e.arc(n+a,i-o,l,h-Nt,h),e.arc(n+o,i+a,l,h,h+Nt),e.arc(n-a,i+o,l,h+Nt,h+St),e.closePath();break;case"rect":if(!u){s=Math.SQRT1_2*d,e.rect(n-s,i-s,2*s,2*s);break}h+=It;case"rectRot":o=Math.cos(h)*d,a=Math.sin(h)*d,e.moveTo(n-o,i-a),e.lineTo(n+a,i-o),e.lineTo(n+o,i+a),e.lineTo(n-a,i+o),e.closePath();break;case"crossRot":h+=It;case"cross":o=Math.cos(h)*d,a=Math.sin(h)*d,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a),e.moveTo(n+a,i-o),e.lineTo(n-a,i+o);break;case"star":o=Math.cos(h)*d,a=Math.sin(h)*d,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a),e.moveTo(n+a,i-o),e.lineTo(n-a,i+o),h+=It,o=Math.cos(h)*d,a=Math.sin(h)*d,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a),e.moveTo(n+a,i-o),e.lineTo(n-a,i+o);break;case"line":o=Math.cos(h)*d,a=Math.sin(h)*d,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(h)*d,i+Math.sin(h)*d)}e.fill(),t.borderWidth>0&&e.stroke()}}function Xn(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Yn(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Gn(e){e.restore()}function qn(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){var o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else"after"===r!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Jn(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Zn(e,t,n,i,r){var o,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=ct(t)?t:[t],c=s.strokeWidth>0&&""!==s.strokeColor;for(e.save(),e.font=r.string,$n(e,s),o=0;o<l.length;++o)a=l[o],c&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),lt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(a,n,i,s.maxWidth)),e.fillText(a,n,i,s.maxWidth),ei(e,n,i,a,s),i+=r.lineHeight;e.restore()}function $n(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),lt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function ei(e,t,n,i,r){if(r.strikethrough||r.underline){var o=e.measureText(i),a=t-o.actualBoundingBoxLeft,s=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(a,u),e.lineTo(s,u),e.stroke()}}function ti(e,t){var n=t.x,i=t.y,r=t.w,o=t.h,a=t.radius;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,-Nt,St,!0),e.lineTo(n,i+o-a.bottomLeft),e.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,St,Nt,!0),e.lineTo(n+r-a.bottomRight,i+o),e.arc(n+r-a.bottomRight,i+o-a.bottomRight,a.bottomRight,Nt,0,!0),e.lineTo(n+r,i+a.topRight),e.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Nt,!0),e.lineTo(n+a.topLeft,i)}var ni=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ii=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ri(e,t){var n=(""+e).match(ni);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function oi(e,t){var n,i={},r=ut(t),o=r?Object.keys(t):t,a=ut(e)?r?function(n){return pt(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},s=g(o);try{for(s.s();!(n=s.n()).done;){var l=n.value;i[l]=+a(l)||0}}catch(e){s.e(e)}finally{s.f()}return i}function ai(e){return oi(e,{top:"y",right:"x",bottom:"y",left:"x"})}function si(e){return oi(e,["topLeft","topRight","bottomLeft","bottomRight"])}function li(e){var t=ai(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ci(e,t){e=e||{},t=t||Rn.font;var n=pt(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));var i=pt(e.style,t.style);i&&!(""+i).match(ii)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");var r={family:pt(e.family,t.family),lineHeight:ri(pt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:pt(e.weight,t.weight),string:""};return r.string=function(e){return!e||lt(e.size)||lt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function ui(e,t,n,i){var r,o,a,s=!0;for(r=0,o=e.length;r<o;++r)if(void 0!==(a=e[r])&&(void 0!==t&&"function"==typeof a&&(a=a(t),s=!1),void 0!==n&&ct(a)&&(a=a[n%a.length],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}function di(e,t){return Object.assign(Object.create(e),t)}function hi(e,t,n){n=n||function(n){return e[n]<t};for(var i,r=e.length-1,o=0;r-o>1;)n(i=o+r>>1)?o=i:r=i;return{lo:o,hi:r}}var pi=function(e,t,n){return hi(e,n,(function(i){return e[i][t]<n}))},fi=function(e,t,n){return hi(e,n,(function(i){return e[i][t]>=n}))};var Ai=["push","pop","shift","splice","unshift"];function mi(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(Ai.forEach((function(t){delete e[t]})),delete e._chartjs)}}function gi(e){var t,n,i=new Set;for(t=0,n=e.length;t<n;++t)i.add(e[t]);return i.size===n?e:Array.from(i)}function vi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return e[0]};Bt(o)||(o=Oi("_fallback",e));var s=(i(t={},Symbol.toStringTag,"Object"),i(t,"_cacheable",!0),i(t,"_scopes",e),i(t,"_rootScopes",r),i(t,"_fallback",o),i(t,"_getTarget",a),i(t,"override",(function(t){return vi([t].concat(J(e)),n,r,o)})),t);return new Proxy(s,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(t,i){return _i(t,i,(function(){return Si(i,n,e,t)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return Mi(e).includes(t)},ownKeys:function(e){return Mi(e)},set:function(e,t,n){return(e._storage||(e._storage=a()))[t]=n,delete e[t],delete e._keys,!0}})}function bi(e,t,n,i){var r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:yi(e,i),setContext:function(t){return bi(e,t,n,i)},override:function(r){return bi(e.override(r),t,n,i)}};return new Proxy(r,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return _i(e,t,(function(){return function(e,t,n){var i=e._proxy,r=e._context,o=e._subProxy,a=e._descriptors,s=i[t];kt(s)&&a.isScriptable(t)&&(s=function(e,t,n,i){var r=n._proxy,o=n._context,a=n._subProxy,s=n._stack;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e),t=t(o,a||i),s.delete(e),ut(t)&&(t=Bi(r._scopes,r,e,t));return t}(t,s,e,n));ct(s)&&s.length&&(s=function(e,t,n,i){var r=n._proxy,o=n._context,a=n._subProxy,s=n._descriptors;if(Bt(o.index)&&i(e))t=t[o.index%t.length];else if(ut(t[0])){var l=t,c=r._scopes.filter((function(e){return e!==l}));t=[];var u,d=g(l);try{for(d.s();!(u=d.n()).done;){var h=u.value,p=Bi(c,r,e,h);t.push(bi(p,o,a&&a[e],s))}}catch(e){d.e(e)}finally{d.f()}}return t}(t,s,e,a.isIndexable));wi(t,s)&&(s=bi(s,r,o&&o[t],a));return s}(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,i){return e[n]=i,delete t[n],!0}})}function yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=e._scriptable,i=void 0===n?t.scriptable:n,r=e._indexable,o=void 0===r?t.indexable:r,a=e._allKeys,s=void 0===a?t.allKeys:a;return{allKeys:s,scriptable:i,indexable:o,isScriptable:kt(i)?i:function(){return i},isIndexable:kt(o)?o:function(){return o}}}var xi=function(e,t){return e?e+Et(t):t},wi=function(e,t){return ut(t)&&"adapters"!==e};function _i(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var i=n();return e[t]=i,i}function ji(e,t,n){return kt(e)?e(t,n):e}var Ci=function(e,t){return!0===e?t:"string"==typeof e?Ct(t,e):void 0};function Ei(e,t,n,i){var r,o=g(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=Ci(n,a);if(s){e.add(s);var l=ji(s._fallback,n,s);if(Bt(l)&&l!==n&&l!==i)return l}else if(!1===s&&Bt(i)&&n!==i)return null}}catch(e){o.e(e)}finally{o.f()}return!1}function Bi(e,t,n,i){var r=t._rootScopes,o=ji(t._fallback,n,i),a=[].concat(J(e),J(r)),s=new Set;s.add(i);var l=ki(s,a,n,o||n);return null!==l&&((!Bt(o)||o===n||null!==(l=ki(s,a,o,l)))&&vi(Array.from(s),[""],r,o,(function(){return function(e,t,n){var i=e._getTarget();t in i||(i[t]={});var r=i[t];if(ct(r)&&ut(n))return n;return r}(t,n,i)})))}function ki(e,t,n,i){for(;n;)n=Ei(e,t,n,i);return n}function Si(e,t,n,i){var r,o,a=g(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(r=Oi(xi(s,e),n),Bt(r))return wi(e,r)?Bi(n,i,e,r):r}}catch(e){a.e(e)}finally{a.f()}}function Oi(e,t){var n,i=g(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r){var o=r[e];if(Bt(o))return o}}}catch(e){i.e(e)}finally{i.f()}}function Mi(e){var t=e._keys;return t||(t=e._keys=function(e){var t,n=new Set,i=g(e);try{for(i.s();!(t=i.n()).done;){var r,o=t.value,a=g(Object.keys(o).filter((function(e){return!e.startsWith("_")})));try{for(a.s();!(r=a.n()).done;){var s=r.value;n.add(s)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){i.e(e)}finally{i.f()}return Array.from(n)}(e._scopes)),t}var Ti=Number.EPSILON||1e-14,Fi=function(e,t){return t<e.length&&!e[t].skip&&e[t]},Ni=function(e){return"x"===e?"y":"x"};function Ii(e,t,n){for(var i,r,o,a,s,l=e.length,c=Fi(e,0),u=0;u<l-1;++u)s=c,c=Fi(e,u+1),s&&c&&(Rt(t[u],0,Ti)?n[u]=n[u+1]=0:(i=n[u]/t[u],r=n[u+1]/t[u],(a=Math.pow(i,2)+Math.pow(r,2))<=9||(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=r*o*t[u])))}function Li(e,t){for(var n,i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=Ni(o),s=e.length,l=Fi(e,0),c=0;c<s;++c)if(i=r,r=l,l=Fi(e,c+1),r){var u=r[o],d=r[a];i&&(n=(u-i[o])/3,r["cp1".concat(o)]=u-n,r["cp1".concat(a)]=d-n*t[c]),l&&(n=(l[o]-u)/3,r["cp2".concat(o)]=u+n,r["cp2".concat(a)]=d+n*t[c])}}function Di(e,t,n){return Math.max(Math.min(e,n),t)}function Ui(e,t,n,i,r){var o,a,s,l,c,u,d,h,p,f,A,m,g,v,b,y,x;if(t.spanGaps&&(e=e.filter((function(e){return!e.skip}))),"monotone"===t.cubicInterpolationMode)!function(e){var t,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=Ni(r),a=e.length,s=Array(a).fill(0),l=Array(a),c=Fi(e,0);for(t=0;t<a;++t)if(n=i,i=c,c=Fi(e,t+1),i){if(c){var u=c[r]-i[r];s[t]=0!==u?(c[o]-i[o])/u:0}l[t]=n?c?Ut(s[t-1])!==Ut(s[t])?0:(s[t-1]+s[t])/2:s[t-1]:s[t]}Ii(e,s,l),Li(e,l,r)}(e,r);else{var w=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)s=e[o],c=w,u=s,d=e[Math.min(o+1,a-(i?0:1))%a],h=t.tension,p=void 0,f=void 0,A=void 0,m=void 0,g=void 0,v=void 0,b=void 0,y=void 0,x=void 0,p=c.skip?u:c,f=u,A=d.skip?u:d,m=Wt(f,p),g=Wt(A,f),v=m/(m+g),b=g/(m+g),y=h*(v=isNaN(v)?0:v),x=h*(b=isNaN(b)?0:b),l={previous:{x:f.x-y*(A.x-p.x),y:f.y-y*(A.y-p.y)},next:{x:f.x+x*(A.x-p.x),y:f.y+x*(A.y-p.y)}},s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,w=s}t.capBezierPoints&&function(e,t){var n,i,r,o,a,s=Xn(e[0],t);for(n=0,i=e.length;n<i;++n)a=o,o=s,s=n<i-1&&Xn(e[n+1],t),o&&(r=e[n],a&&(r.cp1x=Di(r.cp1x,t.left,t.right),r.cp1y=Di(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=Di(r.cp2x,t.left,t.right),r.cp2y=Di(r.cp2y,t.top,t.bottom)))}(e,n)}function Pi(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Hi(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ri(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}var Qi=function(e){return window.getComputedStyle(e,null)};var zi=["top","right","bottom","left"];function Vi(e,t,n){var i={};n=n?"-"+n:"";for(var r=0;r<4;r++){var o=zi[r];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Ki(e,t){var n=t.canvas,i=t.currentDevicePixelRatio,r=Qi(n),o="border-box"===r.boxSizing,a=Vi(r,"padding"),s=Vi(r,"border","width"),l=function(e,t){var n,i,r=e.native||e,o=r.touches,a=o&&o.length?o[0]:r,s=a.offsetX,l=a.offsetY,c=!1;if(function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)}(s,l,r.target))n=s,i=l;else{var u=t.getBoundingClientRect();n=a.clientX-u.left,i=a.clientY-u.top,c=!0}return{x:n,y:i,box:c}}(e,n),c=l.x,u=l.y,d=l.box,h=a.left+(d&&s.left),p=a.top+(d&&s.top),f=t.width,A=t.height;return o&&(f-=a.width+s.width,A-=a.height+s.height),{x:Math.round((c-h)/f*n.width/i),y:Math.round((u-p)/A*n.height/i)}}var Wi=function(e){return Math.round(10*e)/10};function Xi(e,t,n,i){var r=Qi(e),o=Vi(r,"margin"),a=Ri(r.maxWidth,e,"clientWidth")||Tt,s=Ri(r.maxHeight,e,"clientHeight")||Tt,l=function(e,t,n){var i,r;if(void 0===t||void 0===n){var o=Hi(e);if(o){var a=o.getBoundingClientRect(),s=Qi(o),l=Vi(s,"border","width"),c=Vi(s,"padding");t=a.width-c.width-l.width,n=a.height-c.height-l.height,i=Ri(s.maxWidth,o,"clientWidth"),r=Ri(s.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||Tt,maxHeight:r||Tt}}(e,t,n),c=l.width,u=l.height;if("content-box"===r.boxSizing){var d=Vi(r,"border","width"),h=Vi(r,"padding");c-=h.width+d.width,u-=h.height+d.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?Math.floor(c/i):u-o.height),c=Wi(Math.min(c,a,l.maxWidth)),u=Wi(Math.min(u,s,l.maxHeight)),c&&!u&&(u=Wi(c/2)),{width:c,height:u}}function Yi(e,t,n){var i=t||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=r/i,e.width=o/i;var a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||a.height!==r||a.width!==o)&&(e.currentDevicePixelRatio=i,a.height=r,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}var Gi=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function qi(e,t){var n=function(e,t){return Qi(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ji(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Zi(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function $i(e,t,n,i){var r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=Ji(e,r,n),s=Ji(r,o,n),l=Ji(o,t,n),c=Ji(a,s,n),u=Ji(s,l,n);return Ji(c,u,n)}var er=new Map;function tr(e,t,n){return function(e,t){t=t||{};var n=e+JSON.stringify(t),i=er.get(n);return i||(i=new Intl.NumberFormat(e,t),er.set(n,i)),i}(t,n).format(e)}function nr(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}}function ir(e,t){var n,i;"ltr"!==t&&"rtl"!==t||(i=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function rr(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function or(e){return"angle"===e?{between:Gt,compare:Xt,normalize:Yt}:{between:function(e,t,n){return e>=Math.min(t,n)&&e<=Math.max(n,t)},compare:function(e,t){return e-t},normalize:function(e){return e}}}function ar(e){var t=e.start,n=e.end,i=e.count;return{start:t%i,end:n%i,loop:e.loop&&(n-t+1)%i==0,style:e.style}}function sr(e,t,n){if(!n)return[e];for(var i,r,o,a=n.property,s=n.start,l=n.end,c=t.length,u=or(a),d=u.compare,h=u.between,p=u.normalize,f=function(e,t,n){var i,r,o=n.property,a=n.start,s=n.end,l=or(o),c=l.between,u=l.normalize,d=t.length,h=e.start,p=e.end,f=e.loop;if(f){for(h+=d,p+=d,i=0,r=d;i<r&&c(u(t[h%d][o]),a,s);++i)h--,p--;h%=d,p%=d}return p<h&&(p+=d),{start:h,end:p,loop:f,style:e.style}}(e,t,n),A=f.start,m=f.end,g=f.loop,v=f.style,b=[],y=!1,x=null,w=function(){return y||h(s,o,i)&&0!==d(s,o)},_=function(){return!y||0===d(l,i)||h(l,o,i)},j=A,C=A;j<=m;++j)(r=t[j%c]).skip||(i=p(r[a]))!==o&&(y=h(i,s,l),null===x&&w()&&(x=0===d(i,s)?j:C),null!==x&&_()&&(b.push(ar({start:x,end:j,loop:g,count:c,style:v})),x=null),C=j,o=i);return null!==x&&b.push(ar({start:x,end:m,loop:g,count:c,style:v})),b}function lr(e,t){for(var n=[],i=e.segments,r=0;r<i.length;r++){var o=sr(i[r],e.points,t);o.length&&n.push.apply(n,J(o))}return n}function cr(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){var r=e._chart.getContext(),o=ur(e.options),a=e._datasetIndex,s=e.options.spanGaps,l=n.length,c=[],u=o,d=t[0].start,h=d;function p(e,t,i,r){var o=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=o;for(;n[t%l].skip;)t+=o;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,d=t%l)}}var f,A=g(t);try{for(A.s();!(f=A.n()).done;){var m=f.value;d=s?d:m.start;var v=n[d%l],b=void 0;for(h=d+1;h<=m.end;h++){var y=n[h%l];dr(b=ur(i.setContext(di(r,{type:"segment",p0:v,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),u)&&p(d,h-1,m.loop,u),v=y,u=b}d<h-1&&p(d,h-1,m.loop,u)}}catch(e){A.e(e)}finally{A.f()}return c}(e,t,n,i):t}function ur(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function dr(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}
/*!
 * Chart.js v3.6.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */var hr=new(function(){function e(){b(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return x(e,[{key:"_notify",value:function(e,t,n,i){var r=t.listeners[i],o=t.duration;r.forEach((function(i){return i({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})}))}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=tt.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=0;this._charts.forEach((function(i,r){if(i.running&&i.items.length){for(var o,a=i.items,s=a.length-1,l=!1;s>=0;--s)(o=a[s])._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),l=!0):(a[s]=a[a.length-1],a.pop());l&&(r.draw(),e._notify(r,i,t,"progress")),a.length||(i.running=!1,e._notify(r,i,t,"complete"),i.initial=!1),n+=a.length}})),this._lastDate=t,0===n&&(this._running=!1)}},{key:"_getAnims",value:function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}},{key:"listen",value:function(e,t,n){this._getAnims(e).listeners[t].push(n)}},{key:"add",value:function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,J(t))}},{key:"has",value:function(e){return this._getAnims(e).items.length>0}},{key:"start",value:function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())}},{key:"running",value:function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}},{key:"stop",value:function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,i=n.length-1;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts.delete(e)}}]),e}()),pr={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var i=In(e||"transparent"),r=i.valid&&In(t||"transparent");return r&&r.valid?r.mix(i,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},fr=function(){function e(t,n,i,r){b(this,e);var o=n[i];r=ui([t.to,r,o,t.from]);var a=ui([t.from,o,r]);this._active=!0,this._fn=t.fn||pr[t.type||typeof a],this._easing=en[t.easing]||en.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}return x(e,[{key:"active",value:function(){return this._active}},{key:"update",value:function(e,t,n){if(this._active){this._notify(!1);var i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=ui([e.to,t,i,e.from]),this._from=ui([e.from,i,t])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(e){var t,n=e-this._start,i=this._duration,r=this._prop,o=this._from,a=this._loop,s=this._to;if(this._active=o!==s&&(a||n<i),!this._active)return this._target[r]=s,void this._notify(!0);n<0?this._target[r]=o:(t=n/i%2,t=a&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[r]=this._fn(o,s,t))}},{key:"wait",value:function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))}},{key:"_notify",value:function(e){for(var t=e?"res":"rej",n=this._promises||[],i=0;i<n.length;i++)n[i][t]()}}]),e}();Rn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var Ar=Object.keys(Rn.animation);Rn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),Rn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Rn.describe("animations",{_fallback:"animation"}),Rn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}});var mr=function(){function e(t,n){b(this,e),this._chart=t,this._properties=new Map,this.configure(n)}return x(e,[{key:"configure",value:function(e){if(ut(e)){var t=this._properties;Object.getOwnPropertyNames(e).forEach((function(n){var i=e[n];if(ut(i)){var r,o={},a=g(Ar);try{for(a.s();!(r=a.n()).done;){var s=r.value;o[s]=i[s]}}catch(e){a.e(e)}finally{a.f()}(ct(i.properties)&&i.properties||[n]).forEach((function(e){e!==n&&t.has(e)||t.set(e,o)}))}}))}}},{key:"_animateOptions",value:function(e,t){var n=t.options,i=function(e,t){if(!t)return;var n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];var r=this._createAnimations(i,n);return n.$shared&&function(e,t){for(var n=[],i=Object.keys(t),r=0;r<i.length;r++){var o=e[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(e.options.$animations,n).then((function(){e.options=n}),(function(){})),r}},{key:"_createAnimations",value:function(e,t){var n,i=this._properties,r=[],o=e.$animations||(e.$animations={}),a=Object.keys(t),s=Date.now();for(n=a.length-1;n>=0;--n){var l=a[n];if("$"!==l.charAt(0))if("options"!==l){var c=t[l],u=o[l],d=i.get(l);if(u){if(d&&u.active()){u.update(d,c,s);continue}u.cancel()}d&&d.duration?(o[l]=u=new fr(d,e,l,c),r.push(u)):e[l]=c}else r.push.apply(r,J(this._animateOptions(e,t)))}return r}},{key:"update",value:function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(hr.add(this._chart,n),!0):void 0}Object.assign(e,t)}}]),e}();function gr(e,t){var n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:i?o:r,end:i?r:o}}function vr(e,t){var n,i,r=[],o=e._getSortedDatasetMetas(t);for(n=0,i=o.length;n<i;++n)r.push(o[n].index);return r}function br(e,t,n){var i,r,o,a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=e.keys,c="single"===s.mode;if(null!==t){for(i=0,r=l.length;i<r;++i){if((o=+l[i])===n){if(s.all)continue;break}a=e.values[o],dt(a)&&(c||0===t||Ut(t)===Ut(a))&&(t+=a)}return t}}function yr(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function xr(e,t,n){var i=e[t]||(e[t]={});return i[n]||(i[n]={})}function wr(e,t,n,i){var r,o=g(t.getMatchingVisibleMetas(i).reverse());try{for(o.s();!(r=o.n()).done;){var a=r.value,s=e[a.index];if(n&&s>0||!n&&s<0)return a.index}}catch(e){o.e(e)}finally{o.f()}return null}function _r(e,t){for(var n,i=e.chart,r=e._cachedMeta,o=i._stacks||(i._stacks={}),a=r.iScale,s=r.vScale,l=r.index,c=a.axis,u=s.axis,d=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,s,r),h=t.length,p=0;p<h;++p){var f=t[p],A=f[c],m=f[u];(n=(f._stacks||(f._stacks={}))[u]=xr(o,d,A))[l]=m,n._top=wr(n,s,!0,r.type),n._bottom=wr(n,s,!1,r.type)}}function jr(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function Cr(e,t){var n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){var r,o=g(t=t||e._parsed);try{for(o.s();!(r=o.n()).done;){var a=r.value._stacks;if(!a||void 0===a[i]||void 0===a[i][n])return;delete a[i][n]}}catch(e){o.e(e)}finally{o.f()}}}var Er=function(e){return"reset"===e||"none"===e},Br=function(e,t){return t?e:Object.assign({},e)},kr=function(){function e(t,n){b(this,e),this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}return x(e,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=yr(e.vScale,e),this.addElements()}},{key:"updateIndex",value:function(e){this.index!==e&&Cr(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=function(e,t,n,i){return"x"===e?t:"r"===e?i:n},r=t.xAxisID=pt(n.xAxisID,jr(e,"x")),o=t.yAxisID=pt(n.yAxisID,jr(e,"y")),a=t.rAxisID=pt(n.rAxisID,jr(e,"r")),s=t.indexAxis,l=t.iAxisID=i(s,r,o,a),c=t.vAxisID=i(s,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&mi(this._data,this),e._stacked&&Cr(e)}},{key:"_dataCheck",value:function(){var e,t,n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(ut(i))this._data=function(e){var t,n,i,r=Object.keys(e),o=new Array(r.length);for(t=0,n=r.length;t<n;++t)i=r[t],o[t]={x:i,y:e[i]};return o}(i);else if(r!==i){if(r){mi(r,this);var o=this._cachedMeta;Cr(o),o._parsed=[]}i&&Object.isExtensible(i)&&(t=this,(e=i)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ai.forEach((function(t){var n="_onData"+Et(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=i.apply(this,r);return e._chartjs.listeners.forEach((function(e){"function"==typeof e[n]&&e[n].apply(e,r)})),a}})})))),this._syncList=[],this._data=i}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(e){var t=this._cachedMeta,n=this.getDataset(),i=!1;this._dataCheck();var r=t._stacked;t._stacked=yr(t.vScale,t),t.stack!==n.stack&&(i=!0,Cr(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&_r(this,t._parsed)}},{key:"configure",value:function(){var e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing}},{key:"parse",value:function(e,t){var n,i,r,o=this._cachedMeta,a=this._data,s=o.iScale,l=o._stacked,c=s.axis,u=0===e&&t===a.length||o._sorted,d=e>0&&o._parsed[e-1];if(!1===this._parsing)o._parsed=a,o._sorted=!0,r=a;else{r=ct(a[e])?this.parseArrayData(o,a,e,t):ut(a[e])?this.parseObjectData(o,a,e,t):this.parsePrimitiveData(o,a,e,t);for(n=0;n<t;++n)o._parsed[n+e]=i=r[n],u&&((null===i[c]||d&&i[c]<d[c])&&(u=!1),d=i);o._sorted=u}l&&_r(this,r)}},{key:"parsePrimitiveData",value:function(e,t,n,r){var o,a,s,l=e.iScale,c=e.vScale,u=l.axis,d=c.axis,h=l.getLabels(),p=l===c,f=new Array(r);for(o=0,a=r;o<a;++o){var A;s=o+n,f[o]=(i(A={},u,p||l.parse(h[s],s)),i(A,d,c.parse(t[s],s)),A)}return f}},{key:"parseArrayData",value:function(e,t,n,i){var r,o,a,s,l=e.xScale,c=e.yScale,u=new Array(i);for(r=0,o=i;r<o;++r)s=t[a=r+n],u[r]={x:l.parse(s[0],a),y:c.parse(s[1],a)};return u}},{key:"parseObjectData",value:function(e,t,n,i){var r,o,a,s,l=e.xScale,c=e.yScale,u=this._parsing,d=u.xAxisKey,h=void 0===d?"x":d,p=u.yAxisKey,f=void 0===p?"y":p,A=new Array(i);for(r=0,o=i;r<o;++r)s=t[a=r+n],A[r]={x:l.parse(Ct(s,h),a),y:c.parse(Ct(s,f),a)};return A}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(e,t,n){var i=this.chart,r=this._cachedMeta,o=t[e.axis];return br({keys:vr(i,!0),values:t._stacks[e.axis]},o,r.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(e,t,n,i){var r=n[t.axis],o=null===r?NaN:r,a=i&&n._stacks[t.axis];i&&a&&(i.values=a,o=br(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}},{key:"getMinMax",value:function(e,t){var n,i,r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,s=o.length,l=this._getOtherScale(e),c=function(e,t,n){return e&&!t.hidden&&t._stacked&&{keys:vr(n,!0),values:null}}(t,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},d=function(e){var t=e.getUserBounds(),n=t.min,i=t.max,r=t.minDefined,o=t.maxDefined;return{min:r?n:Number.NEGATIVE_INFINITY,max:o?i:Number.POSITIVE_INFINITY}}(l),h=d.min,p=d.max;function f(){var t=(i=o[n])[l.axis];return!dt(i[e.axis])||h>t||p<t}for(n=0;n<s&&(f()||(this.updateRangeFromParsed(u,e,i,c),!a));++n);if(a)for(n=s-1;n>=0;--n)if(!f()){this.updateRangeFromParsed(u,e,i,c);break}return u}},{key:"getAllParsedValues",value:function(e){var t,n,i,r=this._cachedMeta._parsed,o=[];for(t=0,n=r.length;t<n;++t)i=r[t][e.axis],dt(i)&&o.push(i);return o}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}},{key:"_update",value:function(e){var t,n,i,r,o,a=this._cachedMeta;this.configure(),this._cachedDataOpts={},this.update(e||"default"),a._clip=(ut(t=pt(this.options.clip,function(e,t,n){if(!1===n)return!1;var i=gr(e,n),r=gr(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(a.xScale,a.yScale,this.getMaxOverflow())))?(n=t.top,i=t.right,r=t.bottom,o=t.left):n=i=r=o=t,{top:n,right:i,bottom:r,left:o,disabled:!1===t})}},{key:"update",value:function(e){}},{key:"draw",value:function(){var e,t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],o=n.chartArea,a=[],s=this._drawStart||0,l=this._drawCount||r.length-s;for(i.dataset&&i.dataset.draw(t,o,s,l),e=s;e<s+l;++e){var c=r[e];c.hidden||(c.active?a.push(c):c.draw(t,o))}for(e=0;e<a.length;++e)a[e].draw(t,o)}},{key:"getStyle",value:function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}},{key:"getContext",value:function(e,t,n){var i,r=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){var o=this._cachedMeta.data[e];(i=o.$context||(o.$context=function(e,t,n){return di(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,o))).parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else(i=this.$context||(this.$context=function(e,t){return di(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index))).dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}},{key:"_resolveElementOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0,r="active"===n,o=this._cachedDataOpts,a=e+"-"+n,s=o[a],l=this.enableOptionSharing&&Bt(i);if(s)return Br(s,l);var c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Rn.elements[e]),f=function(){return t.getContext(i,r)},A=c.resolveNamedOptions(h,p,f,d);return A.$shared&&(A.$shared=l,o[a]=Object.freeze(Br(A,l))),A}},{key:"_resolveAnimations",value:function(e,t,n){var i,r=this.chart,o=this._cachedDataOpts,a="animation-".concat(t),s=o[a];if(s)return s;if(!1!==r.options.animation){var l=this.chart.config,c=l.datasetAnimationScopeKeys(this._type,t),u=l.getOptionScopes(this.getDataset(),c);i=l.createResolver(u,this.getContext(e,n,t))}var d=new mr(r,i&&i.animations);return i&&i._cacheable&&(o[a]=Object.freeze(d)),d}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(e,t){return!t||Er(e)||this.chart._animationsDisabled}},{key:"updateElement",value:function(e,t,n,i){Er(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}},{key:"updateSharedOptions",value:function(e,t,n){e&&!Er(t)&&this._resolveAnimations(void 0,t).update(e,n)}},{key:"_setStyle",value:function(e,t,n,i){e.active=i;var r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}},{key:"removeHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!1)}},{key:"setHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(e){var t,n=this._data,i=this._cachedMeta.data,r=g(this._syncList);try{for(r.s();!(t=r.n()).done;){var o=m(t.value,3),a=o[0],s=o[1],l=o[2];this[a](s,l)}}catch(e){r.e(e)}finally{r.f()}this._syncList=[];var c=i.length,u=n.length,d=Math.min(u,c);d&&this.parse(0,d),u>c?this._insertElements(c,u-c,e):u<c&&this._removeElements(u,c-u)}},{key:"_insertElements",value:function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._cachedMeta,o=r.data,a=e+t,s=function(e){for(e.length+=t,n=e.length-1;n>=a;n--)e[n]=e[n-t]};for(s(o),n=e;n<a;++n)o[n]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}},{key:"updateElements",value:function(e,t,n,i){}},{key:"_removeElements",value:function(e,t){var n=this._cachedMeta;if(this._parsing){var i=n._parsed.splice(e,t);n._stacked&&Cr(n,i)}n.data.splice(e,t)}},{key:"_sync",value:function(e){if(this._parsing)this._syncList.push(e);else{var t=m(e,3),n=t[0],i=t[1],r=t[2];this[n](i,r)}}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(e,t){this._sync(["_removeElements",e,t]),this._sync(["_insertElements",e,arguments.length-2])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),e}();function Sr(e){var t,n,i,r,o=e.iScale,a=function(e,t){if(!e._cache.$bar){for(var n=e.getMatchingVisibleMetas(t),i=[],r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=gi(i.sort((function(e,t){return e-t})))}return e._cache.$bar}(o,e.type),s=o._length,l=function(){32767!==i&&-32768!==i&&(Bt(r)&&(s=Math.min(s,Math.abs(i-r)||s)),r=i)};for(t=0,n=a.length;t<n;++t)i=o.getPixelForValue(a[t]),l();for(r=void 0,t=0,n=o.ticks.length;t<n;++t)i=o.getPixelForTick(t),l();return s}function Or(e,t,n,i){return ct(e)?function(e,t,n,i){var r=n.parse(e[0],i),o=n.parse(e[1],i),a=Math.min(r,o),s=Math.max(r,o),l=a,c=s;Math.abs(a)>Math.abs(s)&&(l=s,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:o,min:a,max:s}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Mr(e,t,n,i){var r,o,a,s,l=e.iScale,c=e.vScale,u=l.getLabels(),d=l===c,h=[];for(r=n,o=n+i;r<o;++r)s=t[r],(a={})[l.axis]=d||l.parse(u[r],r),h.push(Or(s,a,c,r));return h}function Tr(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Fr(e,t,n,i){var r=t.borderSkipped,o={};if(r){var a=function(e){var t,n,i,r,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:t,top:r,bottom:o}}(e),s=a.start,l=a.end,c=a.reverse,u=a.top,d=a.bottom;"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=u:(n._bottom||0)===i?r=d:(o[Nr(d,s,l,c)]=!0,r=u)),o[Nr(r,s,l,c)]=!0,e.borderSkipped=o}else e.borderSkipped=o}function Nr(e,t,n,i){var r,o,a;return i?(a=n,e=Ir(e=(r=e)===(o=t)?a:r===a?o:r,n,t)):e=Ir(e,t,n),e}function Ir(e,t,n){return"start"===e?t:"end"===e?n:e}function Lr(e,t,n){var i=t.inflateAmount;e.inflateAmount="auto"===i?1===n?.33:0:i}kr.defaults={},kr.prototype.datasetElementType=null,kr.prototype.dataElementType=null;var Dr=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"parsePrimitiveData",value:function(e,t,n,i){return Mr(e,t,n,i)}},{key:"parseArrayData",value:function(e,t,n,i){return Mr(e,t,n,i)}},{key:"parseObjectData",value:function(e,t,n,i){var r,o,a,s,l=e.iScale,c=e.vScale,u=this._parsing,d=u.xAxisKey,h=void 0===d?"x":d,p=u.yAxisKey,f=void 0===p?"y":p,A="x"===l.axis?h:f,m="x"===c.axis?h:f,g=[];for(r=n,o=n+i;r<o;++r)s=t[r],(a={})[l.axis]=l.parse(Ct(s,A),r),g.push(Or(Ct(s,m),a,c,r));return g}},{key:"updateRangeFromParsed",value:function(e,t,i,r){et(j(n.prototype),"updateRangeFromParsed",this).call(this,e,t,i,r);var o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e),o=r._custom,a=Tr(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,et(j(n.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}},{key:"updateElements",value:function(e,t,n,i){var r="reset"===i,o=this.index,a=this._cachedMeta.vScale,s=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),u=this.resolveDataElementOptions(t,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d);this.updateSharedOptions(d,i,u);for(var p=t;p<t+n;p++){var f=this.getParsed(p),A=r||lt(f[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(p),m=this._calculateBarIndexPixels(p,c),g=(f._stacks||{})[a.axis],v={horizontal:l,base:A.base,enableBorderRadius:!g||Tr(f._custom)||o===g._top||o===g._bottom,x:l?A.head:m.center,y:l?m.center:A.head,height:l?m.size:Math.abs(A.size),width:l?Math.abs(A.size):m.size};h&&(v.options=d||this.resolveDataElementOptions(p,e[p].active?"active":i));var b=v.options||e[p].options;Fr(v,b,g,o),Lr(v,b,c.ratio),this.updateElement(e[p],p,v,i)}}},{key:"_getStacks",value:function(e,t){var n,i,r=this._cachedMeta.iScale,o=r.getMatchingVisibleMetas(this._type),a=r.options.stacked,s=o.length,l=[];for(n=0;n<s;++n)if((i=o[n]).controller.options.grouped){if(void 0!==t){var c=i.controller.getParsed(t)[i.controller._cachedMeta.vScale.axis];if(lt(c)||isNaN(c))continue}if((!1===a||-1===l.indexOf(i.stack)||void 0===a&&void 0===i.stack)&&l.push(i.stack),i.index===e)break}return l.length||l.push(void 0),l}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(e,t,n){var i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}},{key:"_getRuler",value:function(){var e,t,n=this.options,i=this._cachedMeta,r=i.iScale,o=[];for(e=0,t=i.data.length;e<t;++e)o.push(r.getPixelForValue(this.getParsed(e)[r.axis],e));var a=n.barThickness;return{min:a||Sr(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:a?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(e){var t,n,i=this._cachedMeta,r=i.vScale,o=i._stacked,a=this.options,s=a.base,l=a.minBarLength,c=s||0,u=this.getParsed(e),d=u._custom,h=Tr(d),p=u[r.axis],f=0,A=o?this.applyStack(r,u,o):p;A!==p&&(f=A-p,A=p),h&&(p=d.barStart,A=d.barEnd-d.barStart,0!==p&&Ut(p)!==Ut(d.barEnd)&&(f=0),f+=p);var m=lt(s)||h?f:s,g=r.getPixelForValue(m);if(n=(t=this.chart.getDataVisibility(e)?r.getPixelForValue(f+A):g)-g,Math.abs(n)<l&&(n=function(e,t,n){return 0!==e?Ut(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(n,r,c)*l,p===c&&(g-=n/2),t=g+n),g===r.getPixelForValue(c)){var v=Ut(n)*r.getLineWidthForValue(c)/2;g+=v,n-=v}return{size:n,base:g,head:t,center:t+n/2}}},{key:"_calculateBarIndexPixels",value:function(e,t){var n,i,r=t.scale,o=this.options,a=o.skipNull,s=pt(o.maxBarThickness,1/0);if(t.grouped){var l=a?this._getStackCount(e):t.stackCount,c="flex"===o.barThickness?function(e,t,n,i){var r=t.pixels,o=r[e],a=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null,l=n.categoryPercentage;null===a&&(a=o-(null===s?t.end-t.start:s-o)),null===s&&(s=o+o-a);var c=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,o,l):function(e,t,n,i){var r,o,a=n.barThickness;return lt(a)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=a*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}(e,t,o,l),u=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);n=c.start+c.chunk*u+c.chunk/2,i=Math.min(s,c.chunk*c.ratio)}else n=r.getPixelForValue(this.getParsed(e)[r.axis],e),i=Math.min(s,t.min*t.ratio);return{base:n-i/2,head:n+i/2,center:n,size:i}}},{key:"draw",value:function(){for(var e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length,r=0;r<i;++r)null!==this.getParsed(r)[t.axis]&&n[r].draw(this._ctx)}}]),n}(kr);Dr.id="bar",Dr.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Dr.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var Ur=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,et(j(n.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(e,t,i,r){for(var o=et(j(n.prototype),"parsePrimitiveData",this).call(this,e,t,i,r),a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}},{key:"parseArrayData",value:function(e,t,i,r){for(var o=et(j(n.prototype),"parseArrayData",this).call(this,e,t,i,r),a=0;a<o.length;a++){var s=t[i+a];o[a]._custom=pt(s[2],this.resolveDataElementOptions(a+i).radius)}return o}},{key:"parseObjectData",value:function(e,t,i,r){for(var o=et(j(n.prototype),"parseObjectData",this).call(this,e,t,i,r),a=0;a<o.length;a++){var s=t[i+a];o[a]._custom=pt(s&&s.r&&+s.r,this.resolveDataElementOptions(a+i).radius)}return o}},{key:"getMaxOverflow",value:function(){for(var e=this._cachedMeta.data,t=0,n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.xScale,i=t.yScale,r=this.getParsed(e),o=n.getLabelForValue(r.x),a=i.getLabelForValue(r.y),s=r._custom;return{label:t.label,value:"("+o+", "+a+(s?", "+s:"")+")"}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}},{key:"updateElements",value:function(e,t,n,i){for(var r="reset"===i,o=this._cachedMeta,a=o.iScale,s=o.vScale,l=this.resolveDataElementOptions(t,i),c=this.getSharedOptions(l),u=this.includeOptions(i,c),d=a.axis,h=s.axis,p=t;p<t+n;p++){var f=e[p],A=!r&&this.getParsed(p),m={},g=m[d]=r?a.getPixelForDecimal(.5):a.getPixelForValue(A[d]),v=m[h]=r?s.getBasePixel():s.getPixelForValue(A[h]);m.skip=isNaN(g)||isNaN(v),u&&(m.options=this.resolveDataElementOptions(p,f.active?"active":i),r&&(m.options.radius=0)),this.updateElement(f,p,m,i)}this.updateSharedOptions(c,i,l)}},{key:"resolveDataElementOptions",value:function(e,t){var i=this.getParsed(e),r=et(j(n.prototype),"resolveDataElementOptions",this).call(this,e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));var o=r.radius;return"active"!==t&&(r.radius=0),r.radius+=pt(i&&i._custom,o),r}}]),n}(kr);Ur.id="bubble",Ur.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ur.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:function(){return""}}}}};var Pr=function(e){_(n,e);var t=B(n);function n(e,i){var r;return b(this,n),(r=t.call(this,e,i)).enableOptionSharing=!0,r.innerRadius=void 0,r.outerRadius=void 0,r.offsetX=void 0,r.offsetY=void 0,r}return x(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(e,t){var n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{var r,o,a=function(e){return+n[e]};if(ut(n[e])){var s=this._parsing.key,l=void 0===s?"value":s;a=function(e){return+Ct(n[e],l)}}for(r=e,o=e+t;r<o;++r)i._parsed[r]=a(r)}}},{key:"_getRotation",value:function(){return zt(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return zt(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var e=Ot,t=-Ot,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){var i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}},{key:"update",value:function(e){var t,n,i=this.chart.chartArea,r=this._cachedMeta,o=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,s=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min((t=this.options.cutout,n=s,"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/n),1),c=this._getRingWeight(this.index),u=this._getRotationExtents(),d=u.circumference,h=function(e,t,n){var i=1,r=1,o=0,a=0;if(t<Ot){var s=e,l=s+t,c=Math.cos(s),u=Math.sin(s),d=Math.cos(l),h=Math.sin(l),p=function(e,t,i){return Gt(e,s,l,!0)?1:Math.max(t,t*n,i,i*n)},f=function(e,t,i){return Gt(e,s,l,!0)?-1:Math.min(t,t*n,i,i*n)},A=p(0,c,d),m=p(Nt,u,h),g=f(St,c,d),v=f(St+Nt,u,h);i=(A-g)/2,r=(m-v)/2,o=-(A+g)/2,a=-(m+v)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:a}}(u.rotation,d,l),p=h.ratioX,f=h.ratioY,A=h.offsetX,m=h.offsetY,g=(i.width-a)/p,v=(i.height-a)/f,b=Math.max(Math.min(g,v)/2,0),y=ft(this.options.radius,b),x=(y-Math.max(y*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=A*y,this.offsetY=m*y,r.total=this.calculateTotal(),this.outerRadius=y-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(o,0,o.length,e)}},{key:"_circumference",value:function(e,t){var n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Ot)}},{key:"updateElements",value:function(e,t,n,i){var r,o="reset"===i,a=this.chart,s=a.chartArea,l=a.options.animation,c=(s.left+s.right)/2,u=(s.top+s.bottom)/2,d=o&&l.animateScale,h=d?0:this.innerRadius,p=d?0:this.outerRadius,f=this.resolveDataElementOptions(t,i),A=this.getSharedOptions(f),m=this.includeOptions(i,A),g=this._getRotation();for(r=0;r<t;++r)g+=this._circumference(r,o);for(r=t;r<t+n;++r){var v=this._circumference(r,o),b=e[r],y={x:c+this.offsetX,y:u+this.offsetY,startAngle:g,endAngle:g+v,circumference:v,outerRadius:p,innerRadius:h};m&&(y.options=A||this.resolveDataElementOptions(r,b.active?"active":i)),g+=v,this.updateElement(b,r,y,i)}this.updateSharedOptions(A,i,f)}},{key:"calculateTotal",value:function(){var e,t=this._cachedMeta,n=t.data,i=0;for(e=0;e<n.length;e++){var r=t._parsed[e];null===r||isNaN(r)||!this.chart.getDataVisibility(e)||n[e].hidden||(i+=Math.abs(r))}return i}},{key:"calculateCircumference",value:function(e){var t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ot*(Math.abs(e)/t):0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=tr(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}},{key:"getMaxBorderWidth",value:function(e){var t,n,i,r,o,a=0,s=this.chart;if(!e)for(t=0,n=s.data.datasets.length;t<n;++t)if(s.isDatasetVisible(t)){e=(i=s.getDatasetMeta(t)).data,(r=i.controller)!==this&&r.configure();break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)"inner"!==(o=r.resolveDataElementOptions(t)).borderAlign&&(a=Math.max(a,o.borderWidth||0,o.hoverBorderWidth||0));return a}},{key:"getMaxOffset",value:function(e){for(var t=0,n=0,i=e.length;n<i;++n){var r=this.resolveDataElementOptions(n);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}},{key:"_getRingWeightOffset",value:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}},{key:"_getRingWeight",value:function(e){return Math.max(pt(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(kr);Pr.id="doughnut",Pr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Pr.descriptors={_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e}},Pr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels.pointStyle;return t.labels.map((function(t,i){var r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(e){var t=e.label,n=": "+e.formattedValue;return ct(t)?(t=t.slice())[0]+=n:t+=n,t}}}}};var Hr=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,et(j(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,i=t.data,r=void 0===i?[]:i,o=t._dataset,a=this.chart._animationsDisabled,s=function(e,t,n){var i=t.length,r=0,o=i;if(e._sorted){var a=e.iScale,s=e._parsed,l=a.axis,c=a.getUserBounds(),u=c.min,d=c.max,h=c.minDefined,p=c.maxDefined;h&&(r=qt(Math.min(pi(s,a.axis,u).lo,n?i:pi(t,l,a.getPixelForValue(u)).lo),0,i-1)),o=p?qt(Math.max(pi(s,a.axis,d).hi+1,n?0:pi(t,l,a.getPixelForValue(d)).hi+1),r,i)-r:i-r}return{start:r,count:o}}(t,r,a),l=s.start,c=s.count;this._drawStart=l,this._drawCount=c,function(e){var t=e.xScale,n=e.yScale,i=e._scaleRanges,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;var o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}(t)&&(l=0,c=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=r;var u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:u},e),this.updateElements(r,l,c,e)}},{key:"updateElements",value:function(e,t,n,i){for(var r="reset"===i,o=this._cachedMeta,a=o.iScale,s=o.vScale,l=o._stacked,c=o._dataset,u=this.resolveDataElementOptions(t,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),p=a.axis,f=s.axis,A=this.options,m=A.spanGaps,g=A.segment,v=Ht(m)?m:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||"none"===i,y=t>0&&this.getParsed(t-1),x=t;x<t+n;++x){var w=e[x],_=this.getParsed(x),j=b?w:{},C=lt(_[f]),E=j[p]=a.getPixelForValue(_[p],x),B=j[f]=r||C?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,_,l):_[f],x);j.skip=isNaN(E)||isNaN(B)||C,j.stop=x>0&&_[p]-y[p]>v,g&&(j.parsed=_,j.raw=c.data[x]),h&&(j.options=d||this.resolveDataElementOptions(x,w.active?"active":i)),b||this.updateElement(w,x,j,i),y=_}this.updateSharedOptions(d,i,u)}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;var r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),et(j(n.prototype),"draw",this).call(this)}}]),n}(kr);Hr.id="line",Hr.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Hr.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var Rr=function(e){_(n,e);var t=B(n);function n(e,i){var r;return b(this,n),(r=t.call(this,e,i)).innerRadius=void 0,r.outerRadius=void 0,r}return x(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=tr(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}},{key:"_updateRadius",value:function(){var e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),o=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}},{key:"updateElements",value:function(e,t,n,i){var r,o="reset"===i,a=this.chart,s=this.getDataset(),l=a.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*St,p=h,f=360/this.countVisibleElements();for(r=0;r<t;++r)p+=this._computeAngle(r,i,f);for(r=t;r<t+n;r++){var A=e[r],m=p,g=p+this._computeAngle(r,i,f),v=a.getDataVisibility(r)?c.getDistanceFromCenterForValue(s.data[r]):0;p=g,o&&(l.animateScale&&(v=0),l.animateRotate&&(m=g=h));var b={x:u,y:d,innerRadius:0,outerRadius:v,startAngle:m,endAngle:g,options:this.resolveDataElementOptions(r,A.active?"active":i)};this.updateElement(A,r,b,i)}}},{key:"countVisibleElements",value:function(){var e=this,t=this.getDataset(),n=this._cachedMeta,i=0;return n.data.forEach((function(n,r){!isNaN(t.data[r])&&e.chart.getDataVisibility(r)&&i++})),i}},{key:"_computeAngle",value:function(e,t,n){return this.chart.getDataVisibility(e)?zt(this.resolveDataElementOptions(e,t).angle||n):0}}]),n}(kr);Rr.id="polarArea",Rr.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Rr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels.pointStyle;return t.labels.map((function(t,i){var r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var Qr=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Pr);Qr.id="pie",Qr.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var zr=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){var o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);var a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}},{key:"updateElements",value:function(e,t,n,i){for(var r=this.getDataset(),o=this._cachedMeta.rScale,a="reset"===i,s=t;s<t+n;s++){var l=e[s],c=this.resolveDataElementOptions(s,l.active?"active":i),u=o.getPointPositionForValue(s,r.data[s]),d=a?o.xCenter:u.x,h=a?o.yCenter:u.y,p={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,s,p,i)}}}]),n}(kr);zr.id="radar",zr.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},zr.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var Vr=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Hr);Vr.id="scatter",Vr.defaults={showLine:!1,fill:!1},Vr.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:function(){return""},label:function(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Kr=Object.freeze({__proto__:null,BarController:Dr,BubbleController:Ur,DoughnutController:Pr,LineController:Hr,PolarAreaController:Rr,PieController:Qr,RadarController:zr,ScatterController:Vr});function Wr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Xr=function(){function e(t){b(this,e),this.options=t||{}}return x(e,[{key:"formats",value:function(){return Wr()}},{key:"parse",value:function(e,t){return Wr()}},{key:"format",value:function(e,t){return Wr()}},{key:"add",value:function(e,t,n){return Wr()}},{key:"diff",value:function(e,t,n){return Wr()}},{key:"startOf",value:function(e,t,n){return Wr()}},{key:"endOf",value:function(e,t){return Wr()}}]),e}();Xr.override=function(e){Object.assign(Xr.prototype,e)};var Yr={_date:Xr};function Gr(e,t){return"native"in e?{x:e.x,y:e.y}:Ki(e,t)}function qr(e,t,n,i){var r=e.controller,o=e.data,a=e._sorted,s=r._cachedMeta.iScale;if(s&&t===s.axis&&a&&o.length){var l=s._reversePixels?fi:pi;if(!i)return l(o,t,n);if(r._sharedOptions){var c=o[0],u="function"==typeof c.getRange&&c.getRange(t);if(u){var d=l(o,t,n-u),h=l(o,t,n+u);return{lo:d.lo,hi:h.hi}}}}return{lo:0,hi:o.length-1}}function Jr(e,t,n,i,r){for(var o=e.getSortedVisibleDatasetMetas(),a=n[t],s=0,l=o.length;s<l;++s)for(var c=o[s],u=c.index,d=c.data,h=qr(o[s],t,a,r),p=h.lo,f=h.hi,A=p;A<=f;++A){var m=d[A];m.skip||i(m,u,A)}}function Zr(e,t,n,i){var r=[];if(!Xn(t,e.chartArea,e._minPadding))return r;return Jr(e,n,t,(function(e,n,o){e.inRange(t.x,t.y,i)&&r.push({element:e,datasetIndex:n,index:o})}),!0),r}function $r(e,t,n,i,r){var o=function(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){var r=t?Math.abs(e.x-i.x):0,o=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n),a=Number.POSITIVE_INFINITY,s=[];if(!Xn(t,e.chartArea,e._minPadding))return s;return Jr(e,n,t,(function(n,l,c){if(!i||n.inRange(t.x,t.y,r)){var u=n.getCenterPoint(r);if(Xn(u,e.chartArea,e._minPadding)||n.inRange(t.x,t.y,r)){var d=o(t,u);d<a?(s=[{element:n,datasetIndex:l,index:c}],a=d):d===a&&s.push({element:n,datasetIndex:l,index:c})}}})),s}function eo(e,t,n,i){var r=Gr(t,e),o=[],a=n.axis,s="x"===a?"inXRange":"inYRange",l=!1;return function(e,t){for(var n,i,r,o=e.getSortedVisibleDatasetMetas(),a=0,s=o.length;a<s;++a){var l=o[a];n=l.index;for(var c=0,u=(i=l.data).length;c<u;++c)(r=i[c]).skip||t(r,n,c)}}(e,(function(e,t,n){e[s](r[a],i)&&o.push({element:e,datasetIndex:t,index:n}),e.inRange(r.x,r.y,i)&&(l=!0)})),n.intersect&&!l?[]:o}var to={modes:{index:function(e,t,n,i){var r=Gr(t,e),o=n.axis||"x",a=n.intersect?Zr(e,r,o,i):$r(e,r,o,!1,i),s=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=a[0].index,n=e.data[t];n&&!n.skip&&s.push({element:n,datasetIndex:e.index,index:t})})),s):[]},dataset:function(e,t,n,i){var r=Gr(t,e),o=n.axis||"xy",a=n.intersect?Zr(e,r,o,i):$r(e,r,o,!1,i);if(a.length>0){var s=a[0].datasetIndex,l=e.getDatasetMeta(s).data;a=[];for(var c=0;c<l.length;++c)a.push({element:l[c],datasetIndex:s,index:c})}return a},point:function(e,t,n,i){return Zr(e,Gr(t,e),n.axis||"xy",i)},nearest:function(e,t,n,i){return $r(e,Gr(t,e),n.axis||"xy",n.intersect,i)},x:function(e,t,n,i){return n.axis="x",eo(e,t,n,i)},y:function(e,t,n,i){return n.axis="y",eo(e,t,n,i)}}},no=["left","top","right","bottom"];function io(e,t){return e.filter((function(e){return e.pos===t}))}function ro(e,t){return e.filter((function(e){return-1===no.indexOf(e.pos)&&e.box.axis===t}))}function oo(e,t){return e.sort((function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function ao(e,t){var n,i,r,o=function(e){var t,n={},i=g(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.stack,a=r.pos,s=r.stackWeight;if(o&&no.includes(a)){var l=n[o]||(n[o]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}}}catch(e){i.e(e)}finally{i.f()}return n}(e),a=t.vBoxMaxWidth,s=t.hBoxMaxHeight;for(n=0,i=e.length;n<i;++n){var l=(r=e[n]).box.fullSize,c=o[r.stack],u=c&&r.stackWeight/c.weight;r.horizontal?(r.width=u?u*a:l&&t.availableWidth,r.height=s):(r.width=a,r.height=u?u*s:l&&t.availableHeight)}return o}function so(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function lo(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function co(e,t,n,i){var r=n.pos,o=n.box,a=e.maxPadding;if(!ut(r)){n.size&&(e[r]-=n.size);var s=i[n.stack]||{size:0,count:1};s.size=Math.max(s.size,n.horizontal?o.height:o.width),n.size=s.size/s.count,e[r]+=n.size}o.getPadding&&lo(a,o.getPadding());var l=Math.max(0,t.outerWidth-so(a,e,"left","right")),c=Math.max(0,t.outerHeight-so(a,e,"top","bottom")),u=l!==e.w,d=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function uo(e,t){var n=t.maxPadding;function i(e){var i={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function ho(e,t,n,i){var r,o,a,s,l,c,u=[];for(r=0,o=e.length,l=0;r<o;++r){(s=(a=e[r]).box).update(a.width||t.w,a.height||t.h,uo(a.horizontal,t));var d=co(t,n,a,i),h=d.same,p=d.other;l|=h&&u.length,c=c||p,s.fullSize||u.push(a)}return l&&ho(u,t,n,i)||c}function po(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function fo(e,t,n,i){var r,o=n.padding,a=t.x,s=t.y,l=g(e);try{for(l.s();!(r=l.n()).done;){var c=r.value,u=c.box,d=i[c.stack]||{count:1,placed:0,weight:1},h=c.stackWeight/d.weight||1;if(c.horizontal){var p=t.w*h,f=d.size||u.height;Bt(d.start)&&(s=d.start),u.fullSize?po(u,o.left,s,n.outerWidth-o.right-o.left,f):po(u,t.left+d.placed,s,p,f),d.start=s,d.placed+=p,s=u.bottom}else{var A=t.h*h,m=d.size||u.width;Bt(d.start)&&(a=d.start),u.fullSize?po(u,a,o.top,m,n.outerHeight-o.bottom-o.top):po(u,a,t.top+d.placed,m,A),d.start=a,d.placed+=A,a=u.right}}}catch(e){l.e(e)}finally{l.f()}t.x=a,t.y=s}Rn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ao=function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},mo=function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},go=function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},vo=function(e,t,n,i){if(e){var r=li(e.options.layout.padding),o=Math.max(t-r.width,0),a=Math.max(n-r.height,0),s=function(e){var t=function(e){var t,n,i,r,o,a,s=[];for(t=0,n=(e||[]).length;t<n;++t){var l=i=e[t];r=l.position;var c=l.options;o=c.stack;var u=c.stackWeight;a=void 0===u?1:u,s.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a})}return s}(e),n=oo(t.filter((function(e){return e.box.fullSize})),!0),i=oo(io(t,"left"),!0),r=oo(io(t,"right")),o=oo(io(t,"top"),!0),a=oo(io(t,"bottom")),s=ro(t,"x"),l=ro(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(a).concat(s),chartArea:io(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(a).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;mt(e.boxes,(function(e){"function"==typeof e.beforeLayout&&e.beforeLayout()}));var u=l.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},r);lo(h,li(i));var p=Object.assign({maxPadding:h,w:o,h:a,x:r.left,y:r.top},r),f=ao(l.concat(c),d);ho(s.fullSize,p,d,f),ho(l,p,d,f),ho(c,p,d,f)&&ho(l,p,d,f),function(e){var t=e.maxPadding;function n(n){var i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),fo(s.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,fo(s.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},mt(s.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h)}))}},bo=function(){function e(){b(this,e)}return x(e,[{key:"acquireContext",value:function(e,t){}},{key:"releaseContext",value:function(e){return!1}},{key:"addEventListener",value:function(e,t,n){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}},{key:"isAttached",value:function(e){return!0}},{key:"updateConfig",value:function(e){}}]),e}(),yo=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(bo),xo={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wo=function(e){return null===e||""===e};var _o=!!Gi&&{passive:!0};function jo(e,t,n){e.canvas.removeEventListener(t,n,_o)}function Co(e,t,n){var i=e.canvas,r=new MutationObserver((function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var o,a=g(t.value.addedNodes);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s===i||s.contains(i))return n()}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}}));return r.observe(document,{childList:!0,subtree:!0}),r}function Eo(e,t,n){var i=e.canvas,r=new MutationObserver((function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var o,a=g(t.value.removedNodes);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s===i||s.contains(i))return n()}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}}));return r.observe(document,{childList:!0,subtree:!0}),r}var Bo=new Map,ko=0;function So(){var e=window.devicePixelRatio;e!==ko&&(ko=e,Bo.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function Oo(e,t,n){var i=e.canvas,r=i&&Hi(i);if(r){var o=nt((function(e,t){var i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),a=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||o(n,i)}));return a.observe(r),function(e,t){Bo.size||window.addEventListener("resize",So),Bo.set(e,t)}(e,o),a}}function Mo(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Bo.delete(e),Bo.size||window.removeEventListener("resize",So)}(e)}function To(e,t,n){var i=e.canvas,r=nt((function(t){null!==e.ctx&&n(function(e,t){var n=xo[e.type]||e.type,i=Ki(e,t),r=i.x,o=i.y;return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==o?o:null}}(t,e))}),e,(function(e){var t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,n){e.addEventListener(t,n,_o)}(i,t,r),r}var Fo=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"acquireContext",value:function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",wo(r)){var o=qi(e,"width");void 0!==o&&(e.width=o)}if(wo(i))if(""===e.style.height)e.height=e.width/(t||2);else{var a=qi(e,"height");void 0!==a&&(e.height=a)}}(e,t),n):null}},{key:"releaseContext",value:function(e){var t=e.canvas;if(!t.$chartjs)return!1;var n=t.$chartjs.initial;["height","width"].forEach((function(e){var i=n[e];lt(i)?t.removeAttribute(e):t.setAttribute(e,i)}));var i=n.style||{};return Object.keys(i).forEach((function(e){t.style[e]=i[e]})),t.width=t.width,delete t.$chartjs,!0}},{key:"addEventListener",value:function(e,t,n){this.removeEventListener(e,t);var i=e.$proxies||(e.$proxies={}),r={attach:Co,detach:Eo,resize:Oo}[t]||To;i[t]=r(e,t,n)}},{key:"removeEventListener",value:function(e,t){var n=e.$proxies||(e.$proxies={}),i=n[t];i&&(({attach:Mo,detach:Mo,resize:Mo}[t]||jo)(e,t,i),n[t]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,t,n,i){return Xi(e,t,n,i)}},{key:"isAttached",value:function(e){var t=Hi(e);return!(!t||!t.isConnected)}}]),n}(bo);var No=function(){function e(){b(this,e),this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}return x(e,[{key:"tooltipPosition",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return Ht(this.x)&&Ht(this.y)}},{key:"getProps",value:function(e,t){var n=this,i=this.$animations;if(!t||!i)return this;var r={};return e.forEach((function(e){r[e]=i[e]&&i[e].active()?i[e]._to:n[e]})),r}}]),e}();No.defaults={},No.defaultRoutes=void 0;var Io={values:function(e){return ct(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var i,r=this.chart.options.locale,o=e;if(n.length>1){var a=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(a<1e-4||a>1e15)&&(i="scientific"),o=function(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}var s=Dt(Math.abs(o)),l=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),tr(e,r,c)},logarithmic:function(e,t,n){if(0===e)return"0";var i=e/Math.pow(10,Math.floor(Dt(e)));return 1===i||2===i||5===i?Io.numeric.call(this,e,t,n):""}};var Lo={formatters:Io};function Do(e,t){var n=e.options.ticks,i=n.maxTicksLimit||function(e){var t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=n.major.enabled?function(e){var t,n,i=[];for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(t):[],o=r.length,a=r[0],s=r[o-1],l=[];if(o>i)return function(e,t,n,i){var r,o=0,a=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===a&&(t.push(e[r]),o++,a=n[o*i])}(t,l,r,o/i),l;var c=function(e,t,n){var i=function(e){var t,n,i=e.length;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),r=t.length/n;if(!i)return Math.max(r,1);for(var o=function(e){var t,n=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t==0&&(n.push(t),n.push(e/t));return i===(0|i)&&n.push(i),n.sort((function(e,t){return e-t})).pop(),n}(i),a=0,s=o.length-1;a<s;a++){var l=o[a];if(l>r)return l}return Math.max(r,1)}(r,t,i);if(o>0){var u,d,h=o>1?Math.round((s-a)/(o-1)):null;for(Uo(t,l,c,lt(h)?0:a-h,a),u=0,d=o-1;u<d;u++)Uo(t,l,c,r[u],r[u+1]);return Uo(t,l,c,s,lt(h)?t.length:s+h),l}return Uo(t,l,c),l}function Uo(e,t,n,i,r){var o,a,s,l=pt(i,0),c=Math.min(pt(r,e.length),e.length),u=0;for(n=Math.ceil(n),r&&(n=(o=r-i)/Math.floor(o/n)),s=l;s<0;)u++,s=Math.round(l+u*n);for(a=Math.max(l,0);a<c;a++)a===s&&(t.push(e[a]),u++,s=Math.round(l+u*n))}Rn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Lo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Rn.route("scale.ticks","color","","color"),Rn.route("scale.grid","color","","borderColor"),Rn.route("scale.grid","borderColor","","borderColor"),Rn.route("scale.title","color","","color"),Rn.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e}}),Rn.describe("scales",{_fallback:"scale"}),Rn.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}});var Po=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n};function Ho(e,t){for(var n=[],i=e.length/t,r=e.length,o=0;o<r;o+=i)n.push(e[Math.floor(o)]);return n}function Ro(e,t,n){var i,r=e.ticks.length,o=Math.min(t,r-1),a=e._startPixel,s=e._endPixel,l=e.getPixelForTick(o);if(!(n&&(i=1===r?Math.max(l-a,s-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(o-1))/2,(l+=o<t?i:-i)<a-1e-6||l>s+1e-6)))return l}function Qo(e){return e.drawTicks?e.tickLength:0}function zo(e,t){if(!e.display)return 0;var n=ci(e.font,t),i=li(e.padding);return(ct(e.text)?e.text.length:1)*n.lineHeight+i.height}function Vo(e,t,n){var i=it(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=function(e){return"left"===e?"right":"right"===e?"left":e}(i)),i}var Ko=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this)).id=e.id,i.type=e.type,i.options=void 0,i.ctx=e.ctx,i.chart=e.chart,i.top=void 0,i.bottom=void 0,i.left=void 0,i.right=void 0,i.width=void 0,i.height=void 0,i._margins={left:0,right:0,top:0,bottom:0},i.maxWidth=void 0,i.maxHeight=void 0,i.paddingTop=void 0,i.paddingBottom=void 0,i.paddingLeft=void 0,i.paddingRight=void 0,i.axis=void 0,i.labelRotation=void 0,i.min=void 0,i.max=void 0,i._range=void 0,i.ticks=[],i._gridLineItems=null,i._labelItems=null,i._labelSizes=null,i._length=0,i._maxLength=0,i._longestTextCache={},i._startPixel=void 0,i._endPixel=void 0,i._reversePixels=!1,i._userMax=void 0,i._userMin=void 0,i._suggestedMax=void 0,i._suggestedMin=void 0,i._ticksLength=0,i._borderValue=0,i._cache={},i._dataLimitsCached=!1,i.$context=void 0,i}return x(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,t){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,i=this._suggestedMax;return e=ht(e,Number.POSITIVE_INFINITY),t=ht(t,Number.NEGATIVE_INFINITY),n=ht(n,Number.POSITIVE_INFINITY),i=ht(i,Number.NEGATIVE_INFINITY),{min:ht(e,n),max:ht(t,i),minDefined:dt(e),maxDefined:dt(t)}}},{key:"getMinMax",value:function(e){var t,n=this.getUserBounds(),i=n.min,r=n.max,o=n.minDefined,a=n.maxDefined;if(o&&a)return{min:i,max:r};for(var s=this.getMatchingVisibleMetas(),l=0,c=s.length;l<c;++l)t=s[l].controller.getMinMax(this,e),o||(i=Math.min(i,t.min)),a||(r=Math.max(r,t.max));return{min:ht(i=a&&i>r?r:i,ht(r=o&&i>r?i:r,i)),max:ht(r,ht(i,r))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){At(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,t,n){var i=this.options,r=i.beginAtZero,o=i.grace,a=i.ticks,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){var i=e.min,r=e.max,o=ft(t,(r-i)/2),a=function(e,t){return n&&0===e?0:e+t};return{min:a(i,-Math.abs(o)),max:a(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var l=s<this.ticks.length;this._convertTicksToLabels(l?Ho(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Do(this,this.ticks),this._labelSizes=null),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){At(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){At(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){At(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),At(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){At(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var t,n,i,r=this.options.ticks;for(t=0,n=e.length;t<n;t++)(i=e[t]).label=At(r.callback,[i.value,t,e],this)}},{key:"afterTickToLabelConversion",value:function(){At(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){At(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var e,t,n,i=this.options,r=i.ticks,o=this.ticks.length,a=r.minRotation||0,s=r.maxRotation,l=a;if(!this._isVisible()||!r.display||a>=s||o<=1||!this.isHorizontal())this.labelRotation=a;else{var c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=qt(this.chart.width-u,0,this.maxWidth);u+6>(e=i.offset?this.maxWidth/o:h/(o-1))&&(e=h/(o-(i.offset?.5:1)),t=this.maxHeight-Qo(i.grid)-r.padding-zo(i.title,this.chart.options.font),n=Math.sqrt(u*u+d*d),l=Vt(Math.min(Math.asin(qt((c.highest.height+6)/e,-1,1)),Math.asin(qt(t/n,-1,1))-Math.asin(qt(d/n,-1,1)))),l=Math.max(a,Math.min(s,l))),this.labelRotation=l}}},{key:"afterCalculateLabelRotation",value:function(){At(this.options.afterCalculateLabelRotation,[this])}},{key:"beforeFit",value:function(){At(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},t=this.chart,n=this.options,i=n.ticks,r=n.title,o=n.grid,a=this._isVisible(),s=this.isHorizontal();if(a){var l=zo(r,t.options.font);if(s?(e.width=this.maxWidth,e.height=Qo(o)+l):(e.height=this.maxHeight,e.width=Qo(o)+l),i.display&&this.ticks.length){var c=this._getLabelSizes(),u=c.first,d=c.last,h=c.widest,p=c.highest,f=2*i.padding,A=zt(this.labelRotation),m=Math.cos(A),g=Math.sin(A);if(s){var v=i.mirror?0:g*h.width+m*p.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{var b=i.mirror?0:m*h.width+g*p.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(u,d,g,m)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,t,n,i){var r=this.options,o=r.ticks,a=o.align,s=o.padding,l=r.position,c=0!==this.labelRotation,u="top"!==l&&"x"===this.axis;if(this.isHorizontal()){var d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),p=0,f=0;c?u?(p=i*e.width,f=n*t.height):(p=n*e.height,f=i*t.width):"start"===a?f=t.width:"end"===a?p=e.width:(p=e.width/2,f=t.width/2),this.paddingLeft=Math.max((p-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((f-h+s)*this.width/(this.width-h),0)}else{var A=t.height/2,m=e.height/2;"start"===a?(A=0,m=e.height):"end"===a&&(A=t.height,m=0),this.paddingTop=A+s,this.paddingBottom=m+s}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){At(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)lt(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=Ho(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}},{key:"_computeLabelSizes",value:function(e,t){var n,i,r,o,a,s,l,c,u,d,h,p=this.ctx,f=this._longestTextCache,A=[],m=[],g=0,v=0;for(n=0;n<t;++n){if(o=e[n].label,a=this._resolveTickFontOptions(n),p.font=s=a.string,l=f[s]=f[s]||{data:{},gc:[]},c=a.lineHeight,u=d=0,lt(o)||ct(o)){if(ct(o))for(i=0,r=o.length;i<r;++i)lt(h=o[i])||ct(h)||(u=Qn(p,l.data,l.gc,u,h),d+=c)}else u=Qn(p,l.data,l.gc,u,o),d=c;A.push(u),m.push(d),g=Math.max(u,g),v=Math.max(d,v)}!function(e,t){mt(e,(function(e){var n,i=e.gc,r=i.length/2;if(r>t){for(n=0;n<r;++n)delete e.data[i[n]];i.splice(0,r)}}))}(f,t);var b=A.indexOf(g),y=m.indexOf(v),x=function(e){return{width:A[e]||0,height:m[e]||0}};return{first:x(0),last:x(t-1),widest:x(b),highest:x(y),widths:A,heights:m}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,t){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var t=this._startPixel+e*this._length;return qt(this._alignToPixels?Vn(this.chart,t,0):t,-32768,32767)}},{key:"getDecimalForPixel",value:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0}},{key:"getContext",value:function(e){var t=this.ticks||[];if(e>=0&&e<t.length){var n=t[e];return n.$context||(n.$context=function(e,t,n){return di(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=di(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var e=this.options.ticks,t=zt(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,s=r?r.highest.height+o:0;return this.isHorizontal()?s*n>a*i?a/n:s/i:s*i<a*n?s/n:a/i}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,p=this.axis,f=this.chart,A=this.options,m=A.grid,g=A.position,v=m.offset,b=this.isHorizontal(),y=this.ticks.length+(v?1:0),x=Qo(m),w=[],_=m.setContext(this.getContext()),j=_.drawBorder?_.borderWidth:0,C=j/2,E=function(e){return Vn(f,e,j)};if("top"===g)t=E(this.bottom),a=this.bottom-x,l=t-C,u=E(e.top)+C,h=e.bottom;else if("bottom"===g)t=E(this.top),u=e.top,h=E(e.bottom)-C,a=t+C,l=this.top+x;else if("left"===g)t=E(this.right),o=this.right-x,s=t-C,c=E(e.left)+C,d=e.right;else if("right"===g)t=E(this.left),c=e.left,d=E(e.right)-C,o=t+C,s=this.left+x;else if("x"===p){if("center"===g)t=E((e.top+e.bottom)/2+.5);else if(ut(g)){var B=Object.keys(g)[0],k=g[B];t=E(this.chart.scales[B].getPixelForValue(k))}u=e.top,h=e.bottom,l=(a=t+C)+x}else if("y"===p){if("center"===g)t=E((e.left+e.right)/2);else if(ut(g)){var S=Object.keys(g)[0],O=g[S];t=E(this.chart.scales[S].getPixelForValue(O))}s=(o=t-C)-x,c=e.left,d=e.right}var M=pt(A.ticks.maxTicksLimit,y),T=Math.max(1,Math.ceil(y/M));for(n=0;n<y;n+=T){var F=m.setContext(this.getContext(n)),N=F.lineWidth,I=F.color,L=m.borderDash||[],D=F.borderDashOffset,U=F.tickWidth,P=F.tickColor,H=F.tickBorderDash||[],R=F.tickBorderDashOffset;void 0!==(i=Ro(this,n,v))&&(r=Vn(f,i,N),b?o=s=c=d=r:a=l=u=h=r,w.push({tx1:o,ty1:a,tx2:s,ty2:l,x1:c,y1:u,x2:d,y2:h,width:N,color:I,borderDash:L,borderDashOffset:D,tickWidth:U,tickColor:P,tickBorderDash:H,tickBorderDashOffset:R}))}return this._ticksLength=y,this._borderValue=t,w}},{key:"_computeLabelItems",value:function(e){var t,n,i,r,o,a,s,l,c,u,d,h=this.axis,p=this.options,f=p.position,A=p.ticks,m=this.isHorizontal(),g=this.ticks,v=A.align,b=A.crossAlign,y=A.padding,x=A.mirror,w=Qo(p.grid),_=w+y,j=x?-y:_,C=-zt(this.labelRotation),E=[],B="middle";if("top"===f)o=this.bottom-j,a=this._getXAxisLabelAlignment();else if("bottom"===f)o=this.top+j,a=this._getXAxisLabelAlignment();else if("left"===f){var k=this._getYAxisLabelAlignment(w);a=k.textAlign,r=k.x}else if("right"===f){var S=this._getYAxisLabelAlignment(w);a=S.textAlign,r=S.x}else if("x"===h){if("center"===f)o=(e.top+e.bottom)/2+_;else if(ut(f)){var O=Object.keys(f)[0],M=f[O];o=this.chart.scales[O].getPixelForValue(M)+_}a=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===f)r=(e.left+e.right)/2-_;else if(ut(f)){var T=Object.keys(f)[0],F=f[T];r=this.chart.scales[T].getPixelForValue(F)}a=this._getYAxisLabelAlignment(w).textAlign}"y"===h&&("start"===v?B="top":"end"===v&&(B="bottom"));var N=this._getLabelSizes();for(t=0,n=g.length;t<n;++t){i=g[t].label;var I=A.setContext(this.getContext(t));s=this.getPixelForTick(t)+A.labelOffset,c=(l=this._resolveTickFontOptions(t)).lineHeight;var L=(u=ct(i)?i.length:1)/2,D=I.color,U=I.textStrokeColor,P=I.textStrokeWidth;m?(r=s,d="top"===f?"near"===b||0!==C?-u*c+c/2:"center"===b?-N.highest.height/2-L*c+c:-N.highest.height+c/2:"near"===b||0!==C?c/2:"center"===b?N.highest.height/2-L*c:N.highest.height-u*c,x&&(d*=-1)):(o=s,d=(1-u)*c/2);var H=void 0;if(I.showLabelBackdrop){var R=li(I.backdropPadding),Q=N.heights[t],z=N.widths[t],V=o+d-R.top,K=r-R.left;switch(B){case"middle":V-=Q/2;break;case"bottom":V-=Q}switch(a){case"center":K-=z/2;break;case"right":K-=z}H={left:K,top:V,width:z+R.width,height:Q+R.height,color:I.backdropColor}}E.push({rotation:C,label:i,font:l,color:D,strokeColor:U,strokeWidth:P,textOffset:d,textAlign:a,textBaseline:B,translation:[r,o],backdrop:H})}return E}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,t=e.position,n=e.ticks;if(-zt(this.labelRotation))return"top"===t?"left":"right";var i="center";return"start"===n.align?i="left":"end"===n.align&&(i="right"),i}},{key:"_getYAxisLabelAlignment",value:function(e){var t,n,i=this.options,r=i.position,o=i.ticks,a=o.crossAlign,s=o.mirror,l=o.padding,c=e+l,u=this._getLabelSizes().widest.width;return"left"===r?s?(n=this.right+l,"near"===a?t="left":"center"===a?(t="center",n+=u/2):(t="right",n+=u)):(n=this.right-c,"near"===a?t="right":"center"===a?(t="center",n-=u/2):(t="left",n=this.left)):"right"===r?s?(n=this.left+l,"near"===a?t="right":"center"===a?(t="center",n-=u/2):(t="left",n-=u)):(n=this.left+c,"near"===a?t="left":"center"===a?(t="center",n+=u/2):(t="right",n=this.right)):t="right",{textAlign:t,x:n}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,i=this.top,r=this.width,o=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,o),e.restore())}},{key:"getLineWidthForValue",value:function(e){var t=this.options.grid;if(!this._isVisible()||!t.display)return 0;var n=this.ticks.findIndex((function(t){return t.value===e}));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(e){var t,n,i=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a=function(e,t,n){n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(i.display)for(t=0,n=o.length;t<n;++t){var s=o[t];i.drawOnChartArea&&a({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),i.drawTicks&&a({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,t=this.ctx,n=this.options.grid,i=n.setContext(this.getContext()),r=n.drawBorder?i.borderWidth:0;if(r){var o,a,s,l,c=n.setContext(this.getContext(0)).lineWidth,u=this._borderValue;this.isHorizontal()?(o=Vn(e,this.left,r)-r/2,a=Vn(e,this.right,c)+c/2,s=l=u):(s=Vn(e,this.top,r)-r/2,l=Vn(e,this.bottom,c)+c/2,o=a=u),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(o,s),t.lineTo(a,l),t.stroke(),t.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var t=this.ctx,n=this._computeLabelArea();n&&Yn(t,n);var i,r,o=this._labelItems||(this._labelItems=this._computeLabelItems(e));for(i=0,r=o.length;i<r;++i){var a=o[i],s=a.font,l=a.label;a.backdrop&&(t.fillStyle=a.backdrop.color,t.fillRect(a.backdrop.left,a.backdrop.top,a.backdrop.width,a.backdrop.height)),Zn(t,l,0,a.textOffset,s,a)}n&&Gn(t)}}},{key:"drawTitle",value:function(){var e=this.ctx,t=this.options,n=t.position,i=t.title,r=t.reverse;if(i.display){var o=ci(i.font),a=li(i.padding),s=i.align,l=o.lineHeight/2;"bottom"===n||"center"===n||ut(n)?(l+=a.bottom,ct(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=a.top;var c=function(e,t,n,i){var r,o,a,s=e.top,l=e.left,c=e.bottom,u=e.right,d=e.chart,h=d.chartArea,p=d.scales,f=0,A=c-s,m=u-l;if(e.isHorizontal()){if(o=rt(i,l,u),ut(n)){var g=Object.keys(n)[0],v=n[g];a=p[g].getPixelForValue(v)+A-t}else a="center"===n?(h.bottom+h.top)/2+A-t:Po(e,n,t);r=u-l}else{if(ut(n)){var b=Object.keys(n)[0],y=n[b];o=p[b].getPixelForValue(y)-m+t}else o="center"===n?(h.left+h.right)/2-m+t:Po(e,n,t);a=rt(i,c,s),f="left"===n?-Nt:Nt}return{titleX:o,titleY:a,maxWidth:r,rotation:f}}(this,l,n,s),u=c.titleX,d=c.titleY,h=c.maxWidth,p=c.rotation;Zn(e,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:p,textAlign:Vo(s,n,r),textBaseline:"middle",translation:[u,d]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,t=this.options,i=t.ticks&&t.ticks.z||0,r=pt(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===n.prototype.draw?[{z:r,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:r+1,draw:function(){e.drawBorder()}},{z:i,draw:function(t){e.drawLabels(t)}}]:[{z:i,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var t,n,i=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];for(t=0,n=i.length;t<n;++t){var a=i[t];a[r]!==this.id||e&&a.type!==e||o.push(a)}return o}},{key:"_resolveTickFontOptions",value:function(e){return ci(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(No),Wo=function(){function e(t,n,i){b(this,e),this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}return x(e,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(e){var t,n=Object.getPrototypeOf(e);(function(e){return"id"in e&&"defaults"in e})(n)&&(t=this.register(n));var i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){var i=xt(Object.create(null),[n?Rn.get(n):{},Rn.get(t),e.defaults]);Rn.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((function(n){var i=n.split("."),r=i.pop(),o=[e].concat(i).join("."),a=t[n].split("."),s=a.pop(),l=a.join(".");Rn.route(o,r,l,s)}))}(t,e.defaultRoutes);e.descriptors&&Rn.describe(t,e.descriptors)}(e,o,t),this.override&&Rn.override(e.id,e.overrides)),o}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(e){var t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Rn[i]&&(delete Rn[i][n],this.override&&delete Dn[n])}}]),e}();var Xo=new(function(){function e(){b(this,e),this.controllers=new Wo(kr,"datasets",!0),this.elements=new Wo(No,"elements"),this.plugins=new Wo(Object,"plugins"),this.scales=new Wo(Ko,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return x(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}},{key:"_each",value:function(e,t,n){var i=this;J(t).forEach((function(t){var r=n||i._getRegistryForType(t);n||r.isForType(t)||r===i.plugins&&t.id?i._exec(e,r,t):mt(t,(function(t){var r=n||i._getRegistryForType(t);i._exec(e,r,t)}))}))}},{key:"_exec",value:function(e,t,n){var i=Et(e);At(n["before"+i],[],n),t[e](n),At(n["after"+i],[],n)}},{key:"_getRegistryForType",value:function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}},{key:"_get",value:function(e,t,n){var i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}]),e}()),Yo=function(){function e(){b(this,e),this._init=[]}return x(e,[{key:"notify",value:function(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));var r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,t,n);return"destroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}},{key:"_notify",value:function(e,t,n,i){i=i||{};var r,o=g(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.plugin;if(!1===At(s[n],[t,i,a.options],s)&&i.cancelable)return!1}}catch(e){o.e(e)}finally{o.f()}return!0}},{key:"invalidate",value:function(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}},{key:"_createDescriptors",value:function(e,t){var n=e&&e.config,i=pt(n.options&&n.options.plugins,{}),r=function(e){for(var t=[],n=Object.keys(Xo.plugins.items),i=0;i<n.length;i++)t.push(Xo.getPlugin(n[i]));for(var r=e.plugins||[],o=0;o<r.length;o++){var a=r[o];-1===t.indexOf(a)&&t.push(a)}return t}(n);return!1!==i||t?function(e,t,n,i){for(var r=[],o=e.getContext(),a=0;a<t.length;a++){var s=t[a],l=s.id,c=Go(n[l],i);null!==c&&r.push({plugin:s,options:qo(e.config,s,c,o)})}return r}(e,r,i,t):[]}},{key:"_notifyStateChanges",value:function(e){var t=this._oldCache||[],n=this._cache,i=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}]),e}();function Go(e,t){return t||!1!==e?!0===e?{}:e:null}function qo(e,t,n,i){var r=e.pluginScopeKeys(t),o=e.getOptionScopes(n,r);return e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jo(e,t){var n=Rn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Zo(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function $o(e){var t=e.options||(e.options={});t.plugins=pt(t.plugins,{}),t.scales=function(e,t){var n=Dn[e.type]||{scales:{}},i=t.scales||{},r=Jo(e.type,t),o=Object.create(null),a=Object.create(null);return Object.keys(i).forEach((function(e){var t=i[e];if(!ut(t))return console.error("Invalid scale configuration for scale: ".concat(e));if(t._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));var s=Zo(e,t),l=function(e,t){return e===t?"_index_":"_value_"}(s,r),c=n.scales||{};o[s]=o[s]||e,a[e]=wt(Object.create(null),[{axis:s},t,c[s],c[l]])})),e.data.datasets.forEach((function(n){var r=n.type||e.type,s=n.indexAxis||Jo(r,t),l=(Dn[r]||{}).scales||{};Object.keys(l).forEach((function(e){var t=function(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,s),r=n[t+"AxisID"]||o[t]||t;a[r]=a[r]||Object.create(null),wt(a[r],[{axis:t},i[r],l[e]])}))})),Object.keys(a).forEach((function(e){var t=a[e];wt(t,[Rn.scales[t.type],Rn.scale])})),a}(e,t)}function ea(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}var ta=new Map,na=new Set;function ia(e,t){var n=ta.get(e);return n||(n=t(),ta.set(e,n),na.add(n)),n}var ra=function(e,t,n){var i=Ct(t,n);void 0!==i&&e.add(i)},oa=function(){function e(t){b(this,e),this._config=function(e){return(e=e||{}).data=ea(e.data),$o(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}return x(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=ea(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),$o(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return ia(e,(function(){return[["datasets.".concat(e),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(e,t){return ia("".concat(e,".transition.").concat(t),(function(){return[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]}))}},{key:"datasetElementScopeKeys",value:function(e,t){return ia("".concat(e,"-").concat(t),(function(){return[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]}))}},{key:"pluginScopeKeys",value:function(e){var t=e.id,n=this.type;return ia("".concat(n,"-plugin-").concat(t),(function(){return[["plugins.".concat(t)].concat(J(e.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(e,t){var n=this._scopeCache,i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}},{key:"getOptionScopes",value:function(e,t,n){var i=this.options,r=this.type,o=this._cachedScopes(e,n),a=o.get(t);if(a)return a;var s=new Set;t.forEach((function(t){e&&(s.add(e),t.forEach((function(t){return ra(s,e,t)}))),t.forEach((function(e){return ra(s,i,e)})),t.forEach((function(e){return ra(s,Dn[r]||{},e)})),t.forEach((function(e){return ra(s,Rn,e)})),t.forEach((function(e){return ra(s,Un,e)}))}));var l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),na.has(t)&&o.set(t,l),l}},{key:"chartOptionScopes",value:function(){var e=this.options,t=this.type;return[e,Dn[t]||{},Rn.datasets[t]||{},{type:t},Rn,Un]}},{key:"resolveNamedOptions",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],r={$shared:!0},o=aa(this._resolverCache,e,i),a=o.resolver,s=o.subPrefixes,l=a;if(la(a,t)){r.$shared=!1,n=kt(n)?n():n;var c=this.createResolver(e,n,s);l=bi(a,n,c)}var u,d=g(t);try{for(d.s();!(u=d.n()).done;){var h=u.value;r[h]=l[h]}}catch(e){d.e(e)}finally{d.f()}return r}},{key:"createResolver",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0,r=aa(this._resolverCache,e,n),o=r.resolver;return ut(t)?bi(o,t,void 0,i):o}}]),e}();function aa(e,t,n){var i=e.get(t);i||(i=new Map,e.set(t,i));var r=n.join(),o=i.get(r);o||(o={resolver:vi(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},i.set(r,o));return o}var sa=function(e){return ut(e)&&Object.getOwnPropertyNames(e).reduce((function(t,n){return t||kt(e[n])}),!1)};function la(e,t){var n,i=yi(e),r=i.isScriptable,o=i.isIndexable,a=g(t);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=r(s),c=o(s),u=(c||l)&&e[s];if(l&&(kt(u)||sa(u))||c&&ct(u))return!0}}catch(e){a.e(e)}finally{a.f()}return!1}var ca=["top","bottom","left","right","chartArea"];function ua(e,t){return"top"===e||"bottom"===e||-1===ca.indexOf(e)&&"x"===t}function da(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function ha(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),At(n&&n.onComplete,[e],t)}function pa(e){var t=e.chart,n=t.options.animation;At(n&&n.onProgress,[e],t)}function fa(e){return Pi()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var Aa={},ma=function(e){var t=fa(e);return Object.values(Aa).filter((function(e){return e.canvas===t})).pop()},ga=function(){function e(t,n){var i=this;b(this,e);var r=this.config=new oa(n),o=fa(t),a=ma(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");var s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!Pi()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?yo:Fo}(o)),this.platform.updateConfig(r);var l=this.platform.acquireContext(o,s.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;this.id=st(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){var n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((function(e){return i.update(e)}),s.resizeDelay||0),Aa[this.id]=this,l&&c?(hr.listen(this,"complete",ha),hr.listen(this,"progress",pa),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return x(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,i=this.width,r=this.height,o=this._aspectRatio;return lt(t)?n&&o?o:r?i/r:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Yi(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return Kn(this.canvas,this.ctx),this}},{key:"stop",value:function(){return hr.stop(this),this}},{key:"resize",value:function(e,t){hr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}},{key:"_resize",value:function(e,t){var n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Yi(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),At(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){mt(this.options.scales||{},(function(e,t){e.id=t}))}},{key:"buildOrUpdateScales",value:function(){var e=this,t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((function(e,t){return e[t]=!1,e}),{}),o=[];n&&(o=o.concat(Object.keys(n).map((function(e){var t=n[e],i=Zo(e,t),r="r"===i,o="x"===i;return{options:t,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),mt(o,(function(n){var o=n.options,a=o.id,s=Zo(a,o),l=pt(o.type,n.dtype);void 0!==o.position&&ua(o.position,s)===ua(n.dposition)||(o.position=n.dposition),r[a]=!0;var c=null;a in i&&i[a].type===l?c=i[a]:(c=new(Xo.getScale(l))({id:a,type:l,ctx:e.ctx,chart:e}),i[c.id]=c);c.init(o,t)})),mt(r,(function(e,t){e||delete i[t]})),mt(i,(function(t){go(e,t,t.options),Ao(e,t)}))}},{key:"_updateMetasets",value:function(){var e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((function(e,t){return e.index-t.index})),n>t){for(var i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(da("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var e=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach((function(t,i){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(i)}))}},{key:"buildOrUpdateControllers",value:function(){var e,t,n=[],i=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=i.length;e<t;e++){var r=i[e],o=this.getDatasetMeta(e),a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(e),o=this.getDatasetMeta(e)),o.type=a,o.indexAxis=r.indexAxis||Jo(a,this.options),o.order=r.order||0,o.index=e,o.label=""+r.label,o.visible=this.isDatasetVisible(e),o.controller)o.controller.updateIndex(e),o.controller.linkScales();else{var s=Xo.getController(a),l=Rn.datasets[a],c=l.datasetElementType,u=l.dataElementType;Object.assign(s.prototype,{dataElementType:Xo.getElement(u),datasetElementType:c&&Xo.getElement(c)}),o.controller=new s(this,e),n.push(o.controller)}}return this._updateMetasets(),n}},{key:"_resetElements",value:function(){var e=this;mt(this.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(e){var t=this,n=this.config;n.update();var i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext());mt(this.scales,(function(e){mo(t,e)}));var r=this._animationsDisabled=!i.animation;if(this.ensureScalesHaveIDs(),this.buildOrUpdateScales(),function(e,t){if(e.size!==t.size)return!1;var n,i=g(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(!t.has(r))return!1}}catch(e){i.e(e)}finally{i.f()}return!0}(new Set(Object.keys(this._listeners)),new Set(i.events))&&!!this._responsiveListeners===i.responsive||(this.unbindEvents(),this.bindEvents()),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var a=0,s=0,l=this.data.datasets.length;s<l;s++){var c=this.getDatasetMeta(s).controller,u=!r&&-1===o.indexOf(c);c.buildOrUpdateElements(u),a=Math.max(+c.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||mt(o,(function(e){e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(da("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}}},{key:"_updateLayout",value:function(e){var t=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){vo(this,this.width,this.height,e);var n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],mt(this.boxes,(function(e){var n;i&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,J(e._layers())))}),this),this._layers.forEach((function(e,t){e._idx=t})),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,kt(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}},{key:"_updateDataset",value:function(e,t){var n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(hr.has(this)?this.attached&&!hr.running(this)&&hr.start(this):(this.draw(),ha({chart:this})))}},{key:"draw",value:function(){var e;if(this._resizeBeforeDraw){var t=this._resizeBeforeDraw,n=t.width,i=t.height;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(e){var t,n,i=this._sortedMetasets,r=[];for(t=0,n=i.length;t<n;++t){var o=i[t];e&&!o.visible||r.push(o)}return r}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=this.getSortedVisibleDatasetMetas(),t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(e){var t=this.ctx,n=e._clip,i=!n.disabled,r=this.chartArea,o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&Yn(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&Gn(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}},{key:"getElementsAtEventForMode",value:function(e,t,n,i){var r=to.modes[t];return"function"==typeof r?r(this,e,n,i):[]}},{key:"getDatasetMeta",value:function(e){var t=this.data.datasets[e],n=this._metasets,i=n.filter((function(e){return e&&e._dataset===t})).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}},{key:"getContext",value:function(){return this.$context||(this.$context=di(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(e,t){this.getDatasetMeta(e).hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(e,t,n){var i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Bt(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update((function(t){return t.datasetIndex===e?i:void 0})))}},{key:"hide",value:function(e,t){this._updateVisibility(e,t,!1)}},{key:"show",value:function(e,t){this._updateVisibility(e,t,!0)}},{key:"_destroyDatasetMeta",value:function(e){var t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}},{key:"_stop",value:function(){var e,t;for(this.stop(),hr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}},{key:"destroy",value:function(){var e=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Kn(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Aa[this.id]}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var e=this,t=this._listeners,n=this.platform,i=function(t,n,i){t.offsetX=n,t.offsetY=i,e._eventHandler(t)};mt(this.options.events,(function(r){return function(i,r){n.addEventListener(e,i,r),t[i]=r}(r,i)}))}},{key:"bindResponsiveEvents",value:function(){var e=this;this._responsiveListeners||(this._responsiveListeners={});var t,n=this._responsiveListeners,i=this.platform,r=function(t,r){i.addEventListener(e,t,r),n[t]=r},o=function(t,r){n[t]&&(i.removeEventListener(e,t,r),delete n[t])},a=function(t,n){e.canvas&&e.resize(t,n)},s=function n(){o("attach",n),e.attached=!0,e.resize(),r("resize",a),r("detach",t)};t=function(){e.attached=!1,o("resize",a),e._stop(),e._resize(0,0),r("attach",s)},i.isAttached(this.canvas)?s():t()}},{key:"unbindEvents",value:function(){var e=this;mt(this._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._listeners={},mt(this._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(e,t,n){var i,r,o,a=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+a+"DatasetHoverStyle"](),r=0,o=e.length;r<o;++r){var s=(i=e[r])&&this.getDatasetMeta(i.datasetIndex).controller;s&&s[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e){var t=this,n=this._active||[],i=e.map((function(e){var n=e.datasetIndex,i=e.index,r=t.getDatasetMeta(n);if(!r)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:r.data[i],index:i}}));!gt(i,n)&&(this._active=i,this._updateHoverStyles(i,n))}},{key:"notifyPlugins",value:function(e,t,n){return this._plugins.notify(this,e,t,n)}},{key:"_updateHoverStyles",value:function(e,t,n){var i=this.options.hover,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},o=r(t,e),a=n?e:r(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}},{key:"_eventHandler",value:function(e,t){var n=this,i={event:e,replay:t,cancelable:!0},r=function(t){return(t.options.events||n.options.events).includes(e.native.type)};if(!1!==this.notifyPlugins("beforeEvent",i,r)){var o=this._handleEvent(e,t);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(e,t){var n,i=this._active,r=void 0===i?[]:i,o=this.options,a=o.hover,s=t,l=[],c=null;return"mouseout"!==e.type&&(l=this.getElementsAtEventForMode(e,a.mode,a,s),c="click"===e.type?this._lastEvent:e),this._lastEvent=null,Xn(e,this.chartArea,this._minPadding)&&(At(o.onHover,[e,l,this],this),"mouseup"!==e.type&&"click"!==e.type&&"contextmenu"!==e.type||At(o.onClick,[e,l,this],this)),((n=!gt(l,r))||t)&&(this._active=l,this._updateHoverStyles(l,r,t)),this._lastEvent=c,n}}]),e}(),va=function(){return mt(ga.instances,(function(e){return e._plugins.invalidate()}))};function ba(e,t,n){var i=t.startAngle,r=t.pixelMargin,o=t.x,a=t.y,s=t.outerRadius,l=t.innerRadius,c=r/s;e.beginPath(),e.arc(o,a,s,i-c,n+c),l>r?(c=r/l,e.arc(o,a,l,n+c,i-c,!0)):e.arc(o,a,r,n+Nt,i-Nt),e.closePath(),e.clip()}function ya(e,t,n,i){var r=oi(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(n-t)/2,a=Math.min(o,i*t/2),s=function(e){var t=(n-Math.min(o,e))*i/2;return qt(e,0,Math.min(o,t))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:qt(r.innerStart,0,a),innerEnd:qt(r.innerEnd,0,a)}}function xa(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function wa(e,t,n,i,r){var o=t.x,a=t.y,s=t.startAngle,l=t.pixelMargin,c=t.innerRadius,u=Math.max(t.outerRadius+i+n-l,0),d=c>0?c+i+n+l:0,h=0,p=r-s;if(i){var f=((c>0?c-i:0)+(u>0?u-i:0))/2;h=(p-(0!==f?p*f/(f+i):p))/2}var A=(p-Math.max(.001,p*u-n/St)/u)/2,m=s+A+h,g=r-A-h,v=ya(t,d,u,g-m),b=v.outerStart,y=v.outerEnd,x=v.innerStart,w=v.innerEnd,_=u-b,j=u-y,C=m+b/_,E=g-y/j,B=d+x,k=d+w,S=m+x/B,O=g-w/k;if(e.beginPath(),e.arc(o,a,u,C,E),y>0){var M=xa(j,E,o,a);e.arc(M.x,M.y,y,E,g+Nt)}var T=xa(k,g,o,a);if(e.lineTo(T.x,T.y),w>0){var F=xa(k,O,o,a);e.arc(F.x,F.y,w,g+Nt,O+Math.PI)}if(e.arc(o,a,d,g-w/d,m+x/d,!0),x>0){var N=xa(B,S,o,a);e.arc(N.x,N.y,x,S+Math.PI,m-Nt)}var I=xa(_,m,o,a);if(e.lineTo(I.x,I.y),b>0){var L=xa(_,C,o,a);e.arc(L.x,L.y,b,m-Nt,C)}e.closePath()}function _a(e,t,n,i,r){var o=t.options,a="inner"===o.borderAlign;o.borderWidth&&(a?(e.lineWidth=2*o.borderWidth,e.lineJoin="round"):(e.lineWidth=o.borderWidth,e.lineJoin="bevel"),t.fullCircles&&function(e,t,n){var i,r=t.x,o=t.y,a=t.startAngle,s=t.pixelMargin,l=t.fullCircles,c=Math.max(t.outerRadius-s,0),u=t.innerRadius+s;for(n&&ba(e,t,a+Ot),e.beginPath(),e.arc(r,o,u,a+Ot,a,!0),i=0;i<l;++i)e.stroke();for(e.beginPath(),e.arc(r,o,c,a,a+Ot),i=0;i<l;++i)e.stroke()}(e,t,a),a&&ba(e,t,r),wa(e,t,n,i,r),e.stroke())}Object.defineProperties(ga,{defaults:{enumerable:!0,value:Rn},instances:{enumerable:!0,value:Aa},overrides:{enumerable:!0,value:Dn},registry:{enumerable:!0,value:Xo},version:{enumerable:!0,value:"3.6.0"},getChart:{enumerable:!0,value:ma},register:{enumerable:!0,value:function(){Xo.add.apply(Xo,arguments),va()}},unregister:{enumerable:!0,value:function(){Xo.remove.apply(Xo,arguments),va()}}});var ja=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this)).options=void 0,i.circumference=void 0,i.startAngle=void 0,i.endAngle=void 0,i.innerRadius=void 0,i.outerRadius=void 0,i.pixelMargin=0,i.fullCircles=0,e&&Object.assign(v(i),e),i}return x(n,[{key:"inRange",value:function(e,t,n){var i=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*St&&(o+=Ot),{angle:o,distance:r}}(this.getProps(["x","y"],n),{x:e,y:t}),r=i.angle,o=i.distance,a=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=a.startAngle,l=a.endAngle,c=a.innerRadius,u=a.outerRadius,d=a.circumference,h=this.options.spacing/2;return(d>=Ot||Gt(r,s,l))&&(o>=c+h&&o<=u+h)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),n=t.x,i=t.y,r=t.startAngle,o=t.endAngle,a=t.innerRadius,s=t.outerRadius,l=this.options,c=l.offset,u=(r+o)/2,d=(a+s+l.spacing+c)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var t=this.options,n=this.circumference,i=(t.offset||0)/2,r=(t.spacing||0)/2;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Ot?Math.floor(n/Ot):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var o=0;if(i){o=i/2;var a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*o,Math.sin(a)*o),this.circumference>=St&&(o=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;var s=function(e,t,n,i){var r=t.fullCircles,o=t.startAngle,a=t.circumference,s=t.endAngle;if(r){wa(e,t,n,i,o+Ot);for(var l=0;l<r;++l)e.fill();isNaN(a)||(s=o+a%Ot,a%Ot==0&&(s+=Ot))}return wa(e,t,n,i,s),e.fill(),s}(e,this,o,r);_a(e,this,o,r,s),e.restore()}}}]),n}(No);function Ca(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=pt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(pt(n.borderDash,t.borderDash)),e.lineDashOffset=pt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=pt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=pt(n.borderWidth,t.borderWidth),e.strokeStyle=pt(n.borderColor,t.borderColor)}function Ea(e,t,n){e.lineTo(n.x,n.y)}function Ba(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.length,r=n.start,o=void 0===r?0:r,a=n.end,s=void 0===a?i-1:a,l=t.start,c=t.end,u=Math.max(o,l),d=Math.min(s,c),h=o<l&&s<l||o>c&&s>c;return{count:i,start:u,loop:t.loop,ilen:d<u&&!h?i+d-u:d-u}}function ka(e,t,n,i){var r,o,a,s=t.points,l=t.options,c=Ba(s,n,i),u=c.count,d=c.start,h=c.loop,p=c.ilen,f=function(e){return e.stepped?qn:e.tension||"monotone"===e.cubicInterpolationMode?Jn:Ea}(l),A=i||{},m=A.move,g=void 0===m||m,v=A.reverse;for(r=0;r<=p;++r)(o=s[(d+(v?p-r:r))%u]).skip||(g?(e.moveTo(o.x,o.y),g=!1):f(e,a,o,v,l.stepped),a=o);return h&&f(e,a,o=s[(d+(v?p:0))%u],v,l.stepped),!!h}function Sa(e,t,n,i){var r,o,a,s,l,c,u=t.points,d=Ba(u,n,i),h=d.count,p=d.start,f=d.ilen,A=i||{},m=A.move,g=void 0===m||m,v=A.reverse,b=0,y=0,x=function(e){return(p+(v?f-e:e))%h},w=function(){s!==l&&(e.lineTo(b,l),e.lineTo(b,s),e.lineTo(b,c))};for(g&&(o=u[x(0)],e.moveTo(o.x,o.y)),r=0;r<=f;++r)if(!(o=u[x(r)]).skip){var _=o.x,j=o.y,C=0|_;C===a?(j<s?s=j:j>l&&(l=j),b=(y*b+_)/++y):(w(),e.lineTo(_,j),a=C,y=0,s=l=j),c=j}w()}function Oa(e){var t=e.options,n=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n)?Sa:ka}ja.id="arc",ja.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},ja.defaultRoutes={backgroundColor:"backgroundColor"};var Ma="function"==typeof Path2D;function Ta(e,t,n,i){Ma&&!t.options.segment?function(e,t,n,i){var r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),Ca(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){var r,o=t.segments,a=t.options,s=Oa(t),l=g(o);try{for(l.s();!(r=l.n()).done;){var c=r.value;Ca(e,a,c.style),e.beginPath(),s(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}}catch(e){l.e(e)}finally{l.f()}}(e,t,n,i)}var Fa=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this)).animated=!0,i.options=void 0,i._chart=void 0,i._loop=void 0,i._fullLoop=void 0,i._path=void 0,i._points=void 0,i._segments=void 0,i._decimated=!1,i._pointsUpdated=!1,i._datasetIndex=void 0,e&&Object.assign(v(i),e),i}return x(n,[{key:"updateControlPoints",value:function(e,t){var n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){var i=n.spanGaps?this._loop:this._fullLoop;Ui(this._points,n,e,i,t),this._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(e,t){var n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];var o=!!e._loop,a=function(e,t,n,i){var r=0,o=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(o+=r);o>r&&e[o%t].skip;)o--;return{start:r,end:o%=t}}(n,r,o,i),s=a.start,l=a.end;return cr(e,!0===i?[{start:s,end:l,loop:o}]:function(e,t,n,i){var r,o=e.length,a=[],s=t,l=e[t];for(r=t+1;r<=n;++r){var c=e[r%o];c.skip||c.stop?l.skip||(i=!1,a.push({start:t%o,end:(r-1)%o,loop:i}),t=s=c.stop?r:null):(s=r,l.skip&&(t=r)),l=c}return null!==s&&a.push({start:t%o,end:s%o,loop:i}),a}(n,s,l<s?l+r:l,!!e._fullLoop&&0===s&&l===r-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var e=this.segments,t=this.points;return e.length&&t[e[0].start]}},{key:"last",value:function(){var e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}},{key:"interpolate",value:function(e,t){var n=this.options,i=e[t],r=this.points,o=lr(this,{property:t,start:i,end:i});if(o.length){var a,s,l=[],c=function(e){return e.stepped?Zi:e.tension||"monotone"===e.cubicInterpolationMode?$i:Ji}(n);for(a=0,s=o.length;a<s;++a){var u=o[a],d=u.start,h=u.end,p=r[d],f=r[h];if(p!==f){var A=c(p,f,Math.abs((i-p[t])/(f[t]-p[t])),n.stepped);A[t]=e[t],l.push(A)}else l.push(p)}return 1===l.length?l[0]:l}}},{key:"pathSegment",value:function(e,t,n){return Oa(this)(e,this,t,n)}},{key:"path",value:function(e,t,n){var i=this.segments,r=Oa(this),o=this._loop;t=t||0,n=n||this.points.length-t;var a,s=g(i);try{for(s.s();!(a=s.n()).done;){o&=r(e,this,a.value,{start:t,end:t+n-1})}}catch(e){s.e(e)}finally{s.f()}return!!o}},{key:"draw",value:function(e,t,n,i){var r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Ta(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),n}(No);function Na(e,t,n,i){var r=e.options,o=e.getProps([n],i)[n];return Math.abs(t-o)<r.radius+r.hitRadius}Fa.id="line",Fa.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Fa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Fa.descriptors={_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}};var Ia=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this)).options=void 0,i.parsed=void 0,i.skip=void 0,i.stop=void 0,e&&Object.assign(v(i),e),i}return x(n,[{key:"inRange",value:function(e,t,n){var i=this.options,r=this.getProps(["x","y"],n),o=r.x,a=r.y;return Math.pow(e-o,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}},{key:"inXRange",value:function(e,t){return Na(this,e,"x",t)}},{key:"inYRange",value:function(e,t){return Na(this,e,"y",t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"size",value:function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}},{key:"draw",value:function(e,t){var n=this.options;this.skip||n.radius<.1||!Xn(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Wn(e,n,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}]),n}(No);function La(e,t){var n,i,r,o,a,s=e.getProps(["x","y","base","width","height"],t),l=s.x,c=s.y,u=s.base,d=s.width,h=s.height;return e.horizontal?(a=h/2,n=Math.min(l,u),i=Math.max(l,u),r=c-a,o=c+a):(n=l-(a=d/2),i=l+a,r=Math.min(c,u),o=Math.max(c,u)),{left:n,top:r,right:i,bottom:o}}function Da(e,t,n,i){return e?0:qt(t,n,i)}function Ua(e){var t=La(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){var i=e.options.borderWidth,r=e.borderSkipped,o=ai(i);return{t:Da(r.top,o.top,0,n),r:Da(r.right,o.right,0,t),b:Da(r.bottom,o.bottom,0,n),l:Da(r.left,o.left,0,t)}}(e,n/2,i/2),o=function(e,t,n){var i=e.getProps(["enableBorderRadius"]).enableBorderRadius,r=e.options.borderRadius,o=si(r),a=Math.min(t,n),s=e.borderSkipped,l=i||ut(r);return{topLeft:Da(!l||s.top||s.left,o.topLeft,0,a),topRight:Da(!l||s.top||s.right,o.topRight,0,a),bottomLeft:Da(!l||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:Da(!l||s.bottom||s.right,o.bottomRight,0,a)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Pa(e,t,n,i){var r=null===t,o=null===n,a=e&&!(r&&o)&&La(e,i);return a&&(r||t>=a.left&&t<=a.right)&&(o||n>=a.top&&n<=a.bottom)}function Ha(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ra(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+o,h:e.h+a,radius:e.radius}}Ia.id="point",Ia.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Ia.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Qa=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this)).options=void 0,i.horizontal=void 0,i.base=void 0,i.width=void 0,i.height=void 0,i.inflateAmount=void 0,e&&Object.assign(v(i),e),i}return x(n,[{key:"draw",value:function(e){var t,n=this.inflateAmount,i=this.options,r=i.borderColor,o=i.backgroundColor,a=Ua(this),s=a.inner,l=a.outer,c=(t=l.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?ti:Ha;e.save(),l.w===s.w&&l.h===s.h||(e.beginPath(),c(e,Ra(l,n,s)),e.clip(),c(e,Ra(s,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,Ra(s,n)),e.fillStyle=o,e.fill(),e.restore()}},{key:"inRange",value:function(e,t,n){return Pa(this,e,t,n)}},{key:"inXRange",value:function(e,t){return Pa(this,e,null,t)}},{key:"inYRange",value:function(e,t){return Pa(this,null,e,t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,i=t.y,r=t.base,o=t.horizontal;return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(No);Qa.id="bar",Qa.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Qa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var za=Object.freeze({__proto__:null,ArcElement:ja,LineElement:Fa,PointElement:Ia,BarElement:Qa});function Va(e){if(e._decimated){var t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function Ka(e){e.data.datasets.forEach((function(e){Va(e)}))}var Wa={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(e,t,n){if(n.enabled){var i=e.width;e.data.datasets.forEach((function(t,r){var a=t._data,s=t.indexAxis,l=e.getDatasetMeta(r),c=a||t.data;if("y"!==ui([s,e.options.indexAxis])&&"line"===l.type){var u=e.scales[l.xAxisID];if(("linear"===u.type||"time"===u.type)&&!e.options.parsing){var d=function(e,t){var n=t.length,i=0,r=e.iScale,o=r.getUserBounds(),a=o.min,s=o.max,l=o.minDefined,c=o.maxDefined;return l&&(i=qt(pi(t,r.axis,a).lo,0,n-1)),{start:i,count:c?qt(pi(t,r.axis,s).hi+1,i,n)-i:n-i}}(l,c),h=d.start,p=d.count;if(p<=(n.threshold||4*i))Va(t);else{var f;switch(lt(a)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":f=function(e,t,n,i,r){var o=r.samples||i;if(o>=n)return e.slice(t,t+n);var a,s,l,c,u,d=[],h=(n-2)/(o-2),p=0,f=t+n-1,A=t;for(d[p++]=e[A],a=0;a<o-2;a++){var m=0,g=0,v=void 0,b=Math.floor((a+1)*h)+1+t,y=Math.min(Math.floor((a+2)*h)+1,n)+t,x=y-b;for(v=b;v<y;v++)m+=e[v].x,g+=e[v].y;m/=x,g/=x;var w=Math.floor(a*h)+1+t,_=Math.min(Math.floor((a+1)*h)+1,n)+t,j=e[A],C=j.x,E=j.y;for(l=c=-1,v=w;v<_;v++)(c=.5*Math.abs((C-m)*(e[v].y-E)-(C-e[v].x)*(g-E)))>l&&(l=c,s=e[v],u=v);d[p++]=s,A=u}return d[p++]=e[f],d}(c,h,p,i,n);break;case"min-max":f=function(e,t,n,i){var r,a,s,l,c,u,d,h,p,f,A=0,m=0,g=[],v=t+n-1,b=e[t].x,y=e[v].x-b;for(r=t;r<t+n;++r){s=((a=e[r]).x-b)/y*i,l=a.y;var x=0|s;if(x===c)l<p?(p=l,u=r):l>f&&(f=l,d=r),A=(m*A+a.x)/++m;else{var w=r-1;if(!lt(u)&&!lt(d)){var _=Math.min(u,d),j=Math.max(u,d);_!==h&&_!==w&&g.push(o(o({},e[_]),{},{x:A})),j!==h&&j!==w&&g.push(o(o({},e[j]),{},{x:A}))}r>0&&w!==h&&g.push(e[w]),g.push(a),c=x,m=0,p=f=l,u=d=h=r}}return g}(c,h,p,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=f}}}}))}else Ka(e)},destroy:function(e){Ka(e)}};function Xa(e,t,n){var i=function(e){var t=e.options,n=t.fill,i=pt(n&&n.target,n);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(ut(i))return!isNaN(i.value)&&i;var r=parseFloat(i);return dt(r)&&Math.floor(r)===r?("-"!==i[0]&&"+"!==i[0]||(r=t+r),!(r===t||r<0||r>=n)&&r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}var Ya=function(){function e(t){b(this,e),this.x=t.x,this.y=t.y,this.radius=t.radius}return x(e,[{key:"pathSegment",value:function(e,t,n){var i=this.x,r=this.y,o=this.radius;return t=t||{start:0,end:Ot},e.arc(i,r,o,t.end,t.start,!0),!n.bounds}},{key:"interpolate",value:function(e){var t=this.x,n=this.y,i=this.radius,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}]),e}();function Ga(e){return(e.scale||{}).getPointPositionForValue?function(e){var t,n,i,r=e.scale,o=e.fill,a=r.options,s=r.getLabels().length,l=[],c=a.reverse?r.max:r.min,u=a.reverse?r.min:r.max;if(i="start"===o?c:"end"===o?u:ut(o)?o.value:r.getBaseValue(),a.grid.circular)return n=r.getPointPositionForValue(0,c),new Ya({x:n.x,y:n.y,radius:r.getDistanceFromCenterForValue(i)});for(t=0;t<s;++t)l.push(r.getPointPositionForValue(t,i));return l}(e):function(e){var t,n=e.scale,i=void 0===n?{}:n,r=e.fill,o=null;return"start"===r?o=i.bottom:"end"===r?o=i.top:ut(r)?o=i.getPixelForValue(r.value):i.getBasePixel&&(o=i.getBasePixel()),dt(o)?{x:(t=i.isHorizontal())?o:null,y:t?null:o}:null}(e)}function qa(e,t,n){for(;t>e;t--){var i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Ja(e,t,n){for(var i=[],r=0;r<n.length;r++){var o=Za(n[r],t,"x"),a=o.first,s=o.last,l=o.point;if(!(!l||a&&s))if(a)i.unshift(l);else if(e.push(l),!s)break}e.push.apply(e,i)}function Za(e,t,n){var i=e.interpolate(t,n);if(!i)return{};for(var r=i[n],o=e.segments,a=e.points,s=!1,l=!1,c=0;c<o.length;c++){var u=o[c],d=a[u.start][n],h=a[u.end][n];if(r>=d&&r<=h){s=r===d,l=r===h;break}}return{first:s,last:l,point:i}}function $a(e){var t=e.chart,n=e.fill,i=e.line;if(dt(n))return function(e,t){var n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){var t=e.scale,n=e.index,i=e.line,r=[],o=i.segments,a=i.points,s=function(e,t){for(var n=[],i=e.getMatchingVisibleMetas("line"),r=0;r<i.length;r++){var o=i[r];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}(t,n);s.push(es({x:null,y:t.bottom},i));for(var l=0;l<o.length;l++)for(var c=o[l],u=c.start;u<=c.end;u++)Ja(r,a[u],s);return new Fa({points:r,options:{}})}(e);if("shape"===n)return!0;var r=Ga(e);return r instanceof Ya?r:es(r,i)}function es(e,t){var n=[],i=!1;return ct(e)?(i=!0,n=e):n=function(e,t){var n=e||{},i=n.x,r=void 0===i?null:i,o=n.y,a=void 0===o?null:o,s=t.points,l=[];return t.segments.forEach((function(e){var t=e.start,n=e.end;n=qa(t,n,s);var i=s[t],o=s[n];null!==a?(l.push({x:i.x,y:a}),l.push({x:o.x,y:a})):null!==r&&(l.push({x:r,y:i.y}),l.push({x:r,y:o.y}))})),l}(e,t),n.length?new Fa({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function ts(e,t,n){var i,r=e[t].fill,o=[t];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!dt(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function ns(e,t,n){e.beginPath(),t.path(e),e.lineTo(t.last().x,n),e.lineTo(t.first().x,n),e.closePath(),e.clip()}function is(e,t,n,i){if(!i){var r=t[e],o=n[e];return"angle"===e&&(r=Yt(r),o=Yt(o)),{property:e,start:r,end:o}}}function rs(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function os(e,t,n){var i=t.chart.chartArea,r=i.top,o=i.bottom,a=n||{},s=a.property,l=a.start,c=a.end;"x"===s&&(e.beginPath(),e.rect(l,r,c-l,o-r),e.clip())}function as(e,t,n,i){var r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}function ss(e,t){var n,r=t.line,o=t.target,a=t.property,s=t.color,l=t.scale,c=function(e,t,n){var r,o=e.segments,a=e.points,s=t.points,l=[],c=g(o);try{for(c.s();!(r=c.n()).done;){var u=r.value,d=u.start,h=u.end;h=qa(d,h,a);var p=is(n,a[d],a[h],u.loop);if(t.segments){var f,A=g(lr(t,p));try{for(A.s();!(f=A.n()).done;){var m,v=f.value,b=is(n,s[v.start],s[v.end],v.loop),y=g(sr(u,a,b));try{for(y.s();!(m=y.n()).done;){var x=m.value;l.push({source:x,target:v,start:i({},n,rs(p,b,"start",Math.max)),end:i({},n,rs(p,b,"end",Math.min))})}}catch(e){y.e(e)}finally{y.f()}}}catch(e){A.e(e)}finally{A.f()}}else l.push({source:u,target:p,start:a[d],end:a[h]})}}catch(e){c.e(e)}finally{c.f()}return l}(r,o,a),u=g(c);try{for(u.s();!(n=u.n()).done;){var d=n.value,h=d.source,p=d.target,f=d.start,A=d.end,m=h.style,v=(m=void 0===m?{}:m).backgroundColor,b=void 0===v?s:v,y=!0!==o;e.save(),e.fillStyle=b,os(e,l,y&&is(a,f,A)),e.beginPath();var x=!!r.pathSegment(e,h),w=void 0;if(y){x?e.closePath():as(e,o,A,a);var _=!!o.pathSegment(e,p,{move:x,reverse:!0});(w=x&&_)||as(e,o,f,a)}e.closePath(),e.fill(w?"evenodd":"nonzero"),e.restore()}}catch(e){u.e(e)}finally{u.f()}}function ls(e,t,n){var i=$a(t),r=t.line,o=t.scale,a=t.axis,s=r.options,l=s.fill,c=s.backgroundColor,u=l||{},d=u.above,h=void 0===d?c:d,p=u.below,f=void 0===p?c:p;i&&r.points.length&&(Yn(e,n),function(e,t){var n=t.line,i=t.target,r=t.above,o=t.below,a=t.area,s=t.scale,l=n._loop?"angle":t.axis;e.save(),"x"===l&&o!==r&&(ns(e,i,a.top),ss(e,{line:n,target:i,color:r,scale:s,property:l}),e.restore(),e.save(),ns(e,i,a.bottom)),ss(e,{line:n,target:i,color:o,scale:s,property:l}),e.restore()}(e,{line:r,target:i,above:h,below:f,area:n,scale:o,axis:a}),Gn(e))}var cs={id:"filler",afterDatasetsUpdate:function(e,t,n){var i,r,o,a,s=(e.data.datasets||[]).length,l=[];for(r=0;r<s;++r)a=null,(o=(i=e.getDatasetMeta(r)).dataset)&&o.options&&o instanceof Fa&&(a={visible:e.isDatasetVisible(r),index:r,fill:Xa(o,r,s),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=a,l.push(a);for(r=0;r<s;++r)(a=l[r])&&!1!==a.fill&&(a.fill=ts(l,r,n.propagate))},beforeDraw:function(e,t,n){for(var i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),o=e.chartArea,a=r.length-1;a>=0;--a){var s=r[a].$filler;s&&(s.line.updateControlPoints(o,s.axis),i&&ls(e.ctx,s,o))}},beforeDatasetsDraw:function(e,t,n){if("beforeDatasetsDraw"===n.drawTime)for(var i=e.getSortedVisibleDatasetMetas(),r=i.length-1;r>=0;--r){var o=i[r].$filler;o&&ls(e.ctx,o,e.chartArea)}},beforeDatasetDraw:function(e,t,n){var i=t.meta.$filler;i&&!1!==i.fill&&"beforeDatasetDraw"===n.drawTime&&ls(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},us=function(e,t){var n=e.boxHeight,i=void 0===n?t:n,r=e.boxWidth,o=void 0===r?t:r;return e.usePointStyle&&(i=Math.min(i,t),o=Math.min(o,t)),{boxWidth:o,boxHeight:i,itemHeight:Math.max(t,i)}},ds=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this))._added=!1,i.legendHitBoxes=[],i._hoveredItem=null,i.doughnutMode=!1,i.chart=e.chart,i.options=e.options,i.ctx=e.ctx,i.legendItems=void 0,i.columnSizes=void 0,i.lineWidths=void 0,i.maxHeight=void 0,i.maxWidth=void 0,i.top=void 0,i.bottom=void 0,i.left=void 0,i.right=void 0,i.height=void 0,i.width=void 0,i._margins=void 0,i.position=void 0,i.weight=void 0,i.fullSize=void 0,i}return x(n,[{key:"update",value:function(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var e=this,t=this.options.labels||{},n=At(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),t.sort&&(n=n.sort((function(n,i){return t.sort(n,i,e.chart.data)}))),this.options.reverse&&n.reverse(),this.legendItems=n}},{key:"fit",value:function(){var e=this.options,t=this.ctx;if(e.display){var n,i,r=e.labels,o=ci(r.font),a=o.size,s=this._computeTitleHeight(),l=us(r,a),c=l.boxWidth,u=l.itemHeight;t.font=o.string,this.isHorizontal()?(n=this.maxWidth,i=this._fitRows(s,a,c,u)+10):(i=this.maxHeight,n=this._fitCols(s,a,c,u)+10),this.width=Math.min(n,e.maxWidth||this.maxWidth),this.height=Math.min(i,e.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,t,n,i){var r=this.ctx,o=this.maxWidth,a=this.options.labels.padding,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+a,u=e;r.textAlign="left",r.textBaseline="middle";var d=-1,h=-c;return this.legendItems.forEach((function(e,p){var f=n+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+f+2*a>o)&&(u+=c,l[l.length-(p>0?0:1)]=0,h+=c,d++),s[p]={left:0,top:h,row:d,width:f,height:i},l[l.length-1]+=f+a})),u}},{key:"_fitCols",value:function(e,t,n,i){var r=this.ctx,o=this.maxHeight,a=this.options.labels.padding,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-e,u=a,d=0,h=0,p=0,f=0;return this.legendItems.forEach((function(e,o){var A=n+t/2+r.measureText(e.text).width;o>0&&h+i+2*a>c&&(u+=d+a,l.push({width:d,height:h}),p+=d+a,f++,d=h=0),s[o]={left:p,top:h,col:f,width:A,height:i},d=Math.max(d,A),h+=i+a})),u+=d,l.push({width:d,height:h}),u}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var e=this._computeTitleHeight(),t=this.legendHitBoxes,n=this.options,i=n.align,r=n.labels.padding,o=nr(n.rtl,this.left,this.width);if(this.isHorizontal()){var a,s=0,l=rt(i,this.left+r,this.right-this.lineWidths[s]),c=g(t);try{for(c.s();!(a=c.n()).done;){var u=a.value;s!==u.row&&(s=u.row,l=rt(i,this.left+r,this.right-this.lineWidths[s])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}}catch(e){c.e(e)}finally{c.f()}}else{var d,h=0,p=rt(i,this.top+e+r,this.bottom-this.columnSizes[h].height),f=g(t);try{for(f.s();!(d=f.n()).done;){var A=d.value;A.col!==h&&(h=A.col,p=rt(i,this.top+e+r,this.bottom-this.columnSizes[h].height)),A.top=p,A.left+=this.left+r,A.left=o.leftForLtr(o.x(A.left),A.width),p+=A.height+r}}catch(e){f.e(e)}finally{f.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var e=this.ctx;Yn(e,this),this._draw(),Gn(e)}}},{key:"_draw",value:function(){var e,t=this,n=this.options,i=this.columnSizes,r=this.lineWidths,o=this.ctx,a=n.align,s=n.labels,l=Rn.color,c=nr(n.rtl,this.left,this.width),u=ci(s.font),d=s.color,h=s.padding,p=u.size,f=p/2;this.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=u.string;var A=us(s,p),m=A.boxWidth,g=A.boxHeight,v=A.itemHeight,b=this.isHorizontal(),y=this._computeTitleHeight();e=b?{x:rt(a,this.left+h,this.right-r[0]),y:this.top+h+y,line:0}:{x:this.left+h,y:rt(a,this.top+y+h,this.bottom-i[0].height),line:0},ir(this.ctx,n.textDirection);var x=v+h;this.legendItems.forEach((function(A,w){o.strokeStyle=A.fontColor||d,o.fillStyle=A.fontColor||d;var _=o.measureText(A.text).width,j=c.textAlign(A.textAlign||(A.textAlign=s.textAlign)),C=m+f+_,E=e.x,B=e.y;c.setWidth(t.width),b?w>0&&E+C+h>t.right&&(B=e.y+=x,e.line++,E=e.x=rt(a,t.left+h,t.right-r[e.line])):w>0&&B+x>t.bottom&&(E=e.x=E+i[e.line].width+h,e.line++,B=e.y=rt(a,t.top+y+h,t.bottom-i[e.line].height)),function(e,t,n){if(!(isNaN(m)||m<=0||isNaN(g)||g<0)){o.save();var i=pt(n.lineWidth,1);if(o.fillStyle=pt(n.fillStyle,l),o.lineCap=pt(n.lineCap,"butt"),o.lineDashOffset=pt(n.lineDashOffset,0),o.lineJoin=pt(n.lineJoin,"miter"),o.lineWidth=i,o.strokeStyle=pt(n.strokeStyle,l),o.setLineDash(pt(n.lineDash,[])),s.usePointStyle){var r={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},a=c.xPlus(e,m/2);Wn(o,r,a,t+f)}else{var u=t+Math.max((p-g)/2,0),d=c.leftForLtr(e,m),h=si(n.borderRadius);o.beginPath(),Object.values(h).some((function(e){return 0!==e}))?ti(o,{x:d,y:u,w:m,h:g,radius:h}):o.rect(d,u,m,g),o.fill(),0!==i&&o.stroke()}o.restore()}}(c.x(E),B,A),E=function(e,t,n,i){return e===(i?"left":"right")?n:"center"===e?(t+n)/2:t}(j,E+m+f,b?E+C:t.right,n.rtl),function(e,t,n){Zn(o,n.text,e,t+v/2,u,{strikethrough:n.hidden,textAlign:c.textAlign(n.textAlign)})}(c.x(E),B,A),b?e.x+=C+h:e.y+=x})),rr(this.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var e=this.options,t=e.title,n=ci(t.font),i=li(t.padding);if(t.display){var r,o=nr(e.rtl,this.left,this.width),a=this.ctx,s=t.position,l=n.size/2,c=i.top+l,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max.apply(Math,J(this.lineWidths)),r=this.top+c,u=rt(e.align,u,this.right-d);else{var h=this.columnSizes.reduce((function(e,t){return Math.max(e,t.height)}),0);r=c+rt(e.align,this.top,this.bottom-h-e.labels.padding-this._computeTitleHeight())}var p=rt(s,u,u+d);a.textAlign=o.textAlign(it(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Zn(a,t.text,p,r,n)}}},{key:"_computeTitleHeight",value:function(){var e=this.options.title,t=ci(e.font),n=li(e.padding);return e.display?t.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(e,t){var n,i,r;if(e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom)for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(e>=(i=r[n]).left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return this.legendItems[n];return null}},{key:"handleEvent",value:function(e){var t=this.options;if(function(e,t){if("mousemove"===e&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t)){var n,i,r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type){var o=this._hoveredItem,a=(i=r,null!==(n=o)&&null!==i&&n.datasetIndex===i.datasetIndex&&n.index===i.index);o&&!a&&At(t.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!a&&At(t.onHover,[e,r,this],this)}else r&&At(t.onClick,[e,r,this],this)}}}]),n}(No);var hs={id:"legend",_element:ds,start:function(e,t,n){var i=e.legend=new ds({ctx:e.ctx,options:n,chart:e});go(e,i,n),Ao(e,i)},stop:function(e){mo(e,e.legend),delete e.legend},beforeUpdate:function(e,t,n){var i=e.legend;go(e,i,n),i.options=n},afterUpdate:function(e){var t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(e,t,n){var i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(e){return e.chart.options.color},boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.legend.options.labels,i=n.usePointStyle,r=n.pointStyle,o=n.textAlign,a=n.color;return e._getSortedDatasetMetas().map((function(e){var n=e.controller.getStyle(i?0:void 0),s=li(n.borderWidth);return{text:t[e.index].label,fillStyle:n.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:n.borderColor,pointStyle:r||n.pointStyle,rotation:n.rotation,textAlign:o||n.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:function(e){return e.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(e){return!e.startsWith("on")},labels:{_scriptable:function(e){return!["generateLabels","filter","sort"].includes(e)}}}},ps=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this)).chart=e.chart,i.options=e.options,i.ctx=e.ctx,i._padding=void 0,i.top=void 0,i.bottom=void 0,i.left=void 0,i.right=void 0,i.width=void 0,i.height=void 0,i.position=void 0,i.weight=void 0,i.fullSize=void 0,i}return x(n,[{key:"update",value:function(e,t){var n=this.options;if(this.left=0,this.top=0,n.display){this.width=this.right=e,this.height=this.bottom=t;var i=ct(n.text)?n.text.length:1;this._padding=li(n.padding);var r=i*ci(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}else this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(e){var t,n,i,r=this.top,o=this.left,a=this.bottom,s=this.right,l=this.options,c=l.align,u=0;return this.isHorizontal()?(n=rt(c,o,s),i=r+e,t=s-o):("left"===l.position?(n=o+e,i=rt(c,a,r),u=-.5*St):(n=s-e,i=rt(c,r,a),u=.5*St),t=a-r),{titleX:n,titleY:i,maxWidth:t,rotation:u}}},{key:"draw",value:function(){var e=this.ctx,t=this.options;if(t.display){var n=ci(t.font),i=n.lineHeight/2+this._padding.top,r=this._drawArgs(i),o=r.titleX,a=r.titleY,s=r.maxWidth,l=r.rotation;Zn(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:l,textAlign:it(t.align),textBaseline:"middle",translation:[o,a]})}}}]),n}(No);var fs={id:"title",_element:ps,start:function(e,t,n){!function(e,t){var n=new ps({ctx:e.ctx,options:t,chart:e});go(e,n,t),Ao(e,n),e.titleBlock=n}(e,n)},stop:function(e){var t=e.titleBlock;mo(e,t),delete e.titleBlock},beforeUpdate:function(e,t,n){var i=e.titleBlock;go(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},As=new WeakMap,ms={id:"subtitle",start:function(e,t,n){var i=new ps({ctx:e.ctx,options:n,chart:e});go(e,i,n),Ao(e,i),As.set(e,i)},stop:function(e){mo(e,As.get(e)),As.delete(e)},beforeUpdate:function(e,t,n){var i=As.get(e);go(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},gs={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t].element;if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:i/o,y:r/o}},nearest:function(e,t){if(!e.length)return!1;var n,i,r,o=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var l=e[n].element;if(l&&l.hasValue()){var c=Wt(t,l.getCenterPoint());c<s&&(s=c,r=l)}}if(r){var u=r.tooltipPosition();o=u.x,a=u.y}return{x:o,y:a}}};function vs(e,t){return t&&(ct(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function bs(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function ys(e,t){var n=e._chart.ctx,i=e.body,r=e.footer,o=e.title,a=t.boxWidth,s=t.boxHeight,l=ci(t.bodyFont),c=ci(t.titleFont),u=ci(t.footerFont),d=o.length,h=r.length,p=i.length,f=li(t.padding),A=f.height,m=0,g=i.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);(g+=e.beforeBody.length+e.afterBody.length,d&&(A+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),g)&&(A+=p*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(g-p)*l.lineHeight+(g-1)*t.bodySpacing);h&&(A+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);var v=0,b=function(e){m=Math.max(m,n.measureText(e).width+v)};return n.save(),n.font=c.string,mt(e.title,b),n.font=l.string,mt(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?a+2+t.boxPadding:0,mt(i,(function(e){mt(e.before,b),mt(e.lines,b),mt(e.after,b)})),v=0,n.font=u.string,mt(e.footer,b),n.restore(),{width:m+=f.width,height:A}}function xs(e,t,n,i){var r=n.x,o=n.width,a=e.width,s=e.chartArea,l=s.left,c=s.right,u="center";return"center"===i?u=r<=(l+c)/2?"left":"right":r<=o/2?u="left":r>=a-o/2&&(u="right"),function(e,t,n,i){var r=i.x,o=i.width,a=n.caretSize+n.caretPadding;return"left"===e&&r+o+a>t.width||("right"===e&&r-o-a<0||void 0)}(u,e,t,n)&&(u="center"),u}function ws(e,t,n){var i=t.yAlign||function(e,t){var n=t.y,i=t.height;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:t.xAlign||xs(e,t,n,i),yAlign:i}}function _s(e,t,n,i){var r=e.caretSize,o=e.caretPadding,a=e.cornerRadius,s=n.xAlign,l=n.yAlign,c=r+o,u=si(a),d=u.topLeft,h=u.topRight,p=u.bottomLeft,f=u.bottomRight,A=function(e,t){var n=e.x,i=e.width;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,s),m=function(e,t,n){var i=e.y,r=e.height;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===s?A+=c:"right"===s&&(A-=c):"left"===s?A-=Math.max(d,p)+o:"right"===s&&(A+=Math.max(h,f)+o),{x:qt(A,0,i.width-t.width),y:qt(m,0,i.height-t.height)}}function js(e,t,n){var i=li(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function Cs(e){return vs([],bs(e))}function Es(e,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}var Bs=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this)).opacity=0,i._active=[],i._chart=e._chart,i._eventPosition=void 0,i._size=void 0,i._cachedAnimations=void 0,i._tooltipItems=[],i.$animations=void 0,i.$context=void 0,i.options=e.options,i.dataPoints=void 0,i.title=void 0,i.beforeBody=void 0,i.body=void 0,i.afterBody=void 0,i.footer=void 0,i.xAlign=void 0,i.yAlign=void 0,i.x=void 0,i.y=void 0,i.height=void 0,i.width=void 0,i.caretX=void 0,i.caretY=void 0,i.labelColors=void 0,i.labelPointStyles=void 0,i.labelTextColors=void 0,i}return x(n,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var e=this._cachedAnimations;if(e)return e;var t=this._chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new mr(this._chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context=(e=this._chart.getContext(),t=this,n=this._tooltipItems,di(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}},{key:"getTitle",value:function(e,t){var n=t.callbacks,i=n.beforeTitle.apply(this,[e]),r=n.title.apply(this,[e]),o=n.afterTitle.apply(this,[e]),a=[];return a=vs(a,bs(i)),a=vs(a,bs(r)),a=vs(a,bs(o))}},{key:"getBeforeBody",value:function(e,t){return Cs(t.callbacks.beforeBody.apply(this,[e]))}},{key:"getBody",value:function(e,t){var n=this,i=t.callbacks,r=[];return mt(e,(function(e){var t={before:[],lines:[],after:[]},o=Es(i,e);vs(t.before,bs(o.beforeLabel.call(n,e))),vs(t.lines,o.label.call(n,e)),vs(t.after,bs(o.afterLabel.call(n,e))),r.push(t)})),r}},{key:"getAfterBody",value:function(e,t){return Cs(t.callbacks.afterBody.apply(this,[e]))}},{key:"getFooter",value:function(e,t){var n=t.callbacks,i=n.beforeFooter.apply(this,[e]),r=n.footer.apply(this,[e]),o=n.afterFooter.apply(this,[e]),a=[];return a=vs(a,bs(i)),a=vs(a,bs(r)),a=vs(a,bs(o))}},{key:"_createItems",value:function(e){var t,n,i,r,o,a,s,l,c,u,d,h=this,p=this._active,f=this._chart.data,A=[],m=[],g=[],v=[];for(t=0,n=p.length;t<n;++t)v.push((i=this._chart,r=p[t],o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,o=r.element,a=r.datasetIndex,s=r.index,l=i.getDatasetMeta(a).controller,c=l.getLabelAndValue(s),u=c.label,d=c.value,{chart:i,label:u,parsed:l.getParsed(s),raw:i.data.datasets[a].data[s],formattedValue:d,dataset:l.getDataset(),dataIndex:s,datasetIndex:a,element:o}));return e.filter&&(v=v.filter((function(t,n,i){return e.filter(t,n,i,f)}))),e.itemSort&&(v=v.sort((function(t,n){return e.itemSort(t,n,f)}))),mt(v,(function(t){var n=Es(e.callbacks,t);A.push(n.labelColor.call(h,t)),m.push(n.labelPointStyle.call(h,t)),g.push(n.labelTextColor.call(h,t))})),this.labelColors=A,this.labelPointStyles=m,this.labelTextColors=g,this.dataPoints=v,v}},{key:"update",value:function(e,t){var n,i=this.options.setContext(this.getContext()),r=this._active,o=[];if(r.length){var a=gs[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);var s=this._size=ys(this,i),l=Object.assign({},a,s),c=ws(this._chart,i,l),u=_s(i,l,c,this._chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,n={opacity:1,x:u.x,y:u.y,width:s.width,height:s.height,caretX:a.x,caretY:a.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&i.external&&i.external.call(this,{chart:this._chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(e,t,n,i){var r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}},{key:"getCaretPosition",value:function(e,t,n){var i,r,o,a,s,l,c=this.xAlign,u=this.yAlign,d=n.caretSize,h=si(n.cornerRadius),p=h.topLeft,f=h.topRight,A=h.bottomLeft,m=h.bottomRight,g=e.x,v=e.y,b=t.width,y=t.height;return"center"===u?(s=v+y/2,"left"===c?(r=(i=g)-d,a=s+d,l=s-d):(r=(i=g+b)+d,a=s-d,l=s+d),o=i):(r="left"===c?g+Math.max(p,A)+d:"right"===c?g+b-Math.max(f,m)-d:this.caretX,"top"===u?(s=(a=v)-d,i=r-d,o=r+d):(s=(a=v+y)+d,i=r+d,o=r-d),l=a),{x1:i,x2:r,x3:o,y1:a,y2:s,y3:l}}},{key:"drawTitle",value:function(e,t,n){var i,r,o,a=this.title,s=a.length;if(s){var l=nr(n.rtl,this.x,this.width);for(e.x=js(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",i=ci(n.titleFont),r=n.titleSpacing,t.fillStyle=n.titleColor,t.font=i.string,o=0;o<s;++o)t.fillText(a[o],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r,o+1===s&&(e.y+=n.titleMarginBottom-r)}}},{key:"_drawColorBox",value:function(e,t,n,i,r){var o=this.labelColors[n],a=this.labelPointStyles[n],s=r.boxHeight,l=r.boxWidth,c=r.boxPadding,u=ci(r.bodyFont),d=js(this,"left",r),h=i.x(d),p=s<u.lineHeight?(u.lineHeight-s)/2:0,f=t.y+p;if(r.usePointStyle){var A={radius:Math.min(l,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(h,l)+l/2,g=f+s/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Wn(e,A,m,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Wn(e,A,m,g)}else{e.lineWidth=o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;var v=i.leftForLtr(h,l-c),b=i.leftForLtr(i.xPlus(h,1),l-c-2),y=si(o.borderRadius);Object.values(y).some((function(e){return 0!==e}))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ti(e,{x:v,y:f,w:l,h:s,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ti(e,{x:b,y:f+1,w:l-2,h:s-2,radius:y}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(v,f,l,s),e.strokeRect(v,f,l,s),e.fillStyle=o.backgroundColor,e.fillRect(b,f+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(e,t,n){var i,r,o,a,s,l,c,u=this.body,d=n.bodySpacing,h=n.bodyAlign,p=n.displayColors,f=n.boxHeight,A=n.boxWidth,m=n.boxPadding,g=ci(n.bodyFont),v=g.lineHeight,b=0,y=nr(n.rtl,this.x,this.width),x=function(n){t.fillText(n,y.x(e.x+b),e.y+v/2),e.y+=v+d},w=y.textAlign(h);for(t.textAlign=h,t.textBaseline="middle",t.font=g.string,e.x=js(this,w,n),t.fillStyle=n.bodyColor,mt(this.beforeBody,x),b=p&&"right"!==w?"center"===h?A/2+m:A+2+m:0,a=0,l=u.length;a<l;++a){for(i=u[a],r=this.labelTextColors[a],t.fillStyle=r,mt(i.before,x),o=i.lines,p&&o.length&&(this._drawColorBox(t,e,a,y,n),v=Math.max(g.lineHeight,f)),s=0,c=o.length;s<c;++s)x(o[s]),v=g.lineHeight;mt(i.after,x)}b=0,v=g.lineHeight,mt(this.afterBody,x),e.y-=d}},{key:"drawFooter",value:function(e,t,n){var i,r,o=this.footer,a=o.length;if(a){var s=nr(n.rtl,this.x,this.width);for(e.x=js(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",i=ci(n.footerFont),t.fillStyle=n.footerColor,t.font=i.string,r=0;r<a;++r)t.fillText(o[r],s.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(e,t,n,i){var r=this.xAlign,o=this.yAlign,a=e.x,s=e.y,l=n.width,c=n.height,u=si(i.cornerRadius),d=u.topLeft,h=u.topRight,p=u.bottomLeft,f=u.bottomRight;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+d,s),"top"===o&&this.drawCaret(e,t,n,i),t.lineTo(a+l-h,s),t.quadraticCurveTo(a+l,s,a+l,s+h),"center"===o&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(a+l,s+c-f),t.quadraticCurveTo(a+l,s+c,a+l-f,s+c),"bottom"===o&&this.drawCaret(e,t,n,i),t.lineTo(a+p,s+c),t.quadraticCurveTo(a,s+c,a,s+c-p),"center"===o&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(a,s+d),t.quadraticCurveTo(a,s,a+d,s),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}},{key:"_updateAnimationTarget",value:function(e){var t=this._chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){var o=gs[e.position].call(this,this._active,this._eventPosition);if(!o)return;var a=this._size=ys(this,e),s=Object.assign({},o,this._size),l=ws(t,e,s),c=_s(e,s,l,t);i._to===c.x&&r._to===c.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}},{key:"draw",value:function(e){var t=this.options.setContext(this.getContext()),n=this.opacity;if(n){this._updateAnimationTarget(t);var i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;var o=li(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),ir(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),rr(e,t.textDirection),e.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e,t){var n=this,i=this._active,r=e.map((function(e){var t=e.datasetIndex,i=e.index,r=n._chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[i],index:i}})),o=!gt(i,r),a=this._positionChanged(r,t);(o||a)&&(this._active=r,this._eventPosition=t,this.update(!0))}},{key:"handleEvent",value:function(e,t){var n,i=this.options,r=this._active||[],o=[];"mouseout"!==e.type&&(o=this._chart.getElementsAtEventForMode(e,i.mode,i,t),i.reverse&&o.reverse());var a=this._positionChanged(o,e);return(n=t||!gt(o,r)||a)&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),n}},{key:"_positionChanged",value:function(e,t){var n=this.caretX,i=this.caretY,r=this.options,o=gs[r.position].call(this,e,t);return!1!==o&&(n!==o.x||i!==o.y)}}]),n}(No);Bs.positioners=gs;var ks={id:"tooltip",_element:Bs,positioners:gs,afterInit:function(e,t,n){n&&(e.tooltip=new Bs({_chart:e,options:n}))},beforeUpdate:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw:function(e){var t=e.tooltip,n={tooltip:t};!1!==e.notifyPlugins("beforeTooltipDraw",n)&&(t&&t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n))},afterEvent:function(e,t){if(e.tooltip){var n=t.replay;e.tooltip.handleEvent(t.event,n)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(e,t){return t.bodyFont.size},boxWidth:function(e,t){return t.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:ot,title:function(e){if(e.length>0){var t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:ot,beforeBody:ot,beforeLabel:ot,label:function(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;var t=e.dataset.label||"";t&&(t+=": ");var n=e.formattedValue;return lt(n)||(t+=n),t},labelColor:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ot,afterBody:ot,beforeFooter:ot,footer:ot,afterFooter:ot}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(e){return"filter"!==e&&"itemSort"!==e&&"external"!==e},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Ss=Object.freeze({__proto__:null,Decimation:Wa,Filler:cs,Legend:hs,SubTitle:ms,Title:fs,Tooltip:ks});function Os(e,t,n){var i=e.indexOf(t);return-1===i?function(e,t,n){return"string"==typeof t?e.push(t)-1:isNaN(t)?null:n}(e,t,n):i!==e.lastIndexOf(t)?n:i}var Ms=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e))._startValue=void 0,i._valueRange=0,i}return x(n,[{key:"parse",value:function(e,t){if(lt(e))return null;var n=this.getLabels();return function(e,t){return null===e?null:qt(Math.round(e),0,t)}(t=isFinite(t)&&n[t]===e?t:Os(n,e,pt(t,e)),n.length-1)}},{key:"determineDataLimits",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,i=this.getMinMax(!0),r=i.min,o=i.max;"ticks"===this.options.bounds&&(t||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}},{key:"buildTicks",value:function(){var e=this.min,t=this.max,n=this.options.offset,i=[],r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(var o=e;o<=t;o++)i.push({value:o});return i}},{key:"getLabelForValue",value:function(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e}},{key:"configure",value:function(){et(j(n.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getValueForPixel",value:function(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(Ko);function Ts(e,t){var n,i,r,o,a,s,l,c=[],u=e.bounds,d=e.step,h=e.min,p=e.max,f=e.precision,A=e.count,m=e.maxTicks,g=e.maxDigits,v=e.includeBounds,b=d||1,y=m-1,x=t.min,w=t.max,_=!lt(h),j=!lt(p),C=!lt(A),E=(w-x)/(g+1),B=Pt((w-x)/y/b)*b;if(B<1e-14&&!_&&!j)return[{value:x},{value:w}];(o=Math.ceil(w/B)-Math.floor(x/B))>y&&(B=Pt(o*B/y/b)*b),lt(f)||(n=Math.pow(10,f),B=Math.ceil(B*n)/n),"ticks"===u?(i=Math.floor(x/B)*B,r=Math.ceil(w/B)*B):(i=x,r=w),_&&j&&d&&(a=(p-h)/d,s=B/1e3,(l=Math.round(a))-s<=a&&l+s>=a)?(B=(p-h)/(o=Math.round(Math.min((p-h)/B,m))),i=h,r=p):C?B=((r=j?p:r)-(i=_?h:i))/(o=A-1):o=Rt(o=(r-i)/B,Math.round(o),B/1e3)?Math.round(o):Math.ceil(o);var k=Math.max(Kt(B),Kt(i));n=Math.pow(10,lt(f)?k:f),i=Math.round(i*n)/n,r=Math.round(r*n)/n;var S=0;for(_&&(v&&i!==h?(c.push({value:h}),i<h&&S++,Rt(Math.round((i+S*B)*n)/n,h,Fs(h,E,e))&&S++):i<h&&S++);S<o;++S)c.push({value:Math.round((i+S*B)*n)/n});return j&&v&&r!==p?c.length&&Rt(c[c.length-1].value,p,Fs(p,E,e))?c[c.length-1].value=p:c.push({value:p}):j&&r!==p||c.push({value:r}),c}function Fs(e,t,n){var i=n.horizontal,r=zt(n.minRotation),o=(i?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}Ms.id="category",Ms.defaults={ticks:{callback:Ms.prototype.getLabelForValue}};var Ns=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).start=void 0,i.end=void 0,i._startValue=void 0,i._endValue=void 0,i._valueRange=0,i}return x(n,[{key:"parse",value:function(e,t){return lt(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,t=this.getUserBounds(),n=t.minDefined,i=t.maxDefined,r=this.min,o=this.max,a=function(e){return r=n?r:e},s=function(e){return o=i?o:e};if(e){var l=Ut(r),c=Ut(o);l<0&&c<0?s(0):l>0&&c>0&&a(0)}if(r===o){var u=1;(o>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(u=Math.abs(.05*o)),s(o+u),e||a(r-u)}this.min=r,this.max=o}},{key:"getTickLimit",value:function(){var e,t=this.options.ticks,n=t.maxTicksLimit,i=t.stepSize;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,t=e.ticks,n=this.getTickLimit(),i=Ts({maxTicks:n=Math.max(2,n),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Qt(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}},{key:"configure",value:function(){var e=this.ticks,t=this.min,i=this.max;if(et(j(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}},{key:"getLabelForValue",value:function(e){return tr(e,this.chart.options.locale)}}]),n}(Ko),Is=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=dt(t)?t:0,this.max=dt(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),t=e?this.width:this.height,n=zt(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(Ns);function Ls(e){return 1===e/Math.pow(10,Math.floor(Dt(e)))}Is.id="linear",Is.defaults={ticks:{callback:Lo.formatters.numeric}};var Ds=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).start=void 0,i.end=void 0,i._startValue=void 0,i._valueRange=0,i}return x(n,[{key:"parse",value:function(e,t){var n=Ns.prototype.parse.apply(this,[e,t]);if(0!==n)return dt(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=dt(t)?Math.max(0,t):null,this.max=dt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,i=this.min,r=this.max,o=function(e){return i=t?i:e},a=function(e){return r=n?r:e},s=function(e,t){return Math.pow(10,Math.floor(Dt(e))+t)};i===r&&(i<=0?(o(1),a(10)):(o(s(i,-1)),a(s(r,1)))),i<=0&&o(s(r,-1)),r<=0&&a(s(i,1)),this._zero&&this.min!==this._suggestedMin&&i===s(this.min,0)&&o(s(i,-1)),this.min=i,this.max=r}},{key:"buildTicks",value:function(){var e=this.options,t=function(e,t){var n=Math.floor(Dt(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),r=[],o=ht(e.min,Math.pow(10,Math.floor(Dt(t.min)))),a=Math.floor(Dt(o)),s=Math.floor(o/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do{r.push({value:o,major:Ls(o)}),10===++s&&(s=1,l=++a>=0?1:l),o=Math.round(s*Math.pow(10,a)*l)/l}while(a<n||a===n&&s<i);var c=ht(e.max,o);return r.push({value:c,major:Ls(o)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Qt(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":tr(e,this.chart.options.locale)}},{key:"configure",value:function(){var e=this.min;et(j(n.prototype),"configure",this).call(this),this._startValue=Dt(e),this._valueRange=Dt(this.max)-Dt(e)}},{key:"getPixelForValue",value:function(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Dt(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}]),n}(Ko);function Us(e){var t=e.ticks;if(t.display&&e.display){var n=li(t.backdropPadding);return pt(t.font&&t.font.size,Rn.font.size)+n.height}return 0}function Ps(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Hs(e){for(var t,n,i,r={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={},a=[],s=[],l=e.getLabels().length,c=0;c<l;c++){var u=e.options.pointLabels.setContext(e.getPointLabelContext(c));s[c]=u.padding;var d=e.getPointPosition(c,e.drawingArea+s[c]),h=ci(u.font),p=(t=e.ctx,n=h,i=ct(i=e._pointLabels[c])?i:[i],{w:zn(t,n.string,i),h:i.length*n.lineHeight});a[c]=p;var f=e.getIndexAngle(c),A=Vt(f),m=Ps(A,d.x,p.w,0,180),g=Ps(A,d.y,p.h,90,270);m.start<r.l&&(r.l=m.start,o.l=f),m.end>r.r&&(r.r=m.end,o.r=f),g.start<r.t&&(r.t=g.start,o.t=f),g.end>r.b&&(r.b=g.end,o.b=f)}e._setReductions(e.drawingArea,r,o),e._pointLabelItems=function(e,t,n){for(var i=[],r=e.getLabels().length,o=e.options,a=Us(o),s=e.getDistanceFromCenterForValue(o.ticks.reverse?e.min:e.max),l=0;l<r;l++){var c=0===l?a/2:0,u=e.getPointPosition(l,s+c+n[l]),d=Vt(e.getIndexAngle(l)),h=t[l],p=zs(u.y,h.h,d),f=Rs(d),A=Qs(u.x,h.w,f);i.push({x:u.x,y:p,textAlign:f,left:A,top:p,right:A+h.w,bottom:p+h.h})}return i}(e,a,s)}function Rs(e){return 0===e||180===e?"center":e<180?"left":"right"}function Qs(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function zs(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function Vs(e,t,n,i){var r=e.ctx;if(n)r.arc(e.xCenter,e.yCenter,t,0,Ot);else{var o=e.getPointPosition(0,t);r.moveTo(o.x,o.y);for(var a=1;a<i;a++)o=e.getPointPosition(a,t),r.lineTo(o.x,o.y)}}function Ks(e){return Ht(e)?e:0}Ds.id="logarithmic",Ds.defaults={ticks:{callback:Lo.formatters.logarithmic,major:{enabled:!0}}};var Ws=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).xCenter=void 0,i.yCenter=void 0,i.drawingArea=void 0,i._pointLabels=[],i._pointLabelItems=[],i}return x(n,[{key:"setDimensions",value:function(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=Us(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),t=e.min,n=e.max;this.min=dt(t)&&!isNaN(t)?t:0,this.max=dt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Us(this.options))}},{key:"generateTickLabels",value:function(e){var t=this;Ns.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((function(e,n){var i=At(t.options.pointLabels.callback,[e,n],t);return i||0===i?i:""}))}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?Hs(this):this.setCenterPoint(0,0,0,0)}},{key:"_setReductions",value:function(e,t,n){var i=t.l/Math.sin(n.l),r=Math.max(t.r-this.width,0)/Math.sin(n.r),o=-t.t/Math.cos(n.t),a=-Math.max(t.b-(this.height-this.paddingTop),0)/Math.cos(n.b);i=Ks(i),r=Ks(r),o=Ks(o),a=Ks(a),this.drawingArea=Math.max(e/2,Math.min(Math.floor(e-(i+r)/2),Math.floor(e-(o+a)/2))),this.setCenterPoint(i,r,o,a)}},{key:"setCenterPoint",value:function(e,t,n,i){var r=this.width-t-this.drawingArea,o=e+this.drawingArea,a=n+this.drawingArea,s=this.height-this.paddingTop-i-this.drawingArea;this.xCenter=Math.floor((o+r)/2+this.left),this.yCenter=Math.floor((a+s)/2+this.top+this.paddingTop)}},{key:"getIndexAngle",value:function(e){return Yt(e*(Ot/this.getLabels().length)+zt(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if(lt(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){if(lt(e))return NaN;var t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}},{key:"getPointLabelContext",value:function(e){var t=this._pointLabels||[];if(e>=0&&e<t.length){var n=t[e];return function(e,t,n){return di(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}},{key:"getPointPosition",value:function(e,t){var n=this.getIndexAngle(e)-Nt;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}},{key:"getPointPositionForValue",value:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var t=this._pointLabelItems[e];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var e=this.options,t=e.backgroundColor,n=e.grid.circular;if(t){var i=this.ctx;i.save(),i.beginPath(),Vs(this,this.getDistanceFromCenterForValue(this._endValue),n,this.getLabels().length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}},{key:"drawGrid",value:function(){var e,t,n,i=this,r=this.ctx,o=this.options,a=o.angleLines,s=o.grid,l=this.getLabels().length;if(o.pointLabels.display&&function(e,t){for(var n=e.ctx,i=e.options.pointLabels,r=t-1;r>=0;r--){var o=i.setContext(e.getPointLabelContext(r)),a=ci(o.font),s=e._pointLabelItems[r],l=s.x,c=s.y,u=s.textAlign,d=s.left,h=s.top,p=s.right,f=s.bottom,A=o.backdropColor;if(!lt(A)){var m=li(o.backdropPadding);n.fillStyle=A,n.fillRect(d-m.left,h-m.top,p-d+m.width,f-h+m.height)}Zn(n,e._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}(this,l),s.display&&this.ticks.forEach((function(e,n){if(0!==n){t=i.getDistanceFromCenterForValue(e.value);var r=s.setContext(i.getContext(n-1));!function(e,t,n,i){var r=e.ctx,o=t.circular,a=t.color,s=t.lineWidth;!o&&!i||!a||!s||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=s,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),Vs(e,n,o,i),r.closePath(),r.stroke(),r.restore())}(i,r,t,l)}})),a.display){for(r.save(),e=this.getLabels().length-1;e>=0;e--){var c=a.setContext(this.getPointLabelContext(e)),u=c.color,d=c.lineWidth;d&&u&&(r.lineWidth=d,r.strokeStyle=u,r.setLineDash(c.borderDash),r.lineDashOffset=c.borderDashOffset,t=this.getDistanceFromCenterForValue(o.ticks.reverse?this.min:this.max),n=this.getPointPosition(e,t),r.beginPath(),r.moveTo(this.xCenter,this.yCenter),r.lineTo(n.x,n.y),r.stroke())}r.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,t=this.ctx,n=this.options,i=n.ticks;if(i.display){var r,o,a=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((function(a,s){if(0!==s||n.reverse){var l=i.setContext(e.getContext(s)),c=ci(l.font);if(r=e.getDistanceFromCenterForValue(e.ticks[s].value),l.showLabelBackdrop){t.font=c.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;var u=li(l.backdropPadding);t.fillRect(-o/2-u.left,-r-c.size/2-u.top,o+u.width,c.size+u.height)}Zn(t,a.label,0,-r,c,{color:l.color})}})),t.restore()}}},{key:"drawTitle",value:function(){}}]),n}(Ns);Ws.id="radialLinear",Ws.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Lo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5}},Ws.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Ws.descriptors={angleLines:{_fallback:"grid"}};var Xs={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ys=Object.keys(Xs);function Gs(e,t){return e-t}function qs(e,t){if(lt(t))return null;var n=e._adapter,i=e._parseOpts,r=i.parser,o=i.round,a=i.isoWeekday,s=t;return"function"==typeof r&&(s=r(s)),dt(s)||(s="string"==typeof r?n.parse(s,r):n.parse(s)),null===s?null:(o&&(s="week"!==o||!Ht(a)&&!0!==a?n.startOf(s,o):n.startOf(s,"isoWeek",a)),+s)}function Js(e,t,n,i){for(var r=Ys.length,o=Ys.indexOf(e);o<r-1;++o){var a=Xs[Ys[o]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(s*a.size))<=i)return Ys[o]}return Ys[r-1]}function Zs(e,t,n){if(n){if(n.length){var i=hi(n,t),r=i.lo,o=i.hi;e[n[r]>=t?n[r]:n[o]]=!0}}else e[t]=!0}function $s(e,t,n){var i,r,o=[],a={},s=t.length;for(i=0;i<s;++i)a[r=t[i]]=i,o.push({value:r,major:!1});return 0!==s&&n?function(e,t,n,i){var r,o,a=e._adapter,s=+a.startOf(t[0].value,i),l=t[t.length-1].value;for(r=s;r<=l;r=+a.add(r,1,i))(o=n[r])>=0&&(t[o].major=!0);return t}(e,o,a,n):o}var el=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e))._cache={data:[],labels:[],all:[]},i._unit="day",i._majorUnit=void 0,i._offsets={},i._normalized=!1,i._parseOpts=void 0,i}return x(n,[{key:"init",value:function(e,t){var i=e.time||(e.time={}),r=this._adapter=new Yr._date(e.adapters.date);wt(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},et(j(n.prototype),"init",this).call(this,e),this._normalized=t.normalized}},{key:"parse",value:function(e,t){return void 0===e?null:qs(this,e)}},{key:"beforeLayout",value:function(){et(j(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var e=this.options,t=this._adapter,n=e.time.unit||"day",i=this.getUserBounds(),r=i.min,o=i.max,a=i.minDefined,s=i.maxDefined;function l(e){a||isNaN(e.min)||(r=Math.min(r,e.min)),s||isNaN(e.max)||(o=Math.max(o,e.max))}a&&s||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),r=dt(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),o=dt(o)&&!isNaN(o)?o:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}},{key:"_getLabelBounds",value:function(){var e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}},{key:"buildTicks",value:function(){var e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);var r=this.min,o=function(e,t,n){for(var i=0,r=e.length;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?Js(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(var o=Ys.length-1;o>=Ys.indexOf(n);o--){var a=Ys[o];if(Xs[a].common&&e._adapter.diff(r,i,a)>=t-1)return a}return Ys[n?Ys.indexOf(n):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(var t=Ys.indexOf(e)+1,n=Ys.length;t<n;++t)if(Xs[Ys[t]].common)return Ys[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&o.reverse(),$s(this,o,this._majorUnit)}},{key:"initOffsets",value:function(e){var t,n,i=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),r=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);var o=e.length<3?.5:.25;i=qt(i,0,o),r=qt(r,0,o),this._offsets={start:i,end:r,factor:1/(i+1+r)}}},{key:"_generate",value:function(){var e,t,n=this._adapter,i=this.min,r=this.max,o=this.options,a=o.time,s=a.unit||Js(a.minUnit,i,r,this._getLabelCapacity(i)),l=pt(a.stepSize,1),c="week"===s&&a.isoWeekday,u=Ht(c)||!0===c,d={},h=i;if(u&&(h=+n.startOf(h,"isoWeek",c)),h=+n.startOf(h,u?"day":s),n.diff(r,i,s)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+s);var p="data"===o.ticks.source&&this.getDataTimestamps();for(e=h,t=0;e<r;e=+n.add(e,l,s),t++)Zs(d,e,p);return e!==r&&"ticks"!==o.bounds&&1!==t||Zs(d,e,p),Object.keys(d).sort((function(e,t){return e-t})).map((function(e){return+e}))}},{key:"getLabelForValue",value:function(e){var t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}},{key:"_tickFormatFunction",value:function(e,t,n,i){var r=this.options,o=r.time.displayFormats,a=this._unit,s=this._majorUnit,l=a&&o[a],c=s&&o[s],u=n[t],d=s&&c&&u&&u.major,h=this._adapter.format(e,i||(d?c:l)),p=r.ticks.callback;return p?At(p,[h,t,n],this):h}},{key:"generateTickLabels",value:function(e){var t,n,i;for(t=0,n=e.length;t<n;++t)(i=e[t]).label=this._tickFormatFunction(i.value,t,e)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(e){var t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}},{key:"_getLabelSize",value:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,i=zt(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}},{key:"_getLabelCapacity",value:function(e){var t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,$s(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}},{key:"getDataTimestamps",value:function(){var e,t,n=this._cache.data||[];if(n.length)return n;var i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}},{key:"getLabelTimestamps",value:function(){var e,t,n=this._cache.labels||[];if(n.length)return n;var i=this.getLabels();for(e=0,t=i.length;e<t;++e)n.push(qs(this,i[e]));return this._cache.labels=this._normalized?n:this.normalize(n)}},{key:"normalize",value:function(e){return gi(e.sort(Gs))}}]),n}(Ko);function tl(e,t,n){var i,r,o,a,s=0,l=e.length-1;if(n){if(t>=e[s].pos&&t<=e[l].pos){var c=pi(e,"pos",t);s=c.lo,l=c.hi}var u=e[s];i=u.pos,o=u.time;var d=e[l];r=d.pos,a=d.time}else{if(t>=e[s].time&&t<=e[l].time){var h=pi(e,"time",t);s=h.lo,l=h.hi}var p=e[s];i=p.time,o=p.pos;var f=e[l];r=f.time,a=f.pos}var A=r-i;return A?o+(a-o)*(t-i)/A:o}el.id="time",el.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};var nl=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e))._table=[],i._minPos=void 0,i._tableRange=void 0,i}return x(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=tl(t,this.min),this._tableRange=tl(t,this.max)-this._minPos,et(j(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var t,n,i,r,o,a=this.min,s=this.max,l=[],c=[];for(t=0,n=e.length;t<n;++t)(r=e[t])>=a&&r<=s&&l.push(r);if(l.length<2)return[{time:a,pos:0},{time:s,pos:1}];for(t=0,n=l.length;t<n;++t)o=l[t+1],i=l[t-1],r=l[t],Math.round((o+i)/2)!==r&&c.push({time:r,pos:t/(n-1)});return c}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(tl(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return tl(this._table,n*this._tableRange+this._minPos,!0)}}]),n}(el);nl.id="timeseries",nl.defaults=el.defaults;var il=[Kr,za,Ss,Object.freeze({__proto__:null,CategoryScale:Ms,LinearScale:Is,LogarithmicScale:Ds,RadialLinearScale:Ws,TimeScale:el,TimeSeriesScale:nl})];ga.register.apply(ga,J(il));var rl=ga;function ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function al(e){for(var t=arguments,n=function(n){var i=null!=t[n]?t[n]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),r.forEach((function(t){ol(e,t,i[t])}))},i=1;i<arguments.length;i++)n(i);return e}function sl(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function cl(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function ul(e,t){e.labels=t}function dl(e,t){e.datasets=t.map((function(t){var n=e.datasets.find((function(e){return e.label===t.label&&e.type===t.type}));return n&&t.data?(Object.assign(n,t),n):al({},t)}))}function hl(e){var t={labels:[],datasets:[]};return ul(t,e.labels),dl(t,e.datasets),t}var pl={datasets:[]};function fl(e,t){var n=e.height,i=void 0===n?150:n,r=e.width,o=void 0===r?300:r,a=e.redraw,s=void 0!==a&&a,l=e.type,c=e.data,h=e.options,p=e.plugins,f=void 0===p?[]:p,A=e.getDatasetAtEvent,m=e.getElementAtEvent,g=e.getElementsAtEvent,v=e.fallbackContent,b=e.onClick,y=sl(e,["height","width","redraw","type","data","options","plugins","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","fallbackContent","onClick"]),x=Object(u.useRef)(null),w=Object(u.useRef)(),_=ll(Object(u.useState)()),j=_[0],C=_[1],E=j||("function"==typeof c?pl:c),B=function(){x.current&&(w.current=new rl(x.current,{type:l,data:hl(E),options:h,plugins:f}),cl(t,w.current))},k=function(){cl(t,null),w.current&&(w.current.destroy(),w.current=null)};return Object(u.useEffect)((function(){"function"==typeof c&&x.current&&C(c(x.current))}),[c]),Object(u.useEffect)((function(){var e,t;!s&&w.current&&h&&(e=w.current,t=h,e.options=al({},t))}),[s,h]),Object(u.useEffect)((function(){!s&&w.current&&ul(w.current.config.data,E.labels)}),[s,E.labels]),Object(u.useEffect)((function(){!s&&w.current&&E.datasets&&dl(w.current.config.data,E.datasets)}),[s,E.datasets]),Object(u.useEffect)((function(){w.current&&(s?(k(),setTimeout(B)):w.current.update())}),[s,h,E.labels,E.datasets]),Object(u.useEffect)((function(){return B(),function(){return k()}}),[]),d.a.createElement("canvas",Object.assign({ref:x,role:"img",height:i,width:o,onClick:function(e){b&&b(e);var t=w.current;t&&(A&&A(t.getElementsAtEventForMode(e.nativeEvent,"dataset",{intersect:!0},!1),e),m&&m(t.getElementsAtEventForMode(e.nativeEvent,"nearest",{intersect:!0},!1),e),g&&g(t.getElementsAtEventForMode(e.nativeEvent,"index",{intersect:!0},!1),e))}},y),v)}var Al=Object(u.forwardRef)(fl);function ml(e){return Object(u.forwardRef)((function(t,n){return d.a.createElement(Al,Object.assign({},t,{ref:n,type:e}))}))}ml("line"),ml("bar"),ml("radar"),ml("doughnut"),ml("polarArea"),ml("bubble"),ml("pie");var gl=ml("scatter"),vl=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).handleChange=function(e){i.props.handleChange(e)},i.openFileUpload=function(){i.uploader.current.click()},i.render=function(){var e=function(e){e.preventDefault(),e.stopPropagation()};return null!==i.props.value?Object(M.jsx)("div",{className:"input_timeseries",children:Object(M.jsx)(gl,{data:{datasets:i.props.y.map((function(e,t){return{label:e,borderColor:z(t),showLine:!0,fill:!0,backgroundColor:z(t,.25),data:i.props.value.data.map((function(e){return{x:e[0],y:e[t+1]}}))}}))}})}):Object(M.jsxs)("div",{className:"input_timeseries",onDrag:e,onDragStart:e,onDragEnd:e,onDragOver:e,onDragEnter:e,onDragLeave:e,onDrop:e,children:[Object(M.jsxs)("div",{className:"upload_zone",onClick:i.openFileUpload,onDrop:i.load_preview_from_drop,children:["Upload Timeseries CSV",null!==i.props.x&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("br",{}),"X Column: ",i.props.x,Object(M.jsx)("br",{}),"Y Column: ",i.props.y.join(", ")]})]}),Object(M.jsx)("input",{className:"hidden_upload",type:"file",multiple:"multiple"===i.props.file_count,webkitdirectory:"directory"===i.props.file_count,mozdirectory:"directory"===i.props.file_count,ref:i.uploader,onChange:i.load_preview_from_upload,style:{display:"none"}})]})},i.load_preview_from_drop=function(e){i.load_preview_from_files(e.dataTransfer.files)},i.load_preview_from_upload=function(e){i.load_preview_from_files(e.target.files)},i.load_file=function(e){var t=e.result;i.handleChange(yl(t,i.props.x,i.props.y))},i.load_preview_from_files=function(e){if(e.length&&window.FileReader){i.file_data=[];var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=new FileReader;o.readAsBinaryString(r),o.onloadend=i.load_file.bind(v(i),o)}}catch(e){n.e(e)}finally{n.f()}}},i.uploader=d.a.createRef(),i}return n}(O);vl.memo=function(e,t){return e.value instanceof Object&&t.value instanceof Object?e.value.data===t.value.data&&e.value.headers===t.value.headers:e===t};var bl=function(e){_(i,e);var t,n=B(i);function i(){return b(this,i),n.apply(this,arguments)}return x(i,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_file_example",children:this.props.value})}}],[{key:"preprocess",value:(t=c(s.a.mark((function e(t,n,i){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n+"/"+t,e.next=3,fetch(r);case 3:return o=e.sent,e.next=6,o.text();case 6:return o=e.sent,e.abrupt("return",yl(o,i.x,i.y));case 8:case"end":return e.stop()}}),e)}))),function(e,n,i){return t.apply(this,arguments)})}]),i}(T),yl=function(e,t,n){var i=null,r=null,o=function(e,t){t=t||",";for(var n,i=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),r=[[]],o=null;o=i.exec(e);){var a=o[1],s=[];a.length&&a!=t&&r.push([]),s=o[2]?o[2].replace(new RegExp('""',"g"),'"'):o[3],r[r.length-1].push(s)}for(var l=0;l<r.length;l++)for(var c=0;c<r[l].length;c++)"string"!=typeof(n=r[l][c])||isNaN(n)||isNaN(parseFloat(n))||(r[l][c]=parseFloat(r[l][c]));return r}(e);if(0!==o.length){if(null===t)r=o;else{var a=o[0].indexOf(t),s=n.map((function(e){return o[0].indexOf(e)}));if(-1===a)return void alert("Missing x column: "+t);if(s.includes(-1))return void alert("Missing y column: "+n[s.indexOf(-1)]);i=(o=o.map((function(e){return[e[a]].concat(s.map((function(t){return e[t]})))})))[0],r=o.slice(1)}return{headers:i,data:r,range:null}}},xl=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).record=c(s.a.mark((function e(){var t,n,r,o,a,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.state.recording){e.next=9;break}i.media_recorder.stop(),t=new Blob(i.blobs_recorded,{type:i.mimeType}),(n=new FileReader).onload=function(e){var t="sample."+this.mimeType.substring(6);this.props.handleChange({name:t,data:e.target.result,is_example:!1})}.bind(v(i)),n.readAsDataURL(t),i.setState({recording:!1}),e.next=35;break;case 9:return i.blobs_recorded=[],e.next=12,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 12:i.camera_stream=e.sent,i.videoRecorder.current.srcObject=i.camera_stream,i.videoRecorder.current.volume=0,r=null,o=0,a=["video/webm","video/mp4"];case 18:if(!(o<a.length)){e.next=26;break}if(l=a[o],!MediaRecorder.isTypeSupported(l)){e.next=23;break}return r=l,e.abrupt("break",26);case 23:o++,e.next=18;break;case 26:if(null!==r){e.next=29;break}return console.error("No supported MediaRecorder mimeType"),e.abrupt("return");case 29:i.media_recorder=new MediaRecorder(i.camera_stream,{mimeType:r}),i.mimeType=r,i.media_recorder.addEventListener("dataavailable",function(e){this.blobs_recorded.push(e.data)}.bind(v(i))),i.media_recorder.start(200),i.videoRecorder.current.play(),i.setState({recording:!0});case 35:case"end":return e.stop()}}),e)}))),i.handleChange=i.handleChange.bind(v(i)),i.uploader=d.a.createRef(),i.videoRecorder=d.a.createRef(),i.openFileUpload=i.openFileUpload.bind(v(i)),i.load_preview_from_files=i.load_preview_from_files.bind(v(i)),i.load_preview_from_upload=i.load_preview_from_upload.bind(v(i)),i.load_preview_from_drop=i.load_preview_from_drop.bind(v(i)),i.camera_stream=null,i.state={recording:!1},i}return x(n,[{key:"handleChange",value:function(e){this.props.handleChange(e.target.value)}},{key:"openFileUpload",value:function(){this.uploader.current.click()}},{key:"render",value:function(){var e=function(e){e.preventDefault(),e.stopPropagation()};return null!=this.props.value?Object(M.jsxs)("div",{className:"input_video",children:[Object(M.jsx)("div",{className:"edit_buttons",children:Object(M.jsx)("button",{className:"clear_button",onClick:this.props.handleChange.bind(this,null),children:Object(M.jsx)("img",{src:X})})}),Q("video",this.props.value.name)?Object(M.jsx)("div",{className:"video_preview_holder",children:Object(M.jsx)("video",{className:"video_preview",controls:!0,playsInline:!0,preload:!0,src:this.props.value.data})}):Object(M.jsx)("div",{className:"video_file_holder",children:this.props.value.name})]}):"upload"==this.props.source?Object(M.jsxs)("div",{className:"input_video",onDrag:e,onDragStart:e,onDragEnd:e,onDragOver:e,onDragEnter:e,onDragLeave:e,onDrop:e,children:[Object(M.jsxs)("div",{className:"upload_zone",onClick:this.openFileUpload,onDrop:this.load_preview_from_drop,children:["Drop Video Here",Object(M.jsx)("br",{}),"- or -",Object(M.jsx)("br",{}),"Click to Upload"]}),Object(M.jsx)("input",{className:"hidden_upload",type:"file",ref:this.uploader,onChange:this.load_preview_from_upload,accept:"video/mp4,video/x-m4v,video/*",style:{display:"none"}})]}):"webcam"==this.props.source?Object(M.jsxs)("div",{className:"input_video",children:[Object(M.jsx)("video",{ref:this.videoRecorder,class:"video_recorder",autoPlay:!0,playsInline:!0,muted:!0}),Object(M.jsxs)("div",{class:"record_holder",children:[Object(M.jsx)("div",{class:"record_message",children:this.state.recording?Object(M.jsx)(M.Fragment,{children:"Stop Recording"}):Object(M.jsx)(M.Fragment,{children:"Click to Record"})}),Object(M.jsx)("button",{class:"record",onClick:this.record})]})]}):void 0}},{key:"load_preview_from_drop",value:function(e){this.load_preview_from_files(e.dataTransfer.files)}},{key:"load_preview_from_upload",value:function(e){this.load_preview_from_files(e.target.files)}},{key:"load_preview_from_files",value:function(e){if(e.length&&window.FileReader&&/^video/.test(e[0].type)){var t=this,n=new FileReader,i=e[0];n.readAsDataURL(i),n.onloadend=function(){t.props.handleChange({name:i.name,data:this.result,is_example:!1})}}}}]),n}(O),wl=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).video=d.a.createRef(),i}return x(n,[{key:"render",value:function(){var e=this;return Q("video",this.props.value)?Object(M.jsx)("div",{className:"input_video_example",children:Object(M.jsx)("div",{className:"video_holder",children:Object(M.jsx)("video",{ref:this.video,className:"video_preview",onMouseOver:function(){e.video.current.play()},onMouseOut:function(){e.video.current.pause()},preload:"metadata",children:Object(M.jsx)("source",{src:this.props.examples_dir+"/"+this.props.value})})})}):Object(M.jsx)("div",{className:"input_video_example",children:this.props.value})}}]),n}(F),_l=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).src=null,i.key=0,i}return x(n,[{key:"render",value:function(){return this.props.value!==this.src&&(this.key+=1,this.src=this.props.value),!!this.props.value&&Object(M.jsx)("div",{className:"output_audio",children:Object(M.jsx)("audio",{controls:!0,children:Object(M.jsx)("source",{src:this.props.value})},this.key)})}}]),n}(O),jl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"output_audio_example",children:this.props.value})}}]),n}(T),Cl=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).next=i.next.bind(v(i)),i.previous=i.previous.bind(v(i)),i.state={carousel_index:0},i}return x(n,[{key:"previous",value:function(){this.setState({carousel_index:(this.state.carousel_index-1+this.props.value.length)%this.props.value.length})}},{key:"next",value:function(){this.setState({carousel_index:(this.state.carousel_index+1+this.props.value.length)%this.props.value.length})}},{key:"render",value:function(){var e=this;return null===this.props.value?(0!==this.state.carousel_index&&this.setState({carousel_index:0}),!1):Object(M.jsxs)("div",{className:"output_carousel",children:[this.props.components.map((function(t,n){var i=Yl.find((function(e){return e.name===t.name})).memoized_component;return Object(M.jsxs)("div",{className:"component",children:[!!t.label&&Object(M.jsx)("div",{className:"panel_header",children:t.label}),Object(u.createElement)(i,o(o({},t),{},{value:e.props.value[e.state.carousel_index][n],key:n}))]},n)})),Object(M.jsxs)("div",{className:"carousel_control",children:[Object(M.jsx)("button",{onClick:this.previous,children:Object(M.jsx)("svg",{class:"caret",viewBox:"0 0 9.1457395 15.999842",children:Object(M.jsx)("path",{d:"M 0.32506616,7.2360106 7.1796187,0.33129769 c 0.4360247,-0.439451 1.1455702,-0.442056 1.5845974,-0.0058 0.4390612,0.435849 0.441666,1.14535901 0.00582,1.58438501 l -6.064985,6.1096644 6.10968,6.0646309 c 0.4390618,0.436026 0.4416664,1.145465 0.00582,1.584526 -0.4358485,0.439239 -1.1453586,0.441843 -1.5845975,0.0058 L 0.33088256,8.8203249 C 0.11135166,8.6022941 0.00105996,8.3161928 7.554975e-6,8.0295489 -0.00104244,7.7427633 0.10735446,7.4556467 0.32524356,7.2361162"})})}),Object(M.jsxs)("div",{className:"carousel_index",children:[this.state.carousel_index+1," / ",this.props.value.length]}),Object(M.jsx)("button",{onClick:this.next,children:Object(M.jsx)("svg",{class:"caret",viewBox:"0 0 9.1457395 15.999842",transform:"scale(-1, 1)",children:Object(M.jsx)("path",{d:"M 0.32506616,7.2360106 7.1796187,0.33129769 c 0.4360247,-0.439451 1.1455702,-0.442056 1.5845974,-0.0058 0.4390612,0.435849 0.441666,1.14535901 0.00582,1.58438501 l -6.064985,6.1096644 6.10968,6.0646309 c 0.4390618,0.436026 0.4416664,1.145465 0.00582,1.584526 -0.4358485,0.439239 -1.1453586,0.441843 -1.5845975,0.0058 L 0.33088256,8.8203249 C 0.11135166,8.6022941 0.00105996,8.3161928 7.554975e-6,8.0295489 -0.00104244,7.7427633 0.10735446,7.4556467 0.32524356,7.2361162"})})})]})]})}}],[{key:"load_example_preview",value:function(e){return e.length>20?e.substring(0,20)+"...":e}}]),n}(O),El=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"output_carousel_example",children:"..."})}}]),n}(T),Bl=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).state=i.constructor.get_default_state(),i}return x(n,[{key:"set_page",value:function(e){this.setState({page:e})}},{key:"sort_table",value:function(e){this.state.sort_by===e?this.setState({sort_descending:!this.state.sort_descending,page:0}):this.setState({sort_by:e,sort_descending:!1,page:0})}},{key:"render",value:function(){var e=this;if(0===this.props.value.data.length)return null;var t,n=this.props.headers||this.props.value.headers,i=this.props.value.data.length,r=this.props.value.data[0].length,o=this.props.value.data.slice();null!==this.state.sort_by&&(o.sort((t=this.state.sort_by,function(e,n){return e[t]===n[t]?0:e[t]<n[t]?-1:1})),this.state.sort_descending&&o.reverse());var a=null;if(null!==this.props.max_rows&&i>this.props.max_rows)if("paginate"===this.props.overflow_row_behaviour){o=o.slice(this.state.page*this.props.max_rows,(this.state.page+1)*this.props.max_rows);var s=Math.ceil(i/this.props.max_rows);a=[],[0,this.state.page,s-1].forEach((function(e){for(var t=e-2;t<=e+2;t++)t>=0&&t<s&&!a.includes(t)&&(a.length>0&&t-a[a.length-1]>1&&a.push(null),a.push(t))}))}else o=o.slice(0,Math.ceil(this.props.max_rows/2)).concat([Array(r).fill("...")],o.slice(i-Math.floor(this.props.max_rows/2)));if(null!==this.props.max_cols&&r>this.props.max_cols){var l=[Math.ceil(this.props.max_cols/2),r-Math.floor(this.props.max_cols/2)-1],c=l[0],u=l[1];n=n.slice(0,c)+["..."]+n.slice(u),o=o.map((function(e){return e.slice(0,c)+["..."]+e.slice(u)}))}return Object(M.jsxs)("div",{className:"output_dataframe",children:[Object(M.jsxs)("table",{children:[!!n&&Object(M.jsx)("thead",{children:n.map((function(t,n){return Object(M.jsxs)("th",{onClick:e.sort_table.bind(e,n),children:[t,e.state.sort_by===n&&Object(M.jsxs)("svg",{className:"caret",viewBox:"0 0 20 20",transform:e.state.sort_descending?"scale(1, -1)":"",children:[Object(M.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})," "]})]},n)}))}),Object(M.jsx)("tbody",{children:o.map((function(e){return Object(M.jsx)("tr",{children:e.map((function(e){return Object(M.jsx)("td",{children:e})}))})}))})]}),null!==a&&Object(M.jsxs)("div",{className:"pages",children:["Pages:"," ",a.map((function(t){return null===t?Object(M.jsx)("div",{children:"..."}):Object(M.jsx)("button",{className:K()("page",{selected:t===e.state.page}),onClick:e.set_page.bind(e,t),children:t+1},t)}))]})]})}}],[{key:"get_default_state",value:function(){return{page:0,sort_by:null,sort_descending:!1}}},{key:"getDerivedStateFromProps",value:function(e,t){if(void 0===t.data||!function e(t,n){if(t.length!=n.length)return!1;for(var i in t)if(t[i]instanceof Array&&n[i]instanceof Array){if(!e(t[i],n[i]))return!1}else if(t[i]!=n[i])return!1;return!0}(e.value.data,t.data)){var i=n.get_default_state();return i.data=e.value.data,i}return null}}]),n}(O),kl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){var e,t=[],n=g(this.props.value.slice(0,3));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.slice(0,3);i.length>3&&r.push("..."),t.push(r)}}catch(e){n.e(e)}finally{n.f()}if(this.props.value.length>3){var o=Array(t[0].length).fill("...");t.push(o)}return Object(M.jsx)("table",{className:"input_dataframe_example",children:Object(M.jsx)("tbody",{children:t.map((function(e){return Object(M.jsx)("tr",{children:e.map((function(e){return Object(M.jsx)("td",{children:e})}))})}))})})}}]),n}(T),Sl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return!!this.props.value&&Object(M.jsx)("div",{className:"output_file",children:Object(M.jsxs)("a",{className:"file_display",href:this.props.value.data,download:this.props.value.name,children:[Object(M.jsx)("div",{className:"file_name",children:this.props.value.name}),Object(M.jsx)("div",{className:"file_size",children:isNaN(this.props.value.size)?"":U(this.props.value.size)})]})})}}]),n}(O),Ol=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"output_file_example",children:this.props.value})}}]),n}(T),Ml=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).color_map=i.props.color_map||{},i.new_category_index=0,i}return x(n,[{key:"generate_category_legend",value:function(e){for(var t in e)if(!(t in this.color_map)){var n=e[t];n||(n=z(this.new_category_index),this.new_category_index++),this.color_map[t]=n}}},{key:"render",value:function(){var e=this;if(null===this.props.value||0===this.props.value.length)return!1;var t,n=null,i=g(this.props.value);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(null!==r[1]){n=r[1];break}}}catch(e){i.e(e)}finally{i.f()}if("string"==typeof n){var o,a={},s=g(this.props.value);try{for(s.s();!(o=s.n()).done;){var l=o.value[1];null!=l&&(a[l]=null)}}catch(e){s.e(e)}finally{s.f()}return this.generate_category_legend(a),Object(M.jsxs)("div",{className:"output_highlightedtext",children:[!!this.props.show_legend&&Object(M.jsx)("div",{className:"category_legend",children:Object.entries(this.color_map).map((function(e){var t=m(e,2),n=t[0],i=t[1];return Object(M.jsx)("div",{className:"category-label",style:{"background-color":i},children:n})}))}),Object(M.jsx)("div",{className:"textfield",children:this.props.value.map((function(t){var n=t[1],i={};return null!==n&&(i.color=e.color_map[n],i.backgroundColor=i.color.replace("1)","var(--tw-bg-opacity))")),Object(M.jsxs)("span",{class:"textspan",title:n,style:i,children:[Object(M.jsx)("span",{class:"text",children:t[0]}),!e.props.show_legend&&null!==t[1]&&Object(M.jsx)("span",{class:"inline_label",style:{backgroundColor:i.color},children:t[1]})]})}))})]})}return Object(M.jsxs)("div",{className:"output_highlightedtext",children:[!!this.props.show_legend&&Object(M.jsxs)("div",{className:"color_legend",children:[Object(M.jsx)("span",{children:"-1"}),Object(M.jsx)("span",{children:"0"}),Object(M.jsx)("span",{children:"+1"})]}),Object(M.jsx)("div",{className:"textfield",children:this.props.value.map((function(e){var t=m(e,2),n=t[0],i=t[1],r="";return r=i<0?"141, 131, 214,"+-i:"235, 77, 75,"+i,Object(M.jsx)("span",{class:"textspan",title:i,style:{backgroundColor:"rgba(".concat(r,")")},children:Object(M.jsx)("span",{class:"text",children:n})})}))})]})}}]),n}(O),Tl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){var e,t="",n=g(this.props.value);try{for(n.s();!(e=n.n()).done;){t+=e.value[0]}}catch(e){n.e(e)}finally{n.f()}return t.length>20&&(t=t.substring(0,20)+"..."),Object(M.jsx)("div",{className:"output_highlighted_text_example",children:t})}}]),n}(T),Fl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return!!this.props.value&&Object(M.jsx)("div",{className:"output_html",dangerouslySetInnerHTML:{__html:this.props.value}})}}]),n}(O),Nl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"output_html_example",children:"[HTML]"})}}]),n}(T),Il=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return!!this.props.value&&Object(M.jsx)("div",{className:"output_image",children:Object(M.jsx)("div",{class:"image_preview_holder",children:Object(M.jsx)("img",{class:"image_preview",alt:"",src:this.props.value})})})}}]),n}(O),Ll=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("img",{className:"output_image_example",src:this.props.value,alt:""})}}]),n}(T),Dl=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).open=function(){i.setState({collapsed:!1})},i.close=function(){i.setState({collapsed:!0})},i.state={collapsed:i.props.depth>5},i}return x(n,[{key:"render",value:function(){var e=this,t=null,i=null;return this.props.value instanceof Array?this.state.collapsed?t=Object(M.jsxs)("button",{onClick:this.open,children:["[+",this.props.value.length," children]"]}):(t=Object(M.jsxs)(M.Fragment,{children:["[",Object(M.jsx)("div",{class:"json_children",children:this.props.value.map((function(t,i){return Object(M.jsxs)("div",{class:"json_item",children:[i,": ",Object(M.jsx)(n,{value:t,depth:e.props.depth+1}),","]})}))}),"]"]}),i="array"):this.props.value instanceof Object?this.state.collapsed?t=Object(M.jsxs)("button",{onClick:this.open,children:["{+",Object.keys(this.props.value).length," items}"]}):(t=Object(M.jsxs)(M.Fragment,{children:["{",Object(M.jsx)("div",{class:"json_children",children:Object.entries(this.props.value).map((function(t){return Object(M.jsxs)("div",{class:"json_item",children:[t[0],": ",Object(M.jsx)(n,{value:t[1],depth:e.props.depth+1}),","]})}))}),"}"]}),i="object"):null===this.props.value?(t="null",i="null"):(t=this.props.value,"string"===(i=typeof this.props.value)?t='"'+t+'"':"boolean"===i&&(t=t.toLocaleString())),Object(M.jsx)("div",{type:i,class:"json_node",children:t})}}]),n}(d.a.Component),Ul=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return!!this.props.value&&Object(M.jsx)("div",{className:"output_json",children:Object(M.jsx)(Dl,{value:this.props.value,depth:1})})}}]),n}(O),Pl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){var e=JSON.stringify(this.props.value);return e.length>20&&(e=e.substring(0,20)+"..."),Object(M.jsx)("div",{className:"output_json_example",children:e})}}]),n}(T),Hl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return!!this.props.value&&Object(M.jsx)("div",{className:"output_keyvalues",children:Object(M.jsxs)("table",{children:[Object(M.jsxs)("thead",{children:[Object(M.jsx)("th",{children:"Property"}),Object(M.jsx)("th",{children:"Value"})]}),Object(M.jsx)("tbody",{children:this.props.value.map((function(e){var t=m(e,2),n=t[0],i=t[1];return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:n}),Object(M.jsx)("td",{children:i})]})}))})]})})}}]),n}(O),Rl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsxs)("div",{className:"output_key_values_example",children:[this.props.value.map((function(e){var t=m(e,2),n=t[0],i=t[1];return Object(M.jsxs)("div",{children:[n,": ",i]})})),this.props.value.length>3&&Object(M.jsx)("div",{children:'"..."'}),";"]})}}]),n}(T),Ql=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){if(null==this.props.value)return!1;var e=[],t=[];if("confidences"in this.props.value){var n,i=g(this.props.value.confidences);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=Math.round(100*r.confidence)+"%";e.push(Object(M.jsx)("div",{className:"label",title:r.label,children:r.label})),t.push(Object(M.jsx)("div",{className:"confidence",title:o,style:{minWidth:"calc("+o+" - 12px)"},children:o}))}}catch(e){i.e(e)}finally{i.f()}return Object(M.jsxs)("div",{className:"output_label",children:[Object(M.jsx)("div",{className:"output_class",children:this.props.value.label}),Object(M.jsxs)("div",{className:"confidence_intervals",children:[Object(M.jsx)("div",{className:"labels",style:{maxWidth:"120px"},children:e}),Object(M.jsx)("div",{className:"confidences",children:t})]})]})}return Object(M.jsx)("div",{className:"output_label",children:Object(M.jsx)("div",{className:"output_class_without_confidences",children:this.props.value.label})})}}]),n}(O),zl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"convert_example_to_output",value:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){return{label:e}}for(var t="",n=0,i={confidences:[]},r=0,o=Object.entries(e);r<o.length;r++){var a=m(o[r],2),s=a[0],l=a[1];i.confidences.push({label:s,confidence:l}),l>n&&(n=l,t=s)}return i.label=t,i}},{key:"render",value:function(){return Object(M.jsx)("div",{className:"output_label_example",children:function(e,t){if("confidences"in t){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return t.label}return t.label+" ("+(100*e[t.label]).toFixed(2)+"%)"}return t.label}(this.props.value,this.convert_example_to_output(this.props.value))})}}]),n}(T),Vl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"output_text",children:null===this.props.value?Object(M.jsx)("span",{children:" "}):this.props.value})}}],[{key:"load_example_preview",value:function(e){return e.length>20?e.substring(0,20)+"...":e}}]),n}(O),Kl=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"output_textbox_example",children:this.props.value})}}]),n}(T),Wl=function(e){_(n,e);var t=B(n);function n(e){return b(this,n),t.call(this,e)}return x(n,[{key:"render",value:function(){var e=this;if(null!==this.props.value){var t=this.props.y.map((function(t){return e.props.value.headers.indexOf(t)})),n=this.props.value.headers.indexOf(this.props.x);return Object(M.jsx)("div",{className:"output_timeseries",children:Object(M.jsx)(gl,{data:{datasets:t.map((function(t,i){return{label:e.props.value.headers[t],borderColor:z(i),showLine:!0,fill:!0,backgroundColor:z(i,.25),data:e.props.value.data.map((function(e){return{x:e[n],y:e[t]}}))}}))}})})}return!1}}]),n}(O);Wl.memo=function(e,t){return e.value instanceof Object&&t.value instanceof Object?e.value.data===t.value.data&&e.value.headers===t.value.headers:e===t};for(var Xl=[{name:"audio",component:G,memoized_component:null,example_component:q},{name:"checkboxgroup",component:Z,memoized_component:null,example_component:$},{name:"checkbox",component:ee,memoized_component:null,example_component:te},{name:"dataframe",component:re,memoized_component:null,example_component:oe},{name:"dropdown",component:ae,memoized_component:null,example_component:se},{name:"file",component:le,memoized_component:null,example_component:ce},{name:"image",component:Ve,memoized_component:null,example_component:Ke},{name:"number",component:We,memoized_component:null,example_component:Xe},{name:"radio",component:Ye,memoized_component:null,example_component:Ge},{name:"slider",component:qe,memoized_component:null,example_component:Je},{name:"textbox",component:Ze,memoized_component:null,example_component:$e},{name:"timeseries",component:vl,memoized_component:null,example_component:bl},{name:"video",component:xl,example_component:wl}],Yl=[{name:"audio",component:_l,memoized_component:null,example_component:jl},{name:"carousel",component:Cl,memoized_component:null,example_component:El},{name:"dataframe",component:Bl,memoized_component:null,example_component:kl},{name:"file",component:Sl,memoized_component:null,example_component:Ol},{name:"highlightedtext",component:Ml,memoized_component:null,example_component:Tl},{name:"html",component:Fl,memoized_component:null,example_component:Nl},{name:"image",component:Il,memoized_component:null,example_component:Ll},{name:"json",component:Ul,memoized_component:null,example_component:Pl},{name:"keyvalues",component:Hl,memoized_component:null,example_component:Rl},{name:"label",component:Ql,memoized_component:null,example_component:zl},{name:"textbox",component:Vl,memoized_component:null,example_component:Kl},{name:"timeseries",component:Wl,memoized_component:null,example_component:function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"input_file_example",children:this.props.value})}}]),n}(T)},{name:"video",component:function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return!!this.props.value&&(Q("video",this.props.value.name)?Object(M.jsx)("div",{className:"output_video",children:Object(M.jsx)("video",{controls:!0,playsInline:!0,preload:!0,src:this.props.value.data})}):Object(M.jsx)("div",{className:"output_video",children:Object(M.jsx)("a",{href:this.props.value.data,download:this.props.value.name,className:"video_file_holder",children:this.props.value.name})}))}}]),n}(O),memoized_component:null,example_component:function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"output_video_example",children:this.props.value})}}]),n}(T)}],Gl=0,ql=[Xl,Yl];Gl<ql.length;Gl++){var Jl,Zl=g(ql[Gl]);try{for(Zl.s();!(Jl=Zl.n()).done;){var $l=Jl.value;$l.memoized_component=d.a.memo($l.component,$l.component.memo)}}catch(e){Zl.e(e)}finally{Zl.f()}}var ec=n.p+"static/media/logo_error.0d6fa515.svg",tc=n.p+"static/media/logo.411acfd1.svg",nc=n.p+"static/media/api-logo.b3893a52.svg";Promise.resolve().then(n.t.bind(null,47,7)),Promise.resolve().then(n.t.bind(null,48,7)),Promise.resolve().then(n.t.bind(null,49,7)),Promise.resolve().then(n.t.bind(null,50,7)),Promise.resolve().then(n.t.bind(null,51,7)),Promise.resolve().then(n.t.bind(null,52,7));var ic=function(e){_(n,e);var t=B(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"render",value:function(){var e=void 0!==this.props.space,t=this.props.space;if(e){var n=t.indexOf("/");t=t[n+1].toUpperCase()+t.substring(n+2)}return Object(M.jsx)("div",{class:"gradio_bg",theme:this.props.theme,is_embedded:e.toString(),children:Object(M.jsxs)("div",{class:"gradio_page",children:[Object(M.jsxs)("div",{class:"content",children:[!!this.props.title&&Object(M.jsx)("h1",{className:"title",children:this.props.title}),!!this.props.description&&Object(M.jsx)("p",{className:"description",children:this.props.description}),Object(M.jsx)(rc,o({},this.props)),!!this.props.article&&Object(M.jsx)("p",{className:"article prose",dangerouslySetInnerHTML:{__html:this.props.article}})]}),Object(M.jsx)("div",{className:"footer",children:e?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("a",{href:"https://huggingface.co/spaces/"+this.props.space,children:t})," ","built with ",Object(M.jsx)("a",{href:"https://gradio.app",children:"Gradio"}),", hosted on ",Object(M.jsx)("a",{href:"https://huggingface.co/spaces",children:"Hugging Face Spaces"}),"."]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("a",{href:"api",target:"_blank",rel:"noreferrer",children:["view the api"," ",Object(M.jsx)("img",{className:"api-logo",src:nc,alt:"api"})]}),"•",Object(M.jsxs)("a",{href:"https://gradio.app",target:"_blank",rel:"noreferrer",children:["built with ",Object(M.jsx)("img",{className:"logo",src:tc,alt:"logo"})]})]})})]})})}}]),n}(d.a.Component),rc=function(e){_(n,e);var t=B(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).get_default_state=function(){var e,t={},n=g(r.props.input_components.entries());try{for(n.s();!(e=n.n()).done;){var i=m(e.value,2),o=i[0],a=i[1];t[o]=void 0!==a.default?a.default:null}}catch(e){n.e(e)}finally{n.f()}var s,l=r.props.input_components.length,c=g(r.props.output_components.entries());try{for(c.s();!(s=c.n()).done;){var u=m(s.value,2),d=u[0],h=u[1];t[l+d]=void 0!==h.default?h.default:null}}catch(e){c.e(e)}finally{c.f()}return t.submitting=!1,t.error=!1,t.complete=!1,t.last_duration=null,t.interpretation=null,t.just_flagged=!1,t.has_changed=!1,t.example_id=null,t.flag_index=null,t.queue_index=null,t.initial_queue_index=null,t},r.clear=function(){r.pending_response=!1,r.setState(r.get_default_state())},r.submit=function(){if(!r.pending_response){if(r.pending_response=!0,null===r.state.example_id){var e,t=[],n=g(r.props.input_components.entries());try{var i=function(){var n=m(e.value,2),i=n[0],o=n[1];if("state"===o.name)return t[i]=r.state[i],"continue";if(null===r.state[i]&&!0!==o[i].optional)return{v:void 0};var a=Xl.find((function(e){return e.name===o.name})).component;t[i]=a.postprocess(r.state[i])};for(n.s();!(e=n.n()).done;){var o=i();if("continue"!==o&&"object"==typeof o)return o.v}}catch(e){n.e(e)}finally{n.f()}var a={data:t},s=r.props.queue}else a={example_id:r.state.example_id},s=r.props.queue&&!r.props.cached_examples;r.setState({submitting:!0,has_changed:!1,error:!1,flag_index:null}),r.props.fn(a,"predict",s,r.queueCallback).then((function(e){if(null!=e.error&&console.error("Error:",e.error),r.pending_response){r.pending_response=!1;var t=r.props.input_components.length,n={};e.durations?n.last_duration=e.durations[0]:n.last_duration=null,e.avg_duration&&(n.avg_duration=e.avg_durations[0]);var i,o=g(e.data.entries());try{for(o.s();!(i=o.n()).done;){var a=m(i.value,2),s=a[0],l=a[1];if("state"===r.props.output_components[s].name){var c,u=g(r.props.input_components.entries());try{for(u.s();!(c=u.n()).done;){var d=m(c.value,2),h=d[0];"state"===d[1].name&&(n[h]=l)}}catch(e){u.e(e)}finally{u.f()}}else n[t+s]=l}}catch(e){o.e(e)}finally{o.f()}null!==e.flag_index&&(n.flag_index=e.flag_index),n.submitting=!1,n.complete=!0,r.setState(n),r.props.live&&r.state.has_changed&&r.submit()}})).catch((function(e){console.error(e),r.pending_response=!1,r.setState({error:!0,submitting:!1})}))}},r.flag=function(e){if(r.state.complete){var t={input_data:[],output_data:[]};if("number"==typeof r.state.flag_index)t.flag_index=r.state.flag_index;else{var n,i=g(r.props.input_components.entries());try{var o=function(){var e=m(n.value,2),i=e[0],o=e[1],a=Xl.find((function(e){return e.name===o.name})).component;t.input_data.push(a.postprocess(r.state[i]))};for(i.s();!(n=i.n()).done;)o()}catch(e){i.e(e)}finally{i.f()}for(var a=0;a<r.props.output_components.length;a++)t.output_data.push(r.state[r.props.input_components.length+a])}r.setState({just_flagged:!0}),window.setTimeout((function(){r.setState({just_flagged:!1})}),1e3),t.flag_option=e,r.props.fn({data:t},"flag")}},r.interpret=function(){if(!r.pending_response){r.pending_response=!0;var e,t=[],n=g(r.props.input_components.entries());try{var i=function(){var n=m(e.value,2),i=n[0],o=n[1];if(null===r.state[i]&&!0!==r.props.input_components[i].optional)return{v:void 0};var a=Xl.find((function(e){return e.name===o.name})).component;t[i]=a.postprocess(r.state[i])};for(n.s();!(e=n.n()).done;){var o=i();if("object"==typeof o)return o.v}}catch(e){n.e(e)}finally{n.f()}r.setState({submitting:!0,has_changed:!1,error:!1}),r.props.fn({data:t},"interpret",r.props.queue,r.queueCallback).then((function(e){r.pending_response&&(r.pending_response=!1,r.setState({interpretation:e.interpretation_scores,submitting:!1}))})).catch((function(e){console.error(e),r.pending_response=!1,r.setState({error:!0,submitting:!1})}))}},r.removeInterpret=function(){r.setState({interpretation:null})},r.queueCallback=function(e,t){var n={};!0===t&&(n.initial_queue_index=e),n.queue_index=e,r.setState(n)},r.takeScreenshot=function(){S()(p.a.findDOMNode(v(r)).parentNode).then((function(e){var t,n,i;t=e.toDataURL(),n="screenshot.png","string"==typeof(i=document.createElement("a")).download?(i.href=t,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)):window.open(t)}))},r.handleChange=function(e,t,n){var o,a=(i(o={},e,t),i(o,"has_changed",!0),i(o,"example_id",void 0===n?null:n),o);r.props.live&&!r.state.submitting?r.setState(a,r.submit):r.setState(a)},r.handleExampleChange=function(e){r.setState({example_id:e});var t,n=g(r.props.examples[e].entries());try{var i=function(){var n=m(t.value,2),i=n[0],a=n[1],s=void 0;if(i<r.props.input_components.length){var l=r.props.input_components[i].name,c=Xl.find((function(e){return e.name===l}));o=r.props.input_components[i],s=c.example_component}else{var u=i-r.props.input_components.length,d=r.props.output_components[u].name,h=Yl.find((function(e){return e.name===d}));o=r.props.input_components[u],s=h.example_component}s.preprocess(a,r.examples_dir,o).then((function(t){r.handleChange(i,t,e)}))};for(n.s();!(t=n.n()).done;){var o;i()}}catch(e){n.e(e)}finally{n.f()}},r.state=r.get_default_state(),r.pending_response=!1,r.state.examples_page=0,r.state.avg_duration=Array.isArray(r.props.avg_durations)?r.props.avg_durations[0]:null,r.examples_dir=r.props.root+(null===r.props.examples_dir?"file"+r.props.examples_dir+(r.props.examples_dir.endswith("/")?"":"/"):"file"),r}return x(n,[{key:"render",value:function(){var e=this,t=!1;if(this.state.submitting){var n=this.state.avg_duration;this.state.initial_queue_index&&null!==this.state.avg_duration&&(n*=this.state.initial_queue_index+2),t=Object(M.jsxs)("div",{className:"load_status",children:[Object(M.jsx)(lc,{expected_duration:n}),null!==this.state.queue_index&&this.state.queue_index>=0&&"queued @ "+this.state.queue_index,Object(M.jsx)("img",{class:"loading",alt:"loading",src:tc})]})}else this.state.error?t=Object(M.jsx)("div",{className:"load_status",children:Object(M.jsx)("img",{className:"error",alt:"error",src:ec})}):this.state.complete&&null!==this.state.last_duration&&(t=Object(M.jsx)("div",{className:"load_status",children:this.state.last_duration.toFixed(2)+"s"}));return Object(M.jsxs)("div",{className:"gradio_interface",children:[Object(M.jsxs)("div",{className:K()("panels",this.props.layout),children:[Object(M.jsxs)("div",{className:K()("panel",{flex:"horizontal"===this.props.layout,"flex-col":"horizontal"===this.props.layout}),children:[Object(M.jsx)("div",{className:"component_set",children:this.props.input_components.map((function(t,n){if("state"===t.name)return!1;var i=Xl.find((function(e){return e.name===t.name})).memoized_component;return Object(M.jsxs)("div",{className:"component",children:[Object(M.jsx)("div",{className:"panel_header",children:t.label}),Object(M.jsx)(i,o(o({},t),{},{handleChange:e.handleChange.bind(e,n),value:e.state[n],interpretation:null===e.state.interpretation?null:e.state.interpretation[n]}),n)]},n)}))}),Object(M.jsxs)("div",{className:"panel_buttons",children:[Object(M.jsx)("button",{className:"panel_button",onClick:this.clear,children:"Clear"}),!this.props.live&&Object(M.jsx)("button",{className:"panel_button submit",onClick:this.submit,children:"Submit"})]})]}),Object(M.jsxs)("div",{className:K()("panel",{flex:"horizontal"===this.props.layout,"flex-col":"horizontal"===this.props.layout}),children:[Object(M.jsxs)("div",{className:K()("component_set","relative",{"opacity-50":this.pending_response&&!this.props.live||this.state.error}),children:[t,this.props.output_components.map((function(t,n){if("state"===t.name)return!1;var i=Yl.find((function(e){return e.name===t.name})).memoized_component,r=e.props.input_components.length+n;return null!==e.state[r]&&Object(M.jsxs)("div",{className:"component",children:[Object(M.jsx)("div",{className:"panel_header",children:t.label}),Object(M.jsx)(i,o(o({},t),{},{handleChange:e.handleChange.bind(e,r),value:e.state[r]}))]},r)}))]}),Object(M.jsxs)("div",{className:"panel_buttons",children:[!!this.props.allow_interpretation&&(null===this.state.interpretation?Object(M.jsx)("button",{className:K()("panel_button",{disabled:!1===this.state.complete}),onClick:this.interpret,children:"Interpret"}):Object(M.jsx)("button",{className:"panel_button",onClick:this.removeInterpret,children:"Hide"})),!!this.props.allow_screenshot&&Object(M.jsx)("button",{onClick:this.takeScreenshot,className:"panel_button",children:"Screenshot"}),"manual"===this.props.allow_flagging&&(null===this.props.flagging_options?Object(M.jsx)("button",{className:K()("panel_button","flag",{disabled:!1===this.state.complete}),onClick:this.flag.bind(this,null),children:this.state.just_flagged?"Flagged":"Flag"}):Object(M.jsxs)("button",{className:K()("panel_button","flag",{disabled:!1===this.state.complete}),children:[this.state.just_flagged?"Flagged":"Flag ▼",Object(M.jsx)("div",{className:"dropcontent",children:this.props.flagging_options.map((function(t){return Object(M.jsx)("div",{onClick:e.flag.bind(e,t),children:t})}))})]}))]})]})]}),!!this.props.examples&&Object(M.jsx)(sc,{examples:this.props.examples,examples_dir:this.examples_dir,example_id:this.state.example_id,examples_per_page:this.props.examples_per_page,input_components:this.props.input_components,output_components:this.props.output_components,handleExampleChange:this.handleExampleChange})]})}}]),n}(d.a.Component),oc=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).state={page:0},i}return x(n,[{key:"set_page",value:function(e){this.setState({page:e})}},{key:"render",value:function(){var e=this,t=this.props.examples.slice(),n=this.props.examples.length,i=n>this.props.examples_per_page,r=1,o=[];return i&&(t=t.slice(this.state.page*this.props.examples_per_page,(this.state.page+1)*this.props.examples_per_page),r=Math.ceil(n/this.props.examples_per_page),[0,this.state.page,r-1].forEach((function(e){for(var t=e-2;t<=e+2;t++)t>=0&&t<r&&!o.includes(t)&&(o.length>0&&t-o[o.length-1]>1&&o.push(null),o.push(t))}))),Object(M.jsxs)("div",{className:"examples",children:[Object(M.jsx)("h4",{children:"Examples"}),Object(M.jsx)("div",{className:K()("examples_table_holder",{gallery:1===this.props.input_components.length}),children:Object(M.jsxs)("table",{class:"examples_table",children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[this.props.input_components.map((function(e,t){return Object(M.jsx)("th",{children:e.label},t)})),this.props.examples[0].length>this.props.input_components.length&&this.props.output_components.map((function(t,n){return Object(M.jsx)("th",{children:t.label},n+e.props.input_components.length)}))]})}),Object(M.jsx)("tbody",{children:t.map((function(t,n){var i=n+e.state.page*e.props.examples_per_page;return Object(M.jsx)("tr",{className:K()({selected:i===e.props.example_id}),onClick:function(){return e.props.handleExampleChange(i)},children:t.map((function(t,n){var i=Xl.find((function(t){return t.name===e.props.input_components[n].name})).example_component;return Object(M.jsx)("td",{children:Object(M.jsx)(i,{examples_dir:e.props.examples_dir,value:t},n)})}))},i)}))})]})}),!!i&&Object(M.jsxs)("div",{class:"pages",children:["Pages:",o.map((function(t){return null===t?Object(M.jsx)("div",{children:"..."}):Object(M.jsx)("button",{className:K()("page",{selected:t===e.state.page}),onClick:e.set_page.bind(e,t),children:t+1},t)}))]})]})}}]),n}(d.a.Component),ac=function(e){_(n,e);var t=B(n);function n(e){var i;return b(this,n),(i=t.call(this,e)).state={time:new Date,start_time:new Date},i}return x(n,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({time:new Date})}},{key:"render",value:function(){return Object(M.jsxs)("div",{children:[Math.round((this.state.time.getTime()-this.state.start_time.getTime())/1e3),".0",null!==this.props.expected_duration&&Object(M.jsxs)(M.Fragment,{children:["/",this.props.expected_duration.toFixed(1)]}),"s"]})}}]),n}(d.a.Component),sc=d.a.memo(oc),lc=d.a.memo(ac);function cc(e){return e.auth_message&&e.auth_message.trim().startsWith("<main")?Object(M.jsx)("div",{dangerouslySetInnerHTML:{__html:e.auth_message}}):Object(M.jsx)("div",{class:"login",children:Object(M.jsxs)("form",{id:"login",method:"POST",action:"login",children:[Object(M.jsx)("h2",{children:"login"}),!!e.auth_message&&Object(M.jsx)("div",{dangerouslySetInnerHTML:{__html:e.auth_message}}),Object(M.jsx)("label",{for:"username",children:"username"}),Object(M.jsx)("input",{type:"text",name:"username"}),Object(M.jsx)("label",{for:"password",children:"password"}),Object(M.jsx)("input",{type:"password",name:"password"}),Object(M.jsx)("input",{class:"link",type:"submit",className:"submit"})]})})}function uc(e){return new Promise((function(t){setTimeout(t,1e3*e)}))}Promise.resolve().then(n.t.bind(null,53,7));var dc=function(){var e=c(s.a.mark((function e(t,n){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hc=function(){var e=c(s.a.mark((function e(t,n,i,r,o){var a,l,c,u,d,h,p,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!["predict","interpret"].includes(i)){e.next=32;break}return n.action=i,e.next=4,dc(t+"queue/push/",n);case 4:return a=e.sent,e.next=7,a.json();case 7:l=e.sent,c=[l.hash,l.queue_position],u=c[0],o(c[1],!0),d="UNKNOWN";case 11:if("COMPLETE"==d||"FAILED"==d){e.next=25;break}if("UNKNOWN"==d){e.next=15;break}return e.next=15,uc(1);case 15:return e.next=17,dc(t+"queue/status/",{hash:u});case 17:return h=e.sent,e.next=20,h.json();case 20:p=e.sent,"QUEUED"===(d=p.status)?o(p.data):"PENDING"===d&&o(null),e.next=11;break;case 25:if("FAILED"!=d){e.next=29;break}throw new Error(d);case 29:return e.abrupt("return",p.data);case 30:e.next=38;break;case 32:return e.next=34,dc(t+i+"/",n);case 34:return f=e.sent,e.next=37,f.json();case 37:return e.abrupt("return",e.sent);case 38:case"end":return e.stop()}}),e)})));return function(t,n,i,r,o){return e.apply(this,arguments)}}();function pc(){return(pc=c(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=10;break;case 3:return t=e.sent,e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.abrupt("return",window.gradio_config);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.launchGradio=function(e,t,n){var i=document.querySelector(t);if(i.classList.add("gradio_app"),e.auth_required)p.a.render(Object(M.jsx)("div",{class:"gradio_wrapper",style:{height:"app"===window.gradio_mode?"100%":"auto"},children:Object(M.jsx)(cc,o({},e))}),i);else{if(null!==e.css){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");r.appendChild(a),a.appendChild(document.createTextNode(e.css))}var s=new URL(window.location.toString());null!==e.theme&&e.theme.startsWith("dark")?(i.classList.add("dark"),"dark"===e.theme?e.theme="default":e.theme=e.theme.substring(5)):"true"===s.searchParams.get("__dark-theme")&&i.classList.add("dark"),e.root||(e.root=""),p.a.render(Object(M.jsx)("div",{class:"gradio_wrapper",style:{height:"app"===window.gradio_mode?"100%":"auto"},children:Object(M.jsx)(ic,o(o({},e),{},{space:n,fn:hc.bind(null,e.root+"api/")}))}),i)}},window.launchGradioFromSpaces=function(){var e=c(s.a.mark((function e(t,n){var i,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="https://huggingface.co/gradioiframe/".concat(t,"/+/"),e.next=3,fetch(i+"config");case 3:return r=e.sent,e.next=6,r.json();case 6:(r=e.sent).root=i,launchGradio(r,n,t);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),"app"==window.gradio_mode&&function(){return pc.apply(this,arguments)}().then((function(e){launchGradio(e,"#root")}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){}]);